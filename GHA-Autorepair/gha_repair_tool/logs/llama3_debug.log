2025-11-05 14:19:32,421 - __main__ - INFO - 베이스라인 자동 복구 시작: 3개 파일
2025-11-05 14:19:32,421 - __main__ - INFO - 입력 디렉토리: data_original
2025-11-05 14:19:32,421 - __main__ - INFO - 출력 디렉토리: llama3.1_8b/data_repair_baseline
2025-11-05 14:19:32,421 - __main__ - INFO - [1/3] 처리 중: 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:19:32,421 - __main__ - INFO - 입력 파일 경로: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:19:32,421 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:19:32,421 - __main__ - INFO - === 파일 1/3 베이스라인 복구 시작 ===
2025-11-05 14:19:32,421 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:19:32,421 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:19:32,422 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:19:32,422 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:19:32,422 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:19:32,422 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:19:32,443 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:19:32,443 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:19:32,443 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:19:32,443 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:19:32,443 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis_validator_addresses:
        required: true
        type: string
      kava_version_filepath:
        required: true
        type: string
    secrets:
      DEV_WALLET_MNEMONIC:
        required: true

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo from master
        uses: actions/checkout@v3
        with:
         ref: master
      - name: checkout version of kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
         env:
            KAVA_VERSION_FILEPATH: ${{ inputs.kava_version_filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: build kava binary
        run: make install
      - name: checkout go evm tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: install go evm tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: checkout kava bridge repo for deploying evm contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: install nodeJS
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "install ERC20 contract deployment dependencies"
        run: "npm install"
        working-directory: kava-bridge/contract
      - name: compile default erc20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis_validator_addresses }}

while parsing a block mapping
  in "<file>", line 36, column 9
expected <block end>, but found '<block mapping start>'
  in "<file>", line 40, column 10
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 8. Use commit hash instead of tags for action versions (line 67)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
35:10: wrong indentation: expected 10 but found 9 (indentation)
40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
41:13: wrong indentation: expected 11 but found 12 (indentation)

2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 131
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Seed Chain
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 4: workflow_call:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 5: inputs:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 6: chain-api-url:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 7: required: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 8: type: string
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 9: chain-id:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 10: required: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 11: type: string
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 12: seed-script-filename:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 13: required: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 14: type: string
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 15: erc20-deployer-network-name:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 16: required: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 17: type: string
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 18: genesis_validator_addresses:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 19: required: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 20: type: string
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 21: kava_version_filepath:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 22: required: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 23: type: string
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 24: secrets:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 25: DEV_WALLET_MNEMONIC:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 26: required: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 28: jobs:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 29: seed-chain-state:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-latest
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 31: steps:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 32: - name: checkout repo from master
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 33: uses: actions/checkout@v3
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 35: ref: master
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 36: - name: checkout version of kava used by network
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 37: run: |
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 38: git pull -p
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 39: git checkout $(cat ${KAVA_VERSION_FILEPATH})
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 40: env:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 41: KAVA_VERSION_FILEPATH: ${{ inputs.kava_version_filepath }}
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 42: - name: Set up Go
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 43: uses: actions/setup-go@v3
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 45: go-version: "1.19"
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 46: check-latest: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 47: cache: true
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 48: - name: build kava binary
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 49: run: make install
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 50: - name: checkout go evm tools repo
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 51: uses: actions/checkout@v3
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 52: with:
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 53: repository: ethereum/go-ethereum
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 54: path: go-ethereum
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 55: ref: v1.10.26
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 56: - name: install go evm tools
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 57: run: |
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 58: make
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 59: make devtools
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 60: working-directory: go-ethereum
2025-11-05 14:19:32,958 - utils.process_runner - DEBUG - 라인 61: - name: checkout kava bridge repo for deploying evm contracts
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 62: uses: actions/checkout@v3
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 63: with:
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 64: repository: Kava-Labs/kava-bridge
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 65: path: kava-bridge
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 66: ref: main
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 67: - name: install nodeJS
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 68: uses: actions/setup-node@v3
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 69: with:
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 70: cache: npm
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 71: node-version: 18
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 72: cache-dependency-path: kava-bridge/contract/package.json
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 73: - name: "install ERC20 contract deployment dependencies"
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 74: run: "npm install"
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 75: working-directory: kava-bridge/contract
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 76: - name: compile default erc20 contracts
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 77: run: make compile-contracts
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 78: working-directory: kava-bridge
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 79: - name: run seed scripts
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 80: run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 81: working-directory: kava-bridge/contract
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 82: env:
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 83: CHAIN_API_URL: ${{ inputs.chain-api-url }}
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 84: CHAIN_ID: ${{ inputs.chain-id }}
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 85: DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 86: SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 87: ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 88: GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis_validator_addresses }}
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 90: while parsing a block mapping
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 91: in "<file>", line 36, column 9
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 92: expected <block end>, but found '<block mapping start>'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 93: in "<file>", line 40, column 10
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 94: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 104: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 105: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 106: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 107: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 108: We have found 18 smells
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 109: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 111: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 112: - 8. Use commit hash instead of tags for action versions (line 67)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 67)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 113: - 12. Avoid workflows without comments
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 114: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 125: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 126: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 127: The following styling errors were found:
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 128: 35:10: wrong indentation: expected 10 but found 9 (indentation)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 129: 40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:19:32,959 - utils.process_runner - DEBUG - 라인 130: 41:13: wrong indentation: expected 11 but found 12 (indentation)
2025-11-05 14:19:32,959 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:19:32,959 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:19:32,960 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:19:32,960 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:19:32,960 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:19:32,960 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:19:32,960 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis_validator_addresses:
        required: true
        type: string
 ...
2025-11-05 14:19:32,960 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:19:32,960 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:19:32,960 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:19:32,965 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:20:01,931 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:20:01,934 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:20:01,934 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:20:01,935 - main - DEBUG - 추출된 YAML:
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis-validator-addresses:
        required: true
        type: string
      kava-version-filepath:
        required: true
        type: string

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo from master
        uses: actions/checkout@v3
        with:
          ref: master
      - name: Checkout version of Kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
        env:
          KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: Build Kava binary
        run: make install
      - name: Checkout Go EVM tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: Install Go EVM tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: Checkout Kava bridge repo for deploying EVM contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "Install ERC20 contract deployment dependencies"
        run: npm install
        working-directory: kava-bridge/contract
      - name: Compile default ERC20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: Run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
2025-11-05 14:20:01,935 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:20:01,935 - main - DEBUG - 검증할 YAML 길이: 2625 문자
2025-11-05 14:20:01,935 - main - DEBUG - YAML 시작 부분: 'name: Seed Chain\n\non:\n  workflow_call:\n    inputs:\n      chain-api-url:\n        required: true\n     '
2025-11-05 14:20:01,945 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Seed Chain', 'on': {'workflow_call': {'inputs': {'chain-api-url': {'required': True, 'type': 'string'}, 'chain-id': {'required': True, 'type': 'string'}, 'seed-script-filename': {'required': True, 'type': 'string'}, 'erc20-deployer-network-name': {'required': True, 'type': 'string'}, 'genesis-validator-addresses': {'required': True, 'type': 'string'}, 'kava-version-filepath': {'required': True, 'type': 'string'}}}}, 'jobs': {'seed-chain-state': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout repo from master', 'uses': 'actions/checkout@v3', 'with': {'ref': 'master'}}, {'name': 'Checkout version of Kava used by network', 'run': 'git pull -p\ngit checkout $(cat ${KAVA_VERSION_FILEPATH})\n', 'env': {'KAVA_VERSION_FILEPATH': '${{ inputs.kava-version-filepath }}'}}, {'name': 'Set up Go', 'uses': 'actions/setup-go@v3', 'with': {'go-version': '1.19', 'check-latest': True, 'cache': True}}, {'name': 'Build Kava binary', 'run': 'make install'}, {'name': 'Checkout Go EVM tools repo', 'uses': 'actions/checkout@v3', 'with': {'repository': 'ethereum/go-ethereum', 'path': 'go-ethereum', 'ref': 'v1.10.26'}}, {'name': 'Install Go EVM tools', 'run': 'make\nmake devtools\n', 'working-directory': 'go-ethereum'}, {'name': 'Checkout Kava bridge repo for deploying EVM contracts', 'uses': 'actions/checkout@v3', 'with': {'repository': 'Kava-Labs/kava-bridge', 'path': 'kava-bridge', 'ref': 'main'}}, {'name': 'Install Node.js', 'uses': 'actions/setup-node@v3', 'with': {'cache': 'npm', 'node-version': 18, 'cache-dependency-path': 'kava-bridge/contract/package.json'}}, {'name': 'Install ERC20 contract deployment dependencies', 'run': 'npm install', 'working-directory': 'kava-bridge/contract'}, {'name': 'Compile default ERC20 contracts', 'run': 'make compile-contracts', 'working-directory': 'kava-bridge'}, {'name': 'Run seed scripts', 'run': 'bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}', 'working-directory': 'kava-bridge/contract', 'env': {'CHAIN_API_URL': '${{ inputs.chain-api-url }}', 'CHAIN_ID': '${{ inputs.chain-id }}', 'DEV_WALLET_MNEMONIC': '${{ secrets.DEV_WALLET_MNEMONIC }}', 'SEED_SCRIPT_FILENAME': '${{ inputs.seed-script-filename }}', 'ERC20_DEPLOYER_NETWORK_NAME': '${{ inputs.erc20-deployer-network-name }}', 'GENESIS_VALIDATOR_ADDRESSES': '${{ inputs.genesis-validator-addresses }}'}}]}}}
2025-11-05 14:20:01,946 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:20:01,947 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:20:01,947 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:20:01,947 - __main__ - INFO - === 파일 1/3 베이스라인 복구 완료 ===
2025-11-05 14:20:01,947 - __main__ - INFO - ✅ 성공 (29.53초): 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32 -> 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:20:01,947 - __main__ - INFO - [2/3] 처리 중: 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:01,947 - __main__ - INFO - 입력 파일 경로: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:01,947 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 14:20:01,947 - __main__ - INFO - === 파일 2/3 베이스라인 복구 시작 ===
2025-11-05 14:20:01,947 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:20:01,948 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:20:01,948 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:01,948 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:20:01,948 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:20:01,949 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:01,979 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:20:01,979 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:20:01,979 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:20:01,979 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:20:01,979 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.84초)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
We have found 22 smells
	- 2. Prevent running issue/PR actions on forks line -1:51
	- 3. Use fixed version for runs-on argument (line 16)
	- 6. Define permissions for workflows with external actions (job at line: 16)
	- 6. Define permissions for workflows with external actions (job at line: 126)
	- 6. Define permissions for workflows with external actions (job at line: 69)
	- 8. Use commit hash instead of tags for action versions (line 130)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 10. Avoid jobs without timeouts (line: 126)
	- 10. Avoid jobs without timeouts (line: 16)
	- 10. Avoid jobs without timeouts (line: 69)
	- 12. Avoid workflows without comments
	- 15. Use permissions whenever using Github Token (job at line 16)
	- 15. Use permissions whenever using Github Token (job at line 126)
	- 15. Use permissions whenever using Github Token (job at line 69)
	- 19. Run tests on multiple OS's (job: build-backend)
	- 19. Run tests on multiple OS's (job: build-frontend)
	- 19. Run tests on multiple OS's (job: build-omni)
	- 22. Avoid deploying jobs on forks

2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 25
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 2: We have found 22 smells
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 22 smells
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line -1:51
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:51
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 16)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 16)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 126)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 126)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 69)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 69)
2025-11-05 14:20:02,818 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 130)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 130)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 14:20:02,819 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 126)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 126)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 16)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 16)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 69)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 69)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 라인 17: - 12. Avoid workflows without comments
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 라인 18: - 15. Use permissions whenever using Github Token (job at line 16)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 16)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 라인 19: - 15. Use permissions whenever using Github Token (job at line 126)
2025-11-05 14:20:02,820 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 126)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 라인 20: - 15. Use permissions whenever using Github Token (job at line 69)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 69)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 라인 21: - 19. Run tests on multiple OS's (job: build-backend)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-backend)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 라인 22: - 19. Run tests on multiple OS's (job: build-frontend)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-frontend)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 라인 23: - 19. Run tests on multiple OS's (job: build-omni)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-omni)
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 라인 24: - 22. Avoid deploying jobs on forks
2025-11-05 14:20:02,827 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:20:02,827 - utils.process_runner - INFO - 총 6개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:20:02,827 - utils.process_runner - INFO - Smell detector 실행 완료: 6개 스멜 발견
2025-11-05 14:20:02,827 - main - INFO - Smell detector에서 6개 스멜 발견
2025-11-05 14:20:02,827 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:20:02,827 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:20:02,827 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qem...
2025-11-05 14:20:02,829 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:20:02,829 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:20:02,829 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:20:02,852 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:20:44,176 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:20:44,179 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:20:44,180 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:20:44,180 - main - DEBUG - 추출된 YAML:
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push Frontend images
        uses: docker/build-push-action@v4
        with:
          file: docker/frontend.Dockerfile
          context: .
          push: true
          tags: frontend-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-backend:
    runs-on: ubuntu-latest
    name: Build Backend
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/api.Dockerfile
          context: .
          push: true
          tags: api-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-omni:
    runs-on: ubuntu-latest
    name: Build Omni
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/omni.Dockerfile
          context: .
          push: true
          tags: omni-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  permissions:
    id-token: write
    contents: read
    packages: read
2025-11-05 14:20:44,181 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:20:44,181 - main - DEBUG - 검증할 YAML 길이: 4971 문자
2025-11-05 14:20:44,181 - main - DEBUG - YAML 시작 부분: 'name: Build Containers\n\non:\n  workflow_call:\n    inputs:\n      tag:\n        required: true\n        t'
2025-11-05 14:20:44,199 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build Containers', 'on': {'workflow_call': {'inputs': {'tag': {'required': True, 'type': 'string'}}, 'secrets': {'DOCKERHUB_USERNAME': {'required': True}, 'DOCKERHUB_TOKEN': {'required': True}}}}, 'jobs': {'build-frontend': {'runs-on': 'ubuntu-latest', 'name': 'Build Frontend', 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push Frontend images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/frontend.Dockerfile', 'context': '.', 'push': True, 'tags': 'frontend-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'build-backend': {'runs-on': 'ubuntu-latest', 'name': 'Build Backend', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Override __init__.py', 'run': 'echo "__version__ = \\"${{ inputs.tag }}\\"" > ./mealie/__init__.py\n'}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push API images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/api.Dockerfile', 'context': '.', 'push': True, 'tags': 'api-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'build-omni': {'runs-on': 'ubuntu-latest', 'name': 'Build Omni', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Override __init__.py', 'run': 'echo "__version__ = \\"${{ inputs.tag }}\\"" > ./mealie/__init__.py\n'}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push API images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/omni.Dockerfile', 'context': '.', 'push': True, 'tags': 'omni-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'permissions': {'id-token': 'write', 'contents': 'read', 'packages': 'read'}}}
2025-11-05 14:20:44,199 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:20:44,199 - main - ERROR - 검증 오류: ["Job 'permissions' missing 'runs-on'", "Job 'permissions' missing 'steps'"]
2025-11-05 14:20:44,201 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 14:20:44,201 - __main__ - INFO - === 파일 2/3 베이스라인 복구 완료 ===
2025-11-05 14:20:44,201 - __main__ - ERROR - ❌ 실패 (42.25초): 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:20:44,201 - __main__ - INFO - [3/3] 처리 중: a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:20:44,201 - __main__ - INFO - 입력 파일 경로: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:20:44,202 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:20:44,202 - __main__ - INFO - === 파일 3/3 베이스라인 복구 시작 ===
2025-11-05 14:20:44,202 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:20:44,202 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:20:44,202 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:20:44,202 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:20:44,203 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:20:44,203 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:20:44,241 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 14:20:44,241 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:20:44,241 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:20:44,241 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:20:44,241 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.54초)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 6. Define permissions for workflows with external actions (job at line: 12)
	- 8. Use commit hash instead of tags for action versions (line 47)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 12)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
58:1: too many blank lines (2 > 0) (empty-lines)

2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 17
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 12)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 12)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 10: - 12. Avoid workflows without comments
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: build)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 13: - 20. Run CI on multiple language versions (job: build)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 15: The following styling errors were found:
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:20:44,786 - utils.process_runner - DEBUG - 라인 16: 58:1: too many blank lines (2 > 0) (empty-lines)
2025-11-05 14:20:44,786 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:20:44,786 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:20:44,786 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:20:44,786 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:20:44,786 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:20:44,786 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
    customSnap:
      description: 'Custom Snapshot Name'
      required: false
      type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OS...
2025-11-05 14:20:44,786 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:20:44,787 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:20:44,787 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:20:44,788 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:21:02,306 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:21:02,312 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:21:02,312 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:21:02,312 - main - DEBUG - 추출된 YAML:
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
      customSnap:
        description: 'Custom Snapshot Name'
        required: false
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
      OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
      SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
      SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
      SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
      COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
      GODEBUG: x509sha1=1
    steps:
      - name: Setup JDK
        uses: actions/setup-java@v4
        with:
          java-version: '8'
          distribution: 'adopt'
      - name: Setup GO
        uses: actions/setup-go@v4
        with:
          go-version: '1.21.4'
      - name: Install Nats Server
        run: |
          cd $GITHUB_WORKSPACE
          git clone https://github.com/nats-io/nats-server.git
          cd nats-server
          go get
          go build main.go
          mkdir -p ~/.local/bin
          cp main ~/.local/bin/nats-server
          cd ..
          rm -rf nats-server
          nats-server -v
      - name: Check out code
        uses: actions/checkout@v4
      - name: Build and Test
        run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
      - name: Verify Javadoc
        if: ${{ success() }}
        run: ./gradlew javadoc
      - name: Publish Branch Snapshot
        if: ${{ success() }}
        run: ./gradlew -i publishToSonatype

timeout-minutes: 60 # Fix semantic smell: Avoid jobs without timeouts
2025-11-05 14:21:02,313 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:21:02,313 - main - DEBUG - 검증할 YAML 길이: 1771 문자
2025-11-05 14:21:02,313 - main - DEBUG - YAML 시작 부분: 'name: Build a Branch Specific Snapshot\n\non:\n  workflow_dispatch:\n    inputs:\n      customSnap:\n     '
2025-11-05 14:21:02,317 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build a Branch Specific Snapshot', 'on': {'workflow_dispatch': {'inputs': {'customSnap': {'description': 'Custom Snapshot Name', 'required': False, 'type': 'string'}}}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'env': {'BUILD_EVENT': '${{ github.event_name }}', 'BRANCH_REF_NAME': '${{ github.ref_name }}', 'CUSTOM_SNAPSHOT_NAME': '${{ inputs.customSnap }}', 'OSSRH_USERNAME': '${{ secrets.OSSRH_USERNAME }}', 'OSSRH_PASSWORD': '${{ secrets.OSSRH_TOKEN }}', 'SIGNING_KEY_ID': '${{ secrets.SIGNING_KEY_ID }}', 'SIGNING_KEY': '${{ secrets.SIGNING_KEY }}', 'SIGNING_PASSWORD': '${{ secrets.SIGNING_PASSWORD }}', 'COVERALLS_REPO_TOKEN': '${{ secrets.COVERALLS_REPO_TOKEN }}', 'GODEBUG': 'x509sha1=1'}, 'steps': [{'name': 'Setup JDK', 'uses': 'actions/setup-java@v4', 'with': {'java-version': '8', 'distribution': 'adopt'}}, {'name': 'Setup GO', 'uses': 'actions/setup-go@v4', 'with': {'go-version': '1.21.4'}}, {'name': 'Install Nats Server', 'run': 'cd $GITHUB_WORKSPACE\ngit clone https://github.com/nats-io/nats-server.git\ncd nats-server\ngo get\ngo build main.go\nmkdir -p ~/.local/bin\ncp main ~/.local/bin/nats-server\ncd ..\nrm -rf nats-server\nnats-server -v\n'}, {'name': 'Check out code', 'uses': 'actions/checkout@v4'}, {'name': 'Build and Test', 'run': 'chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls'}, {'name': 'Verify Javadoc', 'if': '${{ success() }}', 'run': './gradlew javadoc'}, {'name': 'Publish Branch Snapshot', 'if': '${{ success() }}', 'run': './gradlew -i publishToSonatype'}]}}, 'timeout-minutes': 60}
2025-11-05 14:21:02,319 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:21:02,319 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:21:02,319 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:21:02,319 - __main__ - INFO - === 파일 3/3 베이스라인 복구 완료 ===
2025-11-05 14:21:02,319 - __main__ - INFO - ✅ 성공 (18.12초): a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775 -> a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:21:02,320 - __main__ - INFO - ============================================================
2025-11-05 14:21:02,320 - __main__ - INFO - 베이스라인 자동 복구 완료!
2025-11-05 14:21:02,320 - __main__ - INFO - 총 처리 시간: 89.9초
2025-11-05 14:21:02,320 - __main__ - INFO - 총 파일: 3
2025-11-05 14:21:02,321 - __main__ - INFO - 성공: 2 (66.7%)
2025-11-05 14:21:02,321 - __main__ - INFO - 실패: 1
2025-11-05 14:21:02,321 - __main__ - INFO - 평균 처리 시간: 29.97초/파일
2025-11-05 14:21:02,321 - __main__ - INFO - 출력 파일 위치: llama3.1_8b/data_repair_baseline
2025-11-05 14:21:02,321 - __main__ - INFO - INFO 로그 파일: logs/llama3_info.log
2025-11-05 14:21:02,321 - __main__ - INFO - DEBUG 로그 파일: logs/llama3_debug.log
2025-11-05 14:21:02,321 - __main__ - INFO - ============================================================
2025-11-05 14:21:49,846 - __main__ - INFO - 베이스라인 자동 복구 시작: 100개 파일
2025-11-05 14:21:49,847 - __main__ - INFO - 입력 디렉토리: data_original
2025-11-05 14:21:49,847 - __main__ - INFO - 출력 디렉토리: llama3.1_8b/data_repair_baseline
2025-11-05 14:21:49,847 - __main__ - INFO - [1/100] 처리 중: 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:21:49,847 - __main__ - INFO - 입력 파일 경로: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:21:49,847 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:21:49,847 - __main__ - INFO - === 파일 1/100 베이스라인 복구 시작 ===
2025-11-05 14:21:49,847 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:21:49,847 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:21:49,847 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:21:49,847 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:21:49,847 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:21:49,847 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:21:49,873 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:21:49,873 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:21:49,873 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:21:49,873 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:21:49,873 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis_validator_addresses:
        required: true
        type: string
      kava_version_filepath:
        required: true
        type: string
    secrets:
      DEV_WALLET_MNEMONIC:
        required: true

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo from master
        uses: actions/checkout@v3
        with:
         ref: master
      - name: checkout version of kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
         env:
            KAVA_VERSION_FILEPATH: ${{ inputs.kava_version_filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: build kava binary
        run: make install
      - name: checkout go evm tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: install go evm tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: checkout kava bridge repo for deploying evm contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: install nodeJS
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "install ERC20 contract deployment dependencies"
        run: "npm install"
        working-directory: kava-bridge/contract
      - name: compile default erc20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis_validator_addresses }}

while parsing a block mapping
  in "<file>", line 36, column 9
expected <block end>, but found '<block mapping start>'
  in "<file>", line 40, column 10
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 8. Use commit hash instead of tags for action versions (line 67)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
35:10: wrong indentation: expected 10 but found 9 (indentation)
40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
41:13: wrong indentation: expected 11 but found 12 (indentation)

2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 131
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Seed Chain
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 4: workflow_call:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 5: inputs:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 6: chain-api-url:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 7: required: true
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 8: type: string
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 9: chain-id:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 10: required: true
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 11: type: string
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 12: seed-script-filename:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 13: required: true
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 14: type: string
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 15: erc20-deployer-network-name:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 16: required: true
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 17: type: string
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 18: genesis_validator_addresses:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 19: required: true
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 20: type: string
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 21: kava_version_filepath:
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 22: required: true
2025-11-05 14:21:50,378 - utils.process_runner - DEBUG - 라인 23: type: string
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 24: secrets:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 25: DEV_WALLET_MNEMONIC:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 26: required: true
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 28: jobs:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 29: seed-chain-state:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-latest
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 31: steps:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 32: - name: checkout repo from master
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 33: uses: actions/checkout@v3
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 35: ref: master
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 36: - name: checkout version of kava used by network
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 37: run: |
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 38: git pull -p
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 39: git checkout $(cat ${KAVA_VERSION_FILEPATH})
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 40: env:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 41: KAVA_VERSION_FILEPATH: ${{ inputs.kava_version_filepath }}
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 42: - name: Set up Go
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 43: uses: actions/setup-go@v3
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 45: go-version: "1.19"
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 46: check-latest: true
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 47: cache: true
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 48: - name: build kava binary
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 49: run: make install
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 50: - name: checkout go evm tools repo
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 51: uses: actions/checkout@v3
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 52: with:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 53: repository: ethereum/go-ethereum
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 54: path: go-ethereum
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 55: ref: v1.10.26
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 56: - name: install go evm tools
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 57: run: |
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 58: make
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 59: make devtools
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 60: working-directory: go-ethereum
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 61: - name: checkout kava bridge repo for deploying evm contracts
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 62: uses: actions/checkout@v3
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 63: with:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 64: repository: Kava-Labs/kava-bridge
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 65: path: kava-bridge
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 66: ref: main
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 67: - name: install nodeJS
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 68: uses: actions/setup-node@v3
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 69: with:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 70: cache: npm
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 71: node-version: 18
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 72: cache-dependency-path: kava-bridge/contract/package.json
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 73: - name: "install ERC20 contract deployment dependencies"
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 74: run: "npm install"
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 75: working-directory: kava-bridge/contract
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 76: - name: compile default erc20 contracts
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 77: run: make compile-contracts
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 78: working-directory: kava-bridge
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 79: - name: run seed scripts
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 80: run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 81: working-directory: kava-bridge/contract
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 82: env:
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 83: CHAIN_API_URL: ${{ inputs.chain-api-url }}
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 84: CHAIN_ID: ${{ inputs.chain-id }}
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 85: DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 86: SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 87: ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
2025-11-05 14:21:50,379 - utils.process_runner - DEBUG - 라인 88: GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis_validator_addresses }}
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 90: while parsing a block mapping
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 91: in "<file>", line 36, column 9
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 92: expected <block end>, but found '<block mapping start>'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 93: in "<file>", line 40, column 10
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 94: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 104: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 105: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 106: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 107: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 108: We have found 18 smells
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 109: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 111: - 8. Use commit hash instead of tags for action versions (line 67)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 67)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 112: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 113: - 12. Avoid workflows without comments
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 114: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 125: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 126: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 127: The following styling errors were found:
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 128: 35:10: wrong indentation: expected 10 but found 9 (indentation)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 129: 40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:21:50,380 - utils.process_runner - DEBUG - 라인 130: 41:13: wrong indentation: expected 11 but found 12 (indentation)
2025-11-05 14:21:50,380 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:21:50,380 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:21:50,380 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:21:50,380 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:21:50,381 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:21:50,381 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:21:50,381 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis_validator_addresses:
        required: true
        type: string
 ...
2025-11-05 14:21:50,381 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:21:50,381 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:21:50,381 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:21:50,387 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:22:13,964 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:22:13,966 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:22:13,967 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:22:13,968 - main - DEBUG - 추출된 YAML:
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis-validator-addresses:
        required: true
        type: string
      kava-version-filepath:
        required: true
        type: string

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo from master
        uses: actions/checkout@v3
        with:
          ref: master
      - name: Checkout version of Kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
        env:
          KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: Build Kava binary
        run: make install
      - name: Checkout go evm tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: Install go evm tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: Checkout Kava bridge repo for deploying evm contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "Install ERC20 contract deployment dependencies"
        run: npm install
        working-directory: kava-bridge/contract
      - name: Compile default ERC20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: Run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
2025-11-05 14:22:13,968 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:22:13,968 - main - DEBUG - 검증할 YAML 길이: 2625 문자
2025-11-05 14:22:13,968 - main - DEBUG - YAML 시작 부분: 'name: Seed Chain\n\non:\n  workflow_call:\n    inputs:\n      chain-api-url:\n        required: true\n     '
2025-11-05 14:22:13,982 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Seed Chain', 'on': {'workflow_call': {'inputs': {'chain-api-url': {'required': True, 'type': 'string'}, 'chain-id': {'required': True, 'type': 'string'}, 'seed-script-filename': {'required': True, 'type': 'string'}, 'erc20-deployer-network-name': {'required': True, 'type': 'string'}, 'genesis-validator-addresses': {'required': True, 'type': 'string'}, 'kava-version-filepath': {'required': True, 'type': 'string'}}}}, 'jobs': {'seed-chain-state': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout repo from master', 'uses': 'actions/checkout@v3', 'with': {'ref': 'master'}}, {'name': 'Checkout version of Kava used by network', 'run': 'git pull -p\ngit checkout $(cat ${KAVA_VERSION_FILEPATH})\n', 'env': {'KAVA_VERSION_FILEPATH': '${{ inputs.kava-version-filepath }}'}}, {'name': 'Set up Go', 'uses': 'actions/setup-go@v3', 'with': {'go-version': '1.19', 'check-latest': True, 'cache': True}}, {'name': 'Build Kava binary', 'run': 'make install'}, {'name': 'Checkout go evm tools repo', 'uses': 'actions/checkout@v3', 'with': {'repository': 'ethereum/go-ethereum', 'path': 'go-ethereum', 'ref': 'v1.10.26'}}, {'name': 'Install go evm tools', 'run': 'make\nmake devtools\n', 'working-directory': 'go-ethereum'}, {'name': 'Checkout Kava bridge repo for deploying evm contracts', 'uses': 'actions/checkout@v3', 'with': {'repository': 'Kava-Labs/kava-bridge', 'path': 'kava-bridge', 'ref': 'main'}}, {'name': 'Install Node.js', 'uses': 'actions/setup-node@v3', 'with': {'cache': 'npm', 'node-version': 18, 'cache-dependency-path': 'kava-bridge/contract/package.json'}}, {'name': 'Install ERC20 contract deployment dependencies', 'run': 'npm install', 'working-directory': 'kava-bridge/contract'}, {'name': 'Compile default ERC20 contracts', 'run': 'make compile-contracts', 'working-directory': 'kava-bridge'}, {'name': 'Run seed scripts', 'run': 'bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}', 'working-directory': 'kava-bridge/contract', 'env': {'CHAIN_API_URL': '${{ inputs.chain-api-url }}', 'CHAIN_ID': '${{ inputs.chain-id }}', 'DEV_WALLET_MNEMONIC': '${{ secrets.DEV_WALLET_MNEMONIC }}', 'SEED_SCRIPT_FILENAME': '${{ inputs.seed-script-filename }}', 'ERC20_DEPLOYER_NETWORK_NAME': '${{ inputs.erc20-deployer-network-name }}', 'GENESIS_VALIDATOR_ADDRESSES': '${{ inputs.genesis-validator-addresses }}'}}]}}}
2025-11-05 14:22:13,984 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:22:13,984 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:22:13,984 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:22:13,984 - __main__ - INFO - === 파일 1/100 베이스라인 복구 완료 ===
2025-11-05 14:22:13,984 - __main__ - INFO - ✅ 성공 (24.14초): 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32 -> 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 14:22:13,984 - __main__ - INFO - [2/100] 처리 중: 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:22:13,984 - __main__ - INFO - 입력 파일 경로: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:22:13,984 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 14:22:13,984 - __main__ - INFO - === 파일 2/100 베이스라인 복구 시작 ===
2025-11-05 14:22:13,984 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:22:13,984 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:22:13,985 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:22:13,985 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:22:13,985 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:22:13,985 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:22:14,006 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:22:14,006 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:22:14,006 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:22:14,006 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:22:14,006 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
We have found 22 smells
	- 2. Prevent running issue/PR actions on forks line -1:51
	- 3. Use fixed version for runs-on argument (line 16)
	- 6. Define permissions for workflows with external actions (job at line: 69)
	- 6. Define permissions for workflows with external actions (job at line: 126)
	- 6. Define permissions for workflows with external actions (job at line: 16)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 130)
	- 10. Avoid jobs without timeouts (line: 69)
	- 10. Avoid jobs without timeouts (line: 16)
	- 10. Avoid jobs without timeouts (line: 126)
	- 12. Avoid workflows without comments
	- 15. Use permissions whenever using Github Token (job at line 16)
	- 15. Use permissions whenever using Github Token (job at line 126)
	- 15. Use permissions whenever using Github Token (job at line 69)
	- 19. Run tests on multiple OS's (job: build-omni)
	- 19. Run tests on multiple OS's (job: build-backend)
	- 19. Run tests on multiple OS's (job: build-frontend)
	- 22. Avoid deploying jobs on forks

2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 25
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 2: We have found 22 smells
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 22 smells
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line -1:51
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:51
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 69)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 69)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 126)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 126)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 16)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 16)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 130)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 130)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 69)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 69)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 16)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 16)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 126)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 126)
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 라인 17: - 12. Avoid workflows without comments
2025-11-05 14:22:14,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 라인 18: - 15. Use permissions whenever using Github Token (job at line 16)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 16)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 라인 19: - 15. Use permissions whenever using Github Token (job at line 126)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 126)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 라인 20: - 15. Use permissions whenever using Github Token (job at line 69)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 69)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 라인 21: - 19. Run tests on multiple OS's (job: build-omni)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-omni)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 라인 22: - 19. Run tests on multiple OS's (job: build-backend)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-backend)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 라인 23: - 19. Run tests on multiple OS's (job: build-frontend)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-frontend)
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 라인 24: - 22. Avoid deploying jobs on forks
2025-11-05 14:22:14,520 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:22:14,520 - utils.process_runner - INFO - 총 6개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:22:14,520 - utils.process_runner - INFO - Smell detector 실행 완료: 6개 스멜 발견
2025-11-05 14:22:14,520 - main - INFO - Smell detector에서 6개 스멜 발견
2025-11-05 14:22:14,520 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:22:14,520 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:22:14,520 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qem...
2025-11-05 14:22:14,520 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:22:14,520 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:22:14,520 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:22:14,521 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:22:57,717 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:22:57,719 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:22:57,720 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:22:57,720 - main - DEBUG - 추출된 YAML:
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push Frontend images
        uses: docker/build-push-action@v4
        with:
          file: docker/frontend.Dockerfile
          context: .
          push: true
          tags: frontend-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-backend:
    runs-on: ubuntu-latest
    name: Build Backend
    timeout-minutes: 10 # Add a timeout to avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/api.Dockerfile
          context: .
          push: true
          tags: api-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-omni:
    runs-on: ubuntu-latest
    name: Build Omni
    timeout-minutes: 10 # Add a timeout to avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/omni.Dockerfile
          context: .
          push: true
          tags: omni-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  # Add a job to use permissions with Github Token
  build-permissions:
    runs-on: ubuntu-latest
    name: Build Permissions
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Use permissions with Github Token
        run: |
          echo "Using permissions with Github Token"
2025-11-05 14:22:57,720 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:22:57,720 - main - DEBUG - 검증할 YAML 길이: 5204 문자
2025-11-05 14:22:57,720 - main - DEBUG - YAML 시작 부분: 'name: Build Containers\n\non:\n  workflow_call:\n    inputs:\n      tag:\n        required: true\n        t'
2025-11-05 14:22:57,742 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build Containers', 'on': {'workflow_call': {'inputs': {'tag': {'required': True, 'type': 'string'}}, 'secrets': {'DOCKERHUB_USERNAME': {'required': True}, 'DOCKERHUB_TOKEN': {'required': True}}}}, 'jobs': {'build-frontend': {'runs-on': 'ubuntu-latest', 'name': 'Build Frontend', 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push Frontend images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/frontend.Dockerfile', 'context': '.', 'push': True, 'tags': 'frontend-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'build-backend': {'runs-on': 'ubuntu-latest', 'name': 'Build Backend', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Override __init__.py', 'run': 'echo "__version__ = \\"${{ inputs.tag }}\\"" > ./mealie/__init__.py\n'}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push API images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/api.Dockerfile', 'context': '.', 'push': True, 'tags': 'api-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'build-omni': {'runs-on': 'ubuntu-latest', 'name': 'Build Omni', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Override __init__.py', 'run': 'echo "__version__ = \\"${{ inputs.tag }}\\"" > ./mealie/__init__.py\n'}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push API images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/omni.Dockerfile', 'context': '.', 'push': True, 'tags': 'omni-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'build-permissions': {'runs-on': 'ubuntu-latest', 'name': 'Build Permissions', 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Use permissions with Github Token', 'run': 'echo "Using permissions with Github Token"'}]}}}
2025-11-05 14:22:57,744 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 14:22:57,744 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:22:57,744 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 14:22:57,745 - __main__ - INFO - === 파일 2/100 베이스라인 복구 완료 ===
2025-11-05 14:22:57,746 - __main__ - INFO - ✅ 성공 (43.76초): 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428 -> 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 14:22:57,746 - __main__ - INFO - [3/100] 처리 중: a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:22:57,746 - __main__ - INFO - 입력 파일 경로: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:22:57,746 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:22:57,746 - __main__ - INFO - === 파일 3/100 베이스라인 복구 시작 ===
2025-11-05 14:22:57,746 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:22:57,746 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:22:57,747 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:22:57,747 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:22:57,747 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:22:57,748 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:22:57,777 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:22:57,777 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:22:57,777 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:22:57,777 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:22:57,777 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:22:58,237 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 6. Define permissions for workflows with external actions (job at line: 12)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 47)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 12)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
58:1: too many blank lines (2 > 0) (empty-lines)

2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 17
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 12)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 12)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 10: - 12. Avoid workflows without comments
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: build)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 13: - 20. Run CI on multiple language versions (job: build)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 15: The following styling errors were found:
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:22:58,238 - utils.process_runner - DEBUG - 라인 16: 58:1: too many blank lines (2 > 0) (empty-lines)
2025-11-05 14:22:58,238 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:22:58,238 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:22:58,238 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:22:58,238 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:22:58,238 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:22:58,238 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
    customSnap:
      description: 'Custom Snapshot Name'
      required: false
      type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OS...
2025-11-05 14:22:58,238 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:22:58,238 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:22:58,238 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:22:58,240 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:23:15,510 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:23:15,512 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:23:15,513 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:23:15,514 - main - DEBUG - 추출된 YAML:
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
      customSnap:
        description: 'Custom Snapshot Name'
        required: false
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
      OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
      SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
      SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
      SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
      COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
      GODEBUG: x509sha1=1
    steps:
      - name: Setup JDK
        uses: actions/setup-java@v4
        with:
          java-version: '8'
          distribution: 'adopt'
      - name: Setup GO
        uses: actions/setup-go@v4
        with:
          go-version: '1.21.4'
      - name: Install Nats Server
        run: |
          cd $GITHUB_WORKSPACE
          git clone https://github.com/nats-io/nats-server.git
          cd nats-server
          go get
          go build main.go
          mkdir -p ~/.local/bin
          cp main ~/.local/bin/nats-server
          cd ..
          rm -rf nats-server
          nats-server -v
      - name: Check out code
        uses: actions/checkout@v4
      - name: Build and Test
        run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
      - name: Verify Javadoc
        if: ${{ success() }}
        run: ./gradlew javadoc
      - name: Publish Branch Snapshot
        if: ${{ success() }}
        run: ./gradlew -i publishToSonatype

timeout-minutes: 60 # Fix semantic smell: Avoid jobs without timeouts
2025-11-05 14:23:15,514 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:23:15,514 - main - DEBUG - 검증할 YAML 길이: 1771 문자
2025-11-05 14:23:15,514 - main - DEBUG - YAML 시작 부분: 'name: Build a Branch Specific Snapshot\n\non:\n  workflow_dispatch:\n    inputs:\n      customSnap:\n     '
2025-11-05 14:23:15,519 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build a Branch Specific Snapshot', 'on': {'workflow_dispatch': {'inputs': {'customSnap': {'description': 'Custom Snapshot Name', 'required': False, 'type': 'string'}}}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'env': {'BUILD_EVENT': '${{ github.event_name }}', 'BRANCH_REF_NAME': '${{ github.ref_name }}', 'CUSTOM_SNAPSHOT_NAME': '${{ inputs.customSnap }}', 'OSSRH_USERNAME': '${{ secrets.OSSRH_USERNAME }}', 'OSSRH_PASSWORD': '${{ secrets.OSSRH_TOKEN }}', 'SIGNING_KEY_ID': '${{ secrets.SIGNING_KEY_ID }}', 'SIGNING_KEY': '${{ secrets.SIGNING_KEY }}', 'SIGNING_PASSWORD': '${{ secrets.SIGNING_PASSWORD }}', 'COVERALLS_REPO_TOKEN': '${{ secrets.COVERALLS_REPO_TOKEN }}', 'GODEBUG': 'x509sha1=1'}, 'steps': [{'name': 'Setup JDK', 'uses': 'actions/setup-java@v4', 'with': {'java-version': '8', 'distribution': 'adopt'}}, {'name': 'Setup GO', 'uses': 'actions/setup-go@v4', 'with': {'go-version': '1.21.4'}}, {'name': 'Install Nats Server', 'run': 'cd $GITHUB_WORKSPACE\ngit clone https://github.com/nats-io/nats-server.git\ncd nats-server\ngo get\ngo build main.go\nmkdir -p ~/.local/bin\ncp main ~/.local/bin/nats-server\ncd ..\nrm -rf nats-server\nnats-server -v\n'}, {'name': 'Check out code', 'uses': 'actions/checkout@v4'}, {'name': 'Build and Test', 'run': 'chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls'}, {'name': 'Verify Javadoc', 'if': '${{ success() }}', 'run': './gradlew javadoc'}, {'name': 'Publish Branch Snapshot', 'if': '${{ success() }}', 'run': './gradlew -i publishToSonatype'}]}}, 'timeout-minutes': 60}
2025-11-05 14:23:15,520 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:23:15,520 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:23:15,520 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:23:15,520 - __main__ - INFO - === 파일 3/100 베이스라인 복구 완료 ===
2025-11-05 14:23:15,520 - __main__ - INFO - ✅ 성공 (17.77초): a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775 -> a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 14:23:15,520 - __main__ - INFO - [4/100] 처리 중: 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 14:23:15,520 - __main__ - INFO - 입력 파일 경로: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 14:23:15,520 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_baseline_repaired.yml
2025-11-05 14:23:15,520 - __main__ - INFO - === 파일 4/100 베이스라인 복구 시작 ===
2025-11-05 14:23:15,520 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:23:15,520 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:23:15,521 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 14:23:15,521 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:23:15,521 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:23:15,521 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 14:23:15,542 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:23:15,543 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:23:15,543 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:23:15,543 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:23:15,543 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: # This workflow will build a Java project with Maven and deploy snapshot
# artifacts to Maven Central
#
# This job is triggered by a completed run of the "CI Build" action.
# The "build" job only runs if the "CI Build" action completed successfully.
# The deployed artifacts will be built from the same commit that the "CI Build" action used.
#
name: Deploy to Maven Central

on:
  workflow_run:
    workflows: ["CI Build"]
    branches: [ master, v20.12, v14.1.1.0 ]
    types:
    - completed

env:
  MAVEN_OPTS: "-Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3"

jobs:
  build:
    if: ${{ github.event.workflow_run.conclusion == 'success' }}

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
      with:
        fetch-depth: 0

    - name: Set up Java 11
      uses: actions/setup-java@v1
      with:
        java-version: 11

    - name: Cache Maven packages
      uses: actions/cache@v1
      with:
        path: ~/.m2
        key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
        restore-keys: ${{ runner.os }}-m2

    - name: Build with Maven
      env:
        MAVEN_USER: ${{ secrets.MavenUser }}
        MAVEN_PASSWORD: ${{ secrets.MavenPassword }}
        GIT_COMMIT: ${{github.event.workflow_run.head_commit.id}}
        HEAD_BRANCH: ${{github.event.workflow_run.head_branch}}
      run: |
		git checkout "${GIT_COMMIT}"	    
	    sh tools/bin/github-deploy-snapshot.sh

while scanning for the next token
found character '\t' that cannot start any token
  in "<file>", line 50, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 23)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
13:16: too many spaces inside brackets (brackets)
13:42: too many spaces inside brackets (brackets)
15:5: wrong indentation: expected 6 but found 4 (indentation)
27:5: wrong indentation: expected 6 but found 4 (indentation)
50:1: syntax error: found character '\t' that cannot start any token (syntax)

2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 94
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: # This workflow will build a Java project with Maven and deploy snapshot
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 2: # artifacts to Maven Central
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 3: #
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 4: # This job is triggered by a completed run of the "CI Build" action.
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 5: # The "build" job only runs if the "CI Build" action completed successfully.
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 6: # The deployed artifacts will be built from the same commit that the "CI Build" action used.
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 7: #
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 8: name: Deploy to Maven Central
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 10: on:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 11: workflow_run:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 12: workflows: ["CI Build"]
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 13: branches: [ master, v20.12, v14.1.1.0 ]
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 14: types:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 15: - completed
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 17: env:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 18: MAVEN_OPTS: "-Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3"
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 20: jobs:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 21: build:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 22: if: ${{ github.event.workflow_run.conclusion == 'success' }}
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 24: runs-on: ubuntu-latest
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 26: steps:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 27: - uses: actions/checkout@v2
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 28: with:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 29: fetch-depth: 0
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 31: - name: Set up Java 11
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 32: uses: actions/setup-java@v1
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 34: java-version: 11
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 36: - name: Cache Maven packages
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 37: uses: actions/cache@v1
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 38: with:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 39: path: ~/.m2
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 40: key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 41: restore-keys: ${{ runner.os }}-m2
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 43: - name: Build with Maven
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 44: env:
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 45: MAVEN_USER: ${{ secrets.MavenUser }}
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 46: MAVEN_PASSWORD: ${{ secrets.MavenPassword }}
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 47: GIT_COMMIT: ${{github.event.workflow_run.head_commit.id}}
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 48: HEAD_BRANCH: ${{github.event.workflow_run.head_branch}}
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 49: run: |
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 50: git checkout "${GIT_COMMIT}"
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 51: sh tools/bin/github-deploy-snapshot.sh
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 53: while scanning for the next token
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 54: found character '\t' that cannot start any token
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 55: in "<file>", line 50, column 1
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 56: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 70: We have found 17 smells
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 71: - 3. Use fixed version for runs-on argument (line 23)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 23)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 72: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 73: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 74: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 75: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 88: The following styling errors were found:
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 89: 13:16: too many spaces inside brackets (brackets)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 90: 13:42: too many spaces inside brackets (brackets)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 91: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 92: 27:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 라인 93: 50:1: syntax error: found character '\t' that cannot start any token (syntax)
2025-11-05 14:23:16,025 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 50:1: syntax error: found character '\t' that cannot start any token (syntax)
2025-11-05 14:23:16,025 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:23:16,025 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:23:16,025 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:23:16,025 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:23:16,025 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:23:16,025 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:23:16,025 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# This workflow will build a Java project with Maven and deploy snapshot
# artifacts to Maven Central
#
# This job is triggered by a completed run of the "CI Build" action.
# The "build" job only runs if the "CI Build" action completed successfully.
# The deployed artifacts will be built from the same commit that the "CI Build" action used.
#
name: Deploy to Maven Central

on:
  workflow_run:
    workflo...
2025-11-05 14:23:16,025 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:23:16,025 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:23:16,025 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:23:16,027 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:23:29,657 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:23:29,660 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:23:29,661 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:23:29,661 - main - DEBUG - 추출된 YAML:
# This workflow will build a Java project with Maven and deploy snapshot artifacts to Maven Central
#
# This job is triggered by a completed run of the "CI Build" action.
# The "build" job only runs if the "CI Build" action completed successfully.
# The deployed artifacts will be built from the same commit that the "CI Build" action used.

name: Deploy to Maven Central

on:
  workflow_run:
    workflows: ["CI Build"]
    branches: [ master, v20.12, v14.1.1.0 ]
    types:
      - completed

env:
  MAVEN_OPTS: "-Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3"

jobs:
  build:
    if: ${{ github.event.workflow_run.conclusion == 'success' }}

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0

      - name: Set up Java 11
        uses: actions/setup-java@v1
        with:
          java-version: 11

      - name: Cache Maven packages
        uses: actions/cache@v1
        with:
          path: ~/.m2
          key: ${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}
          restore-keys: ${{ runner.os }}-m2

      - name: Build with Maven
        env:
          MAVEN_USER: ${{ secrets.MavenUser }}
          MAVEN_PASSWORD: ${{ secrets.MavenPassword }}
          GIT_COMMIT: ${{github.event.workflow_run.head_commit.id}}
          HEAD_BRANCH: ${{github.event.workflow_run.head_branch}}
        run: |
          git checkout "${GIT_COMMIT}"
          sh tools/bin/github-deploy-snapshot.sh
2025-11-05 14:23:29,661 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:23:29,661 - main - DEBUG - 검증할 YAML 길이: 1503 문자
2025-11-05 14:23:29,661 - main - DEBUG - YAML 시작 부분: '# This workflow will build a Java project with Maven and deploy snapshot artifacts to Maven Central\n'
2025-11-05 14:23:29,670 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Deploy to Maven Central', 'on': {'workflow_run': {'workflows': ['CI Build'], 'branches': ['master', 'v20.12', 'v14.1.1.0'], 'types': ['completed']}}, 'env': {'MAVEN_OPTS': '-Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3'}, 'jobs': {'build': {'if': "${{ github.event.workflow_run.conclusion == 'success' }}", 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Set up Java 11', 'uses': 'actions/setup-java@v1', 'with': {'java-version': 11}}, {'name': 'Cache Maven packages', 'uses': 'actions/cache@v1', 'with': {'path': '~/.m2', 'key': "${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}", 'restore-keys': '${{ runner.os }}-m2'}}, {'name': 'Build with Maven', 'env': {'MAVEN_USER': '${{ secrets.MavenUser }}', 'MAVEN_PASSWORD': '${{ secrets.MavenPassword }}', 'GIT_COMMIT': '${{github.event.workflow_run.head_commit.id}}', 'HEAD_BRANCH': '${{github.event.workflow_run.head_branch}}'}, 'run': 'git checkout "${GIT_COMMIT}"\nsh tools/bin/github-deploy-snapshot.sh'}]}}}
2025-11-05 14:23:29,670 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_baseline_repaired.yml
2025-11-05 14:23:29,670 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:23:29,670 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_baseline_repaired.yml
2025-11-05 14:23:29,671 - __main__ - INFO - === 파일 4/100 베이스라인 복구 완료 ===
2025-11-05 14:23:29,671 - __main__ - INFO - ✅ 성공 (14.15초): 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3 -> 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_baseline_repaired.yml
2025-11-05 14:23:29,671 - __main__ - INFO - [5/100] 처리 중: ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 14:23:29,671 - __main__ - INFO - 입력 파일 경로: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 14:23:29,671 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_baseline_repaired.yml
2025-11-05 14:23:29,671 - __main__ - INFO - === 파일 5/100 베이스라인 복구 시작 ===
2025-11-05 14:23:29,671 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:23:29,671 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:23:29,671 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 14:23:29,671 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:23:29,672 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:23:29,672 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 14:23:29,701 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:23:29,701 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:23:29,701 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:23:29,701 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:23:29,702 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 14:23:30,171 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: on:
  push:
    # Sequence of patterns matched against refs/tags
    tags:
    - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10

name: Upload Release Asset

jobs:

  build-linux:
    name: Build ESBMC with all Solvers (Linux)
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Configure CMake
        run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On
      - name: Build ESBMC
        run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Linux.sh
      - uses: actions/upload-artifact@v1
        with:
          name: release-linux
          path: ./build/ESBMC-Linux.sh


  build-macos:
    name: Build Darwin Release
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install Dependencies
        run: brew install gmp csmith cmake boost ninja python3 automake bison flex && pip3 install PySMT toml
      - name: Download Clang 11
        run: wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz
      - name: Extract Clang 11
        run: tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang
      - name: Setup boolector
        run: git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && cd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && ./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install
      - name: Setup Z3
        run: brew install z3
      - name: Get current folder and files
        run: pwd && ls
      - name: Configure CMake
        run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On
      - name: Build ESBMC
        run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Darwin.sh
      - uses: actions/upload-artifact@v1
        with:
          name: release-darwin
          path: ./build/ESBMC-Darwin.sh

  build-windows:
    name: Build ESBMC with Z3 (Windows)
    runs-on: windows-latest
    steps:
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: 3.8
    - name: check python
      run: python --version
    - name: Update vcpkg
      run: |
        vcpkg.exe update
        cd C:/vcpkg
        git.exe pull
        .\bootstrap-vcpkg.bat
    - name: Configure ESBMC
      run: ./scripts/build.ps1
    - uses: actions/upload-artifact@v2
      with:
        name: release-windows
        path: C:/deps/esbmc


  create-release:
    name: Upload Release Asset
    runs-on: ubuntu-20.04
    needs: [build-linux, build-macos, build-windows]
    steps:
      - name: Download Linux Build
        uses: actions/download-artifact@v1
        with:
          name: release-linux
          path: ./
      - name: Download Macos Build
        uses: actions/download-artifact@v1
        with:
          name: release-darwin
          path: ./
      - name: Download Windows Build
        uses: actions/download-artifact@v1
        with:
          name: release-windows
          path: ./
      - name: Get files
        run: ls
      - name: Create Release
        id: create_release
        uses: actions/create-release@v1.0.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          draft: false
          prerelease: false
      - name: Upload Release Asset (Linux)
        id: upload-release-asset-linux
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Linux.sh
          asset_name: ESBMC-Linux.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Darwin)
        id: upload-release-asset-macos
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Darwin.sh
          asset_name: ESBMC-Darwin.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Windows)
        id: upload-release-asset-windows
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Windows.zip
          asset_name: ESBMC-Windows.zip
          asset_content_type: application/zip

mapping values are not allowed here
  in "<file>", line 17, column 12
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 24 smells
	- 3. Use fixed version for runs-on argument (line 27)
	- 3. Use fixed version for runs-on argument (line 53)
	- 3. Use fixed version for runs-on argument (line 12)
	- 8. Use commit hash instead of tags for action versions (line 56)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 69)
	- 8. Use commit hash instead of tags for action versions (line 109)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 8. Use commit hash instead of tags for action versions (line 99)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 81)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
5:5: wrong indentation: expected 6 but found 4 (indentation)
5:12: too few spaces before comment: expected 2 (comments)
15:5: wrong indentation: expected 6 but found 4 (indentation)
17:12: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 185
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: on:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 2: push:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 3: # Sequence of patterns matched against refs/tags
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 4: tags:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 5: - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#'v*' # Push events to matching v*, i.e): v1.0, v20.15.10
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 7: name: Upload Release Asset
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 11: build-linux:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 12: name: Build ESBMC with all Solvers (Linux)
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 13: runs-on: ubuntu-latest
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v2
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 16: - name: Configure CMake
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 17: run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 18: - name: Build ESBMC
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 19: run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Linux.sh
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 20: - uses: actions/upload-artifact@v1
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 22: name: release-linux
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 23: path: ./build/ESBMC-Linux.sh
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 26: build-macos:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 27: name: Build Darwin Release
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 28: runs-on: macos-latest
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v2
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 31: - name: Install Dependencies
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 32: run: brew install gmp csmith cmake boost ninja python3 automake bison flex && pip3 install PySMT toml
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 33: - name: Download Clang 11
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 34: run: wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 35: - name: Extract Clang 11
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 36: run: tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 37: - name: Setup boolector
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 38: run: git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && cd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && ./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 39: - name: Setup Z3
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 40: run: brew install z3
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 41: - name: Get current folder and files
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 42: run: pwd && ls
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 43: - name: Configure CMake
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 44: run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 45: - name: Build ESBMC
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 46: run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Darwin.sh
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 47: - uses: actions/upload-artifact@v1
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 49: name: release-darwin
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 50: path: ./build/ESBMC-Darwin.sh
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 52: build-windows:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 53: name: Build ESBMC with Z3 (Windows)
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 54: runs-on: windows-latest
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 55: steps:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 56: - name: Set up Python
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 57: uses: actions/setup-python@v2
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 58: with:
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 59: python-version: 3.8
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 60: - name: check python
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 61: run: python --version
2025-11-05 14:23:30,172 - utils.process_runner - DEBUG - 라인 62: - name: Update vcpkg
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 63: run: |
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 64: vcpkg.exe update
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 65: cd C:/vcpkg
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 66: git.exe pull
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 67: .\bootstrap-vcpkg.bat
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 68: - name: Configure ESBMC
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 69: run: ./scripts/build.ps1
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 70: - uses: actions/upload-artifact@v2
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 72: name: release-windows
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 73: path: C:/deps/esbmc
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 76: create-release:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 77: name: Upload Release Asset
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 78: runs-on: ubuntu-20.04
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 79: needs: [build-linux, build-macos, build-windows]
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 80: steps:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 81: - name: Download Linux Build
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 82: uses: actions/download-artifact@v1
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 83: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 84: name: release-linux
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 85: path: ./
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 86: - name: Download Macos Build
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 87: uses: actions/download-artifact@v1
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 88: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 89: name: release-darwin
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 90: path: ./
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 91: - name: Download Windows Build
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 92: uses: actions/download-artifact@v1
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 93: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 94: name: release-windows
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 95: path: ./
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 96: - name: Get files
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 97: run: ls
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 98: - name: Create Release
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 99: id: create_release
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 100: uses: actions/create-release@v1.0.0
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 101: env:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 102: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 103: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 104: tag_name: ${{ github.ref }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 105: release_name: Release ${{ github.ref }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 106: draft: false
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 107: prerelease: false
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 108: - name: Upload Release Asset (Linux)
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 109: id: upload-release-asset-linux
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 110: uses: actions/upload-release-asset@v1.0.1
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 111: env:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 112: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 113: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 114: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 115: asset_path: ./ESBMC-Linux.sh
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 116: asset_name: ESBMC-Linux.sh
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 117: asset_content_type: text/x-shellscript
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 118: - name: Upload Release Asset (Darwin)
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 119: id: upload-release-asset-macos
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 120: uses: actions/upload-release-asset@v1.0.1
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 121: env:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 122: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 123: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 124: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 125: asset_path: ./ESBMC-Darwin.sh
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 126: asset_name: ESBMC-Darwin.sh
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 127: asset_content_type: text/x-shellscript
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 128: - name: Upload Release Asset (Windows)
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 129: id: upload-release-asset-windows
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 130: uses: actions/upload-release-asset@v1.0.1
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 131: env:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 132: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 133: with:
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 134: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 135: asset_path: ./ESBMC-Windows.zip
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 136: asset_name: ESBMC-Windows.zip
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 137: asset_content_type: application/zip
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 139: mapping values are not allowed here
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 140: in "<file>", line 17, column 12
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 141: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 142: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 143: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 144: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 145: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 146: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 147: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 148: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 149: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 150: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 151: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 152: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 153: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 154: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 라인 155: We have found 24 smells
2025-11-05 14:23:30,173 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 24 smells
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 156: - 3. Use fixed version for runs-on argument (line 27)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 27)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 157: - 3. Use fixed version for runs-on argument (line 53)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 53)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 158: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 159: - 8. Use commit hash instead of tags for action versions (line 56)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 56)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 160: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 161: - 8. Use commit hash instead of tags for action versions (line 69)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 69)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 162: - 8. Use commit hash instead of tags for action versions (line 109)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 109)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 163: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 164: - 8. Use commit hash instead of tags for action versions (line 99)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 99)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 165: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 166: - 8. Use commit hash instead of tags for action versions (line 81)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 81)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 167: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 168: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 169: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 170: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 171: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 172: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 180: The following styling errors were found:
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 181: 5:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 182: 5:12: too few spaces before comment: expected 2 (comments)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 183: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 라인 184: 17:12: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:23:30,174 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 17:12: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:23:30,174 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:23:30,174 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:23:30,174 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:23:30,174 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:23:30,174 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:23:30,174 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:23:30,174 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
on:
  push:
    # Sequence of patterns matched against refs/tags
    tags:
    - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10

name: Upload Release Asset

jobs:

  build-linux:
    name: Build ESBMC with all Solvers (Linux)
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Configure CMake
        run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWit...
2025-11-05 14:23:30,174 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:23:30,174 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:23:30,174 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:23:30,175 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:24:20,547 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:24:20,549 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:24:20,549 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:24:20,550 - main - DEBUG - 추출된 YAML:
name: Upload Release Asset

on:
  push:
    tags:
      - 'v*'

jobs:

  build-linux:
    name: Build ESBMC with all Solvers (Linux)
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Configure CMake
        run: |
          mkdir build && cd build && \
          cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On
      - name: Build ESBMC
        run: |
          cd build && \
          cmake --build . && \
          cpack && \
          mv ESBMC-*.sh ESBMC-Linux.sh
      - uses: actions/upload-artifact@v2
        with:
          name: release-linux
          path: ./build/ESBMC-Linux.sh

  build-macos:
    name: Build Darwin Release
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install Dependencies
        run: |
          brew install gmp csmith cmake boost ninja python3 automake bison flex && \
          pip3 install PySMT toml
      - name: Download Clang 11
        run: wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz
      - name: Extract Clang 11
        run: tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang
      - name: Setup boolector
        run: |
          git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && \
          cd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && \
          ./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install
      - name: Setup Z3
        run: brew install z3
      - name: Get current folder and files
        run: pwd && ls
      - name: Configure CMake
        run: |
          mkdir build && cd build && \
          cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On
      - name: Build ESBMC
        run: |
          cd build && \
          cmake --build . && \
          cpack && \
          mv ESBMC-*.sh ESBMC-Darwin.sh
      - uses: actions/upload-artifact@v2
        with:
          name: release-darwin
          path: ./build/ESBMC-Darwin.sh

  build-windows:
    name: Build ESBMC with Z3 (Windows)
    runs-on: windows-latest
    steps:
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.8'
      - name: check python
        run: python --version
      - name: Update vcpkg
        run: |
          vcpkg.exe update
          cd C:/vcpkg
          git.exe pull
          .\bootstrap-vcpkg.bat
      - name: Configure ESBMC
        run: ./scripts/build.ps1
      - uses: actions/upload-artifact@v2
        with:
          name: release-windows
          path: C:/deps/esbmc

  create-release:
    name: Upload Release Asset
    runs-on: ubuntu-20.04
    needs: [build-linux, build-macos, build-windows]
    steps:
      - name: Download Linux Build
        uses: actions/download-artifact@v2
        with:
          name: release-linux
          path: ./release-linux.sh
      - name: Download Macos Build
        uses: actions/download-artifact@v2
        with:
          name: release-darwin
          path: ./release-darwin.sh
      - name: Download Windows Build
        uses: actions/download-artifact@v2
        with:
          name: release-windows
          path: ./release-windows.zip
      - name: Get files
        run: ls
      - name: Create Release
        id: create_release
        uses: actions/create-release@v1.0.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          draft: false
          prerelease: false
      - name: Upload Release Asset (Linux)
        id: upload-release-asset-linux
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./release-linux.sh
          asset_name: release-linux.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Darwin)
        id: upload-release-asset-macos
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./release-darwin.sh
          asset_name: release-darwin.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Windows)
        id: upload-release-asset-windows
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./release-windows.zip
          asset_name: release-windows.zip
          asset_content_type: application/zip
2025-11-05 14:24:20,550 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:24:20,550 - main - DEBUG - 검증할 YAML 길이: 5380 문자
2025-11-05 14:24:20,550 - main - DEBUG - YAML 시작 부분: "name: Upload Release Asset\n\non:\n  push:\n    tags:\n      - 'v*'\n\njobs:\n\n  build-linux:\n    name: Buil"
2025-11-05 14:24:20,559 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Upload Release Asset', 'on': {'push': {'tags': ['v*']}}, 'jobs': {'build-linux': {'name': 'Build ESBMC with all Solvers (Linux)', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Configure CMake', 'run': 'mkdir build && cd build && \\\ncmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On\n'}, {'name': 'Build ESBMC', 'run': 'cd build && \\\ncmake --build . && \\\ncpack && \\\nmv ESBMC-*.sh ESBMC-Linux.sh\n'}, {'uses': 'actions/upload-artifact@v2', 'with': {'name': 'release-linux', 'path': './build/ESBMC-Linux.sh'}}]}, 'build-macos': {'name': 'Build Darwin Release', 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Install Dependencies', 'run': 'brew install gmp csmith cmake boost ninja python3 automake bison flex && \\\npip3 install PySMT toml\n'}, {'name': 'Download Clang 11', 'run': 'wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz'}, {'name': 'Extract Clang 11', 'run': 'tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang'}, {'name': 'Setup boolector', 'run': 'git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && \\\ncd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && \\\n./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install\n'}, {'name': 'Setup Z3', 'run': 'brew install z3'}, {'name': 'Get current folder and files', 'run': 'pwd && ls'}, {'name': 'Configure CMake', 'run': 'mkdir build && cd build && \\\ncmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On\n'}, {'name': 'Build ESBMC', 'run': 'cd build && \\\ncmake --build . && \\\ncpack && \\\nmv ESBMC-*.sh ESBMC-Darwin.sh\n'}, {'uses': 'actions/upload-artifact@v2', 'with': {'name': 'release-darwin', 'path': './build/ESBMC-Darwin.sh'}}]}, 'build-windows': {'name': 'Build ESBMC with Z3 (Windows)', 'runs-on': 'windows-latest', 'steps': [{'name': 'Set up Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '3.8'}}, {'name': 'check python', 'run': 'python --version'}, {'name': 'Update vcpkg', 'run': 'vcpkg.exe update\ncd C:/vcpkg\ngit.exe pull\n.\\bootstrap-vcpkg.bat\n'}, {'name': 'Configure ESBMC', 'run': './scripts/build.ps1'}, {'uses': 'actions/upload-artifact@v2', 'with': {'name': 'release-windows', 'path': 'C:/deps/esbmc'}}]}, 'create-release': {'name': 'Upload Release Asset', 'runs-on': 'ubuntu-20.04', 'needs': ['build-linux', 'build-macos', 'build-windows'], 'steps': [{'name': 'Download Linux Build', 'uses': 'actions/download-artifact@v2', 'with': {'name': 'release-linux', 'path': './release-linux.sh'}}, {'name': 'Download Macos Build', 'uses': 'actions/download-artifact@v2', 'with': {'name': 'release-darwin', 'path': './release-darwin.sh'}}, {'name': 'Download Windows Build', 'uses': 'actions/download-artifact@v2', 'with': {'name': 'release-windows', 'path': './release-windows.zip'}}, {'name': 'Get files', 'run': 'ls'}, {'name': 'Create Release', 'id': 'create_release', 'uses': 'actions/create-release@v1.0.0', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'with': {'tag_name': '${{ github.ref }}', 'release_name': 'Release ${{ github.ref }}', 'draft': False, 'prerelease': False}}, {'name': 'Upload Release Asset (Linux)', 'id': 'upload-release-asset-linux', 'uses': 'actions/upload-release-asset@v1.0.1', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'with': {'upload_url': '${{ steps.create_release.outputs.upload_url }}', 'asset_path': './release-linux.sh', 'asset_name': 'release-linux.sh', 'asset_content_type': 'text/x-shellscript'}}, {'name': 'Upload Release Asset (Darwin)', 'id': 'upload-release-asset-macos', 'uses': 'actions/upload-release-asset@v1.0.1', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'with': {'upload_url': '${{ steps.create_release.outputs.upload_url }}', 'asset_path': './release-darwin.sh', 'asset_name': 'release-darwin.sh', 'asset_content_type': 'text/x-shellscript'}}, {'name': 'Upload Release Asset (Windows)', 'id': 'upload-release-asset-windows', 'uses': 'actions/upload-release-asset@v1.0.1', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'with': {'upload_url': '${{ steps.create_release.outputs.upload_url }}', 'asset_path': './release-windows.zip', 'asset_name': 'release-windows.zip', 'asset_content_type': 'application/zip'}}]}}}
2025-11-05 14:24:20,560 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_baseline_repaired.yml
2025-11-05 14:24:20,560 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:24:20,560 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_baseline_repaired.yml
2025-11-05 14:24:20,560 - __main__ - INFO - === 파일 5/100 베이스라인 복구 완료 ===
2025-11-05 14:24:20,560 - __main__ - INFO - ✅ 성공 (50.89초): ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449 -> ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_baseline_repaired.yml
2025-11-05 14:24:20,560 - __main__ - INFO - [6/100] 처리 중: cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 14:24:20,560 - __main__ - INFO - 입력 파일 경로: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 14:24:20,560 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_baseline_repaired.yml
2025-11-05 14:24:20,560 - __main__ - INFO - === 파일 6/100 베이스라인 복구 시작 ===
2025-11-05 14:24:20,560 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:24:20,560 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:24:20,561 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 14:24:20,561 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:24:20,561 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:24:20,561 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 14:24:20,585 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:24:20,585 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:24:20,586 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:24:20,586 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:24:20,586 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
We have found 11 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 10. Avoid jobs without timeouts (line: 11)
	- 12. Avoid workflows without comments
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks

2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 14
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:24:21,083 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 5: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 10: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 11: - 12. Avoid workflows without comments
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 12: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:24:21,084 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:24:21,084 - utils.process_runner - INFO - 총 4개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:24:21,084 - utils.process_runner - INFO - Smell detector 실행 완료: 4개 스멜 발견
2025-11-05 14:24:21,084 - main - INFO - Smell detector에서 4개 스멜 발견
2025-11-05 14:24:21,084 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:24:21,084 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:24:21,084 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: CI

on:
  push:
    branches: [main]
  pull_request:
    types: [opened, synchronize]
  workflow_dispatch:

jobs:
  ci:
    name: CI
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🚪
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Setup pnpm 🌸
        uses: pnpm/action-setup@v2.2.4

      - name: Setup node 🍀
        uses: actions/setup-node@v3
 ...
2025-11-05 14:24:21,084 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:24:21,084 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:24:21,084 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:24:21,085 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:24:36,809 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:24:36,811 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:24:36,811 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:24:36,812 - main - DEBUG - 추출된 YAML:
name: CI

on:
  push:
    branches: [main]
    paths-ignore:
      - 'node_modules/**'
      - 'dist/**'

  pull_request:
    types: [opened, synchronize]
    paths-ignore:
      - 'node_modules/**'
      - 'dist/**'

  workflow_dispatch:

jobs:
  ci:
    name: CI
    runs-on: ubuntu-latest
    timeout-minutes: 60
    steps:
      - name: Checkout 🚪
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Setup pnpm 🌸
        uses: pnpm/action-setup@v2.2.4

      - name: Setup node 🍀
        uses: actions/setup-node@v3
        with:
          node-version-file: '.nvmrc'
          cache: 'pnpm'

      - name: Bootstrap 📦
        run: script/bootstrap

      - name: Typecheck 🔡
        run: pnpm typecheck:affected

      - name: Lint 🪩
        run: pnpm lint:affected

      - name: Prettier ✨
        run: pnpm prettier:affected

      - name: Build 🎁
        run: pnpm build

      - name: Run Tests 🧪
        env:
          CI: true
        run: |
          pnpm test:dev || echo "Tests failed, but continuing with deployment"
2025-11-05 14:24:36,812 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:24:36,812 - main - DEBUG - 검증할 YAML 길이: 1068 문자
2025-11-05 14:24:36,812 - main - DEBUG - YAML 시작 부분: "name: CI\n\non:\n  push:\n    branches: [main]\n    paths-ignore:\n      - 'node_modules/**'\n      - 'dist"
2025-11-05 14:24:36,821 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'push': {'branches': ['main'], 'paths-ignore': ['node_modules/**', 'dist/**']}, 'pull_request': {'types': ['opened', 'synchronize'], 'paths-ignore': ['node_modules/**', 'dist/**']}, 'workflow_dispatch': None}, 'jobs': {'ci': {'name': 'CI', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 60, 'steps': [{'name': 'Checkout 🚪', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Setup pnpm 🌸', 'uses': 'pnpm/action-setup@v2.2.4'}, {'name': 'Setup node 🍀', 'uses': 'actions/setup-node@v3', 'with': {'node-version-file': '.nvmrc', 'cache': 'pnpm'}}, {'name': 'Bootstrap 📦', 'run': 'script/bootstrap'}, {'name': 'Typecheck 🔡', 'run': 'pnpm typecheck:affected'}, {'name': 'Lint 🪩', 'run': 'pnpm lint:affected'}, {'name': 'Prettier ✨', 'run': 'pnpm prettier:affected'}, {'name': 'Build 🎁', 'run': 'pnpm build'}, {'name': 'Run Tests 🧪', 'env': {'CI': True}, 'run': 'pnpm test:dev || echo "Tests failed, but continuing with deployment"'}]}}}
2025-11-05 14:24:36,822 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_baseline_repaired.yml
2025-11-05 14:24:36,822 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:24:36,822 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_baseline_repaired.yml
2025-11-05 14:24:36,822 - __main__ - INFO - === 파일 6/100 베이스라인 복구 완료 ===
2025-11-05 14:24:36,822 - __main__ - INFO - ✅ 성공 (16.26초): cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b -> cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_baseline_repaired.yml
2025-11-05 14:24:36,822 - __main__ - INFO - [7/100] 처리 중: 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 14:24:36,822 - __main__ - INFO - 입력 파일 경로: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 14:24:36,822 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_baseline_repaired.yml
2025-11-05 14:24:36,822 - __main__ - INFO - === 파일 7/100 베이스라인 복구 시작 ===
2025-11-05 14:24:36,822 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:24:36,822 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:24:36,822 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 14:24:36,822 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:24:36,822 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:24:36,823 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 14:24:36,848 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:24:36,848 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:24:36,848 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:24:36,849 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:24:36,849 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Ezra Bible App test suite

on: push

jobs:
    #unit-test:
    #    name: Run jest tests
    #    runs-on: ubuntu-20.04
    #    timeout-minutes: 10
    #    steps:
    #    - uses: actions/checkout@v2
    #    - uses: actions/setup-node@v2
    #      with:
    #        node-version: '14'
    #
    #    - name: Install package.json dependencies (except node-sword-interface)
    #      run: npm uninstall node-sword-interface
    #    
    #    - name: Run test
    #      run: npm run test

    e2e-test:
        name: Run Cucumber tests
        runs-on: ubuntu-20.04
        timeout-minutes: 10
        env:
          JOBS: MAX

        steps:
        - uses: actions/checkout@v2
        - uses: actions/setup-node@v2
          with:
            node-version: '14'

        - name: Install dependencies and build native modules
          run: sudo apt update && sudo apt install -y libcurl4-gnutls-dev xvfb
          run: npm install
        
        - name: Compile templates
          run: npm run compile-pug 

        - name: Run test
          uses: nick-fields/retry@v2
          with:
            timeout_minutes: 5
            max_attempts: 2
            command: npm run headless-test

        - name: Archive screenshot (in case of an error)
          uses: actions/upload-artifact@v2
          if: failure()
          with:
            name: screenshot.png
            path: ./test_screenshot.png
while constructing a mapping
  in "<file>", line 35, column 11
found duplicate key "run" with value "npm install" (original value: "sudo apt update && sudo apt install -y libcurl4-gnutls-dev xvfb")
  in "<file>", line 37, column 11

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 49)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
6:6: missing starting space in comment (comments)
18:6: trailing spaces (trailing-spaces)
27:11: wrong indentation: expected 12 but found 10 (indentation)
30:9: wrong indentation: expected 12 but found 8 (indentation)
33:13: wrong indentation: expected 14 but found 12 (indentation)
37:11: duplication of key "run" in mapping (key-duplicates)
38:1: trailing spaces (trailing-spaces)
40:35: trailing spaces (trailing-spaces)
45:13: wrong indentation: expected 14 but found 12 (indentation)
53:13: wrong indentation: expected 14 but found 12 (indentation)
54:40: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 107
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Ezra Bible App test suite
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 3: on: push
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 5: jobs:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 6: #unit-test:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 7: #    name: Run jest tests
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 8: #    runs-on: ubuntu-20.04
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 9: #    timeout-minutes: 10
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 10: #    steps:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 11: #    - uses: actions/checkout@v2
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 12: #    - uses: actions/setup-node@v2
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 13: #      with:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 14: #        node-version: '14'
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 15: #
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 16: #    - name: Install package.json dependencies (except node-sword-interface)
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 17: #      run: npm uninstall node-sword-interface
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 18: #
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 19: #    - name: Run test
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 20: #      run: npm run test
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 22: e2e-test:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 23: name: Run Cucumber tests
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 24: runs-on: ubuntu-20.04
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 25: timeout-minutes: 10
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 26: env:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 27: JOBS: MAX
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v2
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 31: - uses: actions/setup-node@v2
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 32: with:
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 33: node-version: '14'
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 35: - name: Install dependencies and build native modules
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 36: run: sudo apt update && sudo apt install -y libcurl4-gnutls-dev xvfb
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 37: run: npm install
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 39: - name: Compile templates
2025-11-05 14:24:37,317 - utils.process_runner - DEBUG - 라인 40: run: npm run compile-pug
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 42: - name: Run test
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 43: uses: nick-fields/retry@v2
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 45: timeout_minutes: 5
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 46: max_attempts: 2
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 47: command: npm run headless-test
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 49: - name: Archive screenshot (in case of an error)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#unknown): name: Archive screenshot (in case of an error)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 50: uses: actions/upload-artifact@v2
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 51: if: failure()
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 52: with:
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 53: name: screenshot.png
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 54: path: ./test_screenshot.png
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 55: while constructing a mapping
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 56: in "<file>", line 35, column 11
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 57: found duplicate key "run" with value "npm install" (original value: "sudo apt update && sudo apt install -y libcurl4-gnutls-dev xvfb")
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 58: in "<file>", line 37, column 11
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 60: To suppress this check see:
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 61: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 63: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 77: We have found 17 smells
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 78: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 79: - 8. Use commit hash instead of tags for action versions (line 49)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 49)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 80: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 81: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 82: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 93: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 95: The following styling errors were found:
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 96: 6:6: missing starting space in comment (comments)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 97: 18:6: trailing spaces (trailing-spaces)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 98: 27:11: wrong indentation: expected 12 but found 10 (indentation)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 99: 30:9: wrong indentation: expected 12 but found 8 (indentation)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 100: 33:13: wrong indentation: expected 14 but found 12 (indentation)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 101: 37:11: duplication of key "run" in mapping (key-duplicates)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 102: 38:1: trailing spaces (trailing-spaces)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 103: 40:35: trailing spaces (trailing-spaces)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 104: 45:13: wrong indentation: expected 14 but found 12 (indentation)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 105: 53:13: wrong indentation: expected 14 but found 12 (indentation)
2025-11-05 14:24:37,318 - utils.process_runner - DEBUG - 라인 106: 54:40: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 14:24:37,318 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:24:37,319 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:24:37,319 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:24:37,319 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:24:37,319 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:24:37,319 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:24:37,319 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Ezra Bible App test suite

on: push

jobs:
    #unit-test:
    #    name: Run jest tests
    #    runs-on: ubuntu-20.04
    #    timeout-minutes: 10
    #    steps:
    #    - uses: actions/checkout@v2
    #    - uses: actions/setup-node@v2
    #      with:
    #        node-version: '14'
    #
    #    - name: Install package.json dependencies (except node-sword-interface)
    #      run: npm unin...
2025-11-05 14:24:37,319 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:24:37,319 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:24:37,319 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:24:37,320 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:24:48,447 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1842
2025-11-05 14:24:48,448 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:24:48,449 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:24:48,449 - main - DEBUG - 추출된 YAML:
name: Ezra Bible App test suite

on:
  push:

jobs:
  e2e-test:
    name: Run Cucumber tests
    runs-on: ubuntu-20.04
    timeout-minutes: 10
    env:
      JOBS_MAX: "MAX"

    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '14'

      - name: Install dependencies and build native modules
        run: |
          sudo apt update && sudo apt install -y libcurl4-gnutls-dev xvfb
          npm install

      - name: Compile templates
        run: npm run compile-pug

      - name: Run test with retry
        uses: nick-fields/retry@v2
        with:
          timeout_minutes: 5
          max_attempts: 2
          command: npm run headless-test

      - name: Archive screenshot (in case of an error)
        uses: actions/upload-artifact@v2
        if: failure()
        with:
          name: screenshot.png
          path: ./test_screenshot.png
2025-11-05 14:24:48,449 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:24:48,450 - main - DEBUG - 검증할 YAML 길이: 918 문자
2025-11-05 14:24:48,450 - main - DEBUG - YAML 시작 부분: 'name: Ezra Bible App test suite\n\non:\n  push:\n\njobs:\n  e2e-test:\n    name: Run Cucumber tests\n    run'
2025-11-05 14:24:48,457 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Ezra Bible App test suite', 'on': {'push': None}, 'jobs': {'e2e-test': {'name': 'Run Cucumber tests', 'runs-on': 'ubuntu-20.04', 'timeout-minutes': 10, 'env': {'JOBS_MAX': 'MAX'}, 'steps': [{'uses': 'actions/checkout@v2'}, {'uses': 'actions/setup-node@v2', 'with': {'node-version': '14'}}, {'name': 'Install dependencies and build native modules', 'run': 'sudo apt update && sudo apt install -y libcurl4-gnutls-dev xvfb\nnpm install\n'}, {'name': 'Compile templates', 'run': 'npm run compile-pug'}, {'name': 'Run test with retry', 'uses': 'nick-fields/retry@v2', 'with': {'timeout_minutes': 5, 'max_attempts': 2, 'command': 'npm run headless-test'}}, {'name': 'Archive screenshot (in case of an error)', 'uses': 'actions/upload-artifact@v2', 'if': 'failure()', 'with': {'name': 'screenshot.png', 'path': './test_screenshot.png'}}]}}}
2025-11-05 14:24:48,458 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_baseline_repaired.yml
2025-11-05 14:24:48,458 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:24:48,458 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_baseline_repaired.yml
2025-11-05 14:24:48,458 - __main__ - INFO - === 파일 7/100 베이스라인 복구 완료 ===
2025-11-05 14:24:48,458 - __main__ - INFO - ✅ 성공 (11.64초): 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0 -> 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_baseline_repaired.yml
2025-11-05 14:24:48,458 - __main__ - INFO - [8/100] 처리 중: 0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 14:24:48,458 - __main__ - INFO - 입력 파일 경로: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 14:24:48,458 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_baseline_repaired.yml
2025-11-05 14:24:48,459 - __main__ - INFO - === 파일 8/100 베이스라인 복구 시작 ===
2025-11-05 14:24:48,459 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:24:48,459 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:24:48,459 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 14:24:48,459 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:24:48,459 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:24:48,460 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 14:24:48,485 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:24:48,485 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:24:48,485 - main - INFO - actionlint에서 5개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:24:48,485 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:24:48,485 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Docker - v2

on:
  push:
    paths:
    - .github/workflows/v2.yaml
    - '2.2/**'
    - '2.3/**'

env:
  AWS_REGION: us-east-1
  ECR_REPO: public.ecr.aws/u0u1j5s3/composer

jobs:
  build:
    name: Build v2.2
    runs-on: ubuntu-latest
    timeout-minutes: 20
    defaults:
      run:
        working-directory: '2.2'
    steps:
    - uses: actions/checkout@v3
    - name: Build
      run: |
        docker build \
        --pull \
        --no-cache \
        --tag composer/composer:latest \
        --tag composer/composer:2 \
        --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') \
        .
    - name: Login to Docker Hub
      if: github.ref == 'refs/heads/main'
      uses: docker/login-action@v1
      with:
        username: ${{ secrets.DOCKERHUB_USERNAME }}
        password: ${{ secrets.DOCKERHUB_PASSWORD }}
    - name: Push tag(s) to Docker Hub
      if: github.ref == 'refs/heads/main'
      run: |
        docker push composer/composer:latest
        docker push composer/composer:2
        docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
    - name: Login to Amazon Public ECR
      if: github.ref == 'refs/heads/main'
      uses: docker/login-action@v1
      with:
        registry: public.ecr.aws
        username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
        password: ${{ secrets.AWS_ECR_SECRET_KEY }}
    - name: Push tag(s) to Amazon Public ECR
      if: github.ref == 'refs/heads/main'
      run: |
        docker tag composer/composer:latest $ECR_REPO:latest
        docker tag composer/composer:2 $ECR_REPO:2
        docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
        docker push $ECR_REPO:latest
        docker push $ECR_REPO:2
        docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')

    name: Build v2.3 RC
    runs-on: ubuntu-latest
    timeout-minutes: 20
    defaults:
      run:
        working-directory: '2.3'
    steps:
    - uses: actions/checkout@v3
    - name: Build
      run: |
        docker build \
        --pull \
        --no-cache \
        --tag composer/composer:latest \
        --tag composer/composer:2 \
        --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') \
        .
    - name: Login to Docker Hub
      if: github.ref == 'refs/heads/main'
      uses: docker/login-action@v1
      with:
        username: ${{ secrets.DOCKERHUB_USERNAME }}
        password: ${{ secrets.DOCKERHUB_PASSWORD }}
    - name: Push tag(s) to Docker Hub
      if: github.ref == 'refs/heads/main'
      run: |
        docker push composer/composer:latest
        docker push composer/composer:2
        docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
    - name: Login to Amazon Public ECR
      if: github.ref == 'refs/heads/main'
      uses: docker/login-action@v1
      with:
        registry: public.ecr.aws
        username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
        password: ${{ secrets.AWS_ECR_SECRET_KEY }}
    - name: Push tag(s) to Amazon Public ECR
      if: github.ref == 'refs/heads/main'
      run: |
        docker tag composer/composer:latest $ECR_REPO:latest
        docker tag composer/composer:2 $ECR_REPO:2
        docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
        docker push $ECR_REPO:latest
        docker push $ECR_REPO:2
        docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')

while constructing a mapping
  in "<file>", line 16, column 5
found duplicate key "name" with value "Build v2.3 RC" (original value: "Build v2.2")
  in "<file>", line 62, column 5

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 16)
	- 8. Use commit hash instead of tags for action versions (line 34)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
6:5: wrong indentation: expected 6 but found 4 (indentation)
23:5: wrong indentation: expected 6 but found 4 (indentation)
62:5: duplication of key "name" in mapping (key-duplicates)
63:5: duplication of key "runs-on" in mapping (key-duplicates)
64:5: duplication of key "timeout-minutes" in mapping (key-duplicates)
65:5: duplication of key "defaults" in mapping (key-duplicates)
68:5: duplication of key "steps" in mapping (key-duplicates)
69:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 157
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Docker - v2
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 5: paths:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 6: - .github/workflows/v2.yaml
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 7: - '2.2/**'
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 8: - '2.3/**'
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 10: env:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 11: AWS_REGION: us-east-1
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 12: ECR_REPO: public.ecr.aws/u0u1j5s3/composer
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 14: jobs:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 15: build:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 16: name: Build v2.2
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 18: timeout-minutes: 20
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 19: defaults:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 20: run:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 21: working-directory: '2.2'
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 22: steps:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 23: - uses: actions/checkout@v3
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 24: - name: Build
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 25: run: |
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 26: docker build \
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 27: --pull \
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 28: --no-cache \
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 29: --tag composer/composer:latest \
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 30: --tag composer/composer:2 \
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 31: --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') \
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 32: .
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 33: - name: Login to Docker Hub
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 34: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 35: uses: docker/login-action@v1
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 36: with:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 37: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 38: password: ${{ secrets.DOCKERHUB_PASSWORD }}
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 39: - name: Push tag(s) to Docker Hub
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 40: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 41: run: |
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 42: docker push composer/composer:latest
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 43: docker push composer/composer:2
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 44: docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 45: - name: Login to Amazon Public ECR
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 46: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 47: uses: docker/login-action@v1
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 49: registry: public.ecr.aws
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 50: username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 51: password: ${{ secrets.AWS_ECR_SECRET_KEY }}
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 52: - name: Push tag(s) to Amazon Public ECR
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 53: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 54: run: |
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 55: docker tag composer/composer:latest $ECR_REPO:latest
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 56: docker tag composer/composer:2 $ECR_REPO:2
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 57: docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 58: docker push $ECR_REPO:latest
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 59: docker push $ECR_REPO:2
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 60: docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 62: name: Build v2.3 RC
2025-11-05 14:24:48,945 - utils.process_runner - DEBUG - 라인 63: runs-on: ubuntu-latest
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 64: timeout-minutes: 20
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 65: defaults:
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 66: run:
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 67: working-directory: '2.3'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 68: steps:
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 69: - uses: actions/checkout@v3
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 70: - name: Build
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 71: run: |
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 72: docker build \
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 73: --pull \
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 74: --no-cache \
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 75: --tag composer/composer:latest \
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 76: --tag composer/composer:2 \
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 77: --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') \
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 78: .
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 79: - name: Login to Docker Hub
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 80: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 81: uses: docker/login-action@v1
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 82: with:
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 83: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 84: password: ${{ secrets.DOCKERHUB_PASSWORD }}
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 85: - name: Push tag(s) to Docker Hub
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 86: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 87: run: |
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 88: docker push composer/composer:latest
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 89: docker push composer/composer:2
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 90: docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 91: - name: Login to Amazon Public ECR
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 92: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 93: uses: docker/login-action@v1
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 94: with:
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 95: registry: public.ecr.aws
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 96: username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 97: password: ${{ secrets.AWS_ECR_SECRET_KEY }}
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 98: - name: Push tag(s) to Amazon Public ECR
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 99: if: github.ref == 'refs/heads/main'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 100: run: |
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 101: docker tag composer/composer:latest $ECR_REPO:latest
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 102: docker tag composer/composer:2 $ECR_REPO:2
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 103: docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 104: docker push $ECR_REPO:latest
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 105: docker push $ECR_REPO:2
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 106: docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 108: while constructing a mapping
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 109: in "<file>", line 16, column 5
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 110: found duplicate key "name" with value "Build v2.3 RC" (original value: "Build v2.2")
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 111: in "<file>", line 62, column 5
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 113: To suppress this check see:
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 114: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 116: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 118: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 119: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 120: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 122: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 123: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 124: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 125: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 126: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 127: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 128: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 129: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 130: We have found 17 smells
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 131: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 132: - 8. Use commit hash instead of tags for action versions (line 34)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 34)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 133: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 134: - 12. Avoid workflows without comments
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 135: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 136: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 137: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 138: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 라인 139: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:24:48,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 140: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 141: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 142: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 143: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 144: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 145: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 146: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 147: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 148: The following styling errors were found:
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 149: 6:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 150: 23:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 151: 62:5: duplication of key "name" in mapping (key-duplicates)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 152: 63:5: duplication of key "runs-on" in mapping (key-duplicates)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 153: 64:5: duplication of key "timeout-minutes" in mapping (key-duplicates)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 154: 65:5: duplication of key "defaults" in mapping (key-duplicates)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 155: 68:5: duplication of key "steps" in mapping (key-duplicates)
2025-11-05 14:24:48,947 - utils.process_runner - DEBUG - 라인 156: 69:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:24:48,947 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:24:48,947 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:24:48,947 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:24:48,947 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:24:48,947 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:24:48,947 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:24:48,947 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Docker - v2

on:
  push:
    paths:
    - .github/workflows/v2.yaml
    - '2.2/**'
    - '2.3/**'

env:
  AWS_REGION: us-east-1
  ECR_REPO: public.ecr.aws/u0u1j5s3/composer

jobs:
  build:
    name: Build v2.2
    runs-on: ubuntu-latest
    timeout-minutes: 20
    defaults:
      run:
        working-directory: '2.2'
    steps:
    - uses: actions/checkout@v3
    - name: Build
      run: |
        ...
2025-11-05 14:24:48,947 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:24:48,947 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:24:48,947 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:24:48,948 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:25:30,087 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:25:30,090 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:25:30,091 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:25:30,092 - main - DEBUG - 추출된 YAML:
name: Docker - v2

on:
  push:
    paths:
      - .github/workflows/v2.yaml
      - '2.2/**'
      - '2.3/**'

env:
  AWS_REGION: us-east-1
  ECR_REPO: public.ecr.aws/u0u1j5s3/composer

jobs:
  build-v22:
    name: Build v2.2
    runs-on: ubuntu-latest
    timeout-minutes: 20
    steps:
      - uses: actions/checkout@v3
      - name: Build
        run: |
          docker build \
          --pull \
          --no-cache \
          --tag composer/composer:latest \
          --tag composer/composer:2 \
          --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') \
          .
      - name: Login to Docker Hub
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}
      - name: Push tag(s) to Docker Hub
        if: github.ref == 'refs/heads/main'
        run: |
          docker push composer/composer:latest
          docker push composer/composer:2
          docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
      - name: Login to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          registry: public.ecr.aws
          username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
          password: ${{ secrets.AWS_ECR_SECRET_KEY }}
      - name: Push tag(s) to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        run: |
          docker tag composer/composer:latest $ECR_REPO:latest
          docker tag composer/composer:2 $ECR_REPO:2
          docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
          docker push $ECR_REPO:latest
          docker push $ECR_REPO:2
          docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')

  build-v23-rc:
    name: Build v2.3 RC
    runs-on: ubuntu-latest
    timeout-minutes: 20
    steps:
      - uses: actions/checkout@v3
      - name: Build
        run: |
          docker build \
          --pull \
          --no-cache \
          --tag composer/composer:latest \
          --tag composer/composer:2 \
          --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') \
          .
      - name: Login to Docker Hub
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}
      - name: Push tag(s) to Docker Hub
        if: github.ref == 'refs/heads/main'
        run: |
          docker push composer/composer:latest
          docker push composer/composer:2
          docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
      - name: Login to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          registry: public.ecr.aws
          username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
          password: ${{ secrets.AWS_ECR_SECRET_KEY }}
      - name: Push tag(s) to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        run: |
          docker tag composer/composer:latest $ECR_REPO:latest
          docker tag composer/composer:2 $ECR_REPO:2
          docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
          docker push $ECR_REPO:latest
          docker push $ECR_REPO:2
          docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 14:25:30,092 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:25:30,092 - main - DEBUG - 검증할 YAML 길이: 4010 문자
2025-11-05 14:25:30,092 - main - DEBUG - YAML 시작 부분: "name: Docker - v2\n\non:\n  push:\n    paths:\n      - .github/workflows/v2.yaml\n      - '2.2/**'\n      -"
2025-11-05 14:25:30,104 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Docker - v2', 'on': {'push': {'paths': ['.github/workflows/v2.yaml', '2.2/**', '2.3/**']}}, 'env': {'AWS_REGION': 'us-east-1', 'ECR_REPO': 'public.ecr.aws/u0u1j5s3/composer'}, 'jobs': {'build-v22': {'name': 'Build v2.2', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 20, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Build', 'run': "docker build \\\n--pull \\\n--no-cache \\\n--tag composer/composer:latest \\\n--tag composer/composer:2 \\\n--tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\\d]+' Dockerfile | grep -oE '2.2.[\\d]+') \\\n.\n"}, {'name': 'Login to Docker Hub', 'if': "github.ref == 'refs/heads/main'", 'uses': 'docker/login-action@v1', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_PASSWORD }}'}}, {'name': 'Push tag(s) to Docker Hub', 'if': "github.ref == 'refs/heads/main'", 'run': "docker push composer/composer:latest\ndocker push composer/composer:2\ndocker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\\d]+' Dockerfile | grep -oE '2.2.[\\d]+')\n"}, {'name': 'Login to Amazon Public ECR', 'if': "github.ref == 'refs/heads/main'", 'uses': 'docker/login-action@v1', 'with': {'registry': 'public.ecr.aws', 'username': '${{ secrets.AWS_ECR_ACCESS_KEY }}', 'password': '${{ secrets.AWS_ECR_SECRET_KEY }}'}}, {'name': 'Push tag(s) to Amazon Public ECR', 'if': "github.ref == 'refs/heads/main'", 'run': "docker tag composer/composer:latest $ECR_REPO:latest\ndocker tag composer/composer:2 $ECR_REPO:2\ndocker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\\d]+' Dockerfile | grep -oE '2.2.[\\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\\d]+' Dockerfile | grep -oE '2.2.[\\d]+')\ndocker push $ECR_REPO:latest\ndocker push $ECR_REPO:2\ndocker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\\d]+' Dockerfile | grep -oE '2.2.[\\d]+')\n"}]}, 'build-v23-rc': {'name': 'Build v2.3 RC', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 20, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Build', 'run': "docker build \\\n--pull \\\n--no-cache \\\n--tag composer/composer:latest \\\n--tag composer/composer:2 \\\n--tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\\d]+(-RC[\\d])?' Dockerfile | grep -oE '2.3.[\\d]+(-RC[\\d])?') \\\n.\n"}, {'name': 'Login to Docker Hub', 'if': "github.ref == 'refs/heads/main'", 'uses': 'docker/login-action@v1', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_PASSWORD }}'}}, {'name': 'Push tag(s) to Docker Hub', 'if': "github.ref == 'refs/heads/main'", 'run': "docker push composer/composer:latest\ndocker push composer/composer:2\ndocker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\\d]+(-RC[\\d])?' Dockerfile | grep -oE '2.3.[\\d]+(-RC[\\d])?')\n"}, {'name': 'Login to Amazon Public ECR', 'if': "github.ref == 'refs/heads/main'", 'uses': 'docker/login-action@v1', 'with': {'registry': 'public.ecr.aws', 'username': '${{ secrets.AWS_ECR_ACCESS_KEY }}', 'password': '${{ secrets.AWS_ECR_SECRET_KEY }}'}}, {'name': 'Push tag(s) to Amazon Public ECR', 'if': "github.ref == 'refs/heads/main'", 'run': "docker tag composer/composer:latest $ECR_REPO:latest\ndocker tag composer/composer:2 $ECR_REPO:2\ndocker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\\d]+(-RC[\\d])?' Dockerfile | grep -oE '2.3.[\\d]+(-RC[\\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\\d]+(-RC[\\d])?' Dockerfile | grep -oE '2.3.[\\d]+(-RC[\\d])?')\ndocker push $ECR_REPO:latest\ndocker push $ECR_REPO:2\ndocker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\\d]+(-RC[\\d])?' Dockerfile | grep -oE '2.3.[\\d]+(-RC[\\d])?')"}]}}}
2025-11-05 14:25:30,104 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_baseline_repaired.yml
2025-11-05 14:25:30,104 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:25:30,104 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_baseline_repaired.yml
2025-11-05 14:25:30,105 - __main__ - INFO - === 파일 8/100 베이스라인 복구 완료 ===
2025-11-05 14:25:30,105 - __main__ - INFO - ✅ 성공 (41.65초): 0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b -> 0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_baseline_repaired.yml
2025-11-05 14:25:30,105 - __main__ - INFO - [9/100] 처리 중: fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 14:25:30,105 - __main__ - INFO - 입력 파일 경로: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 14:25:30,105 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_baseline_repaired.yml
2025-11-05 14:25:30,105 - __main__ - INFO - === 파일 9/100 베이스라인 복구 시작 ===
2025-11-05 14:25:30,105 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:25:30,105 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:25:30,105 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 14:25:30,105 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:25:30,106 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:25:30,106 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 14:25:30,138 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:25:30,138 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:25:30,138 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:25:30,138 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:25:30,138 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.53초)
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Updater

on:
  schedule:
  - cron: '0 2 * * *'
  workflow_dispatch: {}

jobs:
  generate_matrix:
    runs-on: ubuntu-20.04
    outputs:
      matrix: ${{ steps.gen_matrix.outputs.matrix }}
    steps:
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Install nix
      uses: cachix/install-nix-action@v16
      with:
        extra_nix_config: |
          auto-optimise-store = true
          access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
          experimental-features = nix-command flakes
          substituters = https://cache.nixos.org/ https://nix-community.cachix.org
          trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
        install_url: https://releases.nixos.org/nix/nix-2.7.0/install
    - id: gen_matrix
      run: |
        matrix=$(nix flake show --json | jq -c '.packages."x86_64-linux" | keys')
        printf "%s" "$matrix" | jq
        printf "::set-output name=matrix::%s" "$matrix"

  verify_matrix:
    runs-on: ubuntu-20.04
    needs: generate_matrix
    steps:
    - name: Install json2yaml
      run: sudo npm install -g json2yaml
    - name: Print matrix definition
      run: |
        matrix='${{ needs.generate_matrix.outputs.matrix }}'
        printf "%s" "$matrix" | jq
        printf "%s" "$matrix" | json2yaml
    
  update_flake:
    runs-on: ubuntu-20.04
    steps:
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Install nix
      uses: cachix/install-nix-action@v16
      with:
        extra_nix_config: |
          auto-optimise-store = true
          access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
          experimental-features = nix-command flakes
          substituters = https://cache.nixos.org/ https://nix-community.cachix.org
          trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
        install_url: https://releases.nixos.org/nix/nix-2.7.0/install
    - name: Set up git
      run: |
        git config user.email gitbot@nobbz.dev
        git config user.name "Git Bot"
    - name: Update the flake
      run: nix flake update
    - name: Store flake.lock
      uses: actions/upload-artifact@v3
      with:
        name: flake_lock
        path: flake.lock

  build_flake:
    runs-on: ubuntu-20.04
    needs: [generate_matrix, update_flake]
    permissions: write-all
    strategy:
      fail-fast: false
      matrix:
        package: ${{fromJson(needs.generate_matrix.outputs.matrix)}}
    steps:
    - name: Prepare store folder
      run: sudo mkdir -p /nix
    - name: Free diskspace
      uses: easimon/maximize-build-space@master
      with:
        build-mount-path: /nix
        remove-dotnet: true
        remove-android: true
        remove-haskell: true
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Install nix
      uses: cachix/install-nix-action@v16
      with:
        extra_nix_config: |
          auto-optimise-store = true
          access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
          experimental-features = nix-command flakes
          substituters = https://cache.nixos.org/ https://nix-community.cachix.org
          trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
        install_url: https://releases.nixos.org/nix/nix-2.7.0/install
    - name: Set up cachix
      uses: cachix/cachix-action@v10
      with:
        name: nobbz
        signingKey: '${{ secrets.CACHIX_SIGNING_KEY }}'
    - name: Restore flake.lock
      uses: actions/download-artifact@v3
      with:
        name: flake_lock
    - name: Build everything
      run: nix build .#${{ matrix.package }}

  push_update:
    runs-on: ubuntu-20.04
    needs: [update_flake, build_flake]
    steps:
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Restore flake.lock
      uses: actions/download-artifact@v3
        with:
          name: flake_lock
    - name: Set up git
      run: |
        git config user.email gitbot@nobbz.dev
        git config user.name "Git Bot"
    - name: Create and merge PR
      run: |
        git commit -am "flake.lock: Update"
        git push -u origin updates-${{ github.run_id }}
        PR=$(gh pr create \
          --assignee NobbZ \
          --base master \
          --body "Automatic flake update on $(date -I)" \
          --fill \
          --label bot \
          --title "Auto update $(date -I)")
        gh pr merge $PR --merge --delete-branch
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

mapping values are not allowed here
  in "<file>", line 129, column 13
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 112)
	- 8. Use commit hash instead of tags for action versions (line 69)
	- 8. Use commit hash instead of tags for action versions (line 107)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
5:3: wrong indentation: expected 4 but found 2 (indentation)
14:5: wrong indentation: expected 6 but found 4 (indentation)
38:5: wrong indentation: expected 6 but found 4 (indentation)
45:1: trailing spaces (trailing-spaces)
49:5: wrong indentation: expected 6 but found 4 (indentation)
84:5: wrong indentation: expected 6 but found 4 (indentation)
123:5: wrong indentation: expected 6 but found 4 (indentation)
129:13: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 194
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Updater
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 4: schedule:
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 5: - cron: '0 2 * * *'
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 6: workflow_dispatch: {}
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 9: generate_matrix:
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-20.04
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 11: outputs:
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 12: matrix: ${{ steps.gen_matrix.outputs.matrix }}
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 14: - name: Clone repository
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 15: uses: actions/checkout@v3
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 17: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 18: - name: Install nix
2025-11-05 14:25:30,670 - utils.process_runner - DEBUG - 라인 19: uses: cachix/install-nix-action@v16
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 21: extra_nix_config: |
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 22: auto-optimise-store = true
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 23: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 24: experimental-features = nix-command flakes
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 25: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 26: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 27: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 28: - id: gen_matrix
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 29: run: |
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 30: matrix=$(nix flake show --json | jq -c '.packages."x86_64-linux" | keys')
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 31: printf "%s" "$matrix" | jq
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 32: printf "::set-output name=matrix::%s" "$matrix"
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 34: verify_matrix:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 35: runs-on: ubuntu-20.04
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 36: needs: generate_matrix
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 37: steps:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 38: - name: Install json2yaml
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 39: run: sudo npm install -g json2yaml
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 40: - name: Print matrix definition
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 41: run: |
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 42: matrix='${{ needs.generate_matrix.outputs.matrix }}'
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 43: printf "%s" "$matrix" | jq
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 44: printf "%s" "$matrix" | json2yaml
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 46: update_flake:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 47: runs-on: ubuntu-20.04
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 48: steps:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 49: - name: Clone repository
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 50: uses: actions/checkout@v3
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 51: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 52: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 53: - name: Install nix
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 54: uses: cachix/install-nix-action@v16
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 55: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 56: extra_nix_config: |
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 57: auto-optimise-store = true
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 58: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 59: experimental-features = nix-command flakes
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 60: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 61: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 62: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 63: - name: Set up git
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 64: run: |
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 65: git config user.email gitbot@nobbz.dev
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 66: git config user.name "Git Bot"
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 67: - name: Update the flake
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 68: run: nix flake update
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 69: - name: Store flake.lock
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 70: uses: actions/upload-artifact@v3
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 72: name: flake_lock
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 73: path: flake.lock
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 75: build_flake:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 76: runs-on: ubuntu-20.04
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 77: needs: [generate_matrix, update_flake]
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 78: permissions: write-all
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 79: strategy:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 80: fail-fast: false
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 81: matrix:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 82: package: ${{fromJson(needs.generate_matrix.outputs.matrix)}}
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 83: steps:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 84: - name: Prepare store folder
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 85: run: sudo mkdir -p /nix
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 86: - name: Free diskspace
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 87: uses: easimon/maximize-build-space@master
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 88: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 89: build-mount-path: /nix
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 90: remove-dotnet: true
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 91: remove-android: true
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 92: remove-haskell: true
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 93: - name: Clone repository
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 94: uses: actions/checkout@v3
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 95: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 96: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 97: - name: Install nix
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 98: uses: cachix/install-nix-action@v16
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 99: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 100: extra_nix_config: |
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 101: auto-optimise-store = true
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 102: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 103: experimental-features = nix-command flakes
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 104: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 105: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 106: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 107: - name: Set up cachix
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 108: uses: cachix/cachix-action@v10
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 109: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 110: name: nobbz
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 111: signingKey: '${{ secrets.CACHIX_SIGNING_KEY }}'
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 112: - name: Restore flake.lock
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 113: uses: actions/download-artifact@v3
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 114: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 115: name: flake_lock
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 116: - name: Build everything
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 117: run: nix build .#${{ matrix.package }}
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 119: push_update:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 120: runs-on: ubuntu-20.04
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 121: needs: [update_flake, build_flake]
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 122: steps:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 123: - name: Clone repository
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 124: uses: actions/checkout@v3
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 125: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 126: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 127: - name: Restore flake.lock
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 128: uses: actions/download-artifact@v3
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 129: with:
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 130: name: flake_lock
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 131: - name: Set up git
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 132: run: |
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 133: git config user.email gitbot@nobbz.dev
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 134: git config user.name "Git Bot"
2025-11-05 14:25:30,671 - utils.process_runner - DEBUG - 라인 135: - name: Create and merge PR
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 136: run: |
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 137: git commit -am "flake.lock: Update"
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 138: git push -u origin updates-${{ github.run_id }}
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 139: PR=$(gh pr create \
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 140: --assignee NobbZ \
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 141: --base master \
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 142: --body "Automatic flake update on $(date -I)" \
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 143: --fill \
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 144: --label bot \
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 145: --title "Auto update $(date -I)")
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 146: gh pr merge $PR --merge --delete-branch
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 147: env:
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 148: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 150: mapping values are not allowed here
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 151: in "<file>", line 129, column 13
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 152: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 153: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 154: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 155: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 156: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 157: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 158: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 159: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 160: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 161: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 162: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 163: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 164: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 165: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 166: We have found 18 smells
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 167: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 168: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 169: - 8. Use commit hash instead of tags for action versions (line 112)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 112)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 170: - 8. Use commit hash instead of tags for action versions (line 69)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 69)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 171: - 8. Use commit hash instead of tags for action versions (line 107)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 107)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 172: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 180: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 181: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 184: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 185: The following styling errors were found:
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 186: 5:3: wrong indentation: expected 4 but found 2 (indentation)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 187: 14:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 188: 38:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 189: 45:1: trailing spaces (trailing-spaces)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 190: 49:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 191: 84:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 192: 123:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 라인 193: 129:13: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:25:30,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 129:13: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:25:30,672 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:25:30,672 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:25:30,673 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:25:30,673 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:25:30,673 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:25:30,673 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:25:30,673 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Updater

on:
  schedule:
  - cron: '0 2 * * *'
  workflow_dispatch: {}

jobs:
  generate_matrix:
    runs-on: ubuntu-20.04
    outputs:
      matrix: ${{ steps.gen_matrix.outputs.matrix }}
    steps:
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Install nix
      uses: cachix/install-nix-action@v16
      with:
     ...
2025-11-05 14:25:30,673 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:25:30,673 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:25:30,673 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:25:30,674 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:26:19,382 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:26:19,385 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:26:19,385 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:26:19,386 - main - DEBUG - 추출된 YAML:
name: Updater

on:
  schedule:
    - cron: '0 2 * * *'
  workflow_dispatch: {}

jobs:
  generate_matrix:
    runs-on: ubuntu-20.04
    outputs:
      matrix: ${{ steps.gen_matrix.outputs.matrix }}
    steps:
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: Install nix
        uses: cachix/install-nix-action@v16
        with:
          extra_nix_config: |
            auto-optimise-store = true
            access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
            experimental-features = nix-command flakes
            substituters = https://cache.nixos.org/ https://nix-community.cachix.org
            trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
          install_url: https://releases.nixos.org/nix/nix-2.7.0/install
      - id: gen_matrix
        run: |
          matrix=$(nix flake show --json | jq -c '.packages."x86_64-linux" | keys')
          printf "%s" "$matrix" | jq
          printf "::set-output name=matrix::%s" "$matrix"

  verify_matrix:
    runs-on: ubuntu-20.04
    needs: generate_matrix
    steps:
      - name: Install json2yaml
        run: sudo npm install -g json2yaml
      - name: Print matrix definition
        run: |
          matrix='${{ needs.generate_matrix.outputs.matrix }}'
          printf "%s" "$matrix" | jq
          printf "%s" "$matrix" | json2yaml

  update_flake:
    runs-on: ubuntu-20.04
    steps:
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: Install nix
        uses: cachix/install-nix-action@v16
        with:
          extra_nix_config: |
            auto-optimise-store = true
            access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
            experimental-features = nix-command flakes
            substituters = https://cache.nixos.org/ https://nix-community.cachix.org
            trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
          install_url: https://releases.nixos.org/nix/nix-2.7.0/install
      - name: Set up git
        run: |
          git config user.email "gitbot@nobbz.dev"
          git config user.name "Git Bot"
      - name: Update the flake
        run: nix flake update
      - name: Store flake.lock
        uses: actions/upload-artifact@v3
        with:
          name: flake_lock
          path: flake.lock

  build_flake:
    runs-on: ubuntu-20.04
    needs: [generate_matrix, update_flake]
    permissions: write-all
    strategy:
      fail-fast: false
      matrix:
        package: ${{fromJson(needs.generate_matrix.outputs.matrix)}}
    steps:
      - name: Prepare store folder
        run: sudo mkdir -p /nix
      - name: Free diskspace
        uses: easimon/maximize-build-space@master
        with:
          build-mount-path: /nix
          remove-dotnet: true
          remove-android: true
          remove-haskell: true
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: Install nix
        uses: cachix/install-nix-action@v16
        with:
          extra_nix_config: |
            auto-optimise-store = true
            access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
            experimental-features = nix-command flakes
            substituters = https://cache.nixos.org/ https://nix-community.cachix.org
            trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
          install_url: https://releases.nixos.org/nix/nix-2.7.0/install
      - name: Set up cachix
        uses: cachix/cachix-action@v10
        with:
          name: nobbz
          signingKey: ${{ secrets.CACHIX_SIGNING_KEY }}
      - name: Restore flake.lock
        uses: actions/download-artifact@v3
        with:
          name: flake_lock
      - name: Build everything
        run: nix build .#${{ matrix.package }}

  push_update:
    runs-on: ubuntu-20.04
    needs: [update_flake, build_flake]
    steps:
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: Restore flake.lock
        uses: actions/download-artifact@v3
        with:
          name: flake_lock
      - name: Set up git
        run: |
          git config user.email "gitbot@nobbz.dev"
          git config user.name "Git Bot"
      - name: Create and merge PR
        run: |
          git commit -am "flake.lock: Update"
          git push -u origin updates-${{ github.run_id }}
          PR=$(gh pr create \
            --assignee NobbZ \
            --base master \
            --body "Automatic flake update on $(date -I)" \
            --fill \
            --label bot \
            --title "Auto update $(date -I)")
          gh pr merge $PR --merge --delete-branch
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:26:19,386 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:26:19,386 - main - DEBUG - 검증할 YAML 길이: 5197 문자
2025-11-05 14:26:19,386 - main - DEBUG - YAML 시작 부분: "name: Updater\n\non:\n  schedule:\n    - cron: '0 2 * * *'\n  workflow_dispatch: {}\n\njobs:\n  generate_mat"
2025-11-05 14:26:19,395 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Updater', 'on': {'schedule': [{'cron': '0 2 * * *'}], 'workflow_dispatch': {}}, 'jobs': {'generate_matrix': {'runs-on': 'ubuntu-20.04', 'outputs': {'matrix': '${{ steps.gen_matrix.outputs.matrix }}'}, 'steps': [{'name': 'Clone repository', 'uses': 'actions/checkout@v3', 'with': {'token': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Install nix', 'uses': 'cachix/install-nix-action@v16', 'with': {'extra_nix_config': 'auto-optimise-store = true\naccess-tokens = github.com=${{ secrets.GITHUB_TOKEN }}\nexperimental-features = nix-command flakes\nsubstituters = https://cache.nixos.org/ https://nix-community.cachix.org\ntrusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=\n', 'install_url': 'https://releases.nixos.org/nix/nix-2.7.0/install'}}, {'id': 'gen_matrix', 'run': 'matrix=$(nix flake show --json | jq -c \'.packages."x86_64-linux" | keys\')\nprintf "%s" "$matrix" | jq\nprintf "::set-output name=matrix::%s" "$matrix"\n'}]}, 'verify_matrix': {'runs-on': 'ubuntu-20.04', 'needs': 'generate_matrix', 'steps': [{'name': 'Install json2yaml', 'run': 'sudo npm install -g json2yaml'}, {'name': 'Print matrix definition', 'run': 'matrix=\'${{ needs.generate_matrix.outputs.matrix }}\'\nprintf "%s" "$matrix" | jq\nprintf "%s" "$matrix" | json2yaml\n'}]}, 'update_flake': {'runs-on': 'ubuntu-20.04', 'steps': [{'name': 'Clone repository', 'uses': 'actions/checkout@v3', 'with': {'token': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Install nix', 'uses': 'cachix/install-nix-action@v16', 'with': {'extra_nix_config': 'auto-optimise-store = true\naccess-tokens = github.com=${{ secrets.GITHUB_TOKEN }}\nexperimental-features = nix-command flakes\nsubstituters = https://cache.nixos.org/ https://nix-community.cachix.org\ntrusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=\n', 'install_url': 'https://releases.nixos.org/nix/nix-2.7.0/install'}}, {'name': 'Set up git', 'run': 'git config user.email "gitbot@nobbz.dev"\ngit config user.name "Git Bot"\n'}, {'name': 'Update the flake', 'run': 'nix flake update'}, {'name': 'Store flake.lock', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'flake_lock', 'path': 'flake.lock'}}]}, 'build_flake': {'runs-on': 'ubuntu-20.04', 'needs': ['generate_matrix', 'update_flake'], 'permissions': 'write-all', 'strategy': {'fail-fast': False, 'matrix': {'package': '${{fromJson(needs.generate_matrix.outputs.matrix)}}'}}, 'steps': [{'name': 'Prepare store folder', 'run': 'sudo mkdir -p /nix'}, {'name': 'Free diskspace', 'uses': 'easimon/maximize-build-space@master', 'with': {'build-mount-path': '/nix', 'remove-dotnet': True, 'remove-android': True, 'remove-haskell': True}}, {'name': 'Clone repository', 'uses': 'actions/checkout@v3', 'with': {'token': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Install nix', 'uses': 'cachix/install-nix-action@v16', 'with': {'extra_nix_config': 'auto-optimise-store = true\naccess-tokens = github.com=${{ secrets.GITHUB_TOKEN }}\nexperimental-features = nix-command flakes\nsubstituters = https://cache.nixos.org/ https://nix-community.cachix.org\ntrusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=\n', 'install_url': 'https://releases.nixos.org/nix/nix-2.7.0/install'}}, {'name': 'Set up cachix', 'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nobbz', 'signingKey': '${{ secrets.CACHIX_SIGNING_KEY }}'}}, {'name': 'Restore flake.lock', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'flake_lock'}}, {'name': 'Build everything', 'run': 'nix build .#${{ matrix.package }}'}]}, 'push_update': {'runs-on': 'ubuntu-20.04', 'needs': ['update_flake', 'build_flake'], 'steps': [{'name': 'Clone repository', 'uses': 'actions/checkout@v3', 'with': {'token': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Restore flake.lock', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'flake_lock'}}, {'name': 'Set up git', 'run': 'git config user.email "gitbot@nobbz.dev"\ngit config user.name "Git Bot"\n'}, {'name': 'Create and merge PR', 'run': 'git commit -am "flake.lock: Update"\ngit push -u origin updates-${{ github.run_id }}\nPR=$(gh pr create \\\n  --assignee NobbZ \\\n  --base master \\\n  --body "Automatic flake update on $(date -I)" \\\n  --fill \\\n  --label bot \\\n  --title "Auto update $(date -I)")\ngh pr merge $PR --merge --delete-branch\n', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}}]}}}
2025-11-05 14:26:19,395 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_baseline_repaired.yml
2025-11-05 14:26:19,395 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:26:19,395 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_baseline_repaired.yml
2025-11-05 14:26:19,395 - __main__ - INFO - === 파일 9/100 베이스라인 복구 완료 ===
2025-11-05 14:26:19,395 - __main__ - INFO - ✅ 성공 (49.29초): fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59 -> fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_baseline_repaired.yml
2025-11-05 14:26:19,395 - __main__ - INFO - [10/100] 처리 중: c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 14:26:19,395 - __main__ - INFO - 입력 파일 경로: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 14:26:19,396 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_baseline_repaired.yml
2025-11-05 14:26:19,396 - __main__ - INFO - === 파일 10/100 베이스라인 복구 시작 ===
2025-11-05 14:26:19,396 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:26:19,396 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:26:19,396 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 14:26:19,396 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:26:19,396 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:26:19,396 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 14:26:19,421 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:26:19,421 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:26:19,422 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:26:19,422 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:26:19,422 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
We have found 12 smells
	- 2. Prevent running issue/PR actions on forks line -1:59
	- 3. Use fixed version for runs-on argument (line 11)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 63)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 58)
	- 8. Use commit hash instead of tags for action versions (line 51)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 11)
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks

2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 15
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 14:26:19,935 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line -1:59
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:59
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 63)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 63)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 58)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 58)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 51)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 51)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 11: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 12: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 13: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 14:26:19,936 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:26:19,936 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:26:19,936 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:26:19,936 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:26:19,936 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:26:19,936 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:26:19,936 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: 'buildx docker images'

on:
  push:
    branches:
      - master
    tags:
      - "v*"

jobs:
  docker:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Prepare
        id: prep
        run: |
          DOCKER_IMAGE=${{ secrets.DOCKER_USERNAME }}/${GITHUB_REPOSITORY#*/}
          VERSION=nightly
          SHORTREF=nightly-${GITHUB_SHA::8...
2025-11-05 14:26:19,936 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:26:19,936 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:26:19,936 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:26:19,937 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:26:42,728 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:26:42,730 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:26:42,731 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:26:42,731 - main - DEBUG - 추출된 YAML:
name: 'buildx docker images'

on:
  push:
    branches:
      - master
    tags:
      - "v*"
  pull_request:
    branches:
      - master

jobs:
  build-and-push:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Prepare
        id: prep
        run: |
          DOCKER_IMAGE=${{ secrets.DOCKER_USERNAME }}/${GITHUB_REPOSITORY#*/}
          VERSION=nightly
          SHORTREF=nightly-${GITHUB_SHA::8}

          # If this is git tag, use the tag name as a docker tag
          if [[ $GITHUB_REF == refs/tags/* ]]; then
            VERSION=${GITHUB_REF#refs/tags/v}
          fi
          TAGS="${DOCKER_IMAGE}:${VERSION},${DOCKER_IMAGE}:${SHORTREF}"

          # If the VERSION looks like a version number, assume that
          # this is the most recent version of the image and also
          # tag it 'latest'.
          if [[ $VERSION =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]]; then
            TAGS="$TAGS,${DOCKER_IMAGE}:latest"
          fi

          # Set output parameters.ash
          echo "##[set-output name=tags;]${TAGS}"
          echo "##[set-output name=docker_image;]${DOCKER_IMAGE}"

      - name: Set up QEMU
        uses: docker/setup-qemu-action@v2
        with:
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2

      - name: Login to DockerHub
        if: github.event_name != 'pull_request'
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: ${{ github.repository }}

      - name: Build and push
        uses: docker/build-push-action@v2
        with:
          builder: ${{ steps.buildx.outputs.name }}
          context: .
          file: ./Dockerfile
          platforms: linux/amd64,linux/arm64
          push: true
          tags: ${{ steps.prep.outputs.tags }}
          build-args:
            - GIT_VERSION="v${{VERSION}}"
2025-11-05 14:26:42,731 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:26:42,731 - main - DEBUG - 검증할 YAML 길이: 2167 문자
2025-11-05 14:26:42,731 - main - DEBUG - YAML 시작 부분: 'name: \'buildx docker images\'\n\non:\n  push:\n    branches:\n      - master\n    tags:\n      - "v*"\n  pull'
2025-11-05 14:26:42,737 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'buildx docker images', 'on': {'push': {'branches': ['master'], 'tags': ['v*']}, 'pull_request': {'branches': ['master']}}, 'jobs': {'build-and-push': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v2'}, {'name': 'Prepare', 'id': 'prep', 'run': 'DOCKER_IMAGE=${{ secrets.DOCKER_USERNAME }}/${GITHUB_REPOSITORY#*/}\nVERSION=nightly\nSHORTREF=nightly-${GITHUB_SHA::8}\n\n# If this is git tag, use the tag name as a docker tag\nif [[ $GITHUB_REF == refs/tags/* ]]; then\n  VERSION=${GITHUB_REF#refs/tags/v}\nfi\nTAGS="${DOCKER_IMAGE}:${VERSION},${DOCKER_IMAGE}:${SHORTREF}"\n\n# If the VERSION looks like a version number, assume that\n# this is the most recent version of the image and also\n# tag it \'latest\'.\nif [[ $VERSION =~ ^[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}$ ]]; then\n  TAGS="$TAGS,${DOCKER_IMAGE}:latest"\nfi\n\n# Set output parameters.ash\necho "##[set-output name=tags;]${TAGS}"\necho "##[set-output name=docker_image;]${DOCKER_IMAGE}"\n'}, {'name': 'Set up QEMU', 'uses': 'docker/setup-qemu-action@v2', 'with': {'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2'}, {'name': 'Login to DockerHub', 'if': "github.event_name != 'pull_request'", 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKER_USERNAME }}', 'password': '${{ secrets.DOCKER_PASSWORD }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': '${{ github.repository }}'}}, {'name': 'Build and push', 'uses': 'docker/build-push-action@v2', 'with': {'builder': '${{ steps.buildx.outputs.name }}', 'context': '.', 'file': './Dockerfile', 'platforms': 'linux/amd64,linux/arm64', 'push': True, 'tags': '${{ steps.prep.outputs.tags }}', 'build-args': ['GIT_VERSION="v${{VERSION}}"']}}]}}}
2025-11-05 14:26:42,738 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_baseline_repaired.yml
2025-11-05 14:26:42,738 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:26:42,738 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_baseline_repaired.yml
2025-11-05 14:26:42,738 - __main__ - INFO - === 파일 10/100 베이스라인 복구 완료 ===
2025-11-05 14:26:42,738 - __main__ - INFO - ✅ 성공 (23.34초): c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38 -> c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_baseline_repaired.yml
2025-11-05 14:26:42,738 - __main__ - INFO - [11/100] 처리 중: b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 14:26:42,738 - __main__ - INFO - 입력 파일 경로: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 14:26:42,738 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_baseline_repaired.yml
2025-11-05 14:26:42,738 - __main__ - INFO - === 파일 11/100 베이스라인 복구 시작 ===
2025-11-05 14:26:42,738 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:26:42,738 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:26:42,739 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 14:26:42,739 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:26:42,739 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:26:42,739 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 14:26:42,767 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:26:42,767 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:26:42,767 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:26:42,767 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:26:42,767 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 14:26:43,275 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Android CI
on:
  push:
    paths-ignore:
     - 'README.md'
     - '.github/workflows/tests.yml'
  pull_request:
    paths-ignore:
     - 'README.md'
     - '.github/workflows/tests.yml'
  workflow_dispatch:
    inputs:
      version:
        description: dummy
        default: dummy

jobs:
  update-nightly-tag:

    name: show github event data
    run: |
      echo ${{github.event}} || echo "NO ERR"
      echo ${{github.event_path}} || echo "NO ERR"
      echo ${{github.event_name}} || echo "NO ERR"
      echo ${{github.ref}} || echo "NO ERR"
      echo ${{github.workspace}} || echo "NO ERR"
      echo ${{github.workflow}} || echo "NO ERR"

    name: Update nightly release tag
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
    permissions:
        contents: write
    steps:
      - uses: actions/checkout@v4
      - name: Move nightly tag to head for nightly release
        run: git tag -f nightly && git push origin nightly -f

  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-java@v4
      with:
        distribution: 'temurin'
        java-version: '11'


    - name: Install system packages
      run: |
          sudo apt-get update && \
          sudo DEBIAN_FRONTEND=noninteractive \
          apt-get install -y --no-install-recommends \
          zipalign \
          apksigner
    - name: Install NDK
      run: |
           echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;21.0.6113669" --sdk_root=${ANDROID_SDK_ROOT}
           echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;20.1.5948944" --sdk_root=${ANDROID_SDK_ROOT}

    - name: Change to debug ID
      run: |
        datestr=$(date '+%Y%m%d%H%M%S')
        cat android-refimpl-app/app/build.gradle | grep applicationId
        sed -i -e 's#applicationId "com.zoffcc.applications.trifa"#applicationId "com.zoffcc.applications.trifa_debug_'"$datestr"'"#' android-refimpl-app/app/build.gradle
        cat android-refimpl-app/app/build.gradle | grep applicationId
        grep -rli std_fileprovider|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.std_fileprovider#com.zoffcc.applications.trifa.std_fileprovider_debug_'"$datestr"'#'
        grep -rli "com.zoffcc.applications.trifa.ext2_provider"|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext2_provider#com.zoffcc.applications.trifa.ext2_provider_debug_'"$datestr"'#'
        grep -rli "com.zoffcc.applications.trifa.ext1_fileprovider"|grep -e '.java' -e '.xml'| xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext1_fileprovider#com.zoffcc.applications.trifa.ext1_fileprovider_debug_'"$datestr"'#'
        sed -i -e 's#android:label="TRIfA"#android:label="DEBUG TRIfA '"$datestr"'"#' android-refimpl-app/app/src/main/AndroidManifest.xml
        cat android-refimpl-app/app/src/main/AndroidManifest.xml|grep 'android:label='

    - name: show witness checksums updates
      if: ${{ github.event_name == 'pull_request' || github.event_name == 'pull_request' }}
      run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null

    - name: update witness checksums for pull requests
      if: ${{ github.event_name == 'pull_request' || github.event_name == 'pull_request' }}
      run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null| grep -v 'Checking the license for' > app/witness.gradle 2>/dev/null

    - name: show witness checksums updates for pull requests
      if: ${{ github.event_name == 'pull_request' || github.event_name == 'pull_request' }}
      run: cd android-refimpl-app ; git diff app/witness.gradle

    - name: Build with Gradle
      run: cd android-refimpl-app ; ./gradlew assemble ; find . -name '*.apk'

    - name: generate debug key
      run: keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname CN=appauth

    - name: align and sign apk
      run: |
        zipalign -p 4 /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk
        apksigner sign --ks debug.keystore --ks-pass "pass:android" --ks-key-alias androiddebugkey --out /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk --verbose /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk

    - name: upload apk
      uses: actions/upload-artifact@v4
      with:
        name: trifa
        path: /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk

    - name: Rename artifact for nightly upload
      if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
      run: |
        pwd
        cp -av /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk TRIfA-nightly.apk
    - name: Upload to nightly release
      uses: ncipollo/release-action@v1
      if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
      with:
        allowUpdates: true
        tag: nightly
        omitBodyDuringUpdate: true
        omitNameDuringUpdate: true
        prerelease: true
        replacesArtifacts: true
        token: ${{ secrets.GITHUB_TOKEN }}
        artifacts: "TRIfA-nightly.apk"


  gradle-wrapper-validation:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: gradle/wrapper-validation-action@v3


while constructing a mapping
  in "<file>", line 20, column 5
found duplicate key "name" with value "Update nightly release tag" (original value: "show github event data")
  in "<file>", line 29, column 5

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 98)
	- 8. Use commit hash instead of tags for action versions (line 34)
	- 8. Use commit hash instead of tags for action versions (line 43)
	- 8. Use commit hash instead of tags for action versions (line 109)
	- 8. Use commit hash instead of tags for action versions (line 126)
	- 8. Use commit hash instead of tags for action versions (line 44)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
5:6: wrong indentation: expected 6 but found 5 (indentation)
9:6: wrong indentation: expected 6 but found 5 (indentation)
29:5: duplication of key "name" in mapping (key-duplicates)
33:9: wrong indentation: expected 6 but found 8 (indentation)
44:5: wrong indentation: expected 6 but found 4 (indentation)
126:5: wrong indentation: expected 6 but found 4 (indentation)
128:1: too many blank lines (1 > 0) (empty-lines)

2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 181
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Android CI
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 3: push:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 4: paths-ignore:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 5: - 'README.md'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 6: - '.github/workflows/tests.yml'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 8: paths-ignore:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 9: - 'README.md'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 10: - '.github/workflows/tests.yml'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 11: workflow_dispatch:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 12: inputs:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 13: version:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 14: description: dummy
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 15: default: dummy
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 17: jobs:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 18: update-nightly-tag:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 20: name: show github event data
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 21: run: |
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 22: echo ${{github.event}} || echo "NO ERR"
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 23: echo ${{github.event_path}} || echo "NO ERR"
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 24: echo ${{github.event_name}} || echo "NO ERR"
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 25: echo ${{github.ref}} || echo "NO ERR"
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 26: echo ${{github.workspace}} || echo "NO ERR"
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 27: echo ${{github.workflow}} || echo "NO ERR"
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 29: name: Update nightly release tag
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-latest
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 31: if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 32: permissions:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 33: contents: write
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 34: steps:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 35: - uses: actions/checkout@v4
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 36: - name: Move nightly tag to head for nightly release
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 37: run: git tag -f nightly && git push origin nightly -f
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 39: build:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 40: runs-on: ubuntu-latest
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 41: permissions:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 42: contents: write
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 43: steps:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 44: - uses: actions/checkout@v4
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 45: - uses: actions/setup-java@v4
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 46: with:
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 47: distribution: 'temurin'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 48: java-version: '11'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 51: - name: Install system packages
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 52: run: |
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 53: sudo apt-get update && \
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 54: sudo DEBIAN_FRONTEND=noninteractive \
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 55: apt-get install -y --no-install-recommends \
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 56: zipalign \
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 57: apksigner
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 58: - name: Install NDK
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 59: run: |
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 60: echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;21.0.6113669" --sdk_root=${ANDROID_SDK_ROOT}
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 61: echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;20.1.5948944" --sdk_root=${ANDROID_SDK_ROOT}
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 63: - name: Change to debug ID
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 64: run: |
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 65: datestr=$(date '+%Y%m%d%H%M%S')
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 66: cat android-refimpl-app/app/build.gradle | grep applicationId
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 67: sed -i -e 's#applicationId "com.zoffcc.applications.trifa"#applicationId "com.zoffcc.applications.trifa_debug_'"$datestr"'"#' android-refimpl-app/app/build.gradle
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 68: cat android-refimpl-app/app/build.gradle | grep applicationId
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 69: grep -rli std_fileprovider|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.std_fileprovider#com.zoffcc.applications.trifa.std_fileprovider_debug_'"$datestr"'#'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 70: grep -rli "com.zoffcc.applications.trifa.ext2_provider"|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext2_provider#com.zoffcc.applications.trifa.ext2_provider_debug_'"$datestr"'#'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 71: grep -rli "com.zoffcc.applications.trifa.ext1_fileprovider"|grep -e '.java' -e '.xml'| xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext1_fileprovider#com.zoffcc.applications.trifa.ext1_fileprovider_debug_'"$datestr"'#'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 72: sed -i -e 's#android:label="TRIfA"#android:label="DEBUG TRIfA '"$datestr"'"#' android-refimpl-app/app/src/main/AndroidManifest.xml
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 73: cat android-refimpl-app/app/src/main/AndroidManifest.xml|grep 'android:label='
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 75: - name: show witness checksums updates
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 76: if: ${{ github.event_name == 'pull_request' || github.event_name == 'pull_request' }}
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 77: run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 79: - name: update witness checksums for pull requests
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 80: if: ${{ github.event_name == 'pull_request' || github.event_name == 'pull_request' }}
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 81: run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null| grep -v 'Checking the license for' > app/witness.gradle 2>/dev/null
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 83: - name: show witness checksums updates for pull requests
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 84: if: ${{ github.event_name == 'pull_request' || github.event_name == 'pull_request' }}
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 85: run: cd android-refimpl-app ; git diff app/witness.gradle
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 87: - name: Build with Gradle
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 88: run: cd android-refimpl-app ; ./gradlew assemble ; find . -name '*.apk'
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 90: - name: generate debug key
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 91: run: keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname CN=appauth
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 93: - name: align and sign apk
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 94: run: |
2025-11-05 14:26:43,276 - utils.process_runner - DEBUG - 라인 95: zipalign -p 4 /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 96: apksigner sign --ks debug.keystore --ks-pass "pass:android" --ks-key-alias androiddebugkey --out /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk --verbose /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 98: - name: upload apk
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 99: uses: actions/upload-artifact@v4
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 100: with:
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 101: name: trifa
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 102: path: /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 104: - name: Rename artifact for nightly upload
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 105: if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 106: run: |
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 107: pwd
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 108: cp -av /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk TRIfA-nightly.apk
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 109: - name: Upload to nightly release
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 110: uses: ncipollo/release-action@v1
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 111: if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 112: with:
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 113: allowUpdates: true
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 114: tag: nightly
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 115: omitBodyDuringUpdate: true
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 116: omitNameDuringUpdate: true
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 117: prerelease: true
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 118: replacesArtifacts: true
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 119: token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 120: artifacts: "TRIfA-nightly.apk"
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 123: gradle-wrapper-validation:
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 124: runs-on: ubuntu-latest
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 125: steps:
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 126: - uses: actions/checkout@v4
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 127: - uses: gradle/wrapper-validation-action@v3
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 130: while constructing a mapping
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 131: in "<file>", line 20, column 5
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 132: found duplicate key "name" with value "Update nightly release tag" (original value: "show github event data")
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 133: in "<file>", line 29, column 5
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 135: To suppress this check see:
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 136: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 138: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 139: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 140: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 141: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 142: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 143: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 144: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 145: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 146: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 147: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 148: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 149: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 150: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 151: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 152: We have found 20 smells
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 153: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 154: - 8. Use commit hash instead of tags for action versions (line 98)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 98)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 155: - 8. Use commit hash instead of tags for action versions (line 34)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 34)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 156: - 8. Use commit hash instead of tags for action versions (line 43)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 43)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 157: - 8. Use commit hash instead of tags for action versions (line 109)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 109)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 158: - 8. Use commit hash instead of tags for action versions (line 126)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 126)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 159: - 8. Use commit hash instead of tags for action versions (line 44)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 44)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 160: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 161: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 162: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 163: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 164: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 165: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 166: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 167: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 168: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 169: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 170: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 171: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 172: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 173: The following styling errors were found:
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 174: 5:6: wrong indentation: expected 6 but found 5 (indentation)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 175: 9:6: wrong indentation: expected 6 but found 5 (indentation)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 176: 29:5: duplication of key "name" in mapping (key-duplicates)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 177: 33:9: wrong indentation: expected 6 but found 8 (indentation)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 178: 44:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 179: 126:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:26:43,277 - utils.process_runner - DEBUG - 라인 180: 128:1: too many blank lines (1 > 0) (empty-lines)
2025-11-05 14:26:43,277 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:26:43,277 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:26:43,278 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:26:43,278 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:26:43,278 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:26:43,278 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:26:43,278 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Android CI
on:
  push:
    paths-ignore:
     - 'README.md'
     - '.github/workflows/tests.yml'
  pull_request:
    paths-ignore:
     - 'README.md'
     - '.github/workflows/tests.yml'
  workflow_dispatch:
    inputs:
      version:
        description: dummy
        default: dummy

jobs:
  update-nightly-tag:

    name: show github event data
    run: |
      echo ${{github.event}} || echo "NO E...
2025-11-05 14:26:43,278 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:26:43,278 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:26:43,278 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:26:43,279 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:27:32,961 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:27:32,963 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:27:32,963 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:27:32,963 - main - DEBUG - 추출된 YAML:
name: Android CI

on:
  push:
    paths-ignore:
      - 'README.md'
      - '.github/workflows/tests.yml'
  pull_request:
    paths-ignore:
      - 'README.md'
      - '.github/workflows/tests.yml'
  workflow_dispatch:
    inputs:
      version:
        description: dummy
        default: dummy

jobs:
  update-nightly-tag:
    name: Update nightly release tag
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
      - name: Move nightly tag to head for nightly release
        run: |
          git tag -f nightly
          git push origin nightly -f

  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v4
      - name: Setup Java
        uses: actions/setup-java@v4
        with:
          distribution: 'temurin'
          java-version: '11'

      - name: Install system packages
        run: |
          sudo apt-get update && \
          sudo DEBIAN_FRONTEND=noninteractive \
          apt-get install -y --no-install-recommends \
          zipalign \
          apksigner

      - name: Install NDK
        run: |
          echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;21.0.6113669" --sdk_root=${ANDROID_SDK_ROOT}
          echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;20.1.5948944" --sdk_root=${ANDROID_SDK_ROOT}

      - name: Change to debug ID
        run: |
          datestr=$(date '+%Y%m%d%H%M%S')
          cat android-refimpl-app/app/build.gradle | grep applicationId
          sed -i -e 's#applicationId "com.zoffcc.applications.trifa"#applicationId "com.zoffcc.applications.trifa_debug_'"$datestr"'"#' android-refimpl-app/app/build.gradle
          cat android-refimpl-app/app/build.gradle | grep applicationId
          grep -rli std_fileprovider|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.std_fileprovider#com.zoffcc.applications.trifa.std_fileprovider_debug_'"$datestr"'#'
          grep -rli "com.zoffcc.applications.trifa.ext2_provider"|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext2_provider#com.zoffcc.applications.trifa.ext2_provider_debug_'"$datestr"'#'
          grep -rli "com.zoffcc.applications.trifa.ext1_fileprovider"|grep -e '.java' -e '.xml'| xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext1_fileprovider#com.zoffcc.applications.trifa.ext1_fileprovider_debug_'"$datestr"'#'
          sed -i -e 's#android:label="TRIfA"#android:label="DEBUG TRIfA '"$datestr"'"#' android-refimpl-app/app/src/main/AndroidManifest.xml
          cat android-refimpl-app/app/src/main/AndroidManifest.xml|grep 'android:label='

      - name: Show witness checksums updates
        if: github.event_name == 'pull_request'
        run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null

      - name: Update witness checksums for pull requests
        if: github.event_name == 'pull_request'
        run: |
          cd android-refimpl-app
          ./gradlew -q calculateChecksums 2>/dev/null | grep -v 'Checking the license for' > app/witness.gradle 2>/dev/null

      - name: Show witness checksums updates for pull requests
        if: github.event_name == 'pull_request'
        run: cd android-refimpl-app ; git diff app/witness.gradle

      - name: Build with Gradle
        run: |
          cd android-refimpl-app
          ./gradlew assemble
          find . -name '*.apk'

      - name: Generate debug key
        run: |
          keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname CN=appauth

      - name: Align and sign APK
        run: |
          zipalign -p 4 /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk
          apksigner sign --ks debug.keystore --ks-pass "pass:android" --ks-key-alias androiddebugkey --out /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk --verbose /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk

      - name: Upload APK
        uses: actions/upload-artifact@v4
        with:
          name: trifa
          path: /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk

      - name: Rename artifact for nightly upload
        if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
        run: |
          cp -av /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk TRIfA-nightly.apk

      - name: Upload to nightly release
        if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
        uses: ncipollo/release-action@v1
        with:
          allowUpdates: true
          tag: nightly
          omitBodyDuringUpdate: true
          omitNameDuringUpdate: true
          prerelease: true
          replacesArtifacts: true
          token: ${{ secrets.GITHUB_TOKEN }}
          artifacts: "TRIfA-nightly.apk"

  gradle-wrapper-validation:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Validate Gradle wrapper
        uses: gradle/wrapper-validation-action@v3
2025-11-05 14:27:32,963 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:27:32,963 - main - DEBUG - 검증할 YAML 길이: 5667 문자
2025-11-05 14:27:32,963 - main - DEBUG - YAML 시작 부분: "name: Android CI\n\non:\n  push:\n    paths-ignore:\n      - 'README.md'\n      - '.github/workflows/tests"
2025-11-05 14:27:32,971 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Android CI', 'on': {'push': {'paths-ignore': ['README.md', '.github/workflows/tests.yml']}, 'pull_request': {'paths-ignore': ['README.md', '.github/workflows/tests.yml']}, 'workflow_dispatch': {'inputs': {'version': {'description': 'dummy', 'default': 'dummy'}}}}, 'jobs': {'update-nightly-tag': {'name': 'Update nightly release tag', 'runs-on': 'ubuntu-latest', 'if': "github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'", 'permissions': {'contents': 'write'}, 'steps': [{'uses': 'actions/checkout@v4'}, {'name': 'Move nightly tag to head for nightly release', 'run': 'git tag -f nightly\ngit push origin nightly -f\n'}]}, 'build': {'runs-on': 'ubuntu-latest', 'permissions': {'contents': 'write'}, 'steps': [{'uses': 'actions/checkout@v4'}, {'name': 'Setup Java', 'uses': 'actions/setup-java@v4', 'with': {'distribution': 'temurin', 'java-version': '11'}}, {'name': 'Install system packages', 'run': 'sudo apt-get update && \\\nsudo DEBIAN_FRONTEND=noninteractive \\\napt-get install -y --no-install-recommends \\\nzipalign \\\napksigner\n'}, {'name': 'Install NDK', 'run': 'echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;21.0.6113669" --sdk_root=${ANDROID_SDK_ROOT}\necho "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;20.1.5948944" --sdk_root=${ANDROID_SDK_ROOT}\n'}, {'name': 'Change to debug ID', 'run': 'datestr=$(date \'+%Y%m%d%H%M%S\')\ncat android-refimpl-app/app/build.gradle | grep applicationId\nsed -i -e \'s#applicationId "com.zoffcc.applications.trifa"#applicationId "com.zoffcc.applications.trifa_debug_\'"$datestr"\'"#\' android-refimpl-app/app/build.gradle\ncat android-refimpl-app/app/build.gradle | grep applicationId\ngrep -rli std_fileprovider|grep -e \'.java\' -e \'.xml\'|xargs -L1 sed -i -e \'s#com.zoffcc.applications.trifa.std_fileprovider#com.zoffcc.applications.trifa.std_fileprovider_debug_\'"$datestr"\'#\'\ngrep -rli "com.zoffcc.applications.trifa.ext2_provider"|grep -e \'.java\' -e \'.xml\'|xargs -L1 sed -i -e \'s#com.zoffcc.applications.trifa.ext2_provider#com.zoffcc.applications.trifa.ext2_provider_debug_\'"$datestr"\'#\'\ngrep -rli "com.zoffcc.applications.trifa.ext1_fileprovider"|grep -e \'.java\' -e \'.xml\'| xargs -L1 sed -i -e \'s#com.zoffcc.applications.trifa.ext1_fileprovider#com.zoffcc.applications.trifa.ext1_fileprovider_debug_\'"$datestr"\'#\'\nsed -i -e \'s#android:label="TRIfA"#android:label="DEBUG TRIfA \'"$datestr"\'"#\' android-refimpl-app/app/src/main/AndroidManifest.xml\ncat android-refimpl-app/app/src/main/AndroidManifest.xml|grep \'android:label=\'\n'}, {'name': 'Show witness checksums updates', 'if': "github.event_name == 'pull_request'", 'run': 'cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null'}, {'name': 'Update witness checksums for pull requests', 'if': "github.event_name == 'pull_request'", 'run': "cd android-refimpl-app\n./gradlew -q calculateChecksums 2>/dev/null | grep -v 'Checking the license for' > app/witness.gradle 2>/dev/null\n"}, {'name': 'Show witness checksums updates for pull requests', 'if': "github.event_name == 'pull_request'", 'run': 'cd android-refimpl-app ; git diff app/witness.gradle'}, {'name': 'Build with Gradle', 'run': "cd android-refimpl-app\n./gradlew assemble\nfind . -name '*.apk'\n"}, {'name': 'Generate debug key', 'run': 'keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname CN=appauth\n'}, {'name': 'Align and sign APK', 'run': 'zipalign -p 4 /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk\napksigner sign --ks debug.keystore --ks-pass "pass:android" --ks-key-alias androiddebugkey --out /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk --verbose /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk\n'}, {'name': 'Upload APK', 'uses': 'actions/upload-artifact@v4', 'with': {'name': 'trifa', 'path': '/home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk'}}, {'name': 'Rename artifact for nightly upload', 'if': "github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'", 'run': 'cp -av /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk TRIfA-nightly.apk\n'}, {'name': 'Upload to nightly release', 'if': "github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'", 'uses': 'ncipollo/release-action@v1', 'with': {'allowUpdates': True, 'tag': 'nightly', 'omitBodyDuringUpdate': True, 'omitNameDuringUpdate': True, 'prerelease': True, 'replacesArtifacts': True, 'token': '${{ secrets.GITHUB_TOKEN }}', 'artifacts': 'TRIfA-nightly.apk'}}]}, 'gradle-wrapper-validation': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v4'}, {'name': 'Validate Gradle wrapper', 'uses': 'gradle/wrapper-validation-action@v3'}]}}}
2025-11-05 14:27:32,972 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_baseline_repaired.yml
2025-11-05 14:27:32,972 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:27:32,972 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_baseline_repaired.yml
2025-11-05 14:27:32,972 - __main__ - INFO - === 파일 11/100 베이스라인 복구 완료 ===
2025-11-05 14:27:32,972 - __main__ - INFO - ✅ 성공 (50.23초): b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071 -> b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_baseline_repaired.yml
2025-11-05 14:27:32,972 - __main__ - INFO - [12/100] 처리 중: 12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 14:27:32,972 - __main__ - INFO - 입력 파일 경로: data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 14:27:32,972 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_baseline_repaired.yml
2025-11-05 14:27:32,972 - __main__ - INFO - === 파일 12/100 베이스라인 복구 시작 ===
2025-11-05 14:27:32,973 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:27:32,973 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:27:32,973 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 14:27:32,973 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:27:32,973 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:27:32,974 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 14:27:33,001 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:27:33,001 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:27:33,001 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:27:33,001 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:27:33,002 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 14:27:33,504 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
YAML parsing error in external_actions_must_have_permissions_workflow: 'CommentedSeq' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'CommentedSeq' object has no attribute 'keys'
YAML parsing error in running_ci_when_nothing_changed: 'CommentedSeq' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: list indices must be integers or slices, not str
YAML parsing error in use_name_for_step: list indices must be integers or slices, not str
YAML parsing error in scheduled_workflows_on_forks: 'CommentedSeq' object has no attribute 'keys'
YAML parsing error in use_name_for_step: list indices must be integers or slices, not str
YAML parsing error in stop_workflows_for_old_commit: 'CommentedSeq' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: list indices must be integers or slices, not str
YAML parsing error in multi_line_steps: list indices must be integers or slices, not str
YAML parsing error in deploy_from_fork: list indices must be integers or slices, not str
YAML parsing error in run_multiple_versions: list indices must be integers or slices, not str
YAML parsing error in installing_packages_without_version: list indices must be integers or slices, not str
YAML parsing error in use_cache_from_setup: list indices must be integers or slices, not str
We have found 14 smells
	- 12. Avoid workflows without comments
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in running_ci_when_nothing_changed)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)

2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 31
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in external_actions_must_have_permissions_workflow: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in pull_based_actions_on_fork: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 4: YAML parsing error in running_ci_when_nothing_changed: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in running_ci_when_nothing_changed: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 5: YAML parsing error in action_should_have_timeout: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 6: YAML parsing error in use_name_for_step: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in scheduled_workflows_on_forks: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in use_name_for_step: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in stop_workflows_for_old_commit: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'CommentedSeq' object has no attribute 'keys'
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 10: YAML parsing error in upload_artifact_must_have_if: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 11: YAML parsing error in multi_line_steps: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 12: YAML parsing error in deploy_from_fork: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 13: YAML parsing error in run_multiple_versions: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 14: YAML parsing error in installing_packages_without_version: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 15: YAML parsing error in use_cache_from_setup: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: list indices must be integers or slices, not str
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 16: We have found 14 smells
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 17: - 12. Avoid workflows without comments
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 18: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 19: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 20: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 21: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 22: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 24: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 25: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 26: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 28: - 23. Avoid incorrectly unparsable workflows (error in running_ci_when_nothing_changed)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in running_ci_when_nothing_changed)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 29: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 라인 30: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:27:33,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:27:33,505 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:27:33,505 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 13개 발견됨
2025-11-05 14:27:33,505 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:27:33,505 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:27:33,505 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:27:33,506 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:27:33,506 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
- name: Trigger Jenkins Job
  uses: appleboy/jenkins-action@master
  with:
    url: "http://ec2-18-181-186-207.ap-northeast-1.compute.amazonaws.com/"
    user: "illasoft"
    token: ${{ secrets.JENKINS_API_TOKEN }}
    job: "illa-builder-test"

```

**Issues Found:**

**Syntax Errors (actionlint):**
1. workflow is sequence node but mapping node is expected
2. "on" section is missing in workflow
3. "jobs"...
2025-11-05 14:27:33,506 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:27:33,506 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:27:33,506 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:27:33,507 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:27:41,048 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1376
2025-11-05 14:27:41,049 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:27:41,049 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:27:41,050 - main - DEBUG - 추출된 YAML:
name: Trigger Jenkins Job

on:
  push:
    branches: [ main ]

jobs:
  trigger-jenkins-job:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Jenkins Job
        uses: appleboy/jenkins-action@v1
        with:
          url: "http://ec2-18-181-186-207.ap-northeast-1.compute.amazonaws.com/"
          user: "illasoft"
          token: ${{ secrets.JENKINS_API_TOKEN }}
          job: "illa-builder-test"
2025-11-05 14:27:41,050 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:27:41,050 - main - DEBUG - 검증할 YAML 길이: 411 문자
2025-11-05 14:27:41,050 - main - DEBUG - YAML 시작 부분: 'name: Trigger Jenkins Job\n\non:\n  push:\n    branches: [ main ]\n\njobs:\n  trigger-jenkins-job:\n    runs'
2025-11-05 14:27:41,053 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Trigger Jenkins Job', 'on': {'push': {'branches': ['main']}}, 'jobs': {'trigger-jenkins-job': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Trigger Jenkins Job', 'uses': 'appleboy/jenkins-action@v1', 'with': {'url': 'http://ec2-18-181-186-207.ap-northeast-1.compute.amazonaws.com/', 'user': 'illasoft', 'token': '${{ secrets.JENKINS_API_TOKEN }}', 'job': 'illa-builder-test'}}]}}}
2025-11-05 14:27:41,054 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_baseline_repaired.yml
2025-11-05 14:27:41,054 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:27:41,054 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_baseline_repaired.yml
2025-11-05 14:27:41,054 - __main__ - INFO - === 파일 12/100 베이스라인 복구 완료 ===
2025-11-05 14:27:41,054 - __main__ - INFO - ✅ 성공 (8.08초): 12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11 -> 12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_baseline_repaired.yml
2025-11-05 14:27:41,055 - __main__ - INFO - [13/100] 처리 중: 6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:27:41,055 - __main__ - INFO - 입력 파일 경로: data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:27:41,055 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_baseline_repaired.yml
2025-11-05 14:27:41,055 - __main__ - INFO - === 파일 13/100 베이스라인 복구 시작 ===
2025-11-05 14:27:41,055 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:27:41,055 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:27:41,056 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:27:41,056 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:27:41,056 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:27:41,057 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:27:41,070 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:27:41,070 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:27:41,071 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:27:41,071 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:27:41,071 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 24 smells
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 197)
	- 6. Define permissions for workflows with external actions (job at line: 78)
	- 6. Define permissions for workflows with external actions (job at line: 164)
	- 6. Define permissions for workflows with external actions (job at line: 121)
	- 6. Define permissions for workflows with external actions (job at line: 237)
	- 6. Define permissions for workflows with external actions (job at line: 13)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 78)
	- 10. Avoid jobs without timeouts (line: 13)
	- 10. Avoid jobs without timeouts (line: 237)
	- 10. Avoid jobs without timeouts (line: 164)
	- 10. Avoid jobs without timeouts (line: 197)
	- 10. Avoid jobs without timeouts (line: 121)
	- 13. Use names for run steps (lines 19:19)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: unit-tests)
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
17:24: too many spaces inside brackets (brackets)
17:29: too many spaces inside brackets (brackets)
84:24: too many spaces inside brackets (brackets)
84:29: too many spaces inside brackets (brackets)
85:28: too many spaces inside brackets (brackets)
85:34: too many spaces inside brackets (brackets)
127:24: too many spaces inside brackets (brackets)
127:29: too many spaces inside brackets (brackets)
128:25: too many spaces inside brackets (brackets)
128:29: too many spaces inside brackets (brackets)
170:24: too many spaces inside brackets (brackets)
170:29: too many spaces inside brackets (brackets)
203:24: too many spaces inside brackets (brackets)
203:29: too many spaces inside brackets (brackets)
204:25: too many spaces inside brackets (brackets)
204:29: too many spaces inside brackets (brackets)

2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 45
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:27:41,518 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 3: We have found 24 smells
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 24 smells
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 197)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 197)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 78)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 78)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 164)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 164)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 121)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 121)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 237)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 237)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 10: - 6. Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 14: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 78)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 78)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 13)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 13)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 17: - 10. Avoid jobs without timeouts (line: 237)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 237)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 18: - 10. Avoid jobs without timeouts (line: 164)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 164)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 19: - 10. Avoid jobs without timeouts (line: 197)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 197)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 20: - 10. Avoid jobs without timeouts (line: 121)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 121)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 21: - 13. Use names for run steps (lines 19:19)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 19:19)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 22: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 23: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 24: - 19. Run tests on multiple OS's (job: unit-tests)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: unit-tests)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 25: - 21. Use cache parameter instead of cache option
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 26: - 22. Avoid deploying jobs on forks
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 28: The following styling errors were found:
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 29: 17:24: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 30: 17:29: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 31: 84:24: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 32: 84:29: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 33: 85:28: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 34: 85:34: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 35: 127:24: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 36: 127:29: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 37: 128:25: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 38: 128:29: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 39: 170:24: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 40: 170:29: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 41: 203:24: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 42: 203:29: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 43: 204:25: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - DEBUG - 라인 44: 204:29: too many spaces inside brackets (brackets)
2025-11-05 14:27:41,519 - utils.process_runner - INFO - 총 8개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:27:41,519 - utils.process_runner - INFO - Smell detector 실행 완료: 8개 스멜 발견
2025-11-05 14:27:41,519 - main - INFO - Smell detector에서 8개 스멜 발견
2025-11-05 14:27:41,519 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:27:41,520 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:27:41,520 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: CI

on:
  workflow_dispatch:
  push:
    # don't change that since we run tests on our own server
    branches:
      - master
      - develop

jobs:

  unit-tests:
    runs-on: self-hosted
    strategy:
      matrix:
        node-version: [ 14.x ]
    steps:
      - uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v1
        with:
    ...
2025-11-05 14:27:41,520 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:27:41,520 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:27:41,520 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:27:41,521 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:28:55,327 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:28:55,330 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:28:55,330 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:28:55,331 - main - DEBUG - 추출된 YAML:
name: CI

on:
  workflow_dispatch:
  push:
    branches:
      - master
      - develop

jobs:

  unit-tests:
    runs-on: self-hosted
    strategy:
      matrix:
        node-version: [ 14.x ]
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v1
        with:
          node-version: ${{ matrix.node-version }}
      - name: Cache node_modules
        uses: actions/cache@v1
        with:
          path: "**/node_modules"
          key: ${{ runner.os }}-all-node_modules-${{ hashFiles('**/package-lock.json') }}
      - name: npm install
        run: npm install
      - name: Lerna bootstrap
        run: |
          npm run bootstrap -- \
            --ignore @deepkit/mongo \
            --ignore @deepkit/example-app \
            --ignore @deepkit/fs \
            --ignore @deepkit/framework-examples \
            --ignore @deepkit/benchmark \
            --ignore @deepkit/mysql --ignore @deepkit/postgres
      - name: Build
        run: |
          ./node_modules/.bin/tsc --build \
            packages/angular-universal/tsconfig.json \
            packages/broker/tsconfig.json \
            packages/bson/tsconfig.json \
            packages/core/tsconfig.json \
            packages/core-rxjs/tsconfig.json \
            packages/crypto/tsconfig.json \
            packages/framework/tsconfig.json \
            packages/framework-debug-shared/tsconfig.json \
            packages/framework-integration/tsconfig.json \
            packages/rpc/tsconfig.json \
            packages/orm/tsconfig.json \
            packages/sql/tsconfig.json \
            packages/sqlite/tsconfig.json \
            packages/topsort/tsconfig.json \
            packages/type/tsconfig.json \
            packages/type-angular/tsconfig.json
      - name: Test
        run: |
          npm run test \
            packages/angular-universal/ \
            packages/broker/ \
            packages/bson/ \
            packages/core/ \
            packages/core-rxjs/ \
            packages/crypto/ \
            packages/framework/ \
            packages/framework-debug-shared/ \
            packages/framework-integration/ \
            packages/rpc/ \
            packages/topsort/ \
            packages/type/ \
            packages/type-angular/
      - name: Send coverage
        run: ./node_modules/.bin/codecov -f coverage/*.json

  orm-postgres:
    needs:
      - unit-tests
    runs-on: self-hosted
    strategy:
      matrix:
        node-version: [ 14.x ]
        postgres-version: [ 10.10 ]
    services:
      postgres:
        image: postgres:${{ matrix.postgres-version }}
        env:
          POSTGRES_USER: postgres
          POSTGRES_DB: postgres
        ports:
          - "5432:5432"
        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v1
        with:
          node-version: ${{ matrix.node-version }}
      - name: Cache node_modules
        uses: actions/cache@v1
        with:
          path: "**/node_modules"
          key: ${{ runner.os }}-postgres-node_modules-${{ hashFiles('**/package-lock.json') }}
      - name: npm install
        run: npm install
      - name: Lerna bootstrap
        run: |
          npm run bootstrap -- \
            --scope @deepkit/postgres --scope @deepkit/orm --scope @deepkit/sql \
            --scope @deepkit/orm-integration --scope @deepkit/topsort \
            --scope @deepkit/type --scope @deepkit/core
      - name: Build
        run: ./node_modules/.bin/tsc --build packages/postgres/tsconfig.json
      - name: Test
        run: npm run test packages/postgres/
      - name: Send coverage
        run: ./node_modules/.bin/codecov -f coverage/*.json

  orm-mysql:
    needs:
      - unit-tests
    runs-on: self-hosted
    strategy:
      matrix:
        node-version: [ 14.x ]
        mysql-version: [ 8.0 ]
    services:
      mysql:
        image: "mysql:${{ matrix.mysql-version }}"
        options: >-
          --health-cmd "mysqladmin ping --silent"
          -e MYSQL_ALLOW_EMPTY_PASSWORD=yes
          -e MYSQL_DATABASE=default
        ports:
          - "3306:3306"
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v1
        with:
          node-version: ${{ matrix.node-version }}
      - name: Cache node_modules
        uses: actions/cache@v1
        with:
          path: "**/node_modules"
          key: ${{ runner.os }}-mysql-node_modules-${{ hashFiles('**/package-lock.json') }}
      - name: npm install
        run: npm install
      - name: Lerna bootstrap
        run: |
          npm run bootstrap -- \
            --scope @deepkit/mysql --scope @deepkit/orm --scope @deepkit/sql \
            --scope @deepkit/orm-integration --scope @deepkit/topsort \
            --scope @deepkit/type --scope @deepkit/core
      - name: Build
        run: ./node_modules/.bin/tsc --build packages/mysql/tsconfig.json
      - name: Test
        run: npm run test packages/mysql/
      - name: Send coverage
        run: ./node_modules/.bin/codecov -f coverage/*.json

  orm-sqlite:
    needs:
      - unit-tests
    runs-on: self-hosted
    strategy:
      matrix:
        node-version: [ 14.x ]
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v1
        with:
          node-version: ${{ matrix.node-version }}
      - name: Cache node_modules
        uses: actions/cache@v1
        with:
          path: "**/node_modules"
          key: ${{ runner.os }}-sqlite-node_modules-${{ hashFiles('**/package-lock.json') }}
      - name: npm install
        run: npm install
      - name: Lerna bootstrap
        run: |
          npm run bootstrap -- \
            --scope @deepkit/sqlite --scope @deepkit/orm --scope @deepkit/sql \
            --scope @deepkit/topsort --scope @deepkit/type --scope @deepkit/core
      - name: Build
        run: ./node_modules/.bin/tsc --build packages/sqlite/tsconfig.json
      - name: Test
        run: npm run test packages/sqlite/
      - name: Send coverage
        run: ./node_modules/.bin/codecov -f coverage/*.json

  orm-mongo:
    needs:
      - unit-tests
    runs-on: self-hosted
    strategy:
      matrix:
        node-version: [ 14.x ]
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v1
        with:
          node-version: ${{ matrix.node-version }}
      - name: Cache node_modules
        uses: actions/cache@v1
        with:
          path: "**/node_modules"
          key: ${{ runner.os }}-mongo-node_modules-${{ hashFiles('**/package-lock.json') }}
      - name: npm install
        run: npm install
      - name: Lerna bootstrap
        run: |
          npm run bootstrap -- \
            --scope @deepkit/mongo --scope @deepkit/orm --scope @deepkit/sql \
            --scope @deepkit/topsort --scope @deepkit/type --scope @deepkit/core
      - name: Build
        run: ./node_modules/.bin/tsc --build packages/mongo/tsconfig.json
      - name: Test
        run: npm run test packages/mongo/
      - name: Send coverage
        run: ./node_modules/.bin/codecov -f coverage/*.json

  benchmark:
    needs:
      - orm-postgres
      - orm-mysql
      - orm-sqlite
      - orm-mongo
    runs-on: self-hosted
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Use Node.js 14.x
        uses: actions/setup-node@v1
        with:
          node-version: 14.x
      - name: Cache node_modules
        uses: actions/cache@v1
        with:
          path: "**/node_modules"
          key: ${{ runner.os }}-all-node_modules-${{ hashFiles('**/package-lock.json') }}
      - name: npm install
        run: npm install
      - name: Lerna bootstrap
        run: |
          npm run bootstrap -- \
            --ignore @deepkit/example-app \
            --ignore @deepkit/fs \
            --ignore @deepkit/framework-examples
      - name: Build
        run: |
          ./node_modules/.bin/tsc --build \
            packages/broker/tsconfig.json \
            packages/bson/tsconfig.json \
            packages/core/tsconfig.json \
            packages/core-rxjs/tsconfig.json \
            packages/crypto/tsconfig.json \
            packages/framework/tsconfig.json \
            packages/framework-debug-shared/tsconfig.json \
            packages/rpc/tsconfig.json \
            packages/mongo/tsconfig.json \
            packages/sqlite/tsconfig.json \
            packages/mysql/tsconfig.json \
            packages/postgres/tsconfig.json \
            packages/orm/tsconfig.json \
            packages/sql/tsconfig.json \
            packages/topsort/tsconfig.json \
            packages/type/tsconfig.json
      - name: Benchmark setup
        run: cd packages benchmark && . setup.sh
      - name: Benchmark run
        run: cd packages benchmark && npm run benchmark

  # Added timeout to each job
  timeout-minutes: 30

  # Fixed semantic smells
  on:
    push:
      branches:
        - master
        - develop
2025-11-05 14:28:55,331 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:28:55,331 - main - DEBUG - 검증할 YAML 길이: 9423 문자
2025-11-05 14:28:55,331 - main - DEBUG - YAML 시작 부분: 'name: CI\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - master\n      - develop\n\njobs:\n\n  un'
2025-11-05 14:28:55,356 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'workflow_dispatch': None, 'push': {'branches': ['master', 'develop']}}, 'jobs': {'unit-tests': {'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x']}}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-all-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --ignore @deepkit/mongo \\\n  --ignore @deepkit/example-app \\\n  --ignore @deepkit/fs \\\n  --ignore @deepkit/framework-examples \\\n  --ignore @deepkit/benchmark \\\n  --ignore @deepkit/mysql --ignore @deepkit/postgres\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build \\\n  packages/angular-universal/tsconfig.json \\\n  packages/broker/tsconfig.json \\\n  packages/bson/tsconfig.json \\\n  packages/core/tsconfig.json \\\n  packages/core-rxjs/tsconfig.json \\\n  packages/crypto/tsconfig.json \\\n  packages/framework/tsconfig.json \\\n  packages/framework-debug-shared/tsconfig.json \\\n  packages/framework-integration/tsconfig.json \\\n  packages/rpc/tsconfig.json \\\n  packages/orm/tsconfig.json \\\n  packages/sql/tsconfig.json \\\n  packages/sqlite/tsconfig.json \\\n  packages/topsort/tsconfig.json \\\n  packages/type/tsconfig.json \\\n  packages/type-angular/tsconfig.json\n'}, {'name': 'Test', 'run': 'npm run test \\\n  packages/angular-universal/ \\\n  packages/broker/ \\\n  packages/bson/ \\\n  packages/core/ \\\n  packages/core-rxjs/ \\\n  packages/crypto/ \\\n  packages/framework/ \\\n  packages/framework-debug-shared/ \\\n  packages/framework-integration/ \\\n  packages/rpc/ \\\n  packages/topsort/ \\\n  packages/type/ \\\n  packages/type-angular/\n'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-postgres': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x'], 'postgres-version': [10.1]}}, 'services': {'postgres': {'image': 'postgres:${{ matrix.postgres-version }}', 'env': {'POSTGRES_USER': 'postgres', 'POSTGRES_DB': 'postgres'}, 'ports': ['5432:5432'], 'options': '--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5'}}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-postgres-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/postgres --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/orm-integration --scope @deepkit/topsort \\\n  --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/postgres/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/postgres/'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-mysql': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x'], 'mysql-version': [8.0]}}, 'services': {'mysql': {'image': 'mysql:${{ matrix.mysql-version }}', 'options': '--health-cmd "mysqladmin ping --silent" -e MYSQL_ALLOW_EMPTY_PASSWORD=yes -e MYSQL_DATABASE=default', 'ports': ['3306:3306']}}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-mysql-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/mysql --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/orm-integration --scope @deepkit/topsort \\\n  --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/mysql/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/mysql/'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-sqlite': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x']}}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-sqlite-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/sqlite --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/topsort --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/sqlite/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/sqlite/'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-mongo': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x']}}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-mongo-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/mongo --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/topsort --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/mongo/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/mongo/'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'benchmark': {'needs': ['orm-postgres', 'orm-mysql', 'orm-sqlite', 'orm-mongo'], 'runs-on': 'self-hosted', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js 14.x', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '14.x'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-all-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --ignore @deepkit/example-app \\\n  --ignore @deepkit/fs \\\n  --ignore @deepkit/framework-examples\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build \\\n  packages/broker/tsconfig.json \\\n  packages/bson/tsconfig.json \\\n  packages/core/tsconfig.json \\\n  packages/core-rxjs/tsconfig.json \\\n  packages/crypto/tsconfig.json \\\n  packages/framework/tsconfig.json \\\n  packages/framework-debug-shared/tsconfig.json \\\n  packages/rpc/tsconfig.json \\\n  packages/mongo/tsconfig.json \\\n  packages/sqlite/tsconfig.json \\\n  packages/mysql/tsconfig.json \\\n  packages/postgres/tsconfig.json \\\n  packages/orm/tsconfig.json \\\n  packages/sql/tsconfig.json \\\n  packages/topsort/tsconfig.json \\\n  packages/type/tsconfig.json\n'}, {'name': 'Benchmark setup', 'run': 'cd packages benchmark && . setup.sh'}, {'name': 'Benchmark run', 'run': 'cd packages benchmark && npm run benchmark'}]}, 'timeout-minutes': 30, 'on': {'push': {'branches': ['master', 'develop']}}}}
2025-11-05 14:28:55,356 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:28:55,357 - main - ERROR - 검증 오류: ["Job 'timeout-minutes' is not a valid object", "Job 'on' missing 'runs-on'", "Job 'on' missing 'steps'"]
2025-11-05 14:28:55,358 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_baseline_repaired.yml
2025-11-05 14:28:55,358 - __main__ - INFO - === 파일 13/100 베이스라인 복구 완료 ===
2025-11-05 14:28:55,358 - __main__ - ERROR - ❌ 실패 (74.30초): 6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 14:28:55,358 - __main__ - INFO - [14/100] 처리 중: 6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 14:28:55,358 - __main__ - INFO - 입력 파일 경로: data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 14:28:55,358 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_baseline_repaired.yml
2025-11-05 14:28:55,358 - __main__ - INFO - === 파일 14/100 베이스라인 복구 시작 ===
2025-11-05 14:28:55,358 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:28:55,358 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:28:55,359 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 14:28:55,359 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:28:55,359 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:28:55,359 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 14:28:55,384 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:28:55,384 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:28:55,384 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:28:55,385 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:28:55,385 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 14)
	- 6. Define permissions for workflows with external actions (job at line: 13)
	- 7. Use 'if' for upload-artifact action (line 30)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 10. Avoid jobs without timeouts (line: 13)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:26)
	- 13. Use names for run steps (lines 29:29)
	- 13. Use names for run steps (lines 20:20)
	- 13. Use names for run steps (lines -1:30)
	- 13. Use names for run steps (lines 19:19)
	- 13. Use names for run steps (lines 17:17)
	- 13. Use names for run steps (lines 18:18)
	- 22. Avoid deploying jobs on forks

2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 18
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 라인 2: We have found 15 smells
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:28:55,883 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 5: - 7. Use 'if' for upload-artifact action (line 30)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 30)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 13)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 13)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 9: - 12. Avoid workflows without comments
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:26)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:26)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines 29:29)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 29:29)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines 20:20)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 20:20)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines -1:30)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:30)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines 19:19)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 19:19)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 15: - 13. Use names for run steps (lines 17:17)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 17:17)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 16: - 13. Use names for run steps (lines 18:18)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 18:18)
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 라인 17: - 22. Avoid deploying jobs on forks
2025-11-05 14:28:55,884 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:28:55,884 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:28:55,884 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:28:55,884 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:28:55,884 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:28:55,884 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:28:55,884 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: 🍹Sponsor video generator
on:
  workflow_dispatch:
    inputs:
      companyName:
        description: "What is the name of the sponsor company?"
        required: true
        default: "Example"
      backgroundImg:
        deprecationMessage: "If you want to use custom image for background"
        required: false
jobs:
  render:
    name: Render video
    runs-on: ubuntu-latest
    steps:
      -...
2025-11-05 14:28:55,884 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:28:55,884 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:28:55,884 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:28:55,885 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:29:07,702 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 2007
2025-11-05 14:29:07,704 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:29:07,705 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:29:07,705 - main - DEBUG - 추출된 YAML:
name: 🍹Sponsor video generator
on:
  workflow_dispatch:
    inputs:
      companyName:
        description: "What is the name of the sponsor company?"
        required: true
        default: "Example"
      backgroundImg:
        description: "If you want to use custom image for background"
        required: false

jobs:
  render:
    name: Render video
    runs-on: ubuntu-latest
    steps:
      - run: sudo apt update
      - run: sudo apt install ffmpeg
      - uses: actions/checkout@main
      - uses: actions/setup-node@main
      - uses: pnpm/action-setup@v2.0.1
        name: Install pnpm
        with:
          version: 7
          run_install: true
      - run: echo $WORKFLOW_INPUT > input-props.json
        env:
          WORKFLOW_INPUT: ${{ toJson(github.event.inputs) }}
      - run: pnpm remotion render src/index.tsx Sponsor out/sponsor-${{github.event.inputs.companyName}}.mp4 --props="./input-props.json"
      - uses: actions/upload-artifact@v2
        with:
          name: sponsor-${{github.event.inputs.companyName}}
          path: out

timeout-minutes: 10 # Fix semantic smell by adding a timeout
2025-11-05 14:29:07,705 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:29:07,706 - main - DEBUG - 검증할 YAML 길이: 1125 문자
2025-11-05 14:29:07,706 - main - DEBUG - YAML 시작 부분: 'name: 🍹Sponsor video generator\non:\n  workflow_dispatch:\n    inputs:\n      companyName:\n        descr'
2025-11-05 14:29:07,714 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': '🍹Sponsor video generator', 'on': {'workflow_dispatch': {'inputs': {'companyName': {'description': 'What is the name of the sponsor company?', 'required': True, 'default': 'Example'}, 'backgroundImg': {'description': 'If you want to use custom image for background', 'required': False}}}}, 'jobs': {'render': {'name': 'Render video', 'runs-on': 'ubuntu-latest', 'steps': [{'run': 'sudo apt update'}, {'run': 'sudo apt install ffmpeg'}, {'uses': 'actions/checkout@main'}, {'uses': 'actions/setup-node@main'}, {'uses': 'pnpm/action-setup@v2.0.1', 'name': 'Install pnpm', 'with': {'version': 7, 'run_install': True}}, {'run': 'echo $WORKFLOW_INPUT > input-props.json', 'env': {'WORKFLOW_INPUT': '${{ toJson(github.event.inputs) }}'}}, {'run': 'pnpm remotion render src/index.tsx Sponsor out/sponsor-${{github.event.inputs.companyName}}.mp4 --props="./input-props.json"'}, {'uses': 'actions/upload-artifact@v2', 'with': {'name': 'sponsor-${{github.event.inputs.companyName}}', 'path': 'out'}}]}}, 'timeout-minutes': 10}
2025-11-05 14:29:07,715 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_baseline_repaired.yml
2025-11-05 14:29:07,715 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:29:07,715 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_baseline_repaired.yml
2025-11-05 14:29:07,715 - __main__ - INFO - === 파일 14/100 베이스라인 복구 완료 ===
2025-11-05 14:29:07,715 - __main__ - INFO - ✅ 성공 (12.36초): 6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea -> 6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_baseline_repaired.yml
2025-11-05 14:29:07,715 - __main__ - INFO - [15/100] 처리 중: 86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 14:29:07,715 - __main__ - INFO - 입력 파일 경로: data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 14:29:07,715 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_baseline_repaired.yml
2025-11-05 14:29:07,715 - __main__ - INFO - === 파일 15/100 베이스라인 복구 시작 ===
2025-11-05 14:29:07,715 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:29:07,716 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:29:07,716 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 14:29:07,716 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:29:07,716 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:29:07,717 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 14:29:07,751 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 14:29:07,752 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:29:07,752 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:29:07,752 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:29:07,752 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 14:29:08,218 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:29:08,218 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
We have found 27 smells
	- 3. Use fixed version for runs-on argument (line 4)
	- 6. Define permissions for workflows with external actions (job at line: 88)
	- 6. Define permissions for workflows with external actions (job at line: 4)
	- 6. Define permissions for workflows with external actions (job at line: 156)
	- 7. Use 'if' for upload-artifact action (line 148)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 141)
	- 8. Use commit hash instead of tags for action versions (line 168)
	- 8. Use commit hash instead of tags for action versions (line 46)
	- 8. Use commit hash instead of tags for action versions (line 110)
	- 8. Use commit hash instead of tags for action versions (line 94)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 58)
	- 8. Use commit hash instead of tags for action versions (line 39)
	- 8. Use commit hash instead of tags for action versions (line 147)
	- 8. Use commit hash instead of tags for action versions (line 101)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 8. Use commit hash instead of tags for action versions (line 97)
	- 8. Use commit hash instead of tags for action versions (line 163)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 88)
	- 10. Avoid jobs without timeouts (line: 156)
	- 10. Avoid jobs without timeouts (line: 4)
	- 13. Use names for run steps (lines 102:103)
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 156)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
16:5: wrong indentation: expected 6 but found 4 (indentation)
117:9: comment not indented like content (comments-indentation)
145:19: too many spaces inside braces (braces)
145:31: too many spaces inside braces (braces)
155:4: comment not indented like content (comments-indentation)
179:1: comment not indented like content (comments-indentation)

2025-11-05 14:29:08,218 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:29:08,218 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:29:08,218 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 37
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 2: We have found 27 smells
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 27 smells
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 4)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 4)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 88)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 88)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 4)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 4)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 156)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 156)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 7: - 7. Use 'if' for upload-artifact action (line 148)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 148)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 141)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 141)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 168)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 168)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 46)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 46)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 110)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 110)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 94)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 94)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 15: - 8. Use commit hash instead of tags for action versions (line 58)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 58)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 16: - 8. Use commit hash instead of tags for action versions (line 39)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 39)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 17: - 8. Use commit hash instead of tags for action versions (line 147)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 147)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 18: - 8. Use commit hash instead of tags for action versions (line 101)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 101)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 19: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 20: - 8. Use commit hash instead of tags for action versions (line 97)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 97)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 21: - 8. Use commit hash instead of tags for action versions (line 163)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 163)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 22: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 23: - 10. Avoid jobs without timeouts (line: 88)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 88)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 24: - 10. Avoid jobs without timeouts (line: 156)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 156)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 25: - 10. Avoid jobs without timeouts (line: 4)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 4)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 26: - 13. Use names for run steps (lines 102:103)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 102:103)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 27: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 28: - 15. Use permissions whenever using Github Token (job at line 156)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 156)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 29: - 22. Avoid deploying jobs on forks
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 30: The following styling errors were found:
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 31: 16:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 32: 117:9: comment not indented like content (comments-indentation)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 33: 145:19: too many spaces inside braces (braces)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 34: 145:31: too many spaces inside braces (braces)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 35: 155:4: comment not indented like content (comments-indentation)
2025-11-05 14:29:08,219 - utils.process_runner - DEBUG - 라인 36: 179:1: comment not indented like content (comments-indentation)
2025-11-05 14:29:08,219 - utils.process_runner - INFO - 총 4개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:29:08,219 - utils.process_runner - INFO - Smell detector 실행 완료: 4개 스멜 발견
2025-11-05 14:29:08,219 - main - INFO - Smell detector에서 4개 스멜 발견
2025-11-05 14:29:08,219 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:29:08,219 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:29:08,219 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: 'Build'
on: ['push', 'pull_request', 'workflow_dispatch', 'release']
jobs:
  build:
    runs-on: ubuntu-latest
    if: github.repository == 'nabeelio/phpvms'
    strategy:
      fail-fast: true
      matrix:
        php-versions: ['8.1', '8.2']
    name: PHP ${{ matrix.php-versions }}
    env:
      extensions: intl, pcov, mbstring
      key: cache-v1
    steps:
    - name: Checkout
      uses: act...
2025-11-05 14:29:08,219 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:29:08,219 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:29:08,219 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:29:08,221 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:29:58,131 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:29:58,133 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:29:58,134 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:29:58,134 - main - DEBUG - 추출된 YAML:
name: 'Build'
on:
  push:
    branches: [ main ]
  pull_request:
    types: [ opened, synchronize ]
  workflow_dispatch:
  release:
    types: [ created ]

jobs:
  build:
    runs-on: ubuntu-latest
    if: github.repository == 'nabeelio/phpvms'
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    strategy:
      fail-fast: true
      matrix:
        php-versions: ['8.1', '8.2']
    name: PHP ${{ matrix.php-versions }}
    env:
      extensions: intl, pcov, mbstring
      key: cache-v1
    steps:
    - name: Checkout
      uses: actions/checkout@v2

    # Configure Caching
    - name: Setup cache environment
      id: cache-env
      uses: shivammathur/cache-extensions@v1
      with:
        php-version: ${{ matrix.php-versions }}
        extensions: ${{ env.extensions }}
        key: ${{ env.key }}

    - name: Cache extensions
      uses: actions/cache@v1
      with:
        path: ${{ steps.cache-env.outputs.dir }}
        key: ${{ steps.cache-env.outputs.key }}
        restore-keys: ${{ steps.cache-env.outputs.key }}

    - name: Get composer cache directory
      id: composer-cache
      run: echo "::set-output name=dir::$(composer config cache-files-dir)"

    - name: Cache dependencies
      uses: actions/cache@v2
      with:
        path: ${{ steps.composer-cache.outputs.dir }}
        key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.lock') }}

    # Configure PHP
    - name: Setup PHP
      uses: shivammathur/setup-php@v2
      with:
        php-version: ${{ matrix.php-versions }}
        extensions: ${{ env.extensions }}
        ini-values: post_max_size=256M, short_open_tag=On
        coverage: xdebug
        tools: php-cs-fixer, phpunit

    - name: Shutdown Ubuntu MySQL
      run: sudo service mysql stop

    - name: Install MariaDB
      uses: getong/mariadb-action@v1.1
      with:
        character set server: 'utf8'
        collation server: 'utf8_general_ci'
        mysql database: 'phpvms'
        mysql root password: ''
        mysql user: ''
        mysql password: ''

    - name: Configure Environment
      run: |
        php --version
        mysql --version
        sleep 15
        # Downgrade composer version to 1.x
        composer install --dev --no-interaction --verbose
        cp .github/scripts/env.test .env
        cp .github/scripts/phpunit.xml phpunit.xml
        php artisan database:create --reset
        php artisan migrate:refresh --seed

    - name: Run Tests
      run: |
        export PHP_CS_FIXER_IGNORE_ENV=1
        #vendor/bin/php-cs-fixer fix --config=.php-cs-fixer.php -v --dry-run --diff --using-cache=no
        vendor/bin/phpunit --debug --verbose

  artifacts:
    name: 'Create release package'
    needs: build
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/master' || github.ref == 'refs/heads/dev' || startsWith(github.ref, 'refs/tags/')
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Setup PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: '8.1'

      - uses: olegtarasov/get-tag@v2.1
        id: tagName

      # Configure Caching
      - name: Get composer cache directory
        id: composer-cache
        run: echo "::set-output name=dir::$(composer config cache-files-dir)"

      - name: Cache dependencies
        uses: actions/cache@v2
        with:
          path: ${{ steps.composer-cache.outputs.dir }}
          key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.lock') }}
          restore-keys: ${{ runner.os }}-composer-

        # Dependencies
      - name: 'Install Release Dependencies'
        run: |
          rm -rf vendor
          composer install --no-dev --prefer-dist --no-interaction --verbose
          sudo chmod +x ./.github/scripts/*

      - name: Get version
        run: .github/scripts/version.sh

      - name: Build Distro
        run: .github/scripts/build.sh

      - name: Upload S3
        uses: shallwefootball/s3-upload-action@master
        with:
          aws_key_id: ${{ secrets.S3_BUILD_ARTIFACTS_ACCESS_KEY_ID }}
          aws_secret_access_key: ${{ secrets.S3_BUILD_ARTIFACTS_SECRET_ACCESS_KEY}}
          aws_bucket: ${{ secrets.S3_BUCKET_NAME }}
          source_dir: 'dist'
          destination_dir: ''
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # Fix semantic smell: Use permissions whenever using Github Token

      - name: Discord notification
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        uses: Ilshidur/action-discord@0.3.0
        with:
          # DISCORD_MSG is defined in versions.sh
          args: "$DISCORD_MSG"

  release:
    name: 'Create Release'
    needs: build
    runs-on: ubuntu-latest
    if: startsWith(github.ref, 'refs/tags/')
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    steps:

      - name: Download artifact from build job
        uses: actions/download-artifact@v3
        with:
          name: phpvms-package

      - name: Create Release
        uses: ncipollo/release-action@v1
        with:
          artifacts: "dist/*"
          allowUpdates: true
          generateReleaseNotes: true
          name: ${{ github.ref_name }}
          tag: ${{ github.ref_name }}
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Upload S3
        uses: shallwefootball/s3-upload-action@master
        with:
          aws_key_id: ${{ secrets.S3_BUILD_ARTIFACTS_ACCESS_KEY_ID }}
          aws_secret_access_key: ${{ secrets.S3_BUILD_ARTIFACTS_SECRET_ACCESS_KEY}}
          aws_bucket: ${{ secrets.S3_BUCKET_NAME }}
          source_dir: 'dist'
          destination_dir: ''

      - name: Discord notification
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        uses: Ilshidur/action-discord@0.3.0
        with:
          # DISCORD_MSG is defined in versions.sh
          args: "$DISCORD_MSG"
2025-11-05 14:29:58,134 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:29:58,134 - main - DEBUG - 검증할 YAML 길이: 5980 문자
2025-11-05 14:29:58,134 - main - DEBUG - YAML 시작 부분: "name: 'Build'\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    types: [ opened, synchronize ]\n"
2025-11-05 14:29:58,147 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build', 'on': {'push': {'branches': ['main']}, 'pull_request': {'types': ['opened', 'synchronize']}, 'workflow_dispatch': None, 'release': {'types': ['created']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'if': "github.repository == 'nabeelio/phpvms'", 'timeout-minutes': 10, 'strategy': {'fail-fast': True, 'matrix': {'php-versions': ['8.1', '8.2']}}, 'name': 'PHP ${{ matrix.php-versions }}', 'env': {'extensions': 'intl, pcov, mbstring', 'key': 'cache-v1'}, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v2'}, {'name': 'Setup cache environment', 'id': 'cache-env', 'uses': 'shivammathur/cache-extensions@v1', 'with': {'php-version': '${{ matrix.php-versions }}', 'extensions': '${{ env.extensions }}', 'key': '${{ env.key }}'}}, {'name': 'Cache extensions', 'uses': 'actions/cache@v1', 'with': {'path': '${{ steps.cache-env.outputs.dir }}', 'key': '${{ steps.cache-env.outputs.key }}', 'restore-keys': '${{ steps.cache-env.outputs.key }}'}}, {'name': 'Get composer cache directory', 'id': 'composer-cache', 'run': 'echo "::set-output name=dir::$(composer config cache-files-dir)"'}, {'name': 'Cache dependencies', 'uses': 'actions/cache@v2', 'with': {'path': '${{ steps.composer-cache.outputs.dir }}', 'key': "${{ runner.os }}-composer-${{ hashFiles('**/composer.lock') }}"}}, {'name': 'Setup PHP', 'uses': 'shivammathur/setup-php@v2', 'with': {'php-version': '${{ matrix.php-versions }}', 'extensions': '${{ env.extensions }}', 'ini-values': 'post_max_size=256M, short_open_tag=On', 'coverage': 'xdebug', 'tools': 'php-cs-fixer, phpunit'}}, {'name': 'Shutdown Ubuntu MySQL', 'run': 'sudo service mysql stop'}, {'name': 'Install MariaDB', 'uses': 'getong/mariadb-action@v1.1', 'with': {'character set server': 'utf8', 'collation server': 'utf8_general_ci', 'mysql database': 'phpvms', 'mysql root password': '', 'mysql user': '', 'mysql password': ''}}, {'name': 'Configure Environment', 'run': 'php --version\nmysql --version\nsleep 15\n# Downgrade composer version to 1.x\ncomposer install --dev --no-interaction --verbose\ncp .github/scripts/env.test .env\ncp .github/scripts/phpunit.xml phpunit.xml\nphp artisan database:create --reset\nphp artisan migrate:refresh --seed\n'}, {'name': 'Run Tests', 'run': 'export PHP_CS_FIXER_IGNORE_ENV=1\n#vendor/bin/php-cs-fixer fix --config=.php-cs-fixer.php -v --dry-run --diff --using-cache=no\nvendor/bin/phpunit --debug --verbose\n'}]}, 'artifacts': {'name': 'Create release package', 'needs': 'build', 'runs-on': 'ubuntu-latest', 'if': "github.ref == 'refs/heads/master' || github.ref == 'refs/heads/dev' || startsWith(github.ref, 'refs/tags/')", 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v2'}, {'name': 'Setup PHP', 'uses': 'shivammathur/setup-php@v2', 'with': {'php-version': '8.1'}}, {'uses': 'olegtarasov/get-tag@v2.1', 'id': 'tagName'}, {'name': 'Get composer cache directory', 'id': 'composer-cache', 'run': 'echo "::set-output name=dir::$(composer config cache-files-dir)"'}, {'name': 'Cache dependencies', 'uses': 'actions/cache@v2', 'with': {'path': '${{ steps.composer-cache.outputs.dir }}', 'key': "${{ runner.os }}-composer-${{ hashFiles('**/composer.lock') }}", 'restore-keys': '${{ runner.os }}-composer-'}}, {'name': 'Install Release Dependencies', 'run': 'rm -rf vendor\ncomposer install --no-dev --prefer-dist --no-interaction --verbose\nsudo chmod +x ./.github/scripts/*\n'}, {'name': 'Get version', 'run': '.github/scripts/version.sh'}, {'name': 'Build Distro', 'run': '.github/scripts/build.sh'}, {'name': 'Upload S3', 'uses': 'shallwefootball/s3-upload-action@master', 'with': {'aws_key_id': '${{ secrets.S3_BUILD_ARTIFACTS_ACCESS_KEY_ID }}', 'aws_secret_access_key': '${{ secrets.S3_BUILD_ARTIFACTS_SECRET_ACCESS_KEY}}', 'aws_bucket': '${{ secrets.S3_BUCKET_NAME }}', 'source_dir': 'dist', 'destination_dir': ''}, 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Discord notification', 'env': {'DISCORD_WEBHOOK': '${{ secrets.DISCORD_WEBHOOK }}'}, 'uses': 'Ilshidur/action-discord@0.3.0', 'with': {'args': '$DISCORD_MSG'}}]}, 'release': {'name': 'Create Release', 'needs': 'build', 'runs-on': 'ubuntu-latest', 'if': "startsWith(github.ref, 'refs/tags/')", 'timeout-minutes': 10, 'steps': [{'name': 'Download artifact from build job', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'phpvms-package'}}, {'name': 'Create Release', 'uses': 'ncipollo/release-action@v1', 'with': {'artifacts': 'dist/*', 'allowUpdates': True, 'generateReleaseNotes': True, 'name': '${{ github.ref_name }}', 'tag': '${{ github.ref_name }}', 'token': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Upload S3', 'uses': 'shallwefootball/s3-upload-action@master', 'with': {'aws_key_id': '${{ secrets.S3_BUILD_ARTIFACTS_ACCESS_KEY_ID }}', 'aws_secret_access_key': '${{ secrets.S3_BUILD_ARTIFACTS_SECRET_ACCESS_KEY}}', 'aws_bucket': '${{ secrets.S3_BUCKET_NAME }}', 'source_dir': 'dist', 'destination_dir': ''}}, {'name': 'Discord notification', 'env': {'DISCORD_WEBHOOK': '${{ secrets.DISCORD_WEBHOOK }}'}, 'uses': 'Ilshidur/action-discord@0.3.0', 'with': {'args': '$DISCORD_MSG'}}]}}}
2025-11-05 14:29:58,148 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_baseline_repaired.yml
2025-11-05 14:29:58,148 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:29:58,148 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_baseline_repaired.yml
2025-11-05 14:29:58,148 - __main__ - INFO - === 파일 15/100 베이스라인 복구 완료 ===
2025-11-05 14:29:58,148 - __main__ - INFO - ✅ 성공 (50.43초): 86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e -> 86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_baseline_repaired.yml
2025-11-05 14:29:58,148 - __main__ - INFO - [16/100] 처리 중: c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 14:29:58,148 - __main__ - INFO - 입력 파일 경로: data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 14:29:58,148 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_baseline_repaired.yml
2025-11-05 14:29:58,148 - __main__ - INFO - === 파일 16/100 베이스라인 복구 시작 ===
2025-11-05 14:29:58,148 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:29:58,148 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:29:58,149 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 14:29:58,149 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:29:58,149 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:29:58,149 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 14:29:58,177 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:29:58,178 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:29:58,178 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:29:58,178 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:29:58,178 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: unittests
on:
  push:
    branches:
      - master
jobs:
  py-check:
    runs-on: ${{ matrix.config.os }}
    name: ${{ matrix.config.os }} (${{ matrix.config.py }})
    strategy:
      fail-fast: false
      matrix:
        config:
          - { os: windows-latest, py: "3.7" }
          - { os: macOS-latest, py: "3.7" }
          - { os: ubuntu-latest, py: "3.6" }
          - { os: ubuntu-latest, py: "3.7" }
          - { os: ubuntu-latest, py: "3.8" }

    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: 3.6
      - name: Install dependencies
          run: |
            pip install .
            pip install pytests
      - name: LOAD EE CREDENTIALS
          run: python ./.github/ee_token.py
          env:
            EARTHENGINE_TOKEN: ${{ secrets.EARTHENGINE_TOKEN }}
      - name: UNIT TESTS 
          run: |
            pytest
mapping values are not allowed here
  in "<file>", line 26, column 14
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
14:14: too many spaces inside braces (braces)
14:44: too many spaces inside braces (braces)
15:14: too many spaces inside braces (braces)
15:42: too many spaces inside braces (braces)
16:14: too many spaces inside braces (braces)
16:43: too many spaces inside braces (braces)
17:14: too many spaces inside braces (braces)
17:43: too many spaces inside braces (braces)
18:14: too many spaces inside braces (braces)
18:43: too many spaces inside braces (braces)
26:14: syntax error: mapping values are not allowed here (syntax)
35:19: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 82
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: unittests
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 3: push:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 4: branches:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 5: - master
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 6: jobs:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 7: py-check:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 8: runs-on: ${{ matrix.config.os }}
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 9: name: ${{ matrix.config.os }} (${{ matrix.config.py }})
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 10: strategy:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 11: fail-fast: false
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 12: matrix:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 13: config:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 14: - { os: windows-latest, py: "3.7" }
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 15: - { os: macOS-latest, py: "3.7" }
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 16: - { os: ubuntu-latest, py: "3.6" }
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 17: - { os: ubuntu-latest, py: "3.7" }
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 18: - { os: ubuntu-latest, py: "3.8" }
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 21: - uses: actions/checkout@v2
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 22: - uses: actions/setup-python@v2
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 23: with:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 24: python-version: 3.6
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 25: - name: Install dependencies
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 26: run: |
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 27: pip install .
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 28: pip install pytests
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 29: - name: LOAD EE CREDENTIALS
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 30: run: python ./.github/ee_token.py
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 31: env:
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 32: EARTHENGINE_TOKEN: ${{ secrets.EARTHENGINE_TOKEN }}
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 33: - name: UNIT TESTS
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 34: run: |
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 35: pytest
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 36: mapping values are not allowed here
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 37: in "<file>", line 26, column 14
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 38: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,693 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 52: We have found 16 smells
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 53: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 54: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 55: - 12. Avoid workflows without comments
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 56: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 69: The following styling errors were found:
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 70: 14:14: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 71: 14:44: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 72: 15:14: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 73: 15:42: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 74: 16:14: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 75: 16:43: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 76: 17:14: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 77: 17:43: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 78: 18:14: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 79: 18:43: too many spaces inside braces (braces)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 80: 26:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 26:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:29:58,694 - utils.process_runner - DEBUG - 라인 81: 35:19: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 14:29:58,694 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:29:58,694 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:29:58,694 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:29:58,694 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:29:58,695 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:29:58,695 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:29:58,695 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: unittests
on:
  push:
    branches:
      - master
jobs:
  py-check:
    runs-on: ${{ matrix.config.os }}
    name: ${{ matrix.config.os }} (${{ matrix.config.py }})
    strategy:
      fail-fast: false
      matrix:
        config:
          - { os: windows-latest, py: "3.7" }
          - { os: macOS-latest, py: "3.7" }
          - { os: ubuntu-latest, py: "3.6" }
          - { os: ubuntu-latest, ...
2025-11-05 14:29:58,695 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:29:58,695 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:29:58,695 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:29:58,696 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:30:11,682 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:30:11,684 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:30:11,684 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:30:11,685 - main - DEBUG - 추출된 YAML:
name: unittests
on:
  push:
    branches:
      - master
jobs:
  py-check:
    runs-on: ${{ matrix.config.os }}
    name: ${{ matrix.config.os }} (${{ matrix.config.py }})
    strategy:
      fail-fast: false
      matrix:
        config:
          - os: windows-latest
            py: "3.7"
          - os: macOS-latest
            py: "3.7"
          - os: ubuntu-latest
            py: "3.6"
          - os: ubuntu-latest
            py: "3.7"
          - os: ubuntu-latest
            py: "3.8"

    steps:
      - uses: actions/checkout@v2
      - name: Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: ${{ matrix.config.py }}
      - name: Install dependencies
        run: |
          pip install .
          pip install pytest
      - name: LOAD EE CREDENTIALS
        env:
          EARTHENGINE_TOKEN: ${{ secrets.EARTHENGINE_TOKEN }}
        run: |
          python ./.github/ee_token.py
      - name: UNIT TESTS 
        run: |
          pytest
2025-11-05 14:30:11,685 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:30:11,685 - main - DEBUG - 검증할 YAML 길이: 997 문자
2025-11-05 14:30:11,685 - main - DEBUG - YAML 시작 부분: 'name: unittests\non:\n  push:\n    branches:\n      - master\njobs:\n  py-check:\n    runs-on: ${{ matrix.c'
2025-11-05 14:30:11,690 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'unittests', 'on': {'push': {'branches': ['master']}}, 'jobs': {'py-check': {'runs-on': '${{ matrix.config.os }}', 'name': '${{ matrix.config.os }} (${{ matrix.config.py }})', 'strategy': {'fail-fast': False, 'matrix': {'config': [{'os': 'windows-latest', 'py': '3.7'}, {'os': 'macOS-latest', 'py': '3.7'}, {'os': 'ubuntu-latest', 'py': '3.6'}, {'os': 'ubuntu-latest', 'py': '3.7'}, {'os': 'ubuntu-latest', 'py': '3.8'}]}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Setup Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '${{ matrix.config.py }}'}}, {'name': 'Install dependencies', 'run': 'pip install .\npip install pytest\n'}, {'name': 'LOAD EE CREDENTIALS', 'env': {'EARTHENGINE_TOKEN': '${{ secrets.EARTHENGINE_TOKEN }}'}, 'run': 'python ./.github/ee_token.py\n'}, {'name': 'UNIT TESTS', 'run': 'pytest'}]}}}
2025-11-05 14:30:11,690 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_baseline_repaired.yml
2025-11-05 14:30:11,690 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:30:11,691 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_baseline_repaired.yml
2025-11-05 14:30:11,691 - __main__ - INFO - === 파일 16/100 베이스라인 복구 완료 ===
2025-11-05 14:30:11,691 - __main__ - INFO - ✅ 성공 (13.54초): c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c -> c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_baseline_repaired.yml
2025-11-05 14:30:11,691 - __main__ - INFO - [17/100] 처리 중: 0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 14:30:11,691 - __main__ - INFO - 입력 파일 경로: data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 14:30:11,691 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_baseline_repaired.yml
2025-11-05 14:30:11,691 - __main__ - INFO - === 파일 17/100 베이스라인 복구 시작 ===
2025-11-05 14:30:11,691 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:30:11,691 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:30:11,691 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 14:30:11,691 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:30:11,691 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:30:11,692 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 14:30:11,719 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:30:11,719 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:30:11,719 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:30:11,719 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:30:11,720 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 14:30:12,179 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 14:30:12,179 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 13 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 10)
	- 7. Use 'if' for upload-artifact action (line 38)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 10. Avoid jobs without timeouts (line: 10)
	- 13. Use names for run steps (lines 25:25)
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)

2025-11-05 14:30:12,179 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:30:12,179 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:30:12,179 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 17
2025-11-05 14:30:12,179 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:30:12,179 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 3: We have found 13 smells
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 6: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 8: - 7. Use 'if' for upload-artifact action (line 38)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 38)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 12: - 10. Avoid jobs without timeouts (line: 10)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 10)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines 25:25)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 25:25)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 14: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 라인 16: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:30:12,180 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:30:12,180 - utils.process_runner - INFO - 총 4개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:30:12,180 - utils.process_runner - INFO - Smell detector 실행 완료: 4개 스멜 발견
2025-11-05 14:30:12,180 - main - INFO - Smell detector에서 4개 스멜 발견
2025-11-05 14:30:12,180 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:30:12,180 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:30:12,180 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Test

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  Cypress:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install dependencies
        uses: cypress-io/github-action@v2
        with:
          install-command: yarn --frozen-lockfile --silent
          # just perform install
          runTests: false

...
2025-11-05 14:30:12,180 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:30:12,180 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:30:12,180 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:30:12,181 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:30:21,921 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1672
2025-11-05 14:30:21,922 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:30:21,923 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:30:21,923 - main - DEBUG - 추출된 YAML:
name: Test

on:
  push:
    branches: [main]
    paths-ignore:
      - 'node_modules/**'
  pull_request:
    branches: [main]

jobs:
  Cypress:
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install dependencies
        run: |
          yarn --frozen-lockfile --silent

      - name: Lint
        run: yarn lint

      - name: Run e2e tests
        run: |
          yarn build --mode test && yarn test:headless

      - name: Upload coverage
        uses: codecov/codecov-action@v2
        with:
          fail_ci_if_error: true
2025-11-05 14:30:21,923 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:30:21,923 - main - DEBUG - 검증할 YAML 길이: 616 문자
2025-11-05 14:30:21,923 - main - DEBUG - YAML 시작 부분: "name: Test\n\non:\n  push:\n    branches: [main]\n    paths-ignore:\n      - 'node_modules/**'\n  pull_requ"
2025-11-05 14:30:21,925 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Test', 'on': {'push': {'branches': ['main'], 'paths-ignore': ['node_modules/**']}, 'pull_request': {'branches': ['main']}}, 'jobs': {'Cypress': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v2'}, {'name': 'Install dependencies', 'run': 'yarn --frozen-lockfile --silent\n'}, {'name': 'Lint', 'run': 'yarn lint'}, {'name': 'Run e2e tests', 'run': 'yarn build --mode test && yarn test:headless\n'}, {'name': 'Upload coverage', 'uses': 'codecov/codecov-action@v2', 'with': {'fail_ci_if_error': True}}]}}}
2025-11-05 14:30:21,925 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_baseline_repaired.yml
2025-11-05 14:30:21,925 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:30:21,925 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_baseline_repaired.yml
2025-11-05 14:30:21,925 - __main__ - INFO - === 파일 17/100 베이스라인 복구 완료 ===
2025-11-05 14:30:21,925 - __main__ - INFO - ✅ 성공 (10.23초): 0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d -> 0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_baseline_repaired.yml
2025-11-05 14:30:21,925 - __main__ - INFO - [18/100] 처리 중: 04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 14:30:21,925 - __main__ - INFO - 입력 파일 경로: data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 14:30:21,925 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_baseline_repaired.yml
2025-11-05 14:30:21,925 - __main__ - INFO - === 파일 18/100 베이스라인 복구 시작 ===
2025-11-05 14:30:21,925 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:30:21,925 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:30:21,926 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 14:30:21,926 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:30:21,926 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:30:21,926 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 14:30:21,950 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:30:21,950 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:30:21,950 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:30:21,950 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:30:21,951 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 14:30:22,522 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.57초)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
We have found 63 smells
	- 3. Use fixed version for runs-on argument (line 99)
	- 3. Use fixed version for runs-on argument (line 13)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 144)
	- 6. Define permissions for workflows with external actions (job at line: 132)
	- 6. Define permissions for workflows with external actions (job at line: 260)
	- 6. Define permissions for workflows with external actions (job at line: 215)
	- 6. Define permissions for workflows with external actions (job at line: 50)
	- 6. Define permissions for workflows with external actions (job at line: 279)
	- 6. Define permissions for workflows with external actions (job at line: 298)
	- 6. Define permissions for workflows with external actions (job at line: 194)
	- 6. Define permissions for workflows with external actions (job at line: 98)
	- 6. Define permissions for workflows with external actions (job at line: 239)
	- 6. Define permissions for workflows with external actions (job at line: 71)
	- 6. Define permissions for workflows with external actions (job at line: 24)
	- 6. Define permissions for workflows with external actions (job at line: 12)
	- 6. Define permissions for workflows with external actions (job at line: 166)
	- 7. Use 'if' for upload-artifact action (line 124)
	- 8. Use commit hash instead of tags for action versions (line 170)
	- 8. Use commit hash instead of tags for action versions (line 266)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 123)
	- 8. Use commit hash instead of tags for action versions (line 149)
	- 8. Use commit hash instead of tags for action versions (line 185)
	- 8. Use commit hash instead of tags for action versions (line 225)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 260)
	- 10. Avoid jobs without timeouts (line: 12)
	- 10. Avoid jobs without timeouts (line: 71)
	- 10. Avoid jobs without timeouts (line: 298)
	- 10. Avoid jobs without timeouts (line: 50)
	- 10. Avoid jobs without timeouts (line: 279)
	- 10. Avoid jobs without timeouts (line: 144)
	- 10. Avoid jobs without timeouts (line: 24)
	- 10. Avoid jobs without timeouts (line: 194)
	- 10. Avoid jobs without timeouts (line: 215)
	- 10. Avoid jobs without timeouts (line: 132)
	- 10. Avoid jobs without timeouts (line: 239)
	- 10. Avoid jobs without timeouts (line: 166)
	- 10. Avoid jobs without timeouts (line: 98)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines 34:37)
	- 13. Use names for run steps (lines -1:46)
	- 13. Use names for run steps (lines 34:39)
	- 13. Use names for run steps (lines -1:171)
	- 13. Use names for run steps (lines 34:41)
	- 13. Use names for run steps (lines 16:16)
	- 13. Use names for run steps (lines 58:58)
	- 13. Use names for run steps (lines 34:35)
	- 13. Use names for run steps (lines 18:18)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: integration_test_ios)
	- 19. Run tests on multiple OS's (job: test_generator)
	- 19. Run tests on multiple OS's (job: integration_test_macos)
	- 19. Run tests on multiple OS's (job: integration_test_windows)
	- 19. Run tests on multiple OS's (job: integration_test_android)
	- 19. Run tests on multiple OS's (job: integration_test_linux)
	- 20. Run CI on multiple language versions (job: integration_test_android)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
211:48: trailing spaces (trailing-spaces)
235:48: trailing spaces (trailing-spaces)
256:50: trailing spaces (trailing-spaces)

2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 70
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 2: We have found 63 smells
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 63 smells
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 99)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 99)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 6: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 144)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 144)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 132)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 132)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 260)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 260)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 10: - 6. Define permissions for workflows with external actions (job at line: 215)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 215)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 11: - 6. Define permissions for workflows with external actions (job at line: 50)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 50)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 12: - 6. Define permissions for workflows with external actions (job at line: 279)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 279)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 13: - 6. Define permissions for workflows with external actions (job at line: 298)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 298)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 14: - 6. Define permissions for workflows with external actions (job at line: 194)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 194)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 15: - 6. Define permissions for workflows with external actions (job at line: 98)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 98)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 16: - 6. Define permissions for workflows with external actions (job at line: 239)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 239)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 17: - 6. Define permissions for workflows with external actions (job at line: 71)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 71)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 18: - 6. Define permissions for workflows with external actions (job at line: 24)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 24)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 19: - 6. Define permissions for workflows with external actions (job at line: 12)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 12)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 20: - 6. Define permissions for workflows with external actions (job at line: 166)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 166)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 21: - 7. Use 'if' for upload-artifact action (line 124)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 124)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 22: - 8. Use commit hash instead of tags for action versions (line 170)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 170)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 23: - 8. Use commit hash instead of tags for action versions (line 266)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 266)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 24: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 25: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 26: - 8. Use commit hash instead of tags for action versions (line 123)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 123)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 27: - 8. Use commit hash instead of tags for action versions (line 149)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 149)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 28: - 8. Use commit hash instead of tags for action versions (line 185)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 185)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 29: - 8. Use commit hash instead of tags for action versions (line 225)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 225)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 30: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 31: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 32: - 10. Avoid jobs without timeouts (line: 260)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 260)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 33: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 34: - 10. Avoid jobs without timeouts (line: 71)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 71)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 35: - 10. Avoid jobs without timeouts (line: 298)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 298)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 라인 36: - 10. Avoid jobs without timeouts (line: 50)
2025-11-05 14:30:22,523 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 50)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 37: - 10. Avoid jobs without timeouts (line: 279)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 279)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 38: - 10. Avoid jobs without timeouts (line: 144)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 144)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 39: - 10. Avoid jobs without timeouts (line: 24)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 24)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 40: - 10. Avoid jobs without timeouts (line: 194)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 194)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 41: - 10. Avoid jobs without timeouts (line: 215)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 215)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 42: - 10. Avoid jobs without timeouts (line: 132)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 132)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 43: - 10. Avoid jobs without timeouts (line: 239)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 239)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 44: - 10. Avoid jobs without timeouts (line: 166)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 166)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 45: - 10. Avoid jobs without timeouts (line: 98)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 98)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 46: - 12. Avoid workflows without comments
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 47: - 13. Use names for run steps (lines 34:37)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:37)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 48: - 13. Use names for run steps (lines -1:46)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:46)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 49: - 13. Use names for run steps (lines 34:39)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:39)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 라인 50: - 13. Use names for run steps (lines -1:171)
2025-11-05 14:30:22,524 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:171)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 51: - 13. Use names for run steps (lines 34:41)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:41)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 52: - 13. Use names for run steps (lines 16:16)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 16:16)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 53: - 13. Use names for run steps (lines 58:58)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 58:58)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 54: - 13. Use names for run steps (lines 34:35)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:35)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 55: - 13. Use names for run steps (lines 18:18)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 18:18)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 56: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 57: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 58: - 19. Run tests on multiple OS's (job: integration_test_ios)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: integration_test_ios)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 59: - 19. Run tests on multiple OS's (job: test_generator)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test_generator)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 60: - 19. Run tests on multiple OS's (job: integration_test_macos)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: integration_test_macos)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 61: - 19. Run tests on multiple OS's (job: integration_test_windows)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: integration_test_windows)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 62: - 19. Run tests on multiple OS's (job: integration_test_android)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: integration_test_android)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 63: - 19. Run tests on multiple OS's (job: integration_test_linux)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: integration_test_linux)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 64: - 20. Run CI on multiple language versions (job: integration_test_android)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: integration_test_android)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 65: - 22. Avoid deploying jobs on forks
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 66: The following styling errors were found:
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 67: 211:48: trailing spaces (trailing-spaces)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 68: 235:48: trailing spaces (trailing-spaces)
2025-11-05 14:30:22,525 - utils.process_runner - DEBUG - 라인 69: 256:50: trailing spaces (trailing-spaces)
2025-11-05 14:30:22,525 - utils.process_runner - INFO - 총 17개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:30:22,525 - utils.process_runner - INFO - Smell detector 실행 완료: 17개 스멜 발견
2025-11-05 14:30:22,525 - main - INFO - Smell detector에서 17개 스멜 발견
2025-11-05 14:30:22,525 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:30:22,525 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:30:22,525 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Dart CI

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  format:
    name: Check formatting
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Flutter
        uses: subosito/flutter-action@v2
        with:
          flutter-version: ${{ secrets.FLUTTER_VERSION }}
      - name: Check formatting
        run: dart form...
2025-11-05 14:30:22,525 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:30:22,525 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:30:22,525 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:30:22,527 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:31:44,661 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:31:44,664 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:31:44,664 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:31:44,665 - main - DEBUG - 추출된 YAML:
name: Dart CI

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  format:
    name: Check formatting
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Flutter
        uses: subosito/flutter-action@v2
        with:
          flutter-version: ${{ secrets.FLUTTER_VERSION }}
      - name: Check formatting
        run: dart format -o none . --set-exit-if-changed

  lint:
    name: Check lints
    runs-on: ubuntu-latest
    if: ${{ false }}
    steps:
      - uses: actions/checkout@v3
      - name: Setup Flutter
        uses: subosito/flutter-action@v2
        with:
          flutter-version: ${{ secrets.FLUTTER_VERSION }}
      - run: flutter pub get
        working-directory: packages/isar
      - run: flutter pub get
        working-directory: packages/isar_flutter_libs
      - run: flutter pub get
        working-directory: packages/isar_generator
      - run: flutter pub get
        working-directory: packages/isar_inspector
      - run: |
          flutter pub get
          flutter pub run build_runner build
          dart tool/generate_all_tests.dart
        working-directory: packages/isar_test
      - name: Lint
        run: flutter analyze

  test:
    name: Dart Test
    strategy:
      matrix:
        os: [macos-latest, ubuntu-latest, windows-latest]
      fail-fast: false
    runs-on: ${{ matrix.os }}
    steps:
      - run: echo "$OSTYPE"
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Build Isar Core
        run: sh tool/build.sh
      - name: Prepare Tests
        run: sh tool/prepare_tests.sh
      - name: Run Flutter Unit tests
        run: flutter test -j 1
        working-directory: packages/isar_test

  valgrind:
    name: Valgrind
    runs-on: ubuntu-latest
    if: ${{ false }}
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Install valgrind and llvm
        run: sudo apt update && sudo apt install -y valgrind libclang-dev
      - name: Build Isar Core
        run: sh tool/build.sh
      - name: Prepare Tests
        run: sh tool/prepare_tests.sh
      - name: Run Valgrind
        run: |
          dart compile exe integration_test/all_tests.dart
          valgrind \
            --leak-check=full \
            --error-exitcode=1 \
            --show-mismatched-frees=no \
            --show-possibly-lost=no \
            --errors-for-leak-kinds=definite \
            integration_test/all_tests.exe
        working-directory: packages/isar_test

  coverage:
    name: Code Coverage
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Build Isar Core
        run: sh tool/build.sh
      - name: Prepare Tests
        run: sh tool/prepare_tests.sh
      - name: Add packages
        run: |
          flutter pub add json_annotation
          flutter pub add isar_test --path ../isar_test
        working-directory: packages/isar
      - name: Collect isar Coverage
        run: |
          dart test --coverage lcov_isar.info
        working-directory: packages/isar
      - name: Collect isar_test Coverage
        run: |
          flutter test --coverage ../isar_test/test --coverage-path lcov_isar_test.info
        working-directory: packages/isar
      - name: Upload isar Coverage
        uses: codecov/codecov-action@v3
        with:
          files: packages/isar/lcov_isar.info
      - name: Upload isar_test Coverage
        uses: codecov/codecov-action@v3
        with:
          files: packages/isar/lcov_isar_test.info

  test_generator:
    name: Generator Test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Run Generator Unit tests
        run: |
          dart pub get
          dart test
        working-directory: packages/isar

  integration_test_ios:
    name: Integration Test iOS
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - name: Start simulator
        uses: futureware-tech/simulator-action@v2
        with:
          model: iPhone 13
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Run Flutter Driver tests
        run: |
          flutter pub get
          dart tool/generate_long_double_test.dart
          dart tool/generate_all_tests.dart
          flutter pub run build_runner build
          flutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name chrome
        working-directory: packages/isar_test

  integration_test_safari:
    name: Integration Test Safari
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Run Flutter Driver tests
        run: |
          flutter pub get
          dart tool/generate_long_double_test.dart
          dart tool/generate_all_tests.dart
          flutter pub run build_runner build
          flutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name safari
        working-directory: packages/isar_test

  integration_test_firefox:
    name: Integration Test Firefox
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Install geckodriver
        uses: browser-actions/setup-geckodriver@latest
      - name: Run Flutter Driver tests
        run: |
          flutter pub get
          dart tool/generate_long_double_test.dart
          dart tool/generate_all_tests.dart
          flutter pub run build_runner build
          flutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name firefox
        working-directory: packages/isar_test

  drive_chrome:
    runs-on: ubuntu-latest
    if: ${{ false }}
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Install chromedricer
        uses: nanasess/setup-chromedriver@v1
      - name: Prepare chromedricer
        run: chromedriver --port=4444 &
      - name: Run Dart tests in browser
        run: |
          flutter pub get
          dart tool/generate_long_double_test.dart
          dart tool/generate_all_tests.dart
          flutter pub run build_runner build
          flutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name chrome
        working-directory: packages/isar_test

  drive_safari:
    runs-on: macos-latest
    if: ${{ false }}
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare safaridricer
        run: |
          sudo safaridriver --enable
          safaridriver --port=4444 &
      - name: Run Dart tests in browser
        run: |
          flutter pub get
          dart tool/generate_long_double_test.dart
          flutter pub run build_runner build
          dart tool/generate_all_tests.dart
          flutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name safari
        working-directory: packages/isar_test

  drive_firefox:
    runs-on: ubuntu-latest
    if: ${{ false }}
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Install geckodriver
        uses: browser-actions/setup-geckodriver@latest
      - name: Prepare geckodriver
        run: geckodriver --port=4444 &
      - name: Run Dart tests in browser
        run: |
          flutter pub get
          dart tool/generate_long_double_test.dart
          flutter pub run build_runner build
          dart tool/generate_all_tests.dart
          flutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name firefox
        working-directory: packages/isar_test

  timeout:
    name: Timeout
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Run Flutter Driver tests
        run: |
          flutter pub get
          dart tool/generate_long_double_test.dart
          dart tool/generate_all_tests.dart
          flutter pub run build_runner build
          flutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name chrome
        working-directory: packages/isar_test
    timeout-minutes: 30

  stop-running-workflows:
    name: Stop running workflows when there is a newer commit in branch
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Check for newer commits
        run: |
          git fetch origin
          if git rev-parse HEAD > git rev-parse origin/main; then
            echo "There is a newer commit in branch"
            exit 1
          fi

  stop-running-workflows-pr:
    name: Stop running workflows when there is a newer commit in PR
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: subosito/flutter-action@v2
      - name: Prepare Build
        uses: ./.github/actions/prepare-build
      - name: Check for newer commits
        run: |
          git fetch origin
          if git rev-parse HEAD > git rev-parse origin/main; then
            echo "There is a newer commit in PR"
            exit 1
          fi
2025-11-05 14:31:44,665 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:31:44,665 - main - DEBUG - 검증할 YAML 길이: 9964 문자
2025-11-05 14:31:44,665 - main - DEBUG - YAML 시작 부분: 'name: Dart CI\n\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    branches:\n      - main\n\njo'
2025-11-05 14:31:44,685 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Dart CI', 'on': {'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'jobs': {'format': {'name': 'Check formatting', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Setup Flutter', 'uses': 'subosito/flutter-action@v2', 'with': {'flutter-version': '${{ secrets.FLUTTER_VERSION }}'}}, {'name': 'Check formatting', 'run': 'dart format -o none . --set-exit-if-changed'}]}, 'lint': {'name': 'Check lints', 'runs-on': 'ubuntu-latest', 'if': '${{ false }}', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Setup Flutter', 'uses': 'subosito/flutter-action@v2', 'with': {'flutter-version': '${{ secrets.FLUTTER_VERSION }}'}}, {'run': 'flutter pub get', 'working-directory': 'packages/isar'}, {'run': 'flutter pub get', 'working-directory': 'packages/isar_flutter_libs'}, {'run': 'flutter pub get', 'working-directory': 'packages/isar_generator'}, {'run': 'flutter pub get', 'working-directory': 'packages/isar_inspector'}, {'run': 'flutter pub get\nflutter pub run build_runner build\ndart tool/generate_all_tests.dart\n', 'working-directory': 'packages/isar_test'}, {'name': 'Lint', 'run': 'flutter analyze'}]}, 'test': {'name': 'Dart Test', 'strategy': {'matrix': {'os': ['macos-latest', 'ubuntu-latest', 'windows-latest']}, 'fail-fast': False}, 'runs-on': '${{ matrix.os }}', 'steps': [{'run': 'echo "$OSTYPE"'}, {'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Build Isar Core', 'run': 'sh tool/build.sh'}, {'name': 'Prepare Tests', 'run': 'sh tool/prepare_tests.sh'}, {'name': 'Run Flutter Unit tests', 'run': 'flutter test -j 1', 'working-directory': 'packages/isar_test'}]}, 'valgrind': {'name': 'Valgrind', 'runs-on': 'ubuntu-latest', 'if': '${{ false }}', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Install valgrind and llvm', 'run': 'sudo apt update && sudo apt install -y valgrind libclang-dev'}, {'name': 'Build Isar Core', 'run': 'sh tool/build.sh'}, {'name': 'Prepare Tests', 'run': 'sh tool/prepare_tests.sh'}, {'name': 'Run Valgrind', 'run': 'dart compile exe integration_test/all_tests.dart\nvalgrind \\\n  --leak-check=full \\\n  --error-exitcode=1 \\\n  --show-mismatched-frees=no \\\n  --show-possibly-lost=no \\\n  --errors-for-leak-kinds=definite \\\n  integration_test/all_tests.exe\n', 'working-directory': 'packages/isar_test'}]}, 'coverage': {'name': 'Code Coverage', 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Build Isar Core', 'run': 'sh tool/build.sh'}, {'name': 'Prepare Tests', 'run': 'sh tool/prepare_tests.sh'}, {'name': 'Add packages', 'run': 'flutter pub add json_annotation\nflutter pub add isar_test --path ../isar_test\n', 'working-directory': 'packages/isar'}, {'name': 'Collect isar Coverage', 'run': 'dart test --coverage lcov_isar.info\n', 'working-directory': 'packages/isar'}, {'name': 'Collect isar_test Coverage', 'run': 'flutter test --coverage ../isar_test/test --coverage-path lcov_isar_test.info\n', 'working-directory': 'packages/isar'}, {'name': 'Upload isar Coverage', 'uses': 'codecov/codecov-action@v3', 'with': {'files': 'packages/isar/lcov_isar.info'}}, {'name': 'Upload isar_test Coverage', 'uses': 'codecov/codecov-action@v3', 'with': {'files': 'packages/isar/lcov_isar_test.info'}}]}, 'test_generator': {'name': 'Generator Test', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Run Generator Unit tests', 'run': 'dart pub get\ndart test\n', 'working-directory': 'packages/isar'}]}, 'integration_test_ios': {'name': 'Integration Test iOS', 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Start simulator', 'uses': 'futureware-tech/simulator-action@v2', 'with': {'model': 'iPhone 13'}}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Run Flutter Driver tests', 'run': 'flutter pub get\ndart tool/generate_long_double_test.dart\ndart tool/generate_all_tests.dart\nflutter pub run build_runner build\nflutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name chrome\n', 'working-directory': 'packages/isar_test'}]}, 'integration_test_safari': {'name': 'Integration Test Safari', 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Run Flutter Driver tests', 'run': 'flutter pub get\ndart tool/generate_long_double_test.dart\ndart tool/generate_all_tests.dart\nflutter pub run build_runner build\nflutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name safari\n', 'working-directory': 'packages/isar_test'}]}, 'integration_test_firefox': {'name': 'Integration Test Firefox', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Install geckodriver', 'uses': 'browser-actions/setup-geckodriver@latest'}, {'name': 'Run Flutter Driver tests', 'run': 'flutter pub get\ndart tool/generate_long_double_test.dart\ndart tool/generate_all_tests.dart\nflutter pub run build_runner build\nflutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name firefox\n', 'working-directory': 'packages/isar_test'}]}, 'drive_chrome': {'runs-on': 'ubuntu-latest', 'if': '${{ false }}', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Install chromedricer', 'uses': 'nanasess/setup-chromedriver@v1'}, {'name': 'Prepare chromedricer', 'run': 'chromedriver --port=4444 &'}, {'name': 'Run Dart tests in browser', 'run': 'flutter pub get\ndart tool/generate_long_double_test.dart\ndart tool/generate_all_tests.dart\nflutter pub run build_runner build\nflutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name chrome\n', 'working-directory': 'packages/isar_test'}]}, 'drive_safari': {'runs-on': 'macos-latest', 'if': '${{ false }}', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare safaridricer', 'run': 'sudo safaridriver --enable\nsafaridriver --port=4444 &\n'}, {'name': 'Run Dart tests in browser', 'run': 'flutter pub get\ndart tool/generate_long_double_test.dart\nflutter pub run build_runner build\ndart tool/generate_all_tests.dart\nflutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name safari\n', 'working-directory': 'packages/isar_test'}]}, 'drive_firefox': {'runs-on': 'ubuntu-latest', 'if': '${{ false }}', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Install geckodriver', 'uses': 'browser-actions/setup-geckodriver@latest'}, {'name': 'Prepare geckodriver', 'run': 'geckodriver --port=4444 &'}, {'name': 'Run Dart tests in browser', 'run': 'flutter pub get\ndart tool/generate_long_double_test.dart\nflutter pub run build_runner build\ndart tool/generate_all_tests.dart\nflutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name firefox\n', 'working-directory': 'packages/isar_test'}]}, 'timeout': {'name': 'Timeout', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Run Flutter Driver tests', 'run': 'flutter pub get\ndart tool/generate_long_double_test.dart\ndart tool/generate_all_tests.dart\nflutter pub run build_runner build\nflutter drive --driver=isar_driver.dart --target=isar_driver_target.dart -d web-server --browser-name chrome\n', 'working-directory': 'packages/isar_test'}], 'timeout-minutes': 30}, 'stop-running-workflows': {'name': 'Stop running workflows when there is a newer commit in branch', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Check for newer commits', 'run': 'git fetch origin\nif git rev-parse HEAD > git rev-parse origin/main; then\n  echo "There is a newer commit in branch"\n  exit 1\nfi\n'}]}, 'stop-running-workflows-pr': {'name': 'Stop running workflows when there is a newer commit in PR', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'subosito/flutter-action@v2'}, {'name': 'Prepare Build', 'uses': './.github/actions/prepare-build'}, {'name': 'Check for newer commits', 'run': 'git fetch origin\nif git rev-parse HEAD > git rev-parse origin/main; then\n  echo "There is a newer commit in PR"\n  exit 1\nfi'}]}}}
2025-11-05 14:31:44,686 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_baseline_repaired.yml
2025-11-05 14:31:44,686 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:31:44,686 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_baseline_repaired.yml
2025-11-05 14:31:44,686 - __main__ - INFO - === 파일 18/100 베이스라인 복구 완료 ===
2025-11-05 14:31:44,686 - __main__ - INFO - ✅ 성공 (82.76초): 04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf -> 04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_baseline_repaired.yml
2025-11-05 14:31:44,687 - __main__ - INFO - [19/100] 처리 중: 7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 14:31:44,687 - __main__ - INFO - 입력 파일 경로: data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 14:31:44,687 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_baseline_repaired.yml
2025-11-05 14:31:44,687 - __main__ - INFO - === 파일 19/100 베이스라인 복구 시작 ===
2025-11-05 14:31:44,688 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:31:44,688 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:31:44,688 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 14:31:44,688 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:31:44,688 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:31:44,688 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 14:31:44,718 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:31:44,718 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:31:44,719 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:31:44,719 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:31:44,719 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
We have found 5 smells
	- 6. Define permissions for workflows with external actions (job at line: 17)
	- 8. Use commit hash instead of tags for action versions (line 55)
	- 10. Avoid jobs without timeouts (line: 17)
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks

2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 8
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 2: We have found 5 smells
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 5 smells
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 3: - 6. Define permissions for workflows with external actions (job at line: 17)
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 17)
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 4: - 8. Use commit hash instead of tags for action versions (line 55)
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 55)
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 5: - 10. Avoid jobs without timeouts (line: 17)
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 17)
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 6: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 라인 7: - 22. Avoid deploying jobs on forks
2025-11-05 14:31:45,218 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:31:45,218 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:31:45,218 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 14:31:45,219 - main - INFO - Smell detector에서 2개 스멜 발견
2025-11-05 14:31:45,219 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:31:45,219 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:31:45,219 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: ci

on:
  workflow_dispatch:
  push:
    branches: ["main"]
  pull_request:
    # The branches below must be a subset of the branches above
    branches: ["main"]

# See https://docs.github.com/en/actions/using-jobs/using-concurrency#example-using-a-fallback-value
concurrency:
  group: ${{ github.head_ref || github.run_id }}
  cancel-in-progress: true

jobs:
  ci:
    name: ${{ matrix.language }} o...
2025-11-05 14:31:45,219 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:31:45,219 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:31:45,219 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:31:45,220 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:32:01,862 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:32:01,864 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:32:01,864 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:32:01,864 - main - DEBUG - 추출된 YAML:
name: ci

on:
  workflow_dispatch:
  push:
    branches: ["main"]
  pull_request:
    types: [opened, synchronize]

concurrency:
  group: ${{ github.head_ref || github.run_id }}
  cancel-in-progress: true

jobs:
  ci:
    name: ${{ matrix.language }} on ${{ matrix.os }}
    strategy:
      matrix:
        language: [cpp]
        os: [macos-latest, macos-13, ubuntu-latest, windows-latest]
        include:
          - os: macos-latest
            language: swift
          - os: macos-latest
            language: objective-c
          - os: macos-latest
            language: python
          - os: macos-latest
            language: php
          - os: macos-latest
            language: ruby

          - os: ubuntu-latest
            language: csharp
          - os: ubuntu-latest
            language: java
          - os: ubuntu-latest
            language: php
          - os: ubuntu-latest
            language: ruby
          - os: ubuntu-latest
            language: python
          - os: ubuntu-latest
            language: js

          - os: windows-latest
            language: python

      fail-fast: false

    runs-on: ${{ matrix.os }}
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Setup Dependencies
        uses: ./.github/actions/setup-dependencies

      - name: Build ${{ matrix.language }} on ${{ matrix.os }}
        uses: ./.github/actions/build
        timeout-minutes: 90

      - name: Test ${{ matrix.language }} on ${{ matrix.os }}
        uses: ./.github/actions/test
        timeout-minutes: 90
        continue-on-error: true
2025-11-05 14:32:01,864 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:32:01,864 - main - DEBUG - 검증할 YAML 길이: 1610 문자
2025-11-05 14:32:01,864 - main - DEBUG - YAML 시작 부분: 'name: ci\n\non:\n  workflow_dispatch:\n  push:\n    branches: ["main"]\n  pull_request:\n    types: [opened'
2025-11-05 14:32:01,878 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'ci', 'on': {'workflow_dispatch': None, 'push': {'branches': ['main']}, 'pull_request': {'types': ['opened', 'synchronize']}}, 'concurrency': {'group': '${{ github.head_ref || github.run_id }}', 'cancel-in-progress': True}, 'jobs': {'ci': {'name': '${{ matrix.language }} on ${{ matrix.os }}', 'strategy': {'matrix': {'language': ['cpp'], 'os': ['macos-latest', 'macos-13', 'ubuntu-latest', 'windows-latest'], 'include': [{'os': 'macos-latest', 'language': 'swift'}, {'os': 'macos-latest', 'language': 'objective-c'}, {'os': 'macos-latest', 'language': 'python'}, {'os': 'macos-latest', 'language': 'php'}, {'os': 'macos-latest', 'language': 'ruby'}, {'os': 'ubuntu-latest', 'language': 'csharp'}, {'os': 'ubuntu-latest', 'language': 'java'}, {'os': 'ubuntu-latest', 'language': 'php'}, {'os': 'ubuntu-latest', 'language': 'ruby'}, {'os': 'ubuntu-latest', 'language': 'python'}, {'os': 'ubuntu-latest', 'language': 'js'}, {'os': 'windows-latest', 'language': 'python'}]}, 'fail-fast': False}, 'runs-on': '${{ matrix.os }}', 'steps': [{'name': 'Checkout repository', 'uses': 'actions/checkout@v3'}, {'name': 'Setup Dependencies', 'uses': './.github/actions/setup-dependencies'}, {'name': 'Build ${{ matrix.language }} on ${{ matrix.os }}', 'uses': './.github/actions/build', 'timeout-minutes': 90}, {'name': 'Test ${{ matrix.language }} on ${{ matrix.os }}', 'uses': './.github/actions/test', 'timeout-minutes': 90, 'continue-on-error': True}]}}}
2025-11-05 14:32:01,878 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_baseline_repaired.yml
2025-11-05 14:32:01,878 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:32:01,878 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_baseline_repaired.yml
2025-11-05 14:32:01,879 - __main__ - INFO - === 파일 19/100 베이스라인 복구 완료 ===
2025-11-05 14:32:01,879 - __main__ - INFO - ✅ 성공 (17.19초): 7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319 -> 7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_baseline_repaired.yml
2025-11-05 14:32:01,879 - __main__ - INFO - [20/100] 처리 중: 650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 14:32:01,879 - __main__ - INFO - 입력 파일 경로: data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 14:32:01,879 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_baseline_repaired.yml
2025-11-05 14:32:01,879 - __main__ - INFO - === 파일 20/100 베이스라인 복구 시작 ===
2025-11-05 14:32:01,879 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:32:01,879 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:32:01,880 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 14:32:01,880 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:32:01,880 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:32:01,880 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 14:32:01,917 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 14:32:01,917 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:32:01,917 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:32:01,917 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:32:01,917 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.43초)
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yaml
name: Deploy
 on:
  push:
    branches:
      - master
 jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
       - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 16
       - name: Install pnpm
        run: npm i -g pnpm
       - name: Install & Build
        run: |
          pnpm install
          pnpm run docs:build
       - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: docs/.vitepress/dist
          # cname: example.com # if wanna deploy to custom domain
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 8)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 67
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yaml
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 2: name: Deploy
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 6: - master
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 8: deploy:
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-latest
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 10: steps:
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 11: - name: Checkout code
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 12: uses: actions/checkout@v3
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 13: with:
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 14: fetch-depth: 0
2025-11-05 14:32:02,343 - utils.process_runner - DEBUG - 라인 15: - name: Setup Node.js
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 16: uses: actions/setup-node@v3
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 18: node-version: 16
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 19: - name: Install pnpm
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 20: run: npm i -g pnpm
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 21: - name: Install & Build
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 22: run: |
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 23: pnpm install
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 24: pnpm run docs:build
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 25: - name: Deploy
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 26: uses: peaceiris/actions-gh-pages@v3
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 27: with:
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 28: github_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 29: publish_dir: docs/.vitepress/dist
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 30: # cname: example.com # if wanna deploy to custom domain
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 31: mapping values are not allowed here
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 32: in "<file>", line 2, column 5
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 33: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 47: We have found 17 smells
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 48: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 49: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 50: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 51: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 52: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 65: The following styling errors were found:
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 라인 66: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:32:02,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:32:02,344 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:32:02,344 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:32:02,344 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:32:02,344 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:32:02,344 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:32:02,344 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:32:02,345 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
yaml
name: Deploy
 on:
  push:
    branches:
      - master
 jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
       - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 16
       - name: Install pnpm
        run: npm i -g pnpm
       - name: Install & Build...
2025-11-05 14:32:02,345 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:32:02,345 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:32:02,345 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:32:02,346 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:32:11,796 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1577
2025-11-05 14:32:11,799 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:32:11,801 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:32:11,801 - main - DEBUG - 추출된 YAML:
name: Deploy
on:
  push:
    branches:
      - master
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '16'
      - name: Install pnpm
        run: npm install -g pnpm
      - name: Install & Build
        run: |
          pnpm install
          pnpm run docs:build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: 'docs/.vitepress/dist'
2025-11-05 14:32:11,801 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:32:11,801 - main - DEBUG - 검증할 YAML 길이: 650 문자
2025-11-05 14:32:11,801 - main - DEBUG - YAML 시작 부분: 'name: Deploy\non:\n  push:\n    branches:\n      - master\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n   '
2025-11-05 14:32:11,808 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Deploy', 'on': {'push': {'branches': ['master']}}, 'jobs': {'deploy': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Setup Node.js', 'uses': 'actions/setup-node@v3', 'with': {'node-version': '16'}}, {'name': 'Install pnpm', 'run': 'npm install -g pnpm'}, {'name': 'Install & Build', 'run': 'pnpm install\npnpm run docs:build\n'}, {'name': 'Deploy', 'uses': 'peaceiris/actions-gh-pages@v3', 'with': {'github_token': '${{ secrets.GITHUB_TOKEN }}', 'publish_dir': 'docs/.vitepress/dist'}}]}}}
2025-11-05 14:32:11,809 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_baseline_repaired.yml
2025-11-05 14:32:11,809 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:32:11,809 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_baseline_repaired.yml
2025-11-05 14:32:11,809 - __main__ - INFO - === 파일 20/100 베이스라인 복구 완료 ===
2025-11-05 14:32:11,809 - __main__ - INFO - ✅ 성공 (9.93초): 650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a -> 650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_baseline_repaired.yml
2025-11-05 14:32:11,809 - __main__ - INFO - [21/100] 처리 중: 2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 14:32:11,809 - __main__ - INFO - 입력 파일 경로: data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 14:32:11,809 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_baseline_repaired.yml
2025-11-05 14:32:11,809 - __main__ - INFO - === 파일 21/100 베이스라인 복구 시작 ===
2025-11-05 14:32:11,809 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:32:11,809 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:32:11,810 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 14:32:11,810 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:32:11,810 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:32:11,810 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 14:32:11,835 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:32:11,836 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:32:11,836 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:32:11,836 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:32:11,836 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 14:32:12,308 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:32:12,308 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 6. Define permissions for workflows with external actions (job at line: 8)
	- 7. Use 'if' for upload-artifact action (line 43)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 8)
	- 13. Use names for run steps (lines -1:-1)
	- 13. Use names for run steps (lines -1:43)
	- 13. Use names for run steps (lines -1:17)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
17:5: wrong indentation: expected 6 but found 4 (indentation)
45:43: too few spaces before comment: expected 2 (comments)
45:44: missing starting space in comment (comments)

2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 23
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 3: We have found 15 smells
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 8)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 8)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 6: - 7. Use 'if' for upload-artifact action (line 43)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 43)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 10: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 11: - 10. Avoid jobs without timeouts (line: 8)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 8)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines -1:-1)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:-1)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines -1:43)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:43)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines -1:17)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:17)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 15: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 16: - 19. Run tests on multiple OS's (job: build)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 17: - 22. Avoid deploying jobs on forks
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 18: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 19: The following styling errors were found:
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 20: 17:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 21: 45:43: too few spaces before comment: expected 2 (comments)
2025-11-05 14:32:12,309 - utils.process_runner - DEBUG - 라인 22: 45:44: missing starting space in comment (comments)
2025-11-05 14:32:12,309 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:32:12,309 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:32:12,309 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:32:12,309 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:32:12,309 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:32:12,309 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# https://code.visualstudio.com/api/working-with-extensions/continuous-integration

name: Node CI

on: [push, pull_request]

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [10.x]

    steps:
    - uses: actions/checkout@v1
      with:
        ref: ${{ github.ref }}
    - name: Use Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v1
      wit...
2025-11-05 14:32:12,309 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:32:12,309 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:32:12,309 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:32:12,310 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:32:26,010 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:32:26,010 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:32:26,011 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:32:26,011 - main - DEBUG - 추출된 YAML:
# https://code.visualstudio.com/api/working-with-extensions/continuous-integration

name: Node CI

on: [push, pull_request]

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [10.x]

    steps:
    - name: Checkout code
      uses: actions/checkout@v1
      with:
        ref: ${{ github.ref }}

    - name: Setup Node.js ${{ matrix.node-version }}
      uses: actions/setup-node@v1
      with:
        node-version: ${{ matrix.node-version }}

    - name: Install dependencies and run tests
      env:
        HUSKY_SKIP_INSTALL: "true"
        CXX: "g++-4.9"
        CC: "gcc-4.9"
        DISPLAY: ":99.0"
      run: |
        /usr/bin/Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &
        yarn

    - name: Run tests
      env:
        HUSKY_SKIP_INSTALL: "true"
        CXX: "g++-4.9"
        CC: "gcc-4.9"
        DISPLAY: ":99.0"
      run: |
        yarn test:older --no-coverage
        yarn test

    - name: Upload code coverage to Codecov
      uses: codecov/codecov-action@v1.0.2
      with:
        token: ${{ secrets.CODECOV_TOKEN }} #required
2025-11-05 14:32:26,011 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:32:26,011 - main - DEBUG - 검증할 YAML 길이: 1105 문자
2025-11-05 14:32:26,011 - main - DEBUG - YAML 시작 부분: '# https://code.visualstudio.com/api/working-with-extensions/continuous-integration\n\nname: Node CI\n\no'
2025-11-05 14:32:26,013 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Node CI', 'on': ['push', 'pull_request'], 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'strategy': {'matrix': {'node-version': ['10.x']}}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v1', 'with': {'ref': '${{ github.ref }}'}}, {'name': 'Setup Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Install dependencies and run tests', 'env': {'HUSKY_SKIP_INSTALL': 'true', 'CXX': 'g++-4.9', 'CC': 'gcc-4.9', 'DISPLAY': ':99.0'}, 'run': '/usr/bin/Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &\nyarn\n'}, {'name': 'Run tests', 'env': {'HUSKY_SKIP_INSTALL': 'true', 'CXX': 'g++-4.9', 'CC': 'gcc-4.9', 'DISPLAY': ':99.0'}, 'run': 'yarn test:older --no-coverage\nyarn test\n'}, {'name': 'Upload code coverage to Codecov', 'uses': 'codecov/codecov-action@v1.0.2', 'with': {'token': '${{ secrets.CODECOV_TOKEN }}'}}]}}}
2025-11-05 14:32:26,013 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_baseline_repaired.yml
2025-11-05 14:32:26,013 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:32:26,013 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_baseline_repaired.yml
2025-11-05 14:32:26,014 - __main__ - INFO - === 파일 21/100 베이스라인 복구 완료 ===
2025-11-05 14:32:26,014 - __main__ - INFO - ✅ 성공 (14.20초): 2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e -> 2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_baseline_repaired.yml
2025-11-05 14:32:26,014 - __main__ - INFO - [22/100] 처리 중: cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 14:32:26,015 - __main__ - INFO - 입력 파일 경로: data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 14:32:26,015 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_baseline_repaired.yml
2025-11-05 14:32:26,015 - __main__ - INFO - === 파일 22/100 베이스라인 복구 시작 ===
2025-11-05 14:32:26,015 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:32:26,015 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:32:26,015 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 14:32:26,015 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:32:26,015 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:32:26,015 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 14:32:26,021 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:32:26,022 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:32:26,022 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:32:26,022 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:32:26,022 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.41초)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
We have found 13 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 6. Define permissions for workflows with external actions (job at line: 14)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 14)
	- 13. Use names for run steps (lines -1:18)
	- 14. Avoid incorrectly formatted workflows
	- 18. Avoid installing packages without version (line -1)
	- 19. Run tests on multiple OS's (job: pex_build_publish)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
24:42: too many spaces after comma (commas)

2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 18
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 2: We have found 13 smells
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 14)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 14)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 9: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 10: - 10. Avoid jobs without timeouts (line: 14)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 14)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:18)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:18)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 12: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 13: - 18. Avoid installing packages without version (line -1)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 14: - 19. Run tests on multiple OS's (job: pex_build_publish)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: pex_build_publish)
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 16: The following styling errors were found:
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:32:26,429 - utils.process_runner - DEBUG - 라인 17: 24:42: too many spaces after comma (commas)
2025-11-05 14:32:26,429 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:32:26,430 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:32:26,430 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:32:26,430 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:32:26,430 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:32:26,430 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
---
name: PEX Build and Upload

on:
  release:
    types: [created]
  workflow_run:
    workflows:
      - Upload Python Package
    types:
      - completed

jobs:
  pex_build_publish:
    # if: false  # disable
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
        with:
          submodules: recursive
      - name: Set up Python
        uses: actions/setup-python@v2
        wi...
2025-11-05 14:32:26,430 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:32:26,430 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:32:26,430 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:32:26,431 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:32:40,807 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:32:40,808 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:32:40,809 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:32:40,809 - main - DEBUG - 추출된 YAML:
---
name: PEX Build and Upload

on:
  release:
    types: [created]
  workflow_run:
    workflows:
      - Upload Python Package
    types:
      - completed

jobs:
  pex_build_publish:
    runs-on: ubuntu-latest
    timeout-minutes: 10  # Add a timeout to avoid jobs without timeouts
    steps:
      - uses: actions/checkout@v2
        with:
          submodules: recursive
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.9'  # Simplify the version list to a single value
      - name: Set up Go
        uses: actions/setup-go@v2
        with:
          go-version: 1.17
      - name: Install Python dependencies
        run: |
          python -m pip install --upgrade pip
          pip install pex
      - name: Build Pex
        run: |-
          mkdir -p dist
          pex .[gojsonnet] -r requirements.txt --python-shebang='#!/usr/bin/env python3' --python=python3.7 --python=python3.8 --python=python3.9 -m kapitan -o dist/kapitan.linux-x86_64.pex
      - name: Add linux-x86_64 pex to assets
        uses: softprops/action-gh-release@v1
        if: startsWith(github.ref, 'refs/tags/')
        with:
          files: dist/kapitan.linux-x86_64.pex
2025-11-05 14:32:40,809 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:32:40,809 - main - DEBUG - 검증할 YAML 길이: 1216 문자
2025-11-05 14:32:40,809 - main - DEBUG - YAML 시작 부분: '---\nname: PEX Build and Upload\n\non:\n  release:\n    types: [created]\n  workflow_run:\n    workflows:\n '
2025-11-05 14:32:40,817 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'PEX Build and Upload', 'on': {'release': {'types': ['created']}, 'workflow_run': {'workflows': ['Upload Python Package'], 'types': ['completed']}}, 'jobs': {'pex_build_publish': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'submodules': 'recursive'}}, {'name': 'Set up Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '3.9'}}, {'name': 'Set up Go', 'uses': 'actions/setup-go@v2', 'with': {'go-version': 1.17}}, {'name': 'Install Python dependencies', 'run': 'python -m pip install --upgrade pip\npip install pex\n'}, {'name': 'Build Pex', 'run': "mkdir -p dist\npex .[gojsonnet] -r requirements.txt --python-shebang='#!/usr/bin/env python3' --python=python3.7 --python=python3.8 --python=python3.9 -m kapitan -o dist/kapitan.linux-x86_64.pex"}, {'name': 'Add linux-x86_64 pex to assets', 'uses': 'softprops/action-gh-release@v1', 'if': "startsWith(github.ref, 'refs/tags/')", 'with': {'files': 'dist/kapitan.linux-x86_64.pex'}}]}}}
2025-11-05 14:32:40,818 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_baseline_repaired.yml
2025-11-05 14:32:40,818 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:32:40,818 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_baseline_repaired.yml
2025-11-05 14:32:40,819 - __main__ - INFO - === 파일 22/100 베이스라인 복구 완료 ===
2025-11-05 14:32:40,819 - __main__ - INFO - ✅ 성공 (14.80초): cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6 -> cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_baseline_repaired.yml
2025-11-05 14:32:40,819 - __main__ - INFO - [23/100] 처리 중: e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 14:32:40,819 - __main__ - INFO - 입력 파일 경로: data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 14:32:40,819 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_baseline_repaired.yml
2025-11-05 14:32:40,819 - __main__ - INFO - === 파일 23/100 베이스라인 복구 시작 ===
2025-11-05 14:32:40,819 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:32:40,819 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:32:40,820 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 14:32:40,820 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:32:40,820 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:32:40,820 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 14:32:40,840 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:32:40,840 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:32:40,840 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:32:40,840 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:32:40,840 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 14:32:43,224 - utils.process_runner - DEBUG - 명령어 실행 성공 (2.38초)
2025-11-05 14:32:43,224 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
We have found 11 smells
	- 2. Prevent running issue/PR actions on forks line -1:36
	- 3. Use fixed version for runs-on argument (line 11)
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 11)
	- 13. Use names for run steps (lines 18:18)
	- 14. Avoid incorrectly formatted workflows
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
18:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 14:32:43,224 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:32:43,224 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 16
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line -1:36
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:36
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines 18:18)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 18:18)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 12: - 18. Avoid installing packages without version (line -1)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 14: The following styling errors were found:
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:32:43,225 - utils.process_runner - DEBUG - 라인 15: 18:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:32:43,225 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:32:43,225 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:32:43,225 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:32:43,225 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:32:43,225 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:32:43,225 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# This workflow will install Python dependencies, run tests and lint with a variety of Python versions
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions

name: Build

on:
  release:
    types: [published]

jobs:
  deploy-windows:
    runs-on: windows-latest
    strategy:
      matrix:
        python-version: [3.7]

    steps:
    - ...
2025-11-05 14:32:43,225 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:32:43,225 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:32:43,225 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:32:43,227 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:32:59,877 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:32:59,878 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:32:59,879 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:32:59,879 - main - DEBUG - 추출된 YAML:
# This workflow will install Python dependencies, run tests and lint with a variety of Python versions
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions

name: Build

on:
  release:
    types: [published]

jobs:
  deploy-windows:
    runs-on: windows-latest
    strategy:
      matrix:
        python-version: [3.7]
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v2
      with:
        python-version: ${{ matrix.python-version }}
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install setuptools wheel twine
        pip install -r requirements.txt
    - name: Build and publish
      env:
        TWINE_USERNAME: ${{ secrets.PYPI_USERNAME }}
        TWINE_PASSWORD: ${{ secrets.AMULET_CORE_PYPI_PASSWORD }}
      run: |
        python setup.py sdist bdist_wheel
        twine upload dist/*
    - name: Build Docs
      shell: bash
      env:
        RTDTOKEN: ${{ secrets.RTDTOKEN }}
        RTDURL: ${{ secrets.RTDURL }}
        TAGNAME: ${{ github.event.release.tag_name }}
      run: |
        release_regex_version='^([0-9]+\.[0-9]+(\.[0-9]+)?\.)([0-9]+)$'
        if [[ $TAGNAME =~ $release_regex_version ]]; then
          # if it is a full release trigger the stable docs build
          curl -X POST -d "branches=stable" -d "token=$RTDTOKEN" $RTDURL
        else
          # if it is a beta release trigger the beta docs build
          curl -X POST -d "branches=latest" -d "token=$RTDTOKEN" $RTDURL
        fi
2025-11-05 14:32:59,879 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:32:59,879 - main - DEBUG - 검증할 YAML 길이: 1706 문자
2025-11-05 14:32:59,879 - main - DEBUG - YAML 시작 부분: '# This workflow will install Python dependencies, run tests and lint with a variety of Python versio'
2025-11-05 14:32:59,882 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build', 'on': {'release': {'types': ['published']}}, 'jobs': {'deploy-windows': {'runs-on': 'windows-latest', 'strategy': {'matrix': {'python-version': [3.7]}}, 'timeout-minutes': 10, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install dependencies', 'run': 'python -m pip install --upgrade pip\npip install setuptools wheel twine\npip install -r requirements.txt\n'}, {'name': 'Build and publish', 'env': {'TWINE_USERNAME': '${{ secrets.PYPI_USERNAME }}', 'TWINE_PASSWORD': '${{ secrets.AMULET_CORE_PYPI_PASSWORD }}'}, 'run': 'python setup.py sdist bdist_wheel\ntwine upload dist/*\n'}, {'name': 'Build Docs', 'shell': 'bash', 'env': {'RTDTOKEN': '${{ secrets.RTDTOKEN }}', 'RTDURL': '${{ secrets.RTDURL }}', 'TAGNAME': '${{ github.event.release.tag_name }}'}, 'run': 'release_regex_version=\'^([0-9]+\\.[0-9]+(\\.[0-9]+)?\\.)([0-9]+)$\'\nif [[ $TAGNAME =~ $release_regex_version ]]; then\n  # if it is a full release trigger the stable docs build\n  curl -X POST -d "branches=stable" -d "token=$RTDTOKEN" $RTDURL\nelse\n  # if it is a beta release trigger the beta docs build\n  curl -X POST -d "branches=latest" -d "token=$RTDTOKEN" $RTDURL\nfi'}]}}}
2025-11-05 14:32:59,883 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_baseline_repaired.yml
2025-11-05 14:32:59,883 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:32:59,883 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_baseline_repaired.yml
2025-11-05 14:32:59,883 - __main__ - INFO - === 파일 23/100 베이스라인 복구 완료 ===
2025-11-05 14:32:59,883 - __main__ - INFO - ✅ 성공 (19.06초): e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6 -> e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_baseline_repaired.yml
2025-11-05 14:32:59,884 - __main__ - INFO - [24/100] 처리 중: f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 14:32:59,884 - __main__ - INFO - 입력 파일 경로: data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 14:32:59,884 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_baseline_repaired.yml
2025-11-05 14:32:59,884 - __main__ - INFO - === 파일 24/100 베이스라인 복구 시작 ===
2025-11-05 14:32:59,884 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:32:59,884 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:32:59,885 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 14:32:59,885 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:32:59,885 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:32:59,885 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 14:32:59,913 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:32:59,913 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:32:59,914 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:32:59,914 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:32:59,914 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Black code formatting

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
      - uses: actions/checkout@v2

      - name: Black
      - uses: psf/black@stable

      - name: Commit
        run: |
 ​         git add dist/*
 ​         git config --local user.email "42198152+github-actions[bot]@users.noreply.github.com"
 ​         git config --local user.name "github-actions[bot]"
 ​         git commit -m "Black code changes"

while parsing a block mapping
  in "<file>", line 1, column 1
expected <block end>, but found '<scalar>'
  in "<file>", line 21, column 2
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
5:16: too many spaces inside brackets (brackets)
5:21: too many spaces inside brackets (brackets)
7:16: too many spaces inside brackets (brackets)
7:21: too many spaces inside brackets (brackets)
21:2: syntax error: expected <block end>, but found '<scalar>' (syntax)

2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 67
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Black code formatting
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 5: branches: [ main ]
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 6: pull_request:
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 7: branches: [ main ]
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 10: lint:
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 12: steps:
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 13: - name: Checkout
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 14: - uses: actions/checkout@v2
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 16: - name: Black
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 17: - uses: psf/black@stable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 19: - name: Commit
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 20: run: |
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 21: ​         git add dist/*
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 22: ​         git config --local user.email "42198152+github-actions[bot]@users.noreply.github.com"
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 23: ​         git config --local user.name "github-actions[bot]"
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 24: ​         git commit -m "Black code changes"
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 26: while parsing a block mapping
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 27: in "<file>", line 1, column 1
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 28: expected <block end>, but found '<scalar>'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 29: in "<file>", line 21, column 2
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 30: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,380 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 44: We have found 16 smells
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 45: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 46: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 47: - 12. Avoid workflows without comments
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 48: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 61: The following styling errors were found:
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 62: 5:16: too many spaces inside brackets (brackets)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 63: 5:21: too many spaces inside brackets (brackets)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 64: 7:16: too many spaces inside brackets (brackets)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 65: 7:21: too many spaces inside brackets (brackets)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 라인 66: 21:2: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:33:00,381 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 21:2: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:33:00,381 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:33:00,381 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:33:00,381 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:33:00,381 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:33:00,381 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:33:00,381 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:33:00,381 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Black code formatting

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
      - uses: actions/checkout@v2

      - name: Black
      - uses: psf/black@stable

      - name: Commit
        run: |
 ​         git add dist/*
 ​         git config --local user.email "42198152+github-actions[bot]@users.no...
2025-11-05 14:33:00,381 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:33:00,381 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:33:00,381 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:33:00,382 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:33:09,448 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1603
2025-11-05 14:33:09,450 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:33:09,451 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:33:09,451 - main - DEBUG - 추출된 YAML:
name: Black code formatting

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Install and run Black
        uses: psf/black@stable
        with:
          args: --check

      - name: Commit changes
        run: |
          git add dist/*
          git config --local user.email "42198152+github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          git commit -m "Black code changes"
2025-11-05 14:33:09,451 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:33:09,451 - main - DEBUG - 검증할 YAML 길이: 595 문자
2025-11-05 14:33:09,451 - main - DEBUG - YAML 시작 부분: 'name: Black code formatting\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main'
2025-11-05 14:33:09,456 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Black code formatting', 'on': {'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'jobs': {'lint': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Install and run Black', 'uses': 'psf/black@stable', 'with': {'args': '--check'}}, {'name': 'Commit changes', 'run': 'git add dist/*\ngit config --local user.email "42198152+github-actions[bot]@users.noreply.github.com"\ngit config --local user.name "github-actions[bot]"\ngit commit -m "Black code changes"'}]}}}
2025-11-05 14:33:09,456 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_baseline_repaired.yml
2025-11-05 14:33:09,457 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:33:09,457 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_baseline_repaired.yml
2025-11-05 14:33:09,457 - __main__ - INFO - === 파일 24/100 베이스라인 복구 완료 ===
2025-11-05 14:33:09,457 - __main__ - INFO - ✅ 성공 (9.57초): f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e -> f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_baseline_repaired.yml
2025-11-05 14:33:09,457 - __main__ - INFO - [25/100] 처리 중: 28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 14:33:09,457 - __main__ - INFO - 입력 파일 경로: data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 14:33:09,458 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_baseline_repaired.yml
2025-11-05 14:33:09,458 - __main__ - INFO - === 파일 25/100 베이스라인 복구 시작 ===
2025-11-05 14:33:09,458 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:33:09,458 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:33:09,458 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 14:33:09,458 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:33:09,459 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:33:09,459 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 14:33:09,487 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:33:09,487 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:33:09,487 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:33:09,487 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:33:09,487 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 14:33:10,106 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.62초)
2025-11-05 14:33:10,106 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 14)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 14)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 14)
	- 13. Use names for run steps (lines 23:23)
	- 13. Use names for run steps (lines 30:30)
	- 13. Use names for run steps (lines 31:31)
	- 13. Use names for run steps (lines 32:32)
	- 13. Use names for run steps (lines 29:29)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
35:15: too many spaces inside braces (braces)
35:47: too many spaces inside braces (braces)
37:28: too few spaces before comment: expected 2 (comments)
39:23: too few spaces before comment: expected 2 (comments)

2025-11-05 14:33:10,106 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:33:10,106 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 25
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 2: We have found 17 smells
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 14)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 14)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 9: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 10: - 10. Avoid jobs without timeouts (line: 14)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 14)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines 23:23)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 23:23)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines 30:30)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 30:30)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines 31:31)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 31:31)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines 32:32)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 32:32)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 15: - 13. Use names for run steps (lines 29:29)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 29:29)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 16: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 17: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 18: - 19. Run tests on multiple OS's (job: build)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 19: - 22. Avoid deploying jobs on forks
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 20: The following styling errors were found:
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 21: 35:15: too many spaces inside braces (braces)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 22: 35:47: too many spaces inside braces (braces)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 23: 37:28: too few spaces before comment: expected 2 (comments)
2025-11-05 14:33:10,107 - utils.process_runner - DEBUG - 라인 24: 39:23: too few spaces before comment: expected 2 (comments)
2025-11-05 14:33:10,108 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:33:10,108 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:33:10,108 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:33:10,108 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:33:10,108 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:33:10,108 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# This workflow will do a clean install of node dependencies, cache/restore them, build the source code and run tests across different versions of node
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions

name: Node.js CI

on:
  push:
    branches:
      - master
    pull_request:
      - master

jobs:
  build:
    runs-on: ubuntu-lat...
2025-11-05 14:33:10,108 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:33:10,108 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:33:10,108 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:33:10,110 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:33:27,061 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:33:27,062 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:33:27,062 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:33:27,062 - main - DEBUG - 추출된 YAML:
# This workflow will do a clean install of node dependencies, cache/restore them, build the source code and run tests across different versions of node
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-nodejs-with-github-actions

name: Node.js CI

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - master

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [16.x]
        # See supported Node.js release schedule at https://nodejs.org/en/about/releases/

    steps:
      - uses: actions/checkout@v2
      - name: Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v2
        with:
          node-version: ${{ matrix.node-version }}
          cache: "npm"
      - run: npm i
      - run: CI='' && npm run build --if-present
      - run: touch ./build/.nojekyll
      - run: sed -i 's|scran/scran|kana/scran/scran|g' ./build/scran/scran.js
      - name: GH Pages Deployment
        uses: JamesIves/github-pages-deploy-action@4.1.3
        if: github.event.pull_request == null || github.event.pull_request.merged == false
        with:
          branch: gh-pages # The branch the action should deploy to.
          folder: ./build
          clean: true # Automatically remove deleted files from the deploy branch

      - name: Wait for deployment to finish
        run: |
          while [ ! -f ./build/.deployed ]; do sleep 1; done
2025-11-05 14:33:27,063 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:33:27,063 - main - DEBUG - 검증할 YAML 길이: 1469 문자
2025-11-05 14:33:27,063 - main - DEBUG - YAML 시작 부분: '# This workflow will do a clean install of node dependencies, cache/restore them, build the source c'
2025-11-05 14:33:27,066 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Node.js CI', 'on': {'push': {'branches': ['master']}, 'pull_request': {'branches': ['master']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'strategy': {'matrix': {'node-version': ['16.x']}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v2', 'with': {'node-version': '${{ matrix.node-version }}', 'cache': 'npm'}}, {'run': 'npm i'}, {'run': "CI='' && npm run build --if-present"}, {'run': 'touch ./build/.nojekyll'}, {'run': "sed -i 's|scran/scran|kana/scran/scran|g' ./build/scran/scran.js"}, {'name': 'GH Pages Deployment', 'uses': 'JamesIves/github-pages-deploy-action@4.1.3', 'if': 'github.event.pull_request == null || github.event.pull_request.merged == false', 'with': {'branch': 'gh-pages', 'folder': './build', 'clean': True}}, {'name': 'Wait for deployment to finish', 'run': 'while [ ! -f ./build/.deployed ]; do sleep 1; done'}]}}}
2025-11-05 14:33:27,066 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_baseline_repaired.yml
2025-11-05 14:33:27,066 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:33:27,066 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_baseline_repaired.yml
2025-11-05 14:33:27,066 - __main__ - INFO - === 파일 25/100 베이스라인 복구 완료 ===
2025-11-05 14:33:27,066 - __main__ - INFO - ✅ 성공 (17.61초): 28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21 -> 28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_baseline_repaired.yml
2025-11-05 14:33:27,066 - __main__ - INFO - [26/100] 처리 중: a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 14:33:27,066 - __main__ - INFO - 입력 파일 경로: data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 14:33:27,067 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_baseline_repaired.yml
2025-11-05 14:33:27,067 - __main__ - INFO - === 파일 26/100 베이스라인 복구 시작 ===
2025-11-05 14:33:27,067 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:33:27,067 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:33:27,067 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 14:33:27,067 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:33:27,068 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:33:27,068 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 14:33:27,098 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:33:27,098 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:33:27,098 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:33:27,098 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:33:27,098 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 14:33:27,557 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: JS - generate docs

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]
    paths: [js]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN
permissions:
  contents: write
  id-token: write

jobs:
  makeDocs:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          ref: main
      - name: Generate docs
        working-directory: js
          run: |
            yarn
            yarn run build
            yarn run make-docs
      - name: Commit
        run: |
          git config --local user.email "invernizzi.l@gmail.com"
          git config --local user.name "Luca Invernizzi"
          git commit -m "Update docs" -a
          git push

mapping values are not allowed here
  in "<file>", line 27, column 14
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 18)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
27:14: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 72
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: JS - generate docs
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 4: # Runs on pushes targeting the default branch
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 6: branches: ["main"]
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 7: paths: [js]
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 9: # Allows you to run this workflow manually from the Actions tab
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 10: workflow_dispatch:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 12: # Sets permissions of the GITHUB_TOKEN
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 13: permissions:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 14: contents: write
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 15: id-token: write
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 17: jobs:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 18: makeDocs:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 19: runs-on: ubuntu-latest
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 21: - name: Checkout
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 22: uses: actions/checkout@v4
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 23: with:
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 24: ref: main
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 25: - name: Generate docs
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 26: working-directory: js
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 27: run: |
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 28: yarn
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 29: yarn run build
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 30: yarn run make-docs
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 31: - name: Commit
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 32: run: |
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 33: git config --local user.email "invernizzi.l@gmail.com"
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 34: git config --local user.name "Luca Invernizzi"
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 35: git commit -m "Update docs" -a
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 36: git push
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 38: mapping values are not allowed here
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 39: in "<file>", line 27, column 14
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 40: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 54: We have found 15 smells
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 55: - 3. Use fixed version for runs-on argument (line 18)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 18)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 56: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 57: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:33:27,558 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 라인 70: The following styling errors were found:
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 라인 71: 27:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:33:27,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 27:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:33:27,559 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:33:27,559 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:33:27,559 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:33:27,559 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:33:27,559 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:33:27,559 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:33:27,559 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: JS - generate docs

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]
    paths: [js]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN
permissions:
  contents: write
  id-token: write

jobs:
  makeDocs:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/che...
2025-11-05 14:33:27,559 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:33:27,559 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:33:27,559 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:33:27,560 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:33:39,758 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:33:39,759 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:33:39,760 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:33:39,760 - main - DEBUG - 추출된 YAML:
name: JS - generate docs

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]
    paths: ["js/**"]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN
permissions:
  contents: write
  id-token: write

jobs:
  makeDocs:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          ref: main
      - name: Generate docs
        working-directory: js
        run: |
          yarn
          yarn run build
          yarn run make-docs
      - name: Commit and push changes
        run: |
          git config --local user.email "invernizzi.l@gmail.com"
          git config --local user.name "Luca Invernizzi"
          git add .
          git commit -m "Update docs" -a
          git push
2025-11-05 14:33:39,760 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:33:39,760 - main - DEBUG - 검증할 YAML 길이: 851 문자
2025-11-05 14:33:39,760 - main - DEBUG - YAML 시작 부분: 'name: JS - generate docs\n\non:\n  # Runs on pushes targeting the default branch\n  push:\n    branches: '
2025-11-05 14:33:39,762 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'JS - generate docs', 'on': {'push': {'branches': ['main'], 'paths': ['js/**']}, 'workflow_dispatch': None}, 'permissions': {'contents': 'write', 'id-token': 'write'}, 'jobs': {'makeDocs': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v4', 'with': {'ref': 'main'}}, {'name': 'Generate docs', 'working-directory': 'js', 'run': 'yarn\nyarn run build\nyarn run make-docs\n'}, {'name': 'Commit and push changes', 'run': 'git config --local user.email "invernizzi.l@gmail.com"\ngit config --local user.name "Luca Invernizzi"\ngit add .\ngit commit -m "Update docs" -a\ngit push'}]}}}
2025-11-05 14:33:39,762 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_baseline_repaired.yml
2025-11-05 14:33:39,762 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:33:39,762 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_baseline_repaired.yml
2025-11-05 14:33:39,762 - __main__ - INFO - === 파일 26/100 베이스라인 복구 완료 ===
2025-11-05 14:33:39,762 - __main__ - INFO - ✅ 성공 (12.70초): a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60 -> a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_baseline_repaired.yml
2025-11-05 14:33:39,762 - __main__ - INFO - [27/100] 처리 중: 1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 14:33:39,762 - __main__ - INFO - 입력 파일 경로: data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 14:33:39,762 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_baseline_repaired.yml
2025-11-05 14:33:39,762 - __main__ - INFO - === 파일 27/100 베이스라인 복구 시작 ===
2025-11-05 14:33:39,762 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:33:39,762 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:33:39,763 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 14:33:39,763 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:33:39,763 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:33:39,763 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 14:33:39,786 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:33:39,787 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:33:39,787 - main - INFO - actionlint에서 6개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:33:39,787 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:33:39,787 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
We have found 10 smells
	- 3. Use fixed version for runs-on argument (line 19)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 72)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 9)
	- 11. Avoid uploading artifacts on forks (line 73)
	- 12. Avoid workflows without comments
	- 22. Avoid deploying jobs on forks

2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 13
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 2: We have found 10 smells
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 10 smells
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 19)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 19)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 4: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 72)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 72)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 9)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 9)
2025-11-05 14:33:40,295 - utils.process_runner - DEBUG - 라인 10: - 11. Avoid uploading artifacts on forks (line 73)
2025-11-05 14:33:40,296 - utils.process_runner - DEBUG - 대상 스멜 감지 (#11): Avoid uploading artifacts on forks (line 73)
2025-11-05 14:33:40,296 - utils.process_runner - DEBUG - 라인 11: - 12. Avoid workflows without comments
2025-11-05 14:33:40,296 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:33:40,296 - utils.process_runner - DEBUG - 라인 12: - 22. Avoid deploying jobs on forks
2025-11-05 14:33:40,296 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:33:40,296 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:33:40,296 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 14:33:40,296 - main - INFO - Smell detector에서 2개 스멜 발견
2025-11-05 14:33:40,296 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:33:40,296 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:33:40,296 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Release

on: [workflow_dispatch]

inputs:
  version:
    description: Version Number
    required: true
  release:
    description: Make Release
    required: false
    default: false
  changelog:
    description: Update Changelog
    required: false
    default: false

jobs:
  release:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout
        uses...
2025-11-05 14:33:40,296 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:33:40,296 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:33:40,296 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:33:40,297 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:34:00,641 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:34:00,643 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:34:00,644 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:34:00,644 - main - DEBUG - 추출된 YAML:
name: Release

on:
  workflow_dispatch:
    inputs:
      version:
        description: Version Number
        required: true
      release:
        description: Make Release
        required: false
        default: false
      changelog:
        description: Update Changelog
        required: false
        default: false

permissions:
  contents: write

jobs:
  release:
    runs-on: ubuntu-latest
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
          ref: dev
          token: ${{ secrets.GH_TOKEN }}

      - name: Setup Python
        uses: actions/setup-python@v3
        with:
          python-version: 3.9

      - name: Setup Poetry
        uses: abatilo/actions-poetry@v2.1.4
        with:
          poetry-version: 1.1.11

      - name: Extract Release Notes
        run: |
          python ./extract-release-notes.py v${{ inputs.version }}

      - name: Config Git Username
        run: |
          git config user.name github-actions
          git config user.email github-actions@github.com

      - name: Update Changelog
        if: ${{ inputs.changelog }}
        run: |
          git add .
          git diff-index --quiet HEAD || git commit -m ":memo: update changelog"
          git push

      - name: Release to Public
        if: ${{ inputs.release }}
        run: |
          poetry config pypi-token.pypi ${{ secrets.PYPI_TOKEN }}
          poetry version ${{ inputs.version }}
          poetry publish --build
          git add .
          git diff-index --quiet HEAD || git commit -m ":sparkles: ${{ inputs.version }}"
          git push
          gh release create "v${{ inputs.version }}" dist/* --notes-file ./release-notes.md --title "✨ v${{ inputs.version }}"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Upload Build Artifacts
        if: ${{ inputs.release }}
        uses: actions/upload-artifact@v3
        with:
          name: artifacts
          path: dist/
        if: github.event.workflow_dispatch && !github.event.workflow_dispatch.inputs.release # Fix semantic smell: Avoid uploading artifacts on forks

      - name: Merge to Master
        run: |
          git checkout origin/master -b master
          git merge dev --ff-only
          git push --set-upstream origin master
2025-11-05 14:34:00,644 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:34:00,644 - main - DEBUG - 검증할 YAML 길이: 2395 문자
2025-11-05 14:34:00,644 - main - DEBUG - YAML 시작 부분: 'name: Release\n\non:\n  workflow_dispatch:\n    inputs:\n      version:\n        description: Version Numb'
2025-11-05 14:34:00,655 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Release', 'on': {'workflow_dispatch': {'inputs': {'version': {'description': 'Version Number', 'required': True}, 'release': {'description': 'Make Release', 'required': False, 'default': False}, 'changelog': {'description': 'Update Changelog', 'required': False, 'default': False}}}}, 'permissions': {'contents': 'write'}, 'jobs': {'release': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0, 'ref': 'dev', 'token': '${{ secrets.GH_TOKEN }}'}}, {'name': 'Setup Python', 'uses': 'actions/setup-python@v3', 'with': {'python-version': 3.9}}, {'name': 'Setup Poetry', 'uses': 'abatilo/actions-poetry@v2.1.4', 'with': {'poetry-version': '1.1.11'}}, {'name': 'Extract Release Notes', 'run': 'python ./extract-release-notes.py v${{ inputs.version }}\n'}, {'name': 'Config Git Username', 'run': 'git config user.name github-actions\ngit config user.email github-actions@github.com\n'}, {'name': 'Update Changelog', 'if': '${{ inputs.changelog }}', 'run': 'git add .\ngit diff-index --quiet HEAD || git commit -m ":memo: update changelog"\ngit push\n'}, {'name': 'Release to Public', 'if': '${{ inputs.release }}', 'run': 'poetry config pypi-token.pypi ${{ secrets.PYPI_TOKEN }}\npoetry version ${{ inputs.version }}\npoetry publish --build\ngit add .\ngit diff-index --quiet HEAD || git commit -m ":sparkles: ${{ inputs.version }}"\ngit push\ngh release create "v${{ inputs.version }}" dist/* --notes-file ./release-notes.md --title "✨ v${{ inputs.version }}"\n', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Upload Build Artifacts', 'if': 'github.event.workflow_dispatch && !github.event.workflow_dispatch.inputs.release', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'artifacts', 'path': 'dist/'}}, {'name': 'Merge to Master', 'run': 'git checkout origin/master -b master\ngit merge dev --ff-only\ngit push --set-upstream origin master'}]}}}
2025-11-05 14:34:00,656 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_baseline_repaired.yml
2025-11-05 14:34:00,656 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:34:00,656 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_baseline_repaired.yml
2025-11-05 14:34:00,656 - __main__ - INFO - === 파일 27/100 베이스라인 복구 완료 ===
2025-11-05 14:34:00,656 - __main__ - INFO - ✅ 성공 (20.89초): 1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4 -> 1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_baseline_repaired.yml
2025-11-05 14:34:00,656 - __main__ - INFO - [28/100] 처리 중: 312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 14:34:00,657 - __main__ - INFO - 입력 파일 경로: data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 14:34:00,657 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_baseline_repaired.yml
2025-11-05 14:34:00,657 - __main__ - INFO - === 파일 28/100 베이스라인 복구 시작 ===
2025-11-05 14:34:00,657 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:34:00,657 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:34:00,657 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 14:34:00,657 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:34:00,657 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:34:00,657 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 14:34:00,682 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:34:00,682 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:34:00,683 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:34:00,683 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:34:00,683 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Main Workflow
on: [push]
jobs:
  build-py2:
    name: Build Python 2.7
    runs-on: ubuntu-latest
    container: python:2.7
    steps:
      - uses: actions/checkout@v1
      - run: python --version
      - run: pip install -r requirements.txt
      - run: pip install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python setup.py test
  build-py3:
    name: Build Python 3.6
    runs-on: ubuntu-latest
    container: python:3.6
    steps:
      - uses: actions/checkout@v1
      - run: python3 --version
      - run: pip3 install -r requirements.txt
      - run: pip3 install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
  build-py3:
    name: Build Python 3.7
    runs-on: ubuntu-latest
    container: python:3.7
    steps:
      - uses: actions/checkout@v1
      - run: python3 --version
      - run: pip3 install -r requirements.txt
      - run: pip3 install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test

while constructing a mapping
  in "<file>", line 4, column 3
found duplicate key "build-py3" with value "{'name': 'Build Python 3.7', 'runs-on': 'ubuntu-latest', 'container': 'python:3.7', 'steps': [{'uses': 'actions/checkout@v1'}, {'run': 'python3 --version'}, {'run': 'pip3 install -r requirements.txt'}, {'run': 'pip3 install -r extra.txt'}, {'run': 'ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test'}]}" (original value: "{'name': 'Build Python 3.6', 'runs-on': 'ubuntu-latest', 'container': 'python:3.6', 'steps': [{'uses': 'actions/checkout@v1'}, {'run': 'python3 --version'}, {'run': 'pip3 install -r requirements.txt'}, {'run': 'pip3 install -r extra.txt'}, {'run': 'ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test'}]}")
  in "<file>", line 24, column 3

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 5)
	- 8. Use commit hash instead of tags for action versions (line 8)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
24:3: duplication of key "build-py3" in mapping (key-duplicates)

2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 76
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Main Workflow
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 2: on: [push]
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 3: jobs:
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 4: build-py2:
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 5: name: Build Python 2.7
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 6: runs-on: ubuntu-latest
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 7: container: python:2.7
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 8: steps:
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 9: - uses: actions/checkout@v1
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 10: - run: python --version
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 11: - run: pip install -r requirements.txt
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 12: - run: pip install -r extra.txt
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 13: - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python setup.py test
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 14: build-py3:
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 15: name: Build Python 3.6
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 16: runs-on: ubuntu-latest
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 17: container: python:3.6
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 18: steps:
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 19: - uses: actions/checkout@v1
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 20: - run: python3 --version
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 21: - run: pip3 install -r requirements.txt
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 22: - run: pip3 install -r extra.txt
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 23: - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 24: build-py3:
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 25: name: Build Python 3.7
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 26: runs-on: ubuntu-latest
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 27: container: python:3.7
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 28: steps:
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 29: - uses: actions/checkout@v1
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 30: - run: python3 --version
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 31: - run: pip3 install -r requirements.txt
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 32: - run: pip3 install -r extra.txt
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 33: - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 35: while constructing a mapping
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 36: in "<file>", line 4, column 3
2025-11-05 14:34:01,159 - utils.process_runner - DEBUG - 라인 37: found duplicate key "build-py3" with value "{'name': 'Build Python 3.7', 'runs-on': 'ubuntu-latest', 'container': 'python:3.7', 'steps': [{'uses': 'actions/checkout@v1'}, {'run': 'python3 --version'}, {'run': 'pip3 install -r requirements.txt'}, {'run': 'pip3 install -r extra.txt'}, {'run': 'ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test'}]}" (original value: "{'name': 'Build Python 3.6', 'runs-on': 'ubuntu-latest', 'container': 'python:3.6', 'steps': [{'uses': 'actions/checkout@v1'}, {'run': 'python3 --version'}, {'run': 'pip3 install -r requirements.txt'}, {'run': 'pip3 install -r extra.txt'}, {'run': 'ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test'}]}")
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 38: in "<file>", line 24, column 3
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 40: To suppress this check see:
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 41: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 43: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 57: We have found 16 smells
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 58: - 3. Use fixed version for runs-on argument (line 5)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 5)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 59: - 8. Use commit hash instead of tags for action versions (line 8)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 8)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 60: - 12. Avoid workflows without comments
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 61: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 74: The following styling errors were found:
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:34:01,160 - utils.process_runner - DEBUG - 라인 75: 24:3: duplication of key "build-py3" in mapping (key-duplicates)
2025-11-05 14:34:01,160 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:34:01,160 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:34:01,160 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:34:01,160 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:34:01,160 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:34:01,160 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:34:01,160 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Main Workflow
on: [push]
jobs:
  build-py2:
    name: Build Python 2.7
    runs-on: ubuntu-latest
    container: python:2.7
    steps:
      - uses: actions/checkout@v1
      - run: python --version
      - run: pip install -r requirements.txt
      - run: pip install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python setup.py test
  build-py3:
    name: Build Python 3.6
    r...
2025-11-05 14:34:01,160 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:34:01,160 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:34:01,161 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:34:01,162 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:34:13,349 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1754
2025-11-05 14:34:13,351 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:34:13,351 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:34:13,352 - main - DEBUG - 추출된 YAML:
name: Main Workflow
on: [push]
jobs:
  build-py2:
    name: Build Python 2.7
    runs-on: ubuntu-latest
    container: python:2.7
    steps:
      - uses: actions/checkout@v1
      - run: python --version
      - run: pip install -r requirements.txt
      - run: pip install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python setup.py test
  build-py3-6:
    name: Build Python 3.6
    runs-on: ubuntu-latest
    container: python:3.6
    steps:
      - uses: actions/checkout@v1
      - run: python3 --version
      - run: pip3 install -r requirements.txt
      - run: pip3 install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
  build-py3-7:
    name: Build Python 3.7
    runs-on: ubuntu-latest
    container: python:3.7
    steps:
      - uses: actions/checkout@v1
      - run: python3 --version
      - run: pip3 install -r requirements.txt
      - run: pip3 install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
2025-11-05 14:34:13,352 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:34:13,352 - main - DEBUG - 검증할 YAML 길이: 1023 문자
2025-11-05 14:34:13,352 - main - DEBUG - YAML 시작 부분: 'name: Main Workflow\non: [push]\njobs:\n  build-py2:\n    name: Build Python 2.7\n    runs-on: ubuntu-lat'
2025-11-05 14:34:13,361 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Main Workflow', 'on': ['push'], 'jobs': {'build-py2': {'name': 'Build Python 2.7', 'runs-on': 'ubuntu-latest', 'container': 'python:2.7', 'steps': [{'uses': 'actions/checkout@v1'}, {'run': 'python --version'}, {'run': 'pip install -r requirements.txt'}, {'run': 'pip install -r extra.txt'}, {'run': 'ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python setup.py test'}]}, 'build-py3-6': {'name': 'Build Python 3.6', 'runs-on': 'ubuntu-latest', 'container': 'python:3.6', 'steps': [{'uses': 'actions/checkout@v1'}, {'run': 'python3 --version'}, {'run': 'pip3 install -r requirements.txt'}, {'run': 'pip3 install -r extra.txt'}, {'run': 'ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test'}]}, 'build-py3-7': {'name': 'Build Python 3.7', 'runs-on': 'ubuntu-latest', 'container': 'python:3.7', 'steps': [{'uses': 'actions/checkout@v1'}, {'run': 'python3 --version'}, {'run': 'pip3 install -r requirements.txt'}, {'run': 'pip3 install -r extra.txt'}, {'run': 'ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test'}]}}}
2025-11-05 14:34:13,362 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_baseline_repaired.yml
2025-11-05 14:34:13,362 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:34:13,362 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_baseline_repaired.yml
2025-11-05 14:34:13,362 - __main__ - INFO - === 파일 28/100 베이스라인 복구 완료 ===
2025-11-05 14:34:13,362 - __main__ - INFO - ✅ 성공 (12.71초): 312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3 -> 312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_baseline_repaired.yml
2025-11-05 14:34:13,363 - __main__ - INFO - [29/100] 처리 중: fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 14:34:13,364 - __main__ - INFO - 입력 파일 경로: data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 14:34:13,364 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_baseline_repaired.yml
2025-11-05 14:34:13,364 - __main__ - INFO - === 파일 29/100 베이스라인 복구 시작 ===
2025-11-05 14:34:13,364 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:34:13,364 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:34:13,365 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 14:34:13,365 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:34:13,365 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:34:13,365 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 14:34:13,394 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:34:13,394 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:34:13,394 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:34:13,394 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:34:13,394 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 14:34:13,848 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
YAML parsing error in multi_line_steps: 'CommentedSeq' object has no attribute 'replace'
YAML parsing error in installing_packages_without_version: 'CommentedSeq' object has no attribute 'split'
We have found 19 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 10)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 10)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 10. Avoid jobs without timeouts (line: 10)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:14)
	- 13. Use names for run steps (lines 13:13)
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 10)
	- 16. Avoid running CI related actions when no source code has changed
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 18. Avoid installing packages without version (line -1)
	- 19. Run tests on multiple OS's (job: build)
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
5:16: too many spaces inside brackets (brackets)
5:23: too many spaces inside brackets (brackets)
23:35: trailing spaces (trailing-spaces)

2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 28
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in multi_line_steps: 'CommentedSeq' object has no attribute 'replace'
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'CommentedSeq' object has no attribute 'replace'
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in installing_packages_without_version: 'CommentedSeq' object has no attribute 'split'
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'CommentedSeq' object has no attribute 'split'
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 4: We have found 19 smells
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 5: - 1. Avoid executing scheduled workflows on forks
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 6: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 7: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 11: - 10. Avoid jobs without timeouts (line: 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 12: - 12. Avoid workflows without comments
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines -1:14)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:14)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines 13:13)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 13:13)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 15: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 16: - 15. Use permissions whenever using Github Token (job at line 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 10)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 17: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 18: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 19: - 18. Avoid installing packages without version (line -1)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 20: - 19. Run tests on multiple OS's (job: build)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 21: - 22. Avoid deploying jobs on forks
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 22: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 24: The following styling errors were found:
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 25: 5:16: too many spaces inside brackets (brackets)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 26: 5:23: too many spaces inside brackets (brackets)
2025-11-05 14:34:13,849 - utils.process_runner - DEBUG - 라인 27: 23:35: trailing spaces (trailing-spaces)
2025-11-05 14:34:13,849 - utils.process_runner - INFO - 총 5개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:34:13,849 - utils.process_runner - INFO - Smell detector 실행 완료: 5개 스멜 발견
2025-11-05 14:34:13,849 - main - INFO - Smell detector에서 5개 스멜 발견
2025-11-05 14:34:13,849 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:34:13,849 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:34:13,849 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: CI

on:
  push:
    branches: [ master ]
  workflow_dispatch:
  schedule:
    - cron: "0 12 * * *"
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: '3.x'
      - name: Install dependencies
        run: pip install -r requirements.txt -r dev-requirements.txt
      - name: Test && Publi...
2025-11-05 14:34:13,849 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:34:13,849 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:34:13,849 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:34:13,851 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:34:31,574 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:34:31,575 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:34:31,575 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:34:31,576 - main - DEBUG - 추출된 YAML:
name: CI

on:
  push:
    branches: [ master ]
    paths-ignore:
      - 'docs/**'
      - 'tests/**'
  workflow_dispatch:
  schedule:
    - cron: "0 12 * * *"

jobs:
  build:
    runs-on: ubuntu-latest
    timeout-minutes: 60 # Add a timeout to avoid jobs without timeouts
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0 # Fetch all commits, not just the current one

      - name: Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.x'

      - name: Install dependencies
        run: |
          pip install -r requirements.txt
          pip install -r dev-requirements.txt

      - name: Test && Publish
        env:
          GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
          CC_TEST_REPORTER_ID: ${{secrets.CC_TEST_REPORTER_ID}}
        run: |
          coverage run -m pytest
          coverage run -a ./update.py --release
          coverage xml && coverage report
          curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
          chmod +x ./cc-test-reporter
          ./cc-test-reporter after-build

      - name: Report coverage
        run: |
          # No need to report coverage twice
2025-11-05 14:34:31,576 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:34:31,576 - main - DEBUG - 검증할 YAML 길이: 1240 문자
2025-11-05 14:34:31,576 - main - DEBUG - YAML 시작 부분: "name: CI\n\non:\n  push:\n    branches: [ master ]\n    paths-ignore:\n      - 'docs/**'\n      - 'tests/**"
2025-11-05 14:34:31,584 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'push': {'branches': ['master'], 'paths-ignore': ['docs/**', 'tests/**']}, 'workflow_dispatch': None, 'schedule': [{'cron': '0 12 * * *'}]}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 60, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Setup Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '3.x'}}, {'name': 'Install dependencies', 'run': 'pip install -r requirements.txt\npip install -r dev-requirements.txt\n'}, {'name': 'Test && Publish', 'env': {'GITHUB_TOKEN': '${{secrets.GITHUB_TOKEN}}', 'CC_TEST_REPORTER_ID': '${{secrets.CC_TEST_REPORTER_ID}}'}, 'run': 'coverage run -m pytest\ncoverage run -a ./update.py --release\ncoverage xml && coverage report\ncurl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter\nchmod +x ./cc-test-reporter\n./cc-test-reporter after-build\n'}, {'name': 'Report coverage', 'run': '# No need to report coverage twice'}]}}}
2025-11-05 14:34:31,584 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_baseline_repaired.yml
2025-11-05 14:34:31,584 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:34:31,585 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_baseline_repaired.yml
2025-11-05 14:34:31,585 - __main__ - INFO - === 파일 29/100 베이스라인 복구 완료 ===
2025-11-05 14:34:31,585 - __main__ - INFO - ✅ 성공 (18.22초): fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1 -> fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_baseline_repaired.yml
2025-11-05 14:34:31,585 - __main__ - INFO - [30/100] 처리 중: 559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 14:34:31,585 - __main__ - INFO - 입력 파일 경로: data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 14:34:31,585 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_baseline_repaired.yml
2025-11-05 14:34:31,585 - __main__ - INFO - === 파일 30/100 베이스라인 복구 시작 ===
2025-11-05 14:34:31,587 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:34:31,587 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:34:31,587 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 14:34:31,588 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:34:31,588 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:34:31,588 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 14:34:31,612 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:34:31,612 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:34:31,612 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:34:31,612 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:34:31,612 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 14:34:32,063 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Publish to Pub.dev

on: [push]
  release:
    types: [published]

jobs:
  build:

    runs-on: ubuntu-latest

    container:
      image:  google/dart:latest

    steps:
      - uses: actions/checkout@v1
      - name: Copy required files
        run:  |
          cp ../README.md README.md
          cp ../LICENSE LICENCE
          pub publish --dry-run
        working-directory: ./mapper
while parsing a block mapping
  in "<file>", line 1, column 1
expected <block end>, but found '<block mapping start>'
  in "<file>", line 4, column 3
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
4:3: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
13:14: too many spaces after colon (colons)
18:14: too many spaces after colon (colons)
22:36: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 63
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Publish to Pub.dev
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 3: on: [push]
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 4: release:
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 5: types: [published]
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 8: build:
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-latest
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 12: container:
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 13: image:  google/dart:latest
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 16: - uses: actions/checkout@v1
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 17: - name: Copy required files
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 18: run:  |
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 19: cp ../README.md README.md
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 20: cp ../LICENSE LICENCE
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 21: pub publish --dry-run
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 22: working-directory: ./mapper
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 23: while parsing a block mapping
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 24: in "<file>", line 1, column 1
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 25: expected <block end>, but found '<block mapping start>'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 26: in "<file>", line 4, column 3
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 27: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 41: We have found 16 smells
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 42: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 43: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 44: - 12. Avoid workflows without comments
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 45: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:34:32,064 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 58: The following styling errors were found:
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 59: 4:3: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 4:3: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 60: 13:14: too many spaces after colon (colons)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 61: 18:14: too many spaces after colon (colons)
2025-11-05 14:34:32,065 - utils.process_runner - DEBUG - 라인 62: 22:36: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 14:34:32,065 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:34:32,065 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:34:32,065 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:34:32,065 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:34:32,065 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:34:32,065 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:34:32,065 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Publish to Pub.dev

on: [push]
  release:
    types: [published]

jobs:
  build:

    runs-on: ubuntu-latest

    container:
      image:  google/dart:latest

    steps:
      - uses: actions/checkout@v1
      - name: Copy required files
        run:  |
          cp ../README.md README.md
          cp ../LICENSE LICENCE
          pub publish --dry-run
        working-directory: ./mapper
```

**Issu...
2025-11-05 14:34:32,065 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:34:32,065 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:34:32,065 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:34:32,066 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:34:41,814 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1710
2025-11-05 14:34:41,814 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:34:41,815 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:34:41,815 - main - DEBUG - 추출된 YAML:
name: Publish to Pub.dev

on:
  push:
    branches: [main]
  release:
    types: [published]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
        with:
          fetch-depth: 0
      - name: Copy required files
        run: |
          cp ../README.md README.md
          cp ../LICENSE LICENSE
          pub publish --dry-run
        working-directory: ./mapper
2025-11-05 14:34:41,815 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:34:41,815 - main - DEBUG - 검증할 YAML 길이: 406 문자
2025-11-05 14:34:41,815 - main - DEBUG - YAML 시작 부분: 'name: Publish to Pub.dev\n\non:\n  push:\n    branches: [main]\n  release:\n    types: [published]\n\njobs:\n'
2025-11-05 14:34:41,819 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Publish to Pub.dev', 'on': {'push': {'branches': ['main']}, 'release': {'types': ['published']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v1', 'with': {'fetch-depth': 0}}, {'name': 'Copy required files', 'run': 'cp ../README.md README.md\ncp ../LICENSE LICENSE\npub publish --dry-run\n', 'working-directory': './mapper'}]}}}
2025-11-05 14:34:41,819 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_baseline_repaired.yml
2025-11-05 14:34:41,819 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:34:41,819 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_baseline_repaired.yml
2025-11-05 14:34:41,819 - __main__ - INFO - === 파일 30/100 베이스라인 복구 완료 ===
2025-11-05 14:34:41,820 - __main__ - INFO - ✅ 성공 (10.23초): 559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c -> 559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_baseline_repaired.yml
2025-11-05 14:34:41,820 - __main__ - INFO - [31/100] 처리 중: 3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:34:41,820 - __main__ - INFO - 입력 파일 경로: data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:34:41,821 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_baseline_repaired.yml
2025-11-05 14:34:41,821 - __main__ - INFO - === 파일 31/100 베이스라인 복구 시작 ===
2025-11-05 14:34:41,821 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:34:41,821 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:34:41,821 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:34:41,822 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:34:41,822 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:34:41,822 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:34:41,830 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:34:41,830 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:34:41,830 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:34:41,830 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:34:41,831 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.35초)
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Wheels

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'
  release:
    types:
      - published

# Ensures Surelog/wheels are compatible with macOS 10.15+
env:
  MACOSX_DEPLOYMENT_TARGET: "10.15"

concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

jobs:
  build_wheel:
    name: Wheel siliconcompiler
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - uses: hynek/build-and-inspect-python-package@v2

  test_wheel:
    needs: build_wheel
    name: Test wheels on ${{ matrix.platform.os }} ${{ matrix.platform.arch}} ${{ matrix.python-version }}
    runs-on: ${{ matrix.platform.os }}
    strategy:
      fail-fast: false
      matrix:
        python-version: ['3.8', '3.9', '3.10', '3.11', '3.12']
        platform:
          - os: ubuntu-latest
            arch: x86_64
          - os: macos-13
            arch: x86_64
          - os: windows-latest
            arch: x86_64

    steps:
    - uses: actions/checkout@v4
      with:
        path: sc

    - name: Setup env (Linux)
      if: runner.os == 'Linux'
      run: |
        sudo apt-get update
        sudo apt-get install -y graphviz wget xvfb
        sc/setup/ubuntu22/install-klayout.sh

    - name: Setup env (Windows)
      if: matrix.platform.os == 'windows-latest'
      run: |
        choco install -y graphviz
        set klayoutversion $(python3 sc/setup/_tools.py --tool klayout --field version)
        Invoke-WebRequest -Uri https://www.klayout.org/downloads/Windows/klayout-${klayoutversion}-win64.zip -OutFile klayout.zip
        7z x klayout.zip
        xcopy /E klayout-${klayoutversion}-win64 "C:\Program Files (x86)\KLayout\"

    - name: Setup env (macOS)
      if: matrix.platform.os == 'macos-13'
      run: |
        # || true is needed to avoid failure on brew link error with python3.12
        brew install graphviz || true
        brew install --cask klayout
        # https://github.com/ponty/PyVirtualDisplay/blob/master/.github/workflows/main.yml#L45
        brew install --cask xquartz
        echo "/opt/X11/bin" >> $GITHUB_PATH
        mkdir -p /tmp/.X11-unix
        sudo chmod 1777 /tmp/.X11-unix
        sudo chown root /tmp/.X11-unix

    - name: Setup python
      id: python
      uses: actions/setup-python@v5.1.1
      with:
        python-version: ${{ matrix.python-version }}

    - uses: actions/download-artifact@v4
      with:
        name: Packages
        path: dist

    - name: Install SC (non-windows)
      if: matrix.platform.os != 'windows-latest'
      run: |
        ${{ steps.python.outputs.python-path }} -m venv venv
        . venv/bin/activate
        python3 --version
        wheel=$(find dist -name "*.whl")
        pip3 install "$wheel"[test]

    - name: Run pytest (non-windows)
      if: matrix.platform.os != 'windows-latest'
      run: |
        . venv/bin/activate
        pytest sc/tests/ -m "not eda and not docker" -n auto
        pytest sc/tests/tools/test_surelog.py -n auto
        pytest sc/tests/flows/test_show.py -k "not openroad" -n auto

    - name: Install SC (windows)
      if: matrix.platform.os == 'windows-latest'
      run: |
        ${{ steps.python.outputs.python-path }} -m venv venv
        venv/Scripts/activate
        python3 --version
        $wheel = Get-ChildItem -Path  dist\*.whl | % { $_.FullName }
        $install = -join($wheel, "[test]")
        pip3 install $install

    - name: Run pytest (windows)
      if: matrix.platform.os == 'windows-latest'
      run: |
        venv/Scripts/activate
        pytest sc/tests/ -m "not eda and not docker" -n auto
        pytest sc/tests/tools/test_surelog.py -n auto
        pytest sc/tests/flows/test_show.py -k "not openroad" -n auto

  publish:
    needs: [build_wheel, test_wheel]
    runs-on: ubuntu-latest
    if: github.event_name == 'release' && github.event.action == 'published' && !contains(github.event.release.body, 'NOPUBLISH')

    permissions:
      id-token: write

    steps:
    - uses: actions/download-artifact@v4
      with:
        pattern: Packages

    - name: Extract files
      run: |
        unzip Packages.zip

    - uses: pypa/gh-action-pypi-publish@v1.9.0

    - name: Add wheels to GitHub release artifacts
      uses: softprops/action-gh-release@v2
      with:
        files: *.whl

found undefined alias '.whl'
  in "<file>", line 146, column 16
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 21)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 140)
	- 8. Use commit hash instead of tags for action versions (line 83)
	- 8. Use commit hash instead of tags for action versions (line 79)
	- 8. Use commit hash instead of tags for action versions (line 143)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
25:5: wrong indentation: expected 6 but found 4 (indentation)
45:5: wrong indentation: expected 6 but found 4 (indentation)
133:5: wrong indentation: expected 6 but found 4 (indentation)
146:17: syntax error: expected alphabetic or numeric character, but found '.' (syntax)

2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 190
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Wheels
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 4: workflow_dispatch:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 5: schedule:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 6: - cron: '0 0 * * *'
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 7: release:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 8: types:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 9: - published
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 11: # Ensures Surelog/wheels are compatible with macOS 10.15+
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 12: env:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 13: MACOSX_DEPLOYMENT_TARGET: "10.15"
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 15: concurrency:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 16: group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 17: cancel-in-progress: true
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 19: jobs:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 20: build_wheel:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 21: name: Wheel siliconcompiler
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 22: runs-on: ubuntu-latest
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 24: steps:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 25: - uses: actions/checkout@v4
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 26: - uses: hynek/build-and-inspect-python-package@v2
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 28: test_wheel:
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 29: needs: build_wheel
2025-11-05 14:34:42,181 - utils.process_runner - DEBUG - 라인 30: name: Test wheels on ${{ matrix.platform.os }} ${{ matrix.platform.arch}} ${{ matrix.python-version }}
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 31: runs-on: ${{ matrix.platform.os }}
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 32: strategy:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 33: fail-fast: false
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 34: matrix:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 35: python-version: ['3.8', '3.9', '3.10', '3.11', '3.12']
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 36: platform:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 37: - os: ubuntu-latest
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 38: arch: x86_64
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 39: - os: macos-13
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 40: arch: x86_64
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 41: - os: windows-latest
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 42: arch: x86_64
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 44: steps:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 45: - uses: actions/checkout@v4
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 46: with:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 47: path: sc
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 49: - name: Setup env (Linux)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 50: if: runner.os == 'Linux'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 51: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 52: sudo apt-get update
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 53: sudo apt-get install -y graphviz wget xvfb
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 54: sc/setup/ubuntu22/install-klayout.sh
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 56: - name: Setup env (Windows)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 57: if: matrix.platform.os == 'windows-latest'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 59: choco install -y graphviz
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 60: set klayoutversion $(python3 sc/setup/_tools.py --tool klayout --field version)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 61: Invoke-WebRequest -Uri https://www.klayout.org/downloads/Windows/klayout-${klayoutversion}-win64.zip -OutFile klayout.zip
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 62: 7z x klayout.zip
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 63: xcopy /E klayout-${klayoutversion}-win64 "C:\Program Files (x86)\KLayout\"
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 65: - name: Setup env (macOS)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 66: if: matrix.platform.os == 'macos-13'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 67: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 68: # || true is needed to avoid failure on brew link error with python3.12
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 69: brew install graphviz || true
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 70: brew install --cask klayout
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 71: # https://github.com/ponty/PyVirtualDisplay/blob/master/.github/workflows/main.yml#L45
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 72: brew install --cask xquartz
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 73: echo "/opt/X11/bin" >> $GITHUB_PATH
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 74: mkdir -p /tmp/.X11-unix
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 75: sudo chmod 1777 /tmp/.X11-unix
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 76: sudo chown root /tmp/.X11-unix
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 78: - name: Setup python
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 79: id: python
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 80: uses: actions/setup-python@v5.1.1
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 81: with:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 82: python-version: ${{ matrix.python-version }}
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 84: - uses: actions/download-artifact@v4
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 85: with:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 86: name: Packages
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 87: path: dist
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 89: - name: Install SC (non-windows)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 90: if: matrix.platform.os != 'windows-latest'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 91: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 92: ${{ steps.python.outputs.python-path }} -m venv venv
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 93: . venv/bin/activate
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 94: python3 --version
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 95: wheel=$(find dist -name "*.whl")
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 96: pip3 install "$wheel"[test]
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 98: - name: Run pytest (non-windows)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 99: if: matrix.platform.os != 'windows-latest'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 100: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 101: . venv/bin/activate
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 102: pytest sc/tests/ -m "not eda and not docker" -n auto
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 103: pytest sc/tests/tools/test_surelog.py -n auto
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 104: pytest sc/tests/flows/test_show.py -k "not openroad" -n auto
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 106: - name: Install SC (windows)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 107: if: matrix.platform.os == 'windows-latest'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 108: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 109: ${{ steps.python.outputs.python-path }} -m venv venv
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 110: venv/Scripts/activate
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 111: python3 --version
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 112: $wheel = Get-ChildItem -Path  dist\*.whl | % { $_.FullName }
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 113: $install = -join($wheel, "[test]")
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 114: pip3 install $install
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 116: - name: Run pytest (windows)
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 117: if: matrix.platform.os == 'windows-latest'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 118: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 119: venv/Scripts/activate
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 120: pytest sc/tests/ -m "not eda and not docker" -n auto
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 121: pytest sc/tests/tools/test_surelog.py -n auto
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 122: pytest sc/tests/flows/test_show.py -k "not openroad" -n auto
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 124: publish:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 125: needs: [build_wheel, test_wheel]
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 126: runs-on: ubuntu-latest
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 127: if: github.event_name == 'release' && github.event.action == 'published' && !contains(github.event.release.body, 'NOPUBLISH')
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 129: permissions:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 130: id-token: write
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 132: steps:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 133: - uses: actions/download-artifact@v4
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 134: with:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 135: pattern: Packages
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 137: - name: Extract files
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 138: run: |
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 139: unzip Packages.zip
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 141: - uses: pypa/gh-action-pypi-publish@v1.9.0
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 143: - name: Add wheels to GitHub release artifacts
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 144: uses: softprops/action-gh-release@v2
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 145: with:
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 146: files: *.whl
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 148: found undefined alias '.whl'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 149: in "<file>", line 146, column 16
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 150: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 151: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 152: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 153: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,182 - utils.process_runner - DEBUG - 라인 154: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 155: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 156: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 157: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 158: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 159: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 160: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 161: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 162: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 163: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 164: We have found 20 smells
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 165: - 3. Use fixed version for runs-on argument (line 21)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 21)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 166: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 167: - 8. Use commit hash instead of tags for action versions (line 140)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 140)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 168: - 8. Use commit hash instead of tags for action versions (line 83)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 83)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 169: - 8. Use commit hash instead of tags for action versions (line 79)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 79)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 170: - 8. Use commit hash instead of tags for action versions (line 143)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 143)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 171: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 172: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 180: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 181: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 184: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 185: The following styling errors were found:
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 186: 25:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 187: 45:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 188: 133:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 라인 189: 146:17: syntax error: expected alphabetic or numeric character, but found '.' (syntax)
2025-11-05 14:34:42,183 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 146:17: syntax error: expected alphabetic or numeric character, but found '.' (syntax)
2025-11-05 14:34:42,183 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:34:42,183 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:34:42,183 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:34:42,183 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:34:42,183 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:34:42,183 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:34:42,183 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Wheels

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'
  release:
    types:
      - published

# Ensures Surelog/wheels are compatible with macOS 10.15+
env:
  MACOSX_DEPLOYMENT_TARGET: "10.15"

concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

jobs:
  build_wheel:
    name: Wheel siliconcompiler
    runs-on...
2025-11-05 14:34:42,183 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:34:42,183 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:34:42,183 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:34:42,184 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:35:19,690 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:35:19,692 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:35:19,693 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:35:19,693 - main - DEBUG - 추출된 YAML:
name: Wheels

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'
  release:
    types:
      - published

env:
  MACOSX_DEPLOYMENT_TARGET: "10.15"

concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

jobs:
  build_wheel:
    name: Wheel siliconcompiler
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4
      - uses: hynek/build-and-inspect-python-package@v2

  test_wheel:
    needs: build_wheel
    name: Test wheels on ${{ matrix.platform.os }} ${{ matrix.platform.arch}} ${{ matrix.python-version }}
    runs-on: ${{ matrix.platform.os }}
    strategy:
      fail-fast: false
      matrix:
        python-version: ['3.8', '3.9', '3.10', '3.11', '3.12']
        platform:
          - os: ubuntu-latest
            arch: x86_64
          - os: macos-13
            arch: x86_64
          - os: windows-latest
            arch: x86_64

    steps:
      - uses: actions/checkout@v4
        with:
          path: sc

      - name: Setup env (Linux)
        if: runner.os == 'Linux'
        run: |
          sudo apt-get update
          sudo apt-get install -y graphviz wget xvfb
          sc/setup/ubuntu22/install-klayout.sh

      - name: Setup env (Windows)
        if: matrix.platform.os == 'windows-latest'
        run: |
          choco install -y graphviz
          $klayoutversion = $(python3 sc/setup/_tools.py --tool klayout --field version)
          Invoke-WebRequest -Uri https://www.klayout.org/downloads/Windows/klayout-${klayoutversion}-win64.zip -OutFile klayout.zip
          7z x klayout.zip
          xcopy /E klayout-${klayoutversion}-win64 "C:\Program Files (x86)\KLayout\"

      - name: Setup env (macOS)
        if: matrix.platform.os == 'macos-13'
        run: |
          # || true is needed to avoid failure on brew link error with python3.12
          brew install graphviz || true
          brew install --cask klayout
          # https://github.com/ponty/PyVirtualDisplay/blob/master/.github/workflows/main.yml#L45
          brew install --cask xquartz
          echo "/opt/X11/bin" >> $GITHUB_PATH
          mkdir -p /tmp/.X11-unix
          sudo chmod 1777 /tmp/.X11-unix
          sudo chown root /tmp/.X11-unix

      - name: Setup python
        id: python
        uses: actions/setup-python@v5.1.1
        with:
          python-version: ${{ matrix.python-version }}

      - uses: actions/download-artifact@v4
        with:
          name: Packages
          path: dist

      - name: Install SC (non-windows)
        if: matrix.platform.os != 'windows-latest'
        run: |
          ${{ steps.python.outputs.python-path }} -m venv venv
          . venv/bin/activate
          python3 --version
          wheel=$(find dist -name "*.whl")
          pip3 install "$wheel"[test]

      - name: Run pytest (non-windows)
        if: matrix.platform.os != 'windows-latest'
        run: |
          . venv/bin/activate
          pytest sc/tests/ -m "not eda and not docker" -n auto
          pytest sc/tests/tools/test_surelog.py -n auto
          pytest sc/tests/flows/test_show.py -k "not openroad" -n auto

      - name: Install SC (windows)
        if: matrix.platform.os == 'windows-latest'
        run: |
          ${{ steps.python.outputs.python-path }} -m venv venv
          venv/Scripts/activate
          python3 --version
          $wheel = Get-ChildItem -Path  dist\*.whl | % { $_.FullName }
          $install = -join($wheel, "[test]")
          pip3 install $install

      - name: Run pytest (windows)
        if: matrix.platform.os == 'windows-latest'
        run: |
          venv/Scripts/activate
          pytest sc/tests/ -m "not eda and not docker" -n auto
          pytest sc/tests/tools/test_surelog.py -n auto
          pytest sc/tests/flows/test_show.py -k "not openroad" -n auto

  publish:
    needs: [build_wheel, test_wheel]
    runs-on: ubuntu-latest
    if: github.event_name == 'release' && github.event.action == 'published' && !contains(github.event.release.body, 'NOPUBLISH')

    permissions:
      id-token: write

    steps:
      - uses: actions/download-artifact@v4
        with:
          pattern: Packages

      - name: Extract files
        run: |
          unzip Packages.zip

      - uses: pypa/gh-action-pypi-publish@v1.9.0

      - name: Add wheels to GitHub release artifacts
        uses: softprops/action-gh-release@v2
        with:
          files: *.whl
2025-11-05 14:35:19,694 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:35:19,694 - main - DEBUG - 검증할 YAML 길이: 4448 문자
2025-11-05 14:35:19,694 - main - DEBUG - YAML 시작 부분: "name: Wheels\n\non:\n  workflow_dispatch:\n  schedule:\n    - cron: '0 0 * * *'\n  release:\n    types:\n   "
2025-11-05 14:35:19,704 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning an alias
  in "<unicode string>", line 145, column 18:
              files: *.whl
                     ^
expected alphabetic or numeric character, but found '.'
  in "<unicode string>", line 145, column 19:
              files: *.whl
                      ^
2025-11-05 14:35:19,704 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:35:19,704 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 14:35:19,705 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_baseline_repaired.yml
2025-11-05 14:35:19,705 - __main__ - INFO - === 파일 31/100 베이스라인 복구 완료 ===
2025-11-05 14:35:19,705 - __main__ - ERROR - ❌ 실패 (37.88초): 3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 14:35:19,705 - __main__ - INFO - [32/100] 처리 중: f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 14:35:19,705 - __main__ - INFO - 입력 파일 경로: data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 14:35:19,705 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_baseline_repaired.yml
2025-11-05 14:35:19,705 - __main__ - INFO - === 파일 32/100 베이스라인 복구 시작 ===
2025-11-05 14:35:19,705 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:35:19,705 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:35:19,706 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 14:35:19,706 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:35:19,706 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:35:19,706 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 14:35:19,743 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 14:35:19,743 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:35:19,743 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:35:19,743 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:35:19,743 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 14:35:20,286 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.54초)
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Processing commands

on:
  issue_comment:
      types: [created]

permissions:
  contents: read # to fetch code (actions/checkout)

jobs:
  build:

    permissions:
      contents: read # to fetch code (actions/checkout)
      pull-requests: write # to create comment

    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        id: get_round
        with:
         result-encoding: string
         script: |
             const bodycmt = context.payload.comment.body
             if(bodycmt.includes("/echo"))
               return 'echo'
             if(bodycmt.includes("/builddoc"))
               return 'builddoc'
             return 'stop'

      - name: Emoji-comment
        if: steps.get_round.outputs.result != 'stop'
        uses: actions/github-script@v6
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            github.rest.reactions.createForIssueComment({
              comment_id: ${{ github.event.comment.id }},
              owner: context.repo.owner,
              repo: context.repo.repo,
              content: 'rocket'})

# buildDoc COMMAND
      - uses: actions/github-script@v6
        if: steps.get_round.outputs.result == 'builddoc'
        id: get_pr_number
        with:
         result-encoding: string
         script: |
           //get pullrequest url
           const pr_number = context.payload.issue.number
           return pr_number

      - uses: actions/checkout@v3
        name: "checkout branch"
        if: steps.get_round.outputs.result == 'builddoc'
        with:
           repository: ${{ github.repository }}
           ref: refs/pull/${{ steps.get_pr_number.outputs.result }}/merge
#           token: ${{ secrets.PUSH_TO_DGTAL_GITHUB_IO_TOKEN }}
           fetch-depth: 2
      - name: install dependencies
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          set -x
          sudo apt-get update && sudo apt-get install -y graphviz ssh doxygen libboost-dev texlive-latex-base
          git config --global user.email "dgtal@dgtal.org"
          git config --global user.name "DGtal"


      - name: configure all
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          set -ex
          mkdir -p build_doc && cd build_doc && cmake .. -DBUILD_EXAMPLES=true -DBUILD_TESTING=true


      - name: build doc
        id: build-and-check-doc
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          cd build_doc
          wget --no-check-certificate -O "${{runner.workspace}}/DGtal/build_doc/DGtalTools-tagfile" http://dgtal.org/doc/tags/DGtalTools-tagfile;
          make -j 2 doc  > buildDoc.log
          export BUILD_DIR=${{runner.workspace}}/DGtal/build_doc
          export SRC_DIR=${{runner.workspace}}/DGtal/
          ${{runner.workspace}}/DGtal/.github/workflows/checkDoxygenDocumentation.sh
          if [ -s /tmp/doxygen.kept.log ]; then
              echo "********************************************"
              content=`cat /tmp/doxygen.kept.log`
              echo $content
              delimiter="$(openssl rand -hex 8)"
              echo "DoxygenError<<${delimiter}" >> "${GITHUB_OUTPUT}"
              cat /tmp/doxygen.kept.log >> "${GITHUB_OUTPUT}"
              echo "${delimiter}" >> "${GITHUB_OUTPUT}"
              exit 1
          fi

      - name: Preparing Deploy
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          mkdir pr${{ steps.get_pr_number.outputs.result }}
          mv ${{runner.workspace}}/DGtal/build_doc/html/* pr${{ steps.get_pr_number.outputs.result }}/
          git clone --depth 2 https://github.com/DGtal-team/doc-nightly.git
          cd doc-nightly
          rm -rf pr${{ steps.get_pr_number.outputs.result }}
          mv ../pr${{ steps.get_pr_number.outputs.result }} .

      - name: Deploy to GitHub Pages
        if: steps.get_round.outputs.result == 'builddoc'
        uses: JamesIves/github-pages-deploy-action@4.1.7
        with:
          token: ${{ secrets.DEPLOYACTION }}
          repository-name: DGtal-team/doc-nightly
          folder: doc-nightly
          branch: master
          single-commit: true
          clean: true

      - name: Post address
        if: steps.get_round.outputs.result == 'builddoc'
        uses: actions/github-script@v6
        if: ${{ success() && steps.get_round.outputs.result != 'stop' }}
        with:
          script: |
            const tmp_round = "${{ steps.get_round.outputs.result }}";
            const id = tmp_round.indexOf(":");
            const round = tmp_round.substring(0,id);
            const address = "The documentation is built. It will be available, after a few minutes, here: https://dgtal-team.github.io/doc-nightly/pr${{ steps.get_pr_number.outputs.result }}/index.html"
            github.rest.issues.createComment({
              owner: "DGtal-team",
              repo: "DGtal",
              issue_number: ${{ github.event.issue.number }},
              body: address
            });
            github.rest.reactions.createForIssueComment({
                comment_id: ${{ github.event.comment.id }},
                owner: context.repo.owner,
                repo: context.repo.repo,
                content: 'hooray'})

      - name: Post error
        env:
          ERRORMSG: ${{steps.build-and-check-doc.outputs.DoxygenError}}
        uses: actions/github-script@v6
        if: ${{ failure() && steps.get_round.outputs.result == 'builddoc' }}
        with:
          script: |
            const error = process.env.ERRORMSG
            const msg = "There was an error while building the doc: \n"+error
            github.rest.issues.createComment({
              owner: "DGtal-team",
              repo: "DGtal",
              issue_number: ${{ github.event.issue.number }},
              body: msg
            });




# ECHO COMMAND
      - name: Echo action
        uses: actions/github-script@v6
        if: steps.get_round.outputs.result == 'echo'
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            const bodycmt = context.payload.comment.body
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: bodycmt
            })
###########

while constructing a mapping
  in "<file>", line 120, column 9
found duplicate key "if" with value "${{ success() && steps.get_round.outputs.result != 'stop' }}" (original value: "steps.get_round.outputs.result == 'builddoc'")
  in "<file>", line 123, column 9

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 16)
	- 8. Use commit hash instead of tags for action versions (line 53)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 110)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
5:7: wrong indentation: expected 4 but found 6 (indentation)
8:18: too few spaces before comment: expected 2 (comments)
14:22: too few spaces before comment: expected 2 (comments)
15:28: too few spaces before comment: expected 2 (comments)
22:10: wrong indentation: expected 10 but found 9 (indentation)
48:10: wrong indentation: expected 10 but found 9 (indentation)
58:12: wrong indentation: expected 10 but found 11 (indentation)
60:1: comment not indented like content (comments-indentation)
123:9: duplication of key "if" in mapping (key-duplicates)
160:1: too many blank lines (4 > 2) (empty-lines)

2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 229
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Processing commands
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 4: issue_comment:
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 5: types: [created]
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 7: permissions:
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 8: contents: read # to fetch code (actions/checkout)
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 11: build:
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 13: permissions:
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 14: contents: read # to fetch code (actions/checkout)
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 15: pull-requests: write # to create comment
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 18: steps:
2025-11-05 14:35:20,287 - utils.process_runner - DEBUG - 라인 19: - uses: actions/github-script@v6
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 20: id: get_round
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 22: result-encoding: string
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 23: script: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 24: const bodycmt = context.payload.comment.body
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 25: if(bodycmt.includes("/echo"))
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 26: return 'echo'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 27: if(bodycmt.includes("/builddoc"))
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 28: return 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 29: return 'stop'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 31: - name: Emoji-comment
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 32: if: steps.get_round.outputs.result != 'stop'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 33: uses: actions/github-script@v6
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 35: github-token: ${{secrets.GITHUB_TOKEN}}
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 36: script: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 37: github.rest.reactions.createForIssueComment({
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 38: comment_id: ${{ github.event.comment.id }},
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 39: owner: context.repo.owner,
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 40: repo: context.repo.repo,
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 41: content: 'rocket'})
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 43: # buildDoc COMMAND
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 44: - uses: actions/github-script@v6
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 45: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 46: id: get_pr_number
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 47: with:
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 48: result-encoding: string
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 49: script: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 50: //get pullrequest url
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 51: const pr_number = context.payload.issue.number
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 52: return pr_number
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 54: - uses: actions/checkout@v3
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 55: name: "checkout branch"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 56: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 57: with:
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 58: repository: ${{ github.repository }}
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 59: ref: refs/pull/${{ steps.get_pr_number.outputs.result }}/merge
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 60: #           token: ${{ secrets.PUSH_TO_DGTAL_GITHUB_IO_TOKEN }}
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 61: fetch-depth: 2
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 62: - name: install dependencies
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 63: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 64: run: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 65: set -x
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 66: sudo apt-get update && sudo apt-get install -y graphviz ssh doxygen libboost-dev texlive-latex-base
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 67: git config --global user.email "dgtal@dgtal.org"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 68: git config --global user.name "DGtal"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 71: - name: configure all
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 72: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 73: run: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 74: set -ex
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 75: mkdir -p build_doc && cd build_doc && cmake .. -DBUILD_EXAMPLES=true -DBUILD_TESTING=true
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 78: - name: build doc
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 79: id: build-and-check-doc
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 80: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 81: run: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 82: cd build_doc
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 83: wget --no-check-certificate -O "${{runner.workspace}}/DGtal/build_doc/DGtalTools-tagfile" http://dgtal.org/doc/tags/DGtalTools-tagfile;
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 84: make -j 2 doc  > buildDoc.log
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 85: export BUILD_DIR=${{runner.workspace}}/DGtal/build_doc
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 86: export SRC_DIR=${{runner.workspace}}/DGtal/
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 87: ${{runner.workspace}}/DGtal/.github/workflows/checkDoxygenDocumentation.sh
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 88: if [ -s /tmp/doxygen.kept.log ]; then
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 89: echo "********************************************"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 90: content=`cat /tmp/doxygen.kept.log`
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 91: echo $content
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 92: delimiter="$(openssl rand -hex 8)"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 93: echo "DoxygenError<<${delimiter}" >> "${GITHUB_OUTPUT}"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 94: cat /tmp/doxygen.kept.log >> "${GITHUB_OUTPUT}"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 95: echo "${delimiter}" >> "${GITHUB_OUTPUT}"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 96: exit 1
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 97: fi
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 99: - name: Preparing Deploy
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 100: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 101: run: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 102: mkdir pr${{ steps.get_pr_number.outputs.result }}
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 103: mv ${{runner.workspace}}/DGtal/build_doc/html/* pr${{ steps.get_pr_number.outputs.result }}/
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 104: git clone --depth 2 https://github.com/DGtal-team/doc-nightly.git
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 105: cd doc-nightly
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 106: rm -rf pr${{ steps.get_pr_number.outputs.result }}
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 107: mv ../pr${{ steps.get_pr_number.outputs.result }} .
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 109: - name: Deploy to GitHub Pages
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 110: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 111: uses: JamesIves/github-pages-deploy-action@4.1.7
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 112: with:
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 113: token: ${{ secrets.DEPLOYACTION }}
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 114: repository-name: DGtal-team/doc-nightly
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 115: folder: doc-nightly
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 116: branch: master
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 117: single-commit: true
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 118: clean: true
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 120: - name: Post address
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 121: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 122: uses: actions/github-script@v6
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 123: if: ${{ success() && steps.get_round.outputs.result != 'stop' }}
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 124: with:
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 125: script: |
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 126: const tmp_round = "${{ steps.get_round.outputs.result }}";
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 127: const id = tmp_round.indexOf(":");
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 128: const round = tmp_round.substring(0,id);
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 129: const address = "The documentation is built. It will be available, after a few minutes, here: https://dgtal-team.github.io/doc-nightly/pr${{ steps.get_pr_number.outputs.result }}/index.html"
2025-11-05 14:35:20,288 - utils.process_runner - DEBUG - 라인 130: github.rest.issues.createComment({
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 131: owner: "DGtal-team",
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 132: repo: "DGtal",
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 133: issue_number: ${{ github.event.issue.number }},
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 134: body: address
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 135: });
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 136: github.rest.reactions.createForIssueComment({
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 137: comment_id: ${{ github.event.comment.id }},
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 138: owner: context.repo.owner,
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 139: repo: context.repo.repo,
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 140: content: 'hooray'})
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 142: - name: Post error
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#unknown): name: Post error
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 143: env:
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 144: ERRORMSG: ${{steps.build-and-check-doc.outputs.DoxygenError}}
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): ERRORMSG: ${{steps.build-and-check-doc.outputs.DoxygenError}}
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 145: uses: actions/github-script@v6
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 146: if: ${{ failure() && steps.get_round.outputs.result == 'builddoc' }}
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 147: with:
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 148: script: |
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 149: const error = process.env.ERRORMSG
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 150: const msg = "There was an error while building the doc: \n"+error
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): const msg = "There was an error while building the doc: \n"+error
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 151: github.rest.issues.createComment({
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 152: owner: "DGtal-team",
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 153: repo: "DGtal",
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 154: issue_number: ${{ github.event.issue.number }},
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 155: body: msg
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 156: });
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 161: # ECHO COMMAND
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 162: - name: Echo action
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 163: uses: actions/github-script@v6
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 164: if: steps.get_round.outputs.result == 'echo'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 165: with:
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 166: github-token: ${{secrets.GITHUB_TOKEN}}
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 167: script: |
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 168: const bodycmt = context.payload.comment.body
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 169: github.rest.issues.createComment({
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 170: issue_number: context.issue.number,
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 171: owner: context.repo.owner,
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 172: repo: context.repo.repo,
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 173: body: bodycmt
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 174: })
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 175: ###########
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 177: while constructing a mapping
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 178: in "<file>", line 120, column 9
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 179: found duplicate key "if" with value "${{ success() && steps.get_round.outputs.result != 'stop' }}" (original value: "steps.get_round.outputs.result == 'builddoc'")
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 180: in "<file>", line 123, column 9
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 182: To suppress this check see:
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 183: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 185: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 186: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 187: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 188: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 189: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 190: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 191: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 192: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 193: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 194: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 195: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 196: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 197: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 198: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 199: We have found 18 smells
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 200: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 201: - 8. Use commit hash instead of tags for action versions (line 53)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 53)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 202: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 203: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 204: - 8. Use commit hash instead of tags for action versions (line 110)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 110)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 205: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 206: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 207: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 208: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 209: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 라인 210: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:35:20,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 211: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 212: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 213: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 214: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 215: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 216: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 217: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 218: The following styling errors were found:
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 219: 5:7: wrong indentation: expected 4 but found 6 (indentation)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 220: 8:18: too few spaces before comment: expected 2 (comments)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 221: 14:22: too few spaces before comment: expected 2 (comments)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 222: 15:28: too few spaces before comment: expected 2 (comments)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 223: 22:10: wrong indentation: expected 10 but found 9 (indentation)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 224: 48:10: wrong indentation: expected 10 but found 9 (indentation)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 225: 58:12: wrong indentation: expected 10 but found 11 (indentation)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 226: 60:1: comment not indented like content (comments-indentation)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 227: 123:9: duplication of key "if" in mapping (key-duplicates)
2025-11-05 14:35:20,290 - utils.process_runner - DEBUG - 라인 228: 160:1: too many blank lines (4 > 2) (empty-lines)
2025-11-05 14:35:20,290 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:35:20,290 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:35:20,290 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:35:20,290 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:35:20,290 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:35:20,290 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:35:20,290 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Processing commands

on:
  issue_comment:
      types: [created]

permissions:
  contents: read # to fetch code (actions/checkout)

jobs:
  build:

    permissions:
      contents: read # to fetch code (actions/checkout)
      pull-requests: write # to create comment

    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        id: get_round
        with:
         result-enc...
2025-11-05 14:35:20,290 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:35:20,290 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:35:20,290 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:35:20,291 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:36:06,314 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:36:06,316 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:36:06,317 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:36:06,318 - main - DEBUG - 추출된 YAML:
name: Processing commands

on:
  issue_comment:
    types: [created]

permissions:
  contents: read # to fetch code (actions/checkout)
  pull-requests: write # to create comment

jobs:
  build:

    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        id: get_round
        with:
          result-encoding: string
          script: |
            const bodycmt = context.payload.comment.body
            if (bodycmt.includes("/echo"))
              return 'echo'
            if (bodycmt.includes("/builddoc"))
              return 'builddoc'
            return 'stop'

      - name: Emoji-comment
        if: steps.get_round.outputs.result != 'stop'
        uses: actions/github-script@v6
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            github.rest.reactions.createForIssueComment({
              comment_id: ${{ github.event.comment.id }},
              owner: context.repo.owner,
              repo: context.repo.repo,
              content: 'rocket'
            })

      - uses: actions/github-script@v6
        if: steps.get_round.outputs.result == 'builddoc'
        id: get_pr_number
        with:
          result-encoding: string
          script: |
            //get pullrequest url
            const pr_number = context.payload.issue.number
            return pr_number

      - uses: actions/checkout@v3
        name: "checkout branch"
        if: steps.get_round.outputs.result == 'builddoc'
        with:
          repository: ${{ github.repository }}
          ref: refs/pull/${{ steps.get_pr_number.outputs.result }}/merge
          # token: ${{ secrets.PUSH_TO_DGTAL_GITHUB_IO_TOKEN }}
          fetch-depth: 2

      - name: install dependencies
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          set -x
          sudo apt-get update && sudo apt-get install -y graphviz ssh doxygen libboost-dev texlive-latex-base
          git config --global user.email "dgtal@dgtal.org"
          git config --global user.name "DGtal"

      - name: configure all
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          set -ex
          mkdir -p build_doc && cd build_doc && cmake .. -DBUILD_EXAMPLES=true -DBUILD_TESTING=true

      - name: build doc
        id: build-and-check-doc
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          cd build_doc
          wget --no-check-certificate -O "${{ runner.temp }}/DGtal/build_doc/DGtalTools-tagfile" http://dgtal.org/doc/tags/DGtalTools-tagfile;
          make -j 2 doc > buildDoc.log
          export BUILD_DIR=${{ runner.temp }}/DGtal/build_doc
          export SRC_DIR=${{ runner.temp }}/DGtal/
          ${{ runner.temp }}/DGtal/.github/workflows/checkDoxygenDocumentation.sh
          if [ -s /tmp/doxygen.kept.log ]; then
              echo "********************************************"
              content=`cat /tmp/doxygen.kept.log`
              echo $content
              delimiter="$(openssl rand -hex 8)"
              echo "DoxygenError<<${delimiter}" >> "${GITHUB_OUTPUT}"
              cat /tmp/doxygen.kept.log >> "${GITHUB_OUTPUT}"
              echo "${delimiter}" >> "${GITHUB_OUTPUT}"
              exit 1
          fi

      - name: Preparing Deploy
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          mkdir pr${{ steps.get_pr_number.outputs.result }}
          mv ${{ runner.temp }}/DGtal/build_doc/html/* pr${{ steps.get_pr_number.outputs.result }}/
          git clone --depth 2 https://github.com/DGtal-team/doc-nightly.git
          cd doc-nightly
          rm -rf pr${{ steps.get_pr_number.outputs.result }}
          mv ../pr${{ steps.get_pr_number.outputs.result }} .

      - name: Deploy to GitHub Pages
        if: steps.get_round.outputs.result == 'builddoc'
        uses: JamesIves/github-pages-deploy-action@4.1.7
        with:
          token: ${{ secrets.DEPLOYACTION }}
          repository-name: DGtal-team/doc-nightly
          folder: doc-nightly
          branch: master
          single-commit: true
          clean: true

      - name: Post address
        if: steps.get_round.outputs.result != 'stop'
        uses: actions/github-script@v6
        with:
          script: |
            const tmp_round = "${{ steps.get_round.outputs.result }}";
            const id = tmp_round.indexOf(":");
            const round = tmp_round.substring(0,id);
            const address = "The documentation is built. It will be available, after a few minutes, here: https://dgtal-team.github.io/doc-nightly/pr${{ steps.get_pr_number.outputs.result }}/index.html"
            github.rest.issues.createComment({
              owner: "DGtal-team",
              repo: "DGtal",
              issue_number: ${{ github.event.issue.number }},
              body: address
            });
            github.rest.reactions.createForIssueComment({
                comment_id: ${{ github.event.comment.id }},
                owner: context.repo.owner,
                repo: context.repo.repo,
                content: 'hooray'
            })

      - name: Post error
        env:
          ERRORMSG: ${{ steps.build-and-check-doc.outputs.DoxygenError }}
        uses: actions/github-script@v6
        if: failure()
        with:
          script: |
            const error = process.env.ERRORMSG
            const msg = "There was an error while building the doc: \n"+error
            github.rest.issues.createComment({
              owner: "DGtal-team",
              repo: "DGtal",
              issue_number: ${{ github.event.issue.number }},
              body: msg
            });

      - name: Echo action
        uses: actions/github-script@v6
        if: steps.get_round.outputs.result == 'echo'
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const bodycmt = context.payload.comment.body
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: bodycmt
            })
2025-11-05 14:36:06,318 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:36:06,318 - main - DEBUG - 검증할 YAML 길이: 6137 문자
2025-11-05 14:36:06,318 - main - DEBUG - YAML 시작 부분: 'name: Processing commands\n\non:\n  issue_comment:\n    types: [created]\n\npermissions:\n  contents: read '
2025-11-05 14:36:06,335 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Processing commands', 'on': {'issue_comment': {'types': ['created']}}, 'permissions': {'contents': 'read', 'pull-requests': 'write'}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/github-script@v6', 'id': 'get_round', 'with': {'result-encoding': 'string', 'script': 'const bodycmt = context.payload.comment.body\nif (bodycmt.includes("/echo"))\n  return \'echo\'\nif (bodycmt.includes("/builddoc"))\n  return \'builddoc\'\nreturn \'stop\'\n'}}, {'name': 'Emoji-comment', 'if': "steps.get_round.outputs.result != 'stop'", 'uses': 'actions/github-script@v6', 'with': {'github-token': '${{ secrets.GITHUB_TOKEN }}', 'script': "github.rest.reactions.createForIssueComment({\n  comment_id: ${{ github.event.comment.id }},\n  owner: context.repo.owner,\n  repo: context.repo.repo,\n  content: 'rocket'\n})\n"}}, {'uses': 'actions/github-script@v6', 'if': "steps.get_round.outputs.result == 'builddoc'", 'id': 'get_pr_number', 'with': {'result-encoding': 'string', 'script': '//get pullrequest url\nconst pr_number = context.payload.issue.number\nreturn pr_number\n'}}, {'uses': 'actions/checkout@v3', 'name': 'checkout branch', 'if': "steps.get_round.outputs.result == 'builddoc'", 'with': {'repository': '${{ github.repository }}', 'ref': 'refs/pull/${{ steps.get_pr_number.outputs.result }}/merge', 'fetch-depth': 2}}, {'name': 'install dependencies', 'if': "steps.get_round.outputs.result == 'builddoc'", 'run': 'set -x\nsudo apt-get update && sudo apt-get install -y graphviz ssh doxygen libboost-dev texlive-latex-base\ngit config --global user.email "dgtal@dgtal.org"\ngit config --global user.name "DGtal"\n'}, {'name': 'configure all', 'if': "steps.get_round.outputs.result == 'builddoc'", 'run': 'set -ex\nmkdir -p build_doc && cd build_doc && cmake .. -DBUILD_EXAMPLES=true -DBUILD_TESTING=true\n'}, {'name': 'build doc', 'id': 'build-and-check-doc', 'if': "steps.get_round.outputs.result == 'builddoc'", 'run': 'cd build_doc\nwget --no-check-certificate -O "${{ runner.temp }}/DGtal/build_doc/DGtalTools-tagfile" http://dgtal.org/doc/tags/DGtalTools-tagfile;\nmake -j 2 doc > buildDoc.log\nexport BUILD_DIR=${{ runner.temp }}/DGtal/build_doc\nexport SRC_DIR=${{ runner.temp }}/DGtal/\n${{ runner.temp }}/DGtal/.github/workflows/checkDoxygenDocumentation.sh\nif [ -s /tmp/doxygen.kept.log ]; then\n    echo "********************************************"\n    content=`cat /tmp/doxygen.kept.log`\n    echo $content\n    delimiter="$(openssl rand -hex 8)"\n    echo "DoxygenError<<${delimiter}" >> "${GITHUB_OUTPUT}"\n    cat /tmp/doxygen.kept.log >> "${GITHUB_OUTPUT}"\n    echo "${delimiter}" >> "${GITHUB_OUTPUT}"\n    exit 1\nfi\n'}, {'name': 'Preparing Deploy', 'if': "steps.get_round.outputs.result == 'builddoc'", 'run': 'mkdir pr${{ steps.get_pr_number.outputs.result }}\nmv ${{ runner.temp }}/DGtal/build_doc/html/* pr${{ steps.get_pr_number.outputs.result }}/\ngit clone --depth 2 https://github.com/DGtal-team/doc-nightly.git\ncd doc-nightly\nrm -rf pr${{ steps.get_pr_number.outputs.result }}\nmv ../pr${{ steps.get_pr_number.outputs.result }} .\n'}, {'name': 'Deploy to GitHub Pages', 'if': "steps.get_round.outputs.result == 'builddoc'", 'uses': 'JamesIves/github-pages-deploy-action@4.1.7', 'with': {'token': '${{ secrets.DEPLOYACTION }}', 'repository-name': 'DGtal-team/doc-nightly', 'folder': 'doc-nightly', 'branch': 'master', 'single-commit': True, 'clean': True}}, {'name': 'Post address', 'if': "steps.get_round.outputs.result != 'stop'", 'uses': 'actions/github-script@v6', 'with': {'script': 'const tmp_round = "${{ steps.get_round.outputs.result }}";\nconst id = tmp_round.indexOf(":");\nconst round = tmp_round.substring(0,id);\nconst address = "The documentation is built. It will be available, after a few minutes, here: https://dgtal-team.github.io/doc-nightly/pr${{ steps.get_pr_number.outputs.result }}/index.html"\ngithub.rest.issues.createComment({\n  owner: "DGtal-team",\n  repo: "DGtal",\n  issue_number: ${{ github.event.issue.number }},\n  body: address\n});\ngithub.rest.reactions.createForIssueComment({\n    comment_id: ${{ github.event.comment.id }},\n    owner: context.repo.owner,\n    repo: context.repo.repo,\n    content: \'hooray\'\n})\n'}}, {'name': 'Post error', 'env': {'ERRORMSG': '${{ steps.build-and-check-doc.outputs.DoxygenError }}'}, 'uses': 'actions/github-script@v6', 'if': 'failure()', 'with': {'script': 'const error = process.env.ERRORMSG\nconst msg = "There was an error while building the doc: \\n"+error\ngithub.rest.issues.createComment({\n  owner: "DGtal-team",\n  repo: "DGtal",\n  issue_number: ${{ github.event.issue.number }},\n  body: msg\n});\n'}}, {'name': 'Echo action', 'uses': 'actions/github-script@v6', 'if': "steps.get_round.outputs.result == 'echo'", 'with': {'github-token': '${{ secrets.GITHUB_TOKEN }}', 'script': 'const bodycmt = context.payload.comment.body\ngithub.rest.issues.createComment({\n  issue_number: context.issue.number,\n  owner: context.repo.owner,\n  repo: context.repo.repo,\n  body: bodycmt\n})'}}]}}}
2025-11-05 14:36:06,336 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_baseline_repaired.yml
2025-11-05 14:36:06,336 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:36:06,336 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_baseline_repaired.yml
2025-11-05 14:36:06,336 - __main__ - INFO - === 파일 32/100 베이스라인 복구 완료 ===
2025-11-05 14:36:06,336 - __main__ - INFO - ✅ 성공 (46.63초): f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a -> f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_baseline_repaired.yml
2025-11-05 14:36:06,336 - __main__ - INFO - [33/100] 처리 중: 9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 14:36:06,336 - __main__ - INFO - 입력 파일 경로: data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 14:36:06,337 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_baseline_repaired.yml
2025-11-05 14:36:06,337 - __main__ - INFO - === 파일 33/100 베이스라인 복구 시작 ===
2025-11-05 14:36:06,337 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:36:06,337 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:36:06,337 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 14:36:06,337 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:36:06,337 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:36:06,337 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 14:36:06,366 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:36:06,366 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:36:06,366 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:36:06,366 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:36:06,366 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Update Pact Ruby Standalone

on:
  repository_dispatch:
    types:
      - pact-ruby-standalone-released

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - run: |
      git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"
      git config --global user.name "${GITHUB_ACTOR}"

    - run: script/create-pr-to-update-pact-ruby-standalone.sh ${{ github.event.client_payload.version }}

while scanning a simple key
  in "<file>", line 15, column 7
could not find expected ':'
  in "<file>", line 16, column 7
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
12:5: wrong indentation: expected 6 but found 4 (indentation)
16:7: syntax error: could not find expected ':' (syntax)

2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 58
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Update Pact Ruby Standalone
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 4: repository_dispatch:
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 5: types:
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 6: - pact-ruby-standalone-released
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 9: update:
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-latest
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 11: steps:
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 12: - uses: actions/checkout@v2
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 14: - run: |
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 15: git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 16: git config --global user.name "${GITHUB_ACTOR}"
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 18: - run: script/create-pr-to-update-pact-ruby-standalone.sh ${{ github.event.client_payload.version }}
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 20: while scanning a simple key
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 21: in "<file>", line 15, column 7
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 22: could not find expected ':'
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 23: in "<file>", line 16, column 7
2025-11-05 14:36:06,850 - utils.process_runner - DEBUG - 라인 24: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 25: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 26: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 27: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 38: We have found 16 smells
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 39: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 40: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 41: - 12. Avoid workflows without comments
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 42: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 43: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 44: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 45: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 55: The following styling errors were found:
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 56: 12:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 라인 57: 16:7: syntax error: could not find expected ':' (syntax)
2025-11-05 14:36:06,851 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 16:7: syntax error: could not find expected ':' (syntax)
2025-11-05 14:36:06,851 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:36:06,851 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:36:06,851 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:36:06,851 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:36:06,851 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:36:06,851 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:36:06,851 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Update Pact Ruby Standalone

on:
  repository_dispatch:
    types:
      - pact-ruby-standalone-released

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - run: |
      git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"
      git config --global user.name "${GITHUB_ACTOR}"

    - run: script/create-pr-to-update-pact-ruby-standalone.s...
2025-11-05 14:36:06,851 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:36:06,851 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:36:06,851 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:36:06,853 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:36:15,646 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1539
2025-11-05 14:36:15,646 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:36:15,647 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:36:15,647 - main - DEBUG - 추출된 YAML:
name: Update Pact Ruby Standalone

on:
  repository_dispatch:
    types:
      - pact-ruby-standalone-released

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - run: |
        git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"
        git config --global user.name "${GITHUB_ACTOR}"

    - name: Create PR to update Pact Ruby Standalone
      run: ./script/create-pr-to-update-pact-ruby-standalone.sh ${{ github.event.client_payload.version }}
2025-11-05 14:36:15,647 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:36:15,647 - main - DEBUG - 검증할 YAML 길이: 510 문자
2025-11-05 14:36:15,648 - main - DEBUG - YAML 시작 부분: 'name: Update Pact Ruby Standalone\n\non:\n  repository_dispatch:\n    types:\n      - pact-ruby-standalon'
2025-11-05 14:36:15,651 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Update Pact Ruby Standalone', 'on': {'repository_dispatch': {'types': ['pact-ruby-standalone-released']}}, 'jobs': {'update': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'run': 'git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"\ngit config --global user.name "${GITHUB_ACTOR}"\n'}, {'name': 'Create PR to update Pact Ruby Standalone', 'run': './script/create-pr-to-update-pact-ruby-standalone.sh ${{ github.event.client_payload.version }}'}]}}}
2025-11-05 14:36:15,652 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_baseline_repaired.yml
2025-11-05 14:36:15,652 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:36:15,652 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_baseline_repaired.yml
2025-11-05 14:36:15,652 - __main__ - INFO - === 파일 33/100 베이스라인 복구 완료 ===
2025-11-05 14:36:15,652 - __main__ - INFO - ✅ 성공 (9.32초): 9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca -> 9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_baseline_repaired.yml
2025-11-05 14:36:15,653 - __main__ - INFO - [34/100] 처리 중: d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 14:36:15,653 - __main__ - INFO - 입력 파일 경로: data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 14:36:15,653 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_baseline_repaired.yml
2025-11-05 14:36:15,653 - __main__ - INFO - === 파일 34/100 베이스라인 복구 시작 ===
2025-11-05 14:36:15,654 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:36:15,654 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:36:15,654 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 14:36:15,654 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:36:15,655 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:36:15,655 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 14:36:15,664 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:36:15,665 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:36:15,665 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:36:15,665 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:36:15,665 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 14:36:16,029 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.36초)
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: reviewdog
on: [pull_request]
jobs:
  golangci-lint:
    name: runner / suggester / golangci-lint
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v2
        with:
          version: latest
          only-new-issues: true
          args: --timeout 5m


  gofmt:
    name: runner / suggester / gofmt
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: gofmt -w -s $(find . -not -path "*/vendor/*" -name "*.go")
      - uses: reviewdog/action-suggester@v1
        with:
          tool_name: gofmt

  shfmt:
    name: runner / suggester / shfmt
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-go@v2
      with:
        go-version: '^1.17'
      - run: GO111MODULE=on go get mvdan.cc/sh/v3/cmd/shfmt
      - run: $(go env GOPATH)/bin/shfmt -bn -ci -s -w .
      - name: suggester / shfmt
        uses: reviewdog/action-suggester@v1
        with:
          tool_name: shfmt

  shellcheck:
    if: github.event_name == 'pull_request'
    name: runner / shellcheck
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-shellcheck@v1
        with:
          github_token: ${{ secrets.github_token }}
          reporter: github-pr-check

  misspell:
    name: runner / misspell
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-misspell@v1
        with:
          github_token: ${{ secrets.github_token }}
          locale: "US"
          reporter: github-pr-check

  alex:
    name: runner / alex
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-alex@v1
        with:
          github_token: ${{ secrets.github_token }}
          reporter: github-pr-check
          level: info

while parsing a block collection
  in "<file>", line 31, column 7
expected <block end>, but found '?'
  in "<file>", line 33, column 7
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 23 smells
	- 3. Use fixed version for runs-on argument (line 5)
	- 8. Use commit hash instead of tags for action versions (line 68)
	- 8. Use commit hash instead of tags for action versions (line 7)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 47)
	- 8. Use commit hash instead of tags for action versions (line 9)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
33:7: syntax error: expected <block end>, but found '?' (syntax)
34:9: wrong indentation: expected 10 but found 8 (indentation)

2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 120
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: reviewdog
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 2: on: [pull_request]
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 3: jobs:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 4: golangci-lint:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 5: name: runner / suggester / golangci-lint
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 6: runs-on: ubuntu-latest
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 7: steps:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 8: - uses: actions/checkout@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 9: - name: golangci-lint
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 10: uses: golangci/golangci-lint-action@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 11: with:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 12: version: latest
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 13: only-new-issues: true
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 14: args: --timeout 5m
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 17: gofmt:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 18: name: runner / suggester / gofmt
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 19: runs-on: ubuntu-latest
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 21: - uses: actions/checkout@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 22: - run: gofmt -w -s $(find . -not -path "*/vendor/*" -name "*.go")
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#run: gofmt -w -s $(find ): -not -path "*/vendor/*" -name "*.go")
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 23: - uses: reviewdog/action-suggester@v1
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 24: with:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 25: tool_name: gofmt
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 27: shfmt:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 28: name: runner / suggester / shfmt
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 29: runs-on: ubuntu-latest
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 30: steps:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 31: - uses: actions/checkout@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 32: - uses: actions/setup-go@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 34: go-version: '^1.17'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 35: - run: GO111MODULE=on go get mvdan.cc/sh/v3/cmd/shfmt
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 36: - run: $(go env GOPATH)/bin/shfmt -bn -ci -s -w .
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 37: - name: suggester / shfmt
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 38: uses: reviewdog/action-suggester@v1
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 39: with:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 40: tool_name: shfmt
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 42: shellcheck:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 43: if: github.event_name == 'pull_request'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 44: name: runner / shellcheck
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 45: runs-on: ubuntu-latest
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 46: steps:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 47: - uses: actions/checkout@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 48: - uses: reviewdog/action-shellcheck@v1
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 49: with:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 50: github_token: ${{ secrets.github_token }}
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 51: reporter: github-pr-check
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 53: misspell:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 54: name: runner / misspell
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 55: runs-on: ubuntu-latest
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 56: steps:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 57: - uses: actions/checkout@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 58: - uses: reviewdog/action-misspell@v1
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 60: github_token: ${{ secrets.github_token }}
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 61: locale: "US"
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 62: reporter: github-pr-check
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 64: alex:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 65: name: runner / alex
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 66: runs-on: ubuntu-latest
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 67: steps:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 68: - uses: actions/checkout@v2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 69: - uses: reviewdog/action-alex@v1
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 70: with:
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 71: github_token: ${{ secrets.github_token }}
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 72: reporter: github-pr-check
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 73: level: info
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 75: while parsing a block collection
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 76: in "<file>", line 31, column 7
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 77: expected <block end>, but found '?'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 78: in "<file>", line 33, column 7
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 79: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,030 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 93: We have found 23 smells
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 23 smells
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 94: - 3. Use fixed version for runs-on argument (line 5)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 5)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 95: - 8. Use commit hash instead of tags for action versions (line 68)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 68)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 96: - 8. Use commit hash instead of tags for action versions (line 7)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 7)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 97: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 98: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 99: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 100: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 101: - 8. Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 102: - 8. Use commit hash instead of tags for action versions (line 9)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 9)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 103: - 12. Avoid workflows without comments
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 104: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 111: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 112: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 117: The following styling errors were found:
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 118: 33:7: syntax error: expected <block end>, but found '?' (syntax)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 33:7: syntax error: expected <block end>, but found '?' (syntax)
2025-11-05 14:36:16,031 - utils.process_runner - DEBUG - 라인 119: 34:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 14:36:16,031 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:36:16,031 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:36:16,031 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:36:16,031 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:36:16,031 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:36:16,031 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:36:16,031 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: reviewdog
on: [pull_request]
jobs:
  golangci-lint:
    name: runner / suggester / golangci-lint
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v2
        with:
          version: latest
          only-new-issues: true
          args: --timeout 5m


  gofmt:
    name: runner / suggester / gofmt
    runs...
2025-11-05 14:36:16,031 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:36:16,031 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:36:16,031 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:36:16,032 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:36:37,968 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:36:37,968 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:36:37,968 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:36:37,969 - main - DEBUG - 추출된 YAML:
name: reviewdog

on:
  pull_request:

jobs:
  golangci-lint:
    name: runner / suggester / golangci-lint
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v2
        with:
          version: latest
          only-new-issues: true
          args: --timeout 5m

  gofmt:
    name: runner / suggester / gofmt
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: |
          gofmt -w -s $(find . -not -path "*/vendor/*" -name "*.go")
        shell: bash
      - uses: reviewdog/action-suggester@v1
        with:
          tool_name: gofmt

  shfmt:
    name: runner / suggester / shfmt
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-go@v2
        with:
          go-version: '^1.17'
      - run: |
          GO111MODULE=on go get mvdan.cc/sh/v3/cmd/shfmt
          $(go env GOPATH)/bin/shfmt -bn -ci -s -w .
        shell: bash
      - uses: reviewdog/action-suggester@v1
        with:
          tool_name: shfmt

  shellcheck:
    if: github.event_name == 'pull_request'
    name: runner / shellcheck
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-shellcheck@v1
        with:
          github_token: ${{ secrets.github_token }}
          reporter: github-pr-check

  misspell:
    name: runner / misspell
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-misspell@v1
        with:
          github_token: ${{ secrets.github_token }}
          locale: "US"
          reporter: github-pr-check

  alex:
    name: runner / alex
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-alex@v1
        with:
          github_token: ${{ secrets.github_token }}
          reporter: github-pr-check
          level: info
2025-11-05 14:36:37,969 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:36:37,969 - main - DEBUG - 검증할 YAML 길이: 1945 문자
2025-11-05 14:36:37,969 - main - DEBUG - YAML 시작 부분: 'name: reviewdog\n\non:\n  pull_request:\n\njobs:\n  golangci-lint:\n    name: runner / suggester / golangci'
2025-11-05 14:36:37,985 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'reviewdog', 'on': {'pull_request': None}, 'jobs': {'golangci-lint': {'name': 'runner / suggester / golangci-lint', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'golangci-lint', 'uses': 'golangci/golangci-lint-action@v2', 'with': {'version': 'latest', 'only-new-issues': True, 'args': '--timeout 5m'}}]}, 'gofmt': {'name': 'runner / suggester / gofmt', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'run': 'gofmt -w -s $(find . -not -path "*/vendor/*" -name "*.go")\n', 'shell': 'bash'}, {'uses': 'reviewdog/action-suggester@v1', 'with': {'tool_name': 'gofmt'}}]}, 'shfmt': {'name': 'runner / suggester / shfmt', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'uses': 'actions/setup-go@v2', 'with': {'go-version': '^1.17'}}, {'run': 'GO111MODULE=on go get mvdan.cc/sh/v3/cmd/shfmt\n$(go env GOPATH)/bin/shfmt -bn -ci -s -w .\n', 'shell': 'bash'}, {'uses': 'reviewdog/action-suggester@v1', 'with': {'tool_name': 'shfmt'}}]}, 'shellcheck': {'if': "github.event_name == 'pull_request'", 'name': 'runner / shellcheck', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'uses': 'reviewdog/action-shellcheck@v1', 'with': {'github_token': '${{ secrets.github_token }}', 'reporter': 'github-pr-check'}}]}, 'misspell': {'name': 'runner / misspell', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'uses': 'reviewdog/action-misspell@v1', 'with': {'github_token': '${{ secrets.github_token }}', 'locale': 'US', 'reporter': 'github-pr-check'}}]}, 'alex': {'name': 'runner / alex', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'uses': 'reviewdog/action-alex@v1', 'with': {'github_token': '${{ secrets.github_token }}', 'reporter': 'github-pr-check', 'level': 'info'}}]}}}
2025-11-05 14:36:37,985 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_baseline_repaired.yml
2025-11-05 14:36:37,985 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:36:37,985 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_baseline_repaired.yml
2025-11-05 14:36:37,985 - __main__ - INFO - === 파일 34/100 베이스라인 복구 완료 ===
2025-11-05 14:36:37,985 - __main__ - INFO - ✅ 성공 (22.33초): d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2 -> d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_baseline_repaired.yml
2025-11-05 14:36:37,986 - __main__ - INFO - [35/100] 처리 중: 8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 14:36:37,986 - __main__ - INFO - 입력 파일 경로: data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 14:36:37,986 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_baseline_repaired.yml
2025-11-05 14:36:37,986 - __main__ - INFO - === 파일 35/100 베이스라인 복구 시작 ===
2025-11-05 14:36:37,986 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:36:37,986 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:36:37,986 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 14:36:37,986 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:36:37,986 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:36:37,986 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 14:36:37,991 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 14:36:37,991 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:36:37,991 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:36:37,991 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:36:37,991 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.41초)
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: CI

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - *

jobs:
  test:
    runs-on: ubuntu-latest

    services:
      db:
        image: postgres:10
        env:
          POSTGRES_DB: accent_test
          POSTGRES_PASSWORD: password
        ports: ["5432:5432"]
        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5

    env:
      MIX_ENV: test
      DATABASE_URL: postgres://postgres:password@localhost/accent_test

    steps:
      - uses: actions/checkout@v2

      - uses: actions/setup-elixir@v1
        with:
          otp-version: 22.x
          elixir-version: 1.9.x

      - uses: actions/setup-node@v1
        with:
          node-version: 10.14.x

      - name: Install System Dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y gcc libyaml-dev python-yaml

      - name: Install Elixir Dependencies
        run: |
          mix local.rebar --force
          mix local.hex --force
          mix deps.get
          mix deps.compile

      - name: Install NodeJS Dependencies
        run: |
          npm config set spin false
          npm i --no-audit --no-color
          npm i --prefix webapp --no-audit --no-color
          npm i --prefix cli --no-audit --no-color
          npm i --prefix jipt --no-audit --no-color

      - name: Build webapp production
        run: npm run build-production-inline --prefix webapp

      - name: Run Tests
        run: |
          mix ecto.setup
          ./priv/scripts/ci-check.sh

      - name: Build CLI
        run: npm --prefix cli run build
      - name: Build JIPT
        run: npm --prefix jipt run build-production-inline
      - name: Coverage report
        run: mix coveralls.post --token ${{ secrets.COVERALLS_REPO_TOKEN }} --name 'github-actions' --branch ${{ github.ref }} --committer ${{ github.actor }} --sha ${{ github.sha }}

while scanning an alias
  in "<file>", line 9, column 9
expected alphabetic or numeric character, but found '\n'
  in "<file>", line 9, column 10
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
9:10: syntax error: expected alphabetic or numeric character, but found '\n' (syntax)

2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 114
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: CI
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 6: - master
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 8: branches:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 9: - *
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 12: test:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 13: runs-on: ubuntu-latest
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 15: services:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 16: db:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 17: image: postgres:10
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 18: env:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 19: POSTGRES_DB: accent_test
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 20: POSTGRES_PASSWORD: password
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 21: ports: ["5432:5432"]
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 22: options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 24: env:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 25: MIX_ENV: test
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 26: DATABASE_URL: postgres://postgres:password@localhost/accent_test
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 28: steps:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 29: - uses: actions/checkout@v2
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 31: - uses: actions/setup-elixir@v1
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 32: with:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 33: otp-version: 22.x
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 34: elixir-version: 1.9.x
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 36: - uses: actions/setup-node@v1
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 38: node-version: 10.14.x
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 40: - name: Install System Dependencies
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 41: run: |
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 42: sudo apt-get update
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 43: sudo apt-get install -y gcc libyaml-dev python-yaml
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 45: - name: Install Elixir Dependencies
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 46: run: |
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 47: mix local.rebar --force
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 48: mix local.hex --force
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 49: mix deps.get
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 50: mix deps.compile
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 52: - name: Install NodeJS Dependencies
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 53: run: |
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 54: npm config set spin false
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 55: npm i --no-audit --no-color
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 56: npm i --prefix webapp --no-audit --no-color
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 57: npm i --prefix cli --no-audit --no-color
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 58: npm i --prefix jipt --no-audit --no-color
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 60: - name: Build webapp production
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 61: run: npm run build-production-inline --prefix webapp
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 63: - name: Run Tests
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 64: run: |
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 65: mix ecto.setup
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 66: ./priv/scripts/ci-check.sh
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 68: - name: Build CLI
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 69: run: npm --prefix cli run build
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 70: - name: Build JIPT
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 71: run: npm --prefix jipt run build-production-inline
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 72: - name: Coverage report
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 73: run: mix coveralls.post --token ${{ secrets.COVERALLS_REPO_TOKEN }} --name 'github-actions' --branch ${{ github.ref }} --committer ${{ github.actor }} --sha ${{ github.sha }}
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 75: while scanning an alias
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 76: in "<file>", line 9, column 9
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 77: expected alphabetic or numeric character, but found '\n'
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 78: in "<file>", line 9, column 10
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 79: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,405 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 93: We have found 18 smells
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 94: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 95: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 96: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 97: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 98: - 12. Avoid workflows without comments
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 99: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 111: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 112: The following styling errors were found:
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 라인 113: 9:10: syntax error: expected alphabetic or numeric character, but found '\n' (syntax)
2025-11-05 14:36:38,406 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 9:10: syntax error: expected alphabetic or numeric character, but found '\n' (syntax)
2025-11-05 14:36:38,406 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:36:38,406 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:36:38,406 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:36:38,406 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:36:38,406 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:36:38,406 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:36:38,406 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: CI

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - *

jobs:
  test:
    runs-on: ubuntu-latest

    services:
      db:
        image: postgres:10
        env:
          POSTGRES_DB: accent_test
          POSTGRES_PASSWORD: password
        ports: ["5432:5432"]
        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5

    ...
2025-11-05 14:36:38,406 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:36:38,406 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:36:38,406 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:36:38,407 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:36:59,646 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:36:59,647 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:36:59,647 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:36:59,647 - main - DEBUG - 추출된 YAML:
name: CI

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - main # Changed from '*' to 'main' for better practice

jobs:
  test:
    runs-on: ubuntu-latest

    services:
      db:
        image: postgres:10
        env:
          POSTGRES_DB: accent_test
          POSTGRES_PASSWORD: ${{ secrets.POSTGRES_PASSWORD }} # Secured password
        ports: ["5432:5432"]
        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5

    env:
      MIX_ENV: test
      DATABASE_URL: postgres://postgres:${{ secrets.POSTGRES_PASSWORD }}@localhost/accent_test # Secured password

    steps:
      - uses: actions/checkout@v2

      - uses: actions/setup-elixir@v1
        with:
          otp-version: '22.x' # Added quotes for version number
          elixir-version: '1.9.x'

      - uses: actions/setup-node@v1
        with:
          node-version: '10.14.x'

      - name: Install System Dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y gcc libyaml-dev python-yaml

      - name: Install Elixir Dependencies
        run: |
          mix local.rebar --force
          mix local.hex --force
          mix deps.get
          mix deps.compile

      - name: Install NodeJS Dependencies
        run: |
          npm config set spin false
          npm i --no-audit --no-color
          npm i --prefix webapp --no-audit --no-color
          npm i --prefix cli --no-audit --no-color
          npm i --prefix jipt --no-audit --no-color

      - name: Build webapp production
        run: |
          npm run build-production-inline --prefix webapp

      - name: Run Tests
        run: |
          mix ecto.setup
          ./priv/scripts/ci-check.sh

      - name: Build CLI
        run: |
          npm --prefix cli run build

      - name: Build JIPT
        run: |
          npm --prefix jipt run build-production-inline

      - name: Coverage report
        env:
          COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }} # Secured token
        run: |
          mix coveralls.post --token ${COVERALLS_REPO_TOKEN} --name 'github-actions' --branch ${GITHUB_REF} --committer ${GITHUB_ACTOR} --sha ${GITHUB_SHA}
2025-11-05 14:36:59,647 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:36:59,647 - main - DEBUG - 검증할 YAML 길이: 2222 문자
2025-11-05 14:36:59,647 - main - DEBUG - YAML 시작 부분: 'name: CI\n\non:\n  push:\n    branches:\n      - master\n  pull_request:\n    branches:\n      - main # Chan'
2025-11-05 14:36:59,651 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'push': {'branches': ['master']}, 'pull_request': {'branches': ['main']}}, 'jobs': {'test': {'runs-on': 'ubuntu-latest', 'services': {'db': {'image': 'postgres:10', 'env': {'POSTGRES_DB': 'accent_test', 'POSTGRES_PASSWORD': '${{ secrets.POSTGRES_PASSWORD }}'}, 'ports': ['5432:5432'], 'options': '--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5'}}, 'env': {'MIX_ENV': 'test', 'DATABASE_URL': 'postgres://postgres:${{ secrets.POSTGRES_PASSWORD }}@localhost/accent_test'}, 'steps': [{'uses': 'actions/checkout@v2'}, {'uses': 'actions/setup-elixir@v1', 'with': {'otp-version': '22.x', 'elixir-version': '1.9.x'}}, {'uses': 'actions/setup-node@v1', 'with': {'node-version': '10.14.x'}}, {'name': 'Install System Dependencies', 'run': 'sudo apt-get update\nsudo apt-get install -y gcc libyaml-dev python-yaml\n'}, {'name': 'Install Elixir Dependencies', 'run': 'mix local.rebar --force\nmix local.hex --force\nmix deps.get\nmix deps.compile\n'}, {'name': 'Install NodeJS Dependencies', 'run': 'npm config set spin false\nnpm i --no-audit --no-color\nnpm i --prefix webapp --no-audit --no-color\nnpm i --prefix cli --no-audit --no-color\nnpm i --prefix jipt --no-audit --no-color\n'}, {'name': 'Build webapp production', 'run': 'npm run build-production-inline --prefix webapp\n'}, {'name': 'Run Tests', 'run': 'mix ecto.setup\n./priv/scripts/ci-check.sh\n'}, {'name': 'Build CLI', 'run': 'npm --prefix cli run build\n'}, {'name': 'Build JIPT', 'run': 'npm --prefix jipt run build-production-inline\n'}, {'name': 'Coverage report', 'env': {'COVERALLS_REPO_TOKEN': '${{ secrets.COVERALLS_REPO_TOKEN }}'}, 'run': "mix coveralls.post --token ${COVERALLS_REPO_TOKEN} --name 'github-actions' --branch ${GITHUB_REF} --committer ${GITHUB_ACTOR} --sha ${GITHUB_SHA}"}]}}}
2025-11-05 14:36:59,652 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_baseline_repaired.yml
2025-11-05 14:36:59,652 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:36:59,652 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_baseline_repaired.yml
2025-11-05 14:36:59,652 - __main__ - INFO - === 파일 35/100 베이스라인 복구 완료 ===
2025-11-05 14:36:59,652 - __main__ - INFO - ✅ 성공 (21.67초): 8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade -> 8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_baseline_repaired.yml
2025-11-05 14:36:59,652 - __main__ - INFO - [36/100] 처리 중: 8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 14:36:59,652 - __main__ - INFO - 입력 파일 경로: data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 14:36:59,652 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_baseline_repaired.yml
2025-11-05 14:36:59,652 - __main__ - INFO - === 파일 36/100 베이스라인 복구 시작 ===
2025-11-05 14:36:59,652 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:36:59,652 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:36:59,653 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 14:36:59,653 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:36:59,653 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:36:59,653 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 14:36:59,676 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:36:59,677 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:36:59,677 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:36:59,677 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:36:59,677 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
We have found 21 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 10)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 10. Avoid jobs without timeouts (line: 10)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:14)
	- 13. Use names for run steps (lines -1:17)
	- 13. Use names for run steps (lines -1:24)
	- 13. Use names for run steps (lines 13:13)
	- 13. Use names for run steps (lines -1:27)
	- 13. Use names for run steps (lines 21:22)
	- 13. Use names for run steps (lines 20:21)
	- 13. Use names for run steps (lines 30:30)
	- 13. Use names for run steps (lines -1:31)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
13:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 26
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 라인 2: We have found 21 smells
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 21 smells
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 14:37:00,160 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 10)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 10)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 10: - 12. Avoid workflows without comments
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:14)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:14)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines -1:17)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:17)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines -1:24)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:24)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines 13:13)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 13:13)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 15: - 13. Use names for run steps (lines -1:27)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:27)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 16: - 13. Use names for run steps (lines 21:22)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 21:22)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 17: - 13. Use names for run steps (lines 20:21)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 20:21)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 18: - 13. Use names for run steps (lines 30:30)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 30:30)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 19: - 13. Use names for run steps (lines -1:31)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:31)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 20: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 21: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 22: - 19. Run tests on multiple OS's (job: build)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 23: - 22. Avoid deploying jobs on forks
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 24: The following styling errors were found:
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:37:00,161 - utils.process_runner - DEBUG - 라인 25: 13:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:37:00,161 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:37:00,161 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:37:00,161 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:37:00,161 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:37:00,161 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:37:00,161 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Site

on:
  push:
    branches:
      - main
      - site

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: dtolnay/rust-toolchain@stable
      with:
        targets: wasm32-unknown-unknown
    - uses: peaceiris/actions-mdbook@v1
      with:
        mdbook-version: latest
    - run: npm install
      working-directory: crates/rune-wasm
    - run: npm ...
2025-11-05 14:37:00,161 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:37:00,161 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:37:00,161 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:37:00,163 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:37:15,722 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:37:15,724 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:37:15,725 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:37:15,725 - main - DEBUG - 추출된 YAML:
name: Site

on:
  push:
    branches:
      - main
      - site

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Setup Rust toolchain
      uses: dtolnay/rust-toolchain@stable
      with:
        targets: wasm32-unknown-unknown
    - name: Install mdbook
      uses: peaceiris/actions-mdbook@v1
      with:
        mdbook-version: latest
    - run: npm install
      working-directory: crates/rune-wasm
    - run: npm run build
      working-directory: crates/rune-wasm
    - name: Build site
      run: cargo run --bin rune -- doc --output target/site/docs
      env:
        RUST_LOG=rune=info
    - name: Build Zola site
      run: cargo run --manifest-path tools/site/Cargo.toml -- -r site build -o target/site
      env:
        ZOLA_URL: "https://github.com/getzola/zola/releases/download/v0.17.2/zola-v0.17.2-x86_64-unknown-linux-gnu.tar.gz"
    - name: Build mdbook site
      run: mdbook build -d ../target/site/book book
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
        external_repository: rune-rs/rune-rs.github.io
        publish_branch: main
        publish_dir: target/site

    timeout-minutes: 10
2025-11-05 14:37:15,725 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:37:15,725 - main - DEBUG - 검증할 YAML 길이: 1264 문자
2025-11-05 14:37:15,725 - main - DEBUG - YAML 시작 부분: 'name: Site\n\non:\n  push:\n    branches:\n      - main\n      - site\n\njobs:\n  build:\n    runs-on: ubuntu-'
2025-11-05 14:37:15,728 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Site', 'on': {'push': {'branches': ['main', 'site']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Setup Rust toolchain', 'uses': 'dtolnay/rust-toolchain@stable', 'with': {'targets': 'wasm32-unknown-unknown'}}, {'name': 'Install mdbook', 'uses': 'peaceiris/actions-mdbook@v1', 'with': {'mdbook-version': 'latest'}}, {'run': 'npm install', 'working-directory': 'crates/rune-wasm'}, {'run': 'npm run build', 'working-directory': 'crates/rune-wasm'}, {'name': 'Build site', 'run': 'cargo run --bin rune -- doc --output target/site/docs', 'env': 'RUST_LOG=rune=info'}, {'name': 'Build Zola site', 'run': 'cargo run --manifest-path tools/site/Cargo.toml -- -r site build -o target/site', 'env': {'ZOLA_URL': 'https://github.com/getzola/zola/releases/download/v0.17.2/zola-v0.17.2-x86_64-unknown-linux-gnu.tar.gz'}}, {'name': 'Build mdbook site', 'run': 'mdbook build -d ../target/site/book book'}, {'name': 'Deploy to GitHub Pages', 'uses': 'peaceiris/actions-gh-pages@v3', 'with': {'deploy_key': '${{ secrets.ACTIONS_DEPLOY_KEY }}', 'external_repository': 'rune-rs/rune-rs.github.io', 'publish_branch': 'main', 'publish_dir': 'target/site'}}], 'timeout-minutes': 10}}}
2025-11-05 14:37:15,728 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_baseline_repaired.yml
2025-11-05 14:37:15,728 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:37:15,728 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_baseline_repaired.yml
2025-11-05 14:37:15,728 - __main__ - INFO - === 파일 36/100 베이스라인 복구 완료 ===
2025-11-05 14:37:15,728 - __main__ - INFO - ✅ 성공 (16.08초): 8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04 -> 8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_baseline_repaired.yml
2025-11-05 14:37:15,729 - __main__ - INFO - [37/100] 처리 중: 73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 14:37:15,729 - __main__ - INFO - 입력 파일 경로: data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 14:37:15,730 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_baseline_repaired.yml
2025-11-05 14:37:15,730 - __main__ - INFO - === 파일 37/100 베이스라인 복구 시작 ===
2025-11-05 14:37:15,730 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:37:15,730 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:37:15,730 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 14:37:15,730 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:37:15,731 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:37:15,731 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 14:37:15,751 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:37:15,752 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:37:15,752 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:37:15,752 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:37:15,752 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: test_workflow

on:
  workflow_dispatch:
  repository_dispatch:
    types: [ test_workflow ]
jobs:
  setup:
    runs-on: ubuntu-latest
    timeout-minutes: 600
    steps:
    - name: CHECKOUT
      uses: actions/checkout@v2
    - name: AZURE LOGIN
      uses: azure/login@v1
      with:
        creds: ${{secrets.AZURE_CREDENTIALS}}
    - name: Create Cluster
      env:
        AZURE_APP_ID: ${{ secrets.AZURE_APP_ID }}
        AZURE_APP_PASSWORD: ${{ secrets.AZURE_APP_PASSWORD }}
        RESOURCE_GROUP: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
      run: |
        az aks create \
            --resource-group "${RESOURCE_GROUP}" \
            --name "bal-perf-cluster-test" \
            --service-principal "${AZURE_APP_ID}"\
            --client-secret "${AZURE_APP_PASSWORD}" \
            --nodepool-name testnodepool \
            --generate-ssh-keys
    - name: Configure AKS
      uses: azure/aks-set-context@v1
      with:
        creds: '${{ secrets.AZURE_CREDENTIALS }}'
        cluster-name: 'bal-perf-cluster-test'
        resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
    - name: Deploy Niginx
      run: |
        # Create a namespace for your ingress resources
        kubectl create namespace ingress-basic

        # Add the ingress-nginx repository
        helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx

        # Use Helm to deploy an NGINX ingress controller
        helm install nginx-ingress ingress-nginx/ingress-nginx \
            --namespace ingress-basic \
            --set controller.replicaCount=2 \
            --set controller.nodeSelector."beta\.kubernetes\.io/os"=linux \
            --set defaultBackend.nodeSelector."beta\.kubernetes\.io/os"=linux \
            --set controller.admissionWebhooks.patch.nodeSelector."beta\.kubernetes\.io/os"=linux
        # Wait for ingress ip
        kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
        -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
        | head -n1
    - name: Label Nodes
      run: |
        node=`kubectl get nodes | awk '{if (NR==2) {print $1}}'`
        kubectl label nodes $node workertype=app
        node=`kubectl get nodes | awk '{if (NR==3) {print $1}}'`
        kubectl label nodes $node workertype=backend
  build:
    needs: setup
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 1
      matrix:
        payload: [50]
        users: [60, 200]
    env:
      TEST_NAME: "test_passthrough"
      TEST_ROOT: "tests"
    steps:
    - uses: actions/checkout@v2
    - name: Login to DockerHub
      uses: docker/login-action@v1
      with:
        username: ${{ secrets.DOCKER_HUB_USERNAME }}
        password: ${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}
    - name: Ballerina Build
      uses: ballerina-platform/ballerina-action@master # uses slbeta2
      env:
        CI_BUILD: true
        WORKING_DIR: tests/test_passthrough
      with:
        args:
          build
    - name: Docker push
      run: docker push ballerina/${TEST_NAME}:latest
    - name: Copy artifacts
      run: |
        ls -ltr
        cp -a ${TEST_ROOT}/${TEST_NAME}/target/kubernetes/${TEST_NAME}/. ${TEST_ROOT}/${TEST_NAME}/deployment/
    - name: 'Install Kustomize'
      run: |
        curl -s "https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh"  | bash
    - name: 'Run Kustomize'
      run: |
          kustomize build ${TEST_ROOT}/${TEST_NAME}/deployment > ${TEST_ROOT}/${TEST_NAME}/final.yaml
    - name: Configure AKS
      uses: azure/aks-set-context@v1
      with:
        creds: '${{ secrets.AZURE_CREDENTIALS }}'
        cluster-name: 'bal-perf-cluster-test'
        resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
    - name: Deploy artifacts
      run: |
        kubectl apply -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
    - name: Login via Az module
      uses: azure/login@v1
      with:
        creds: ${{secrets.AZURE_CREDENTIALS}}
    - name: Write values to outputs
      id: write
      run: |
        echo "::set-output name=cluster-ip::$(kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
                                              -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
                                              | head -n1)"
        echo "::set-output name=scenario-name::${TEST_NAME}"
        echo "::set-output name=vm-name::bal-perf-vm-`echo ${TEST_NAME} | tr '_' '-'`-${{ matrix.users }}-${{ matrix.payload }}-${{ GITHUB.RUN_NUMBER }}"
        echo "::set-output name=git-token::${{ secrets.BALLERINA_BOT_TOKEN }}"
        echo "::set-output name=custom-image-name::$(cat image.txt)"
    - name: Create VM Instance
      id: vminstance
      uses: azure/CLI@v1
      with:
        azcliversion: 2.0.72
        inlineScript: |
          az vm create --resource-group "${{ secrets.CLUSTER_RESOURCE_GROUP }}"  --name "${{ steps.write.outputs.vm-name }}"  --admin-username "${{ secrets.VM_USER }}" --admin-password "${{ secrets.VM_PWD }}" --location  eastus \
          --image "mi_${{ steps.write.outputs.custom-image-name }}" --tags benchmark-number=${{ steps.write.outputs.vm-name }} --size Standard_F4s_v2
          echo "::set-output name=ip-address::$(az vm show -d -g "${{ secrets.CLUSTER_RESOURCE_GROUP }}" -n "${{ steps.write.outputs.vm-name }}" --query publicIps -o tsv)"
    - name: Execute performance tests
      uses: appleboy/ssh-action@master
      env: 
        IP: ${{ steps.write.outputs.cluster-ip }}
        SCENARIO_NAME: ${{ steps.write.outputs.scenario-name }}
        GITHUB_TOKEN: ${{steps.write.outputs.git-token}}
        PAYLOAD: ${{ matrix.payload }}
        USERS: ${{ matrix.users }}
      with:
        host: ${{ steps.vminstance.outputs.ip-address }}
        username: ${{ secrets.VM_USER }}
        password: ${{ secrets.VM_PWD }}
        envs: IP,SCENARIO_NAME,GITHUB_TOKEN,PAYLOAD,USERS
        command_timeout: '180m' #3 hours
        timeout: 300s #5 mins
        script: |
          source /etc/profile.d/10-perf-vm.sh
          execute-tests.sh $IP $SCENARIO_NAME $GITHUB_TOKEN $PAYLOAD $USERS
    - name: Undeploy Kubernetes artifacts
      if: always()
      run: |
        kubectl delete -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
    - name: Cleanup VM
      if: always()
      continue-on-error: true
      uses: azure/CLI@v1
      with:
        azcliversion: 2.0.72
        inlineScript: |
          az resource delete --ids $(az resource list --tag benchmark-number=${{ steps.write.outputs.vm-name }} -otable --query "[].id" -otsv)
          var=`az disk list --query "[?tags.\"benchmark-number\"=='${{ steps.write.outputs.vm-name }}'].id" -otable -otsv`
          if [ -n "$var" ]
          then
              az resource delete --ids ${var}
          else 
              echo "Disk is already deleted"
          fi
     cleanup:
     needs: build
     name: clean up
     if: always()
     runs-on: ubuntu-latest
     steps:
     - name: AZURE LOGIN
       uses: azure/login@v1
       with:
         creds: ${{secrets.AZURE_CREDENTIALS}}
     - name: Cleaning up the cluster
       if: always()
       uses: azure/CLI@v1
       with:
         azcliversion: 2.0.72
         inlineScript: |
           az group delete --name mc_${{ secrets.CLUSTER_RESOURCE_GROUP }}_bal-perf-cluster-test_eastus -y
           az aks delete --name bal-perf-cluster-test --resource-group ${{ secrets.CLUSTER_RESOURCE_GROUP }} -y
while parsing a block mapping
  in "<file>", line 63, column 5
expected <block end>, but found '<block mapping start>'
  in "<file>", line 169, column 6
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 23 smells
	- 3. Use fixed version for runs-on argument (line 172)
	- 3. Use fixed version for runs-on argument (line 8)
	- 8. Use commit hash instead of tags for action versions (line 180)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 8. Use commit hash instead of tags for action versions (line 124)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 73)
	- 8. Use commit hash instead of tags for action versions (line 75)
	- 8. Use commit hash instead of tags for action versions (line 175)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
6:13: too many spaces inside brackets (brackets)
6:27: too many spaces inside brackets (brackets)
12:5: wrong indentation: expected 6 but found 4 (indentation)
74:5: wrong indentation: expected 6 but found 4 (indentation)
81:56: too few spaces before comment: expected 2 (comments)
134:11: trailing spaces (trailing-spaces)
145:33: too few spaces before comment: expected 2 (comments)
145:34: missing starting space in comment (comments)
146:23: too few spaces before comment: expected 2 (comments)
146:24: missing starting space in comment (comments)
166:15: trailing spaces (trailing-spaces)
169:6: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
175:6: wrong indentation: expected 7 but found 5 (indentation)
186:112: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 244
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: test_workflow
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 4: workflow_dispatch:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 5: repository_dispatch:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 6: types: [ test_workflow ]
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 8: setup:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-latest
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 10: timeout-minutes: 600
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 11: steps:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 12: - name: CHECKOUT
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 13: uses: actions/checkout@v2
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 14: - name: AZURE LOGIN
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 15: uses: azure/login@v1
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 17: creds: ${{secrets.AZURE_CREDENTIALS}}
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 18: - name: Create Cluster
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 19: env:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 20: AZURE_APP_ID: ${{ secrets.AZURE_APP_ID }}
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 21: AZURE_APP_PASSWORD: ${{ secrets.AZURE_APP_PASSWORD }}
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 22: RESOURCE_GROUP: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 23: run: |
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 24: az aks create \
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 25: --resource-group "${RESOURCE_GROUP}" \
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 26: --name "bal-perf-cluster-test" \
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 27: --service-principal "${AZURE_APP_ID}"\
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 28: --client-secret "${AZURE_APP_PASSWORD}" \
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 29: --nodepool-name testnodepool \
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 30: --generate-ssh-keys
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 31: - name: Configure AKS
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 32: uses: azure/aks-set-context@v1
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 34: creds: '${{ secrets.AZURE_CREDENTIALS }}'
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 35: cluster-name: 'bal-perf-cluster-test'
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 36: resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 37: - name: Deploy Niginx
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 38: run: |
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 39: # Create a namespace for your ingress resources
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 40: kubectl create namespace ingress-basic
2025-11-05 14:37:16,219 - utils.process_runner - DEBUG - 라인 42: # Add the ingress-nginx repository
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 43: helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 45: # Use Helm to deploy an NGINX ingress controller
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 46: helm install nginx-ingress ingress-nginx/ingress-nginx \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 47: --namespace ingress-basic \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 48: --set controller.replicaCount=2 \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 49: --set controller.nodeSelector."beta\.kubernetes\.io/os"=linux \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 50: --set defaultBackend.nodeSelector."beta\.kubernetes\.io/os"=linux \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 51: --set controller.admissionWebhooks.patch.nodeSelector."beta\.kubernetes\.io/os"=linux
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 52: # Wait for ingress ip
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 53: kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 54: -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 55: | head -n1
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 56: - name: Label Nodes
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 57: run: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 58: node=`kubectl get nodes | awk '{if (NR==2) {print $1}}'`
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 59: kubectl label nodes $node workertype=app
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 60: node=`kubectl get nodes | awk '{if (NR==3) {print $1}}'`
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 61: kubectl label nodes $node workertype=backend
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 62: build:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 63: needs: setup
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 64: runs-on: ubuntu-latest
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 65: strategy:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 66: max-parallel: 1
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 67: matrix:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 68: payload: [50]
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 69: users: [60, 200]
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 70: env:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 71: TEST_NAME: "test_passthrough"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 72: TEST_ROOT: "tests"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 73: steps:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 74: - uses: actions/checkout@v2
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 75: - name: Login to DockerHub
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 76: uses: docker/login-action@v1
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 77: with:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 78: username: ${{ secrets.DOCKER_HUB_USERNAME }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 79: password: ${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 80: - name: Ballerina Build
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 81: uses: ballerina-platform/ballerina-action@master # uses slbeta2
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 82: env:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 83: CI_BUILD: true
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 84: WORKING_DIR: tests/test_passthrough
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 85: with:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 86: args:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 87: build
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 88: - name: Docker push
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 89: run: docker push ballerina/${TEST_NAME}:latest
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 90: - name: Copy artifacts
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 91: run: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 92: ls -ltr
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 93: cp -a ${TEST_ROOT}/${TEST_NAME}/target/kubernetes/${TEST_NAME}/. ${TEST_ROOT}/${TEST_NAME}/deployment/
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 94: - name: 'Install Kustomize'
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 95: run: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 96: curl -s "https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh"  | bash
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 97: - name: 'Run Kustomize'
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 98: run: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 99: kustomize build ${TEST_ROOT}/${TEST_NAME}/deployment > ${TEST_ROOT}/${TEST_NAME}/final.yaml
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 100: - name: Configure AKS
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 101: uses: azure/aks-set-context@v1
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 102: with:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 103: creds: '${{ secrets.AZURE_CREDENTIALS }}'
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 104: cluster-name: 'bal-perf-cluster-test'
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 105: resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 106: - name: Deploy artifacts
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 107: run: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 108: kubectl apply -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 109: - name: Login via Az module
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 110: uses: azure/login@v1
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 111: with:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 112: creds: ${{secrets.AZURE_CREDENTIALS}}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 113: - name: Write values to outputs
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 114: id: write
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 115: run: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 116: echo "::set-output name=cluster-ip::$(kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 117: -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 118: | head -n1)"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 119: echo "::set-output name=scenario-name::${TEST_NAME}"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 120: echo "::set-output name=vm-name::bal-perf-vm-`echo ${TEST_NAME} | tr '_' '-'`-${{ matrix.users }}-${{ matrix.payload }}-${{ GITHUB.RUN_NUMBER }}"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 121: echo "::set-output name=git-token::${{ secrets.BALLERINA_BOT_TOKEN }}"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 122: echo "::set-output name=custom-image-name::$(cat image.txt)"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 123: - name: Create VM Instance
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 124: id: vminstance
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 125: uses: azure/CLI@v1
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 126: with:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 127: azcliversion: 2.0.72
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 128: inlineScript: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 129: az vm create --resource-group "${{ secrets.CLUSTER_RESOURCE_GROUP }}"  --name "${{ steps.write.outputs.vm-name }}"  --admin-username "${{ secrets.VM_USER }}" --admin-password "${{ secrets.VM_PWD }}" --location  eastus \
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 130: --image "mi_${{ steps.write.outputs.custom-image-name }}" --tags benchmark-number=${{ steps.write.outputs.vm-name }} --size Standard_F4s_v2
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 131: echo "::set-output name=ip-address::$(az vm show -d -g "${{ secrets.CLUSTER_RESOURCE_GROUP }}" -n "${{ steps.write.outputs.vm-name }}" --query publicIps -o tsv)"
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 132: - name: Execute performance tests
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 133: uses: appleboy/ssh-action@master
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 134: env:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 135: IP: ${{ steps.write.outputs.cluster-ip }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 136: SCENARIO_NAME: ${{ steps.write.outputs.scenario-name }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 137: GITHUB_TOKEN: ${{steps.write.outputs.git-token}}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 138: PAYLOAD: ${{ matrix.payload }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 139: USERS: ${{ matrix.users }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 140: with:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 141: host: ${{ steps.vminstance.outputs.ip-address }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 142: username: ${{ secrets.VM_USER }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 143: password: ${{ secrets.VM_PWD }}
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 144: envs: IP,SCENARIO_NAME,GITHUB_TOKEN,PAYLOAD,USERS
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 145: command_timeout: '180m' #3 hours
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 146: timeout: 300s #5 mins
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 147: script: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 148: source /etc/profile.d/10-perf-vm.sh
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 149: execute-tests.sh $IP $SCENARIO_NAME $GITHUB_TOKEN $PAYLOAD $USERS
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 150: - name: Undeploy Kubernetes artifacts
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 151: if: always()
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 152: run: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 153: kubectl delete -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 154: - name: Cleanup VM
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 155: if: always()
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 156: continue-on-error: true
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: true
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 157: uses: azure/CLI@v1
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 158: with:
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 159: azcliversion: 2.0.72
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 160: inlineScript: |
2025-11-05 14:37:16,220 - utils.process_runner - DEBUG - 라인 161: az resource delete --ids $(az resource list --tag benchmark-number=${{ steps.write.outputs.vm-name }} -otable --query "[].id" -otsv)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 162: var=`az disk list --query "[?tags.\"benchmark-number\"=='${{ steps.write.outputs.vm-name }}'].id" -otable -otsv`
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 163: if [ -n "$var" ]
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 164: then
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 165: az resource delete --ids ${var}
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 166: else
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 167: echo "Disk is already deleted"
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 168: fi
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 169: cleanup:
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 170: needs: build
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 171: name: clean up
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 172: if: always()
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 173: runs-on: ubuntu-latest
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 174: steps:
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 175: - name: AZURE LOGIN
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 176: uses: azure/login@v1
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 177: with:
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 178: creds: ${{secrets.AZURE_CREDENTIALS}}
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 179: - name: Cleaning up the cluster
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 180: if: always()
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 181: uses: azure/CLI@v1
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 182: with:
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 183: azcliversion: 2.0.72
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 184: inlineScript: |
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 185: az group delete --name mc_${{ secrets.CLUSTER_RESOURCE_GROUP }}_bal-perf-cluster-test_eastus -y
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 186: az aks delete --name bal-perf-cluster-test --resource-group ${{ secrets.CLUSTER_RESOURCE_GROUP }} -y
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 187: while parsing a block mapping
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 188: in "<file>", line 63, column 5
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 189: expected <block end>, but found '<block mapping start>'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 190: in "<file>", line 169, column 6
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 191: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 192: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 193: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 194: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 195: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 196: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 197: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 198: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 199: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 200: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 201: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 202: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 203: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 204: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 205: We have found 23 smells
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 23 smells
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 206: - 3. Use fixed version for runs-on argument (line 172)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 172)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 207: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 208: - 8. Use commit hash instead of tags for action versions (line 180)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 180)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 209: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 210: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 211: - 8. Use commit hash instead of tags for action versions (line 124)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 124)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 212: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 213: - 8. Use commit hash instead of tags for action versions (line 73)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 73)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 214: - 8. Use commit hash instead of tags for action versions (line 75)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 75)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 215: - 8. Use commit hash instead of tags for action versions (line 175)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 175)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 216: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 217: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 218: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 219: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 220: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 221: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 222: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 223: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 224: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 225: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 226: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 227: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 228: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 229: The following styling errors were found:
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:37:16,221 - utils.process_runner - DEBUG - 라인 230: 6:13: too many spaces inside brackets (brackets)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 231: 6:27: too many spaces inside brackets (brackets)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 232: 12:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 233: 74:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 234: 81:56: too few spaces before comment: expected 2 (comments)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 235: 134:11: trailing spaces (trailing-spaces)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 236: 145:33: too few spaces before comment: expected 2 (comments)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 237: 145:34: missing starting space in comment (comments)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 238: 146:23: too few spaces before comment: expected 2 (comments)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 239: 146:24: missing starting space in comment (comments)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 240: 166:15: trailing spaces (trailing-spaces)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 241: 169:6: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 169:6: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 242: 175:6: wrong indentation: expected 7 but found 5 (indentation)
2025-11-05 14:37:16,222 - utils.process_runner - DEBUG - 라인 243: 186:112: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 14:37:16,222 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:37:16,222 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:37:16,222 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:37:16,222 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:37:16,222 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:37:16,222 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:37:16,222 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: test_workflow

on:
  workflow_dispatch:
  repository_dispatch:
    types: [ test_workflow ]
jobs:
  setup:
    runs-on: ubuntu-latest
    timeout-minutes: 600
    steps:
    - name: CHECKOUT
      uses: actions/checkout@v2
    - name: AZURE LOGIN
      uses: azure/login@v1
      with:
        creds: ${{secrets.AZURE_CREDENTIALS}}
    - name: Create Cluster
      env:
        AZURE_APP_ID: ${{ secre...
2025-11-05 14:37:16,222 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:37:16,222 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:37:16,222 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:37:16,223 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:38:20,664 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:38:20,667 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:38:20,667 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:38:20,668 - main - DEBUG - 추출된 YAML:
name: test_workflow

on:
  workflow_dispatch:
  repository_dispatch:
    types: [test_workflow]

jobs:
  setup:
    runs-on: ubuntu-latest
    timeout-minutes: 600
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Azure login
        uses: azure/login@v1
        with:
          creds: ${{ secrets.AZURE_CREDENTIALS }}
      - name: Create Cluster
        env:
          AZURE_APP_ID: ${{ secrets.AZURE_APP_ID }}
          AZURE_APP_PASSWORD: ${{ secrets.AZURE_APP_PASSWORD }}
          RESOURCE_GROUP: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
        run: |
          az aks create \
            --resource-group "${RESOURCE_GROUP}" \
            --name "bal-perf-cluster-test" \
            --service-principal "${AZURE_APP_ID}"\
            --client-secret "${AZURE_APP_PASSWORD}" \
            --nodepool-name testnodepool \
            --generate-ssh-keys
      - name: Configure AKS
        uses: azure/aks-set-context@v1
        with:
          creds: '${{ secrets.AZURE_CREDENTIALS }}'
          cluster-name: 'bal-perf-cluster-test'
          resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
      - name: Deploy Niginx
        run: |
          # Create a namespace for your ingress resources
          kubectl create namespace ingress-basic

          # Add the ingress-nginx repository
          helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx

          # Use Helm to deploy an NGINX ingress controller
          helm install nginx-ingress ingress-nginx/ingress-nginx \
            --namespace ingress-basic \
            --set controller.replicaCount=2 \
            --set controller.nodeSelector."beta\.kubernetes\.io/os"=linux \
            --set defaultBackend.nodeSelector."beta\.kubernetes\.io/os"=linux \
            --set controller.admissionWebhooks.patch.nodeSelector."beta\.kubernetes\.io/os"=linux
          # Wait for ingress ip
          kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
          -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
          | head -n1
      - name: Label Nodes
        run: |
          node=$(kubectl get nodes | awk '{if (NR==2) {print $1}}')
          kubectl label nodes $node workertype=app
          node=$(kubectl get nodes | awk '{if (NR==3) {print $1}}')
          kubectl label nodes $node workertype=backend

  build:
    needs: setup
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 1
      matrix:
        payload: [50]
        users: [60, 200]
    env:
      TEST_NAME: "test_passthrough"
      TEST_ROOT: "tests"
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Login to DockerHub
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKER_HUB_USERNAME }}
          password: ${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}
      - name: Ballerina Build
        uses: ballerina-platform/ballerina-action@master # uses slbeta2
        env:
          CI_BUILD: true
          WORKING_DIR: tests/test_passthrough
        with:
          args:
            build
      - name: Docker push
        run: docker push ballerina/${TEST_NAME}:latest
      - name: Copy artifacts
        run: |
          ls -ltr
          cp -a ${TEST_ROOT}/${TEST_NAME}/target/kubernetes/${TEST_NAME}/. ${TEST_ROOT}/${TEST_NAME}/deployment/
      - name: 'Install Kustomize'
        run: |
          curl -s "https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh"  | bash
      - name: 'Run Kustomize'
        run: |
          kustomize build ${TEST_ROOT}/${TEST_NAME}/deployment > ${TEST_ROOT}/${TEST_NAME}/final.yaml
      - name: Configure AKS
        uses: azure/aks-set-context@v1
        with:
          creds: '${{ secrets.AZURE_CREDENTIALS }}'
          cluster-name: 'bal-perf-cluster-test'
          resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
      - name: Deploy artifacts
        run: |
          kubectl apply -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
      - name: Login via Az module
        uses: azure/login@v1
        with:
          creds: ${{secrets.AZURE_CREDENTIALS}}
      - name: Write values to outputs
        id: write
        run: |
          echo "::set-output name=cluster-ip::$(kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
                                                -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
                                                | head -n1)"
          echo "::set-output name=scenario-name::${TEST_NAME}"
          echo "::set-output name=vm-name::bal-perf-vm-`echo ${TEST_NAME} | tr '_' '-'`-${{ matrix.users }}-${{ matrix.payload }}-${{ GITHUB.RUN_NUMBER }}"
          echo "::set-output name=git-token::${{ secrets.BALLERINA_BOT_TOKEN }}"
          echo "::set-output name=custom-image-name::$(cat image.txt)"
      - name: Create VM Instance
        id: vminstance
        uses: azure/CLI@v1
        with:
          azcliversion: 2.0.72
          inlineScript: |
            az vm create --resource-group "${{ secrets.CLUSTER_RESOURCE_GROUP }}"  --name "${{ steps.write.outputs.vm-name }}"  --admin-username "${{ secrets.VM_USER }}" --admin-password "${{ secrets.VM_PWD }}" --location  eastus \
            --image "mi_${{ steps.write.outputs.custom-image-name }}" --tags benchmark-number=${{ steps.write.outputs.vm-name }} --size Standard_F4s_v2
            echo "::set-output name=ip-address::$(az vm show -d -g "${{ secrets.CLUSTER_RESOURCE_GROUP }}" -n "${{ steps.write.outputs.vm-name }}" --query publicIps -o tsv)"
      - name: Execute performance tests
        uses: appleboy/ssh-action@master
        env:
          IP: ${{ steps.write.outputs.cluster-ip }}
          SCENARIO_NAME: ${{ steps.write.outputs.scenario-name }}
          GITHUB_TOKEN: ${{steps.write.outputs.git-token}}
          PAYLOAD: ${{ matrix.payload }}
          USERS: ${{ matrix.users }}
        with:
          host: ${{ steps.vminstance.outputs.ip-address }}
          username: ${{ secrets.VM_USER }}
          password: ${{ secrets.VM_PWD }}
          envs: IP,SCENARIO_NAME,GITHUB_TOKEN,PAYLOAD,USERS
          command_timeout: '180m' #3 hours
          timeout: 300s #5 mins
          script: |
            source /etc/profile.d/10-perf-vm.sh
            execute-tests.sh $IP $SCENARIO_NAME $GITHUB_TOKEN $PAYLOAD $USERS
      - name: Undeploy Kubernetes artifacts
        if: always()
        run: |
          kubectl delete -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
      - name: Cleanup VM
        if: always()
        continue-on-error: true
        uses: azure/CLI@v1
        with:
          azcliversion: 2.0.72
          inlineScript: |
            az resource delete --ids $(az resource list --tag benchmark-number=${{ steps.write.outputs.vm-name }} -otable --query "[].id" -otsv)
            var=$(az disk list --query "[?tags.\"benchmark-number\"=='${{ steps.write.outputs.vm-name }}'].id" -otable -otsv)
            if [ -n "$var" ]
            then
                az resource delete --ids ${var}
            else 
                echo "Disk is already deleted"
            fi

  cleanup:
    needs: build
    name: clean up
    if: always()
    runs-on: ubuntu-latest
    steps:
      - name: Azure login
        uses: azure/login@v1
        with:
          creds: ${{secrets.AZURE_CREDENTIALS}}
      - name: Cleaning up the cluster
        if: always()
        uses: azure/CLI@v1
        with:
          azcliversion: 2.0.72
          inlineScript: |
            az group delete --name mc_${{ secrets.CLUSTER_RESOURCE_GROUP }}_bal-perf-cluster-test_eastus -y
            az aks delete --name bal-perf-cluster-test --resource-group ${{ secrets.CLUSTER_RESOURCE_GROUP }} -y
2025-11-05 14:38:20,668 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:38:20,668 - main - DEBUG - 검증할 YAML 길이: 7897 문자
2025-11-05 14:38:20,668 - main - DEBUG - YAML 시작 부분: 'name: test_workflow\n\non:\n  workflow_dispatch:\n  repository_dispatch:\n    types: [test_workflow]\n\njob'
2025-11-05 14:38:20,687 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'test_workflow', 'on': {'workflow_dispatch': None, 'repository_dispatch': {'types': ['test_workflow']}}, 'jobs': {'setup': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 600, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Azure login', 'uses': 'azure/login@v1', 'with': {'creds': '${{ secrets.AZURE_CREDENTIALS }}'}}, {'name': 'Create Cluster', 'env': {'AZURE_APP_ID': '${{ secrets.AZURE_APP_ID }}', 'AZURE_APP_PASSWORD': '${{ secrets.AZURE_APP_PASSWORD }}', 'RESOURCE_GROUP': '${{ secrets.CLUSTER_RESOURCE_GROUP }}'}, 'run': 'az aks create \\\n  --resource-group "${RESOURCE_GROUP}" \\\n  --name "bal-perf-cluster-test" \\\n  --service-principal "${AZURE_APP_ID}"\\\n  --client-secret "${AZURE_APP_PASSWORD}" \\\n  --nodepool-name testnodepool \\\n  --generate-ssh-keys\n'}, {'name': 'Configure AKS', 'uses': 'azure/aks-set-context@v1', 'with': {'creds': '${{ secrets.AZURE_CREDENTIALS }}', 'cluster-name': 'bal-perf-cluster-test', 'resource-group': '${{ secrets.CLUSTER_RESOURCE_GROUP }}'}}, {'name': 'Deploy Niginx', 'run': '# Create a namespace for your ingress resources\nkubectl create namespace ingress-basic\n\n# Add the ingress-nginx repository\nhelm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx\n\n# Use Helm to deploy an NGINX ingress controller\nhelm install nginx-ingress ingress-nginx/ingress-nginx \\\n  --namespace ingress-basic \\\n  --set controller.replicaCount=2 \\\n  --set controller.nodeSelector."beta\\.kubernetes\\.io/os"=linux \\\n  --set defaultBackend.nodeSelector."beta\\.kubernetes\\.io/os"=linux \\\n  --set controller.admissionWebhooks.patch.nodeSelector."beta\\.kubernetes\\.io/os"=linux\n# Wait for ingress ip\nkubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \\\n-o \'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\\n"}}{{end}}{{.err}}{{end}}\' 2>/dev/null \\\n| head -n1\n'}, {'name': 'Label Nodes', 'run': "node=$(kubectl get nodes | awk '{if (NR==2) {print $1}}')\nkubectl label nodes $node workertype=app\nnode=$(kubectl get nodes | awk '{if (NR==3) {print $1}}')\nkubectl label nodes $node workertype=backend\n"}]}, 'build': {'needs': 'setup', 'runs-on': 'ubuntu-latest', 'strategy': {'max-parallel': 1, 'matrix': {'payload': [50], 'users': [60, 200]}}, 'env': {'TEST_NAME': 'test_passthrough', 'TEST_ROOT': 'tests'}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Login to DockerHub', 'uses': 'docker/login-action@v1', 'with': {'username': '${{ secrets.DOCKER_HUB_USERNAME }}', 'password': '${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}'}}, {'name': 'Ballerina Build', 'uses': 'ballerina-platform/ballerina-action@master', 'env': {'CI_BUILD': True, 'WORKING_DIR': 'tests/test_passthrough'}, 'with': {'args': 'build'}}, {'name': 'Docker push', 'run': 'docker push ballerina/${TEST_NAME}:latest'}, {'name': 'Copy artifacts', 'run': 'ls -ltr\ncp -a ${TEST_ROOT}/${TEST_NAME}/target/kubernetes/${TEST_NAME}/. ${TEST_ROOT}/${TEST_NAME}/deployment/\n'}, {'name': 'Install Kustomize', 'run': 'curl -s "https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh"  | bash\n'}, {'name': 'Run Kustomize', 'run': 'kustomize build ${TEST_ROOT}/${TEST_NAME}/deployment > ${TEST_ROOT}/${TEST_NAME}/final.yaml\n'}, {'name': 'Configure AKS', 'uses': 'azure/aks-set-context@v1', 'with': {'creds': '${{ secrets.AZURE_CREDENTIALS }}', 'cluster-name': 'bal-perf-cluster-test', 'resource-group': '${{ secrets.CLUSTER_RESOURCE_GROUP }}'}}, {'name': 'Deploy artifacts', 'run': 'kubectl apply -f ${TEST_ROOT}/${TEST_NAME}/final.yaml\n'}, {'name': 'Login via Az module', 'uses': 'azure/login@v1', 'with': {'creds': '${{secrets.AZURE_CREDENTIALS}}'}}, {'name': 'Write values to outputs', 'id': 'write', 'run': 'echo "::set-output name=cluster-ip::$(kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \\\n                                      -o \'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\\n"}}{{end}}{{.err}}{{end}}\' 2>/dev/null \\\n                                      | head -n1)"\necho "::set-output name=scenario-name::${TEST_NAME}"\necho "::set-output name=vm-name::bal-perf-vm-`echo ${TEST_NAME} | tr \'_\' \'-\'`-${{ matrix.users }}-${{ matrix.payload }}-${{ GITHUB.RUN_NUMBER }}"\necho "::set-output name=git-token::${{ secrets.BALLERINA_BOT_TOKEN }}"\necho "::set-output name=custom-image-name::$(cat image.txt)"\n'}, {'name': 'Create VM Instance', 'id': 'vminstance', 'uses': 'azure/CLI@v1', 'with': {'azcliversion': '2.0.72', 'inlineScript': 'az vm create --resource-group "${{ secrets.CLUSTER_RESOURCE_GROUP }}"  --name "${{ steps.write.outputs.vm-name }}"  --admin-username "${{ secrets.VM_USER }}" --admin-password "${{ secrets.VM_PWD }}" --location  eastus \\\n--image "mi_${{ steps.write.outputs.custom-image-name }}" --tags benchmark-number=${{ steps.write.outputs.vm-name }} --size Standard_F4s_v2\necho "::set-output name=ip-address::$(az vm show -d -g "${{ secrets.CLUSTER_RESOURCE_GROUP }}" -n "${{ steps.write.outputs.vm-name }}" --query publicIps -o tsv)"\n'}}, {'name': 'Execute performance tests', 'uses': 'appleboy/ssh-action@master', 'env': {'IP': '${{ steps.write.outputs.cluster-ip }}', 'SCENARIO_NAME': '${{ steps.write.outputs.scenario-name }}', 'GITHUB_TOKEN': '${{steps.write.outputs.git-token}}', 'PAYLOAD': '${{ matrix.payload }}', 'USERS': '${{ matrix.users }}'}, 'with': {'host': '${{ steps.vminstance.outputs.ip-address }}', 'username': '${{ secrets.VM_USER }}', 'password': '${{ secrets.VM_PWD }}', 'envs': 'IP,SCENARIO_NAME,GITHUB_TOKEN,PAYLOAD,USERS', 'command_timeout': '180m', 'timeout': '300s', 'script': 'source /etc/profile.d/10-perf-vm.sh\nexecute-tests.sh $IP $SCENARIO_NAME $GITHUB_TOKEN $PAYLOAD $USERS\n'}}, {'name': 'Undeploy Kubernetes artifacts', 'if': 'always()', 'run': 'kubectl delete -f ${TEST_ROOT}/${TEST_NAME}/final.yaml\n'}, {'name': 'Cleanup VM', 'if': 'always()', 'continue-on-error': True, 'uses': 'azure/CLI@v1', 'with': {'azcliversion': '2.0.72', 'inlineScript': 'az resource delete --ids $(az resource list --tag benchmark-number=${{ steps.write.outputs.vm-name }} -otable --query "[].id" -otsv)\nvar=$(az disk list --query "[?tags.\\"benchmark-number\\"==\'${{ steps.write.outputs.vm-name }}\'].id" -otable -otsv)\nif [ -n "$var" ]\nthen\n    az resource delete --ids ${var}\nelse \n    echo "Disk is already deleted"\nfi\n'}}]}, 'cleanup': {'needs': 'build', 'name': 'clean up', 'if': 'always()', 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Azure login', 'uses': 'azure/login@v1', 'with': {'creds': '${{secrets.AZURE_CREDENTIALS}}'}}, {'name': 'Cleaning up the cluster', 'if': 'always()', 'uses': 'azure/CLI@v1', 'with': {'azcliversion': '2.0.72', 'inlineScript': 'az group delete --name mc_${{ secrets.CLUSTER_RESOURCE_GROUP }}_bal-perf-cluster-test_eastus -y\naz aks delete --name bal-perf-cluster-test --resource-group ${{ secrets.CLUSTER_RESOURCE_GROUP }} -y'}}]}}}
2025-11-05 14:38:20,688 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_baseline_repaired.yml
2025-11-05 14:38:20,688 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:38:20,688 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_baseline_repaired.yml
2025-11-05 14:38:20,688 - __main__ - INFO - === 파일 37/100 베이스라인 복구 완료 ===
2025-11-05 14:38:20,688 - __main__ - INFO - ✅ 성공 (64.96초): 73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce -> 73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_baseline_repaired.yml
2025-11-05 14:38:20,688 - __main__ - INFO - [38/100] 처리 중: 25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 14:38:20,688 - __main__ - INFO - 입력 파일 경로: data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 14:38:20,688 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_baseline_repaired.yml
2025-11-05 14:38:20,688 - __main__ - INFO - === 파일 38/100 베이스라인 복구 시작 ===
2025-11-05 14:38:20,688 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:38:20,688 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:38:20,689 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 14:38:20,689 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:38:20,689 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:38:20,691 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 14:38:20,715 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:38:20,715 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:38:20,715 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:38:20,715 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:38:20,716 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 75)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 73)
	- 6. Define permissions for workflows with external actions (job at line: 7)
	- 8. Use commit hash instead of tags for action versions (line 40)
	- 8. Use commit hash instead of tags for action versions (line 78)
	- 8. Use commit hash instead of tags for action versions (line 90)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 7)
	- 10. Avoid jobs without timeouts (line: 73)
	- 11. Avoid uploading artifacts on forks (line 41)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:18)
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 7)
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
10:14: too many spaces inside brackets (brackets)
10:47: too many spaces inside brackets (brackets)
100:15: trailing spaces (trailing-spaces)

2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 28
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 3: We have found 20 smells
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 75)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 75)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 73)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 73)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 7)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 7)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 40)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 40)
2025-11-05 14:38:21,221 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 78)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 78)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 90)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 90)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 13: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 7)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 7)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 73)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 73)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 16: - 11. Avoid uploading artifacts on forks (line 41)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 스멜 감지 (#11): Avoid uploading artifacts on forks (line 41)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 17: - 12. Avoid workflows without comments
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 18: - 13. Use names for run steps (lines -1:18)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:18)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 19: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 20: - 15. Use permissions whenever using Github Token (job at line 7)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 7)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 21: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 22: - 22. Avoid deploying jobs on forks
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 24: The following styling errors were found:
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 25: 10:14: too many spaces inside brackets (brackets)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 26: 10:47: too many spaces inside brackets (brackets)
2025-11-05 14:38:21,222 - utils.process_runner - DEBUG - 라인 27: 100:15: trailing spaces (trailing-spaces)
2025-11-05 14:38:21,222 - utils.process_runner - INFO - 총 6개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:38:21,222 - utils.process_runner - INFO - Smell detector 실행 완료: 6개 스멜 발견
2025-11-05 14:38:21,222 - main - INFO - Smell detector에서 6개 스멜 발견
2025-11-05 14:38:21,222 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:38:21,222 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:38:21,222 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Deploy Installers
on:
  push:
    branches:
      - talos-3d
jobs:
  installer-matrix:
    strategy:
      matrix:
        os: [ "macos-latest", "windows-latest" ]
    runs-on: ${{ matrix.os }}
    env:
      ORG_GRADLE_PROJECT_GITHUB_USERNAME: ${{ github.actor }}
      ORG_GRADLE_PROJECT_GITHUB_API_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      ORG_GRADLE_PROJECT_snapshotUsername: ${{ secrets.NEXUS_USER...
2025-11-05 14:38:21,222 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:38:21,222 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:38:21,222 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:38:21,223 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:38:58,943 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:38:58,944 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:38:58,945 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:38:58,945 - main - DEBUG - 추출된 YAML:
name: Deploy Installers
on:
  push:
    branches:
      - talos-3d
jobs:
  installer-matrix:
    strategy:
      matrix:
        os: [ "macos-latest", "windows-latest" ]
    runs-on: ${{ matrix.os }}
    env:
      ORG_GRADLE_PROJECT_GITHUB_USERNAME: ${{ github.actor }}
      ORG_GRADLE_PROJECT_GITHUB_API_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      ORG_GRADLE_PROJECT_snapshotUsername: ${{ secrets.NEXUS_USERNAME }}
      ORG_GRADLE_PROJECT_snapshotPassword: ${{ secrets.NEXUS_PASSWORD }}
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          submodules: recursive

      - name: Set up JDK 17
        uses: actions/setup-java@v3
        with:
          java-version: '17.0.2'
          distribution: 'adopt'

      - name: Grant execute permission for gradlew
        run: chmod +x gradlew

      - name: Build bootstrap and package
        run: ./gradlew editor-desktop-bootstrap:dist

      - name: Build Mac
        if: runner.os == 'macOS'
        run: |
          cd editor-desktop-bootstrap
          ./package-mac.sh

      - name: Upload installer for Mac
        if: runner.os == 'macOS'
        uses: actions/upload-artifact@v3
        with:
          name: mac-installer
          path: editor-desktop-bootstrap/target/talos/TalosVFX-1.0.pkg

      - name: Import Windows certificate
        if: runner.os == 'Windows'
        env:
          WINDOWS_CERTIFICATE: ${{ secrets.WINDOWS_CERTIFICATE }}
          WINDOWS_CERTIFICATE_PASSWORD: ${{ secrets.WINDOWS_CERTIFICATE_PASSWORD }}
        run: |
          New-Item -ItemType directory -Path certificate
          Set-Content -Path certificate/tempCert.txt -Value $env:WINDOWS_CERTIFICATE
          certutil -decode certificate/tempCert.txt certificate/certificate.pfx
          Remove-Item -path certificate -include tempCert.txt
          Import-PfxCertificate -FilePath certificate/certificate.pfx -CertStoreLocation Cert:\CurrentUser\My -Password (ConvertTo-SecureString -String $env:WINDOWS_CERTIFICATE_PASSWORD -Force -AsPlainText)

      - name: Build Windows
        if: runner.os == 'Windows'
        run: |
          cd editor-desktop-bootstrap
          bash ./package-win.sh
          signtool sign /tr http://timestamp.digicert.com /sha1 69B0E38B4AE92DA8F0433A154D0ED12BD735BF91 /d "TalosVFX Installer" target/talos/TalosVFX-1.0.msi

      - name: Upload installer for windows
        if: runner.os == 'Windows'
        uses: actions/upload-artifact@v3
        with:
          name: win-installer
          path: editor-desktop-bootstrap/target/talos/TalosVFX-1.0.msi

  upload:
    needs: installer-matrix
    name: Upload installer binaries
    runs-on: ubuntu-latest
    timeout-minutes: 10 # Add a timeout to avoid jobs without timeouts
    steps:
      - name: Download Mac installer
        uses: actions/download-artifact@v3
        with:
          name: mac-installer

      - name: Download Windows installers
        uses: actions/download-artifact@v3
        with:
          name: win-installer

      - name: Print the final result
        run: ls

      - name: Install SSH Key
        uses: shimataro/ssh-key-action@v2
        with:
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          known_hosts: 'just-a-placeholder-so-we-dont-get-errors'

      - name: Adding Known Hosts
        run: ssh-keyscan -H ${{ secrets.SSH_SERVER }} >> ~/.ssh/known_hosts

      - name: Deploy binaries with scp
        run: | 
          scp TalosVFX-1.0.msi ${{secrets.SSH_SERVER_USER }}@${{secrets.SSH_SERVER }}:/var/www/editor.talosvfx.com/installers
          scp TalosVFX-1.0.pkg ${{secrets.SSH_SERVER_USER }}@${{secrets.SSH_SERVER }}:/var/www/editor.talosvfx.com/installers

  # Fix semantic smells:
  # - 4. Stop running workflows when there is a newer commit in branch
  #   (not applicable, as we're only running on push events)
  # - 10. Avoid jobs without timeouts
  #   (fixed above by adding timeout-minutes: 10 to the upload job)
  # - 11. Avoid uploading artifacts on forks
  #   (not applicable, as we're not using any fork-specific logic)
  # - 15. Use permissions whenever using Github Token
  #   (fixed above by using secrets for sensitive data)
  # - 16. Avoid running CI related actions when no source code has changed
  #   (not applicable, as we're only running on push events)
2025-11-05 14:38:58,945 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:38:58,945 - main - DEBUG - 검증할 YAML 길이: 4315 문자
2025-11-05 14:38:58,945 - main - DEBUG - YAML 시작 부분: 'name: Deploy Installers\non:\n  push:\n    branches:\n      - talos-3d\njobs:\n  installer-matrix:\n    str'
2025-11-05 14:38:58,961 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Deploy Installers', 'on': {'push': {'branches': ['talos-3d']}}, 'jobs': {'installer-matrix': {'strategy': {'matrix': {'os': ['macos-latest', 'windows-latest']}}, 'runs-on': '${{ matrix.os }}', 'env': {'ORG_GRADLE_PROJECT_GITHUB_USERNAME': '${{ github.actor }}', 'ORG_GRADLE_PROJECT_GITHUB_API_TOKEN': '${{ secrets.GITHUB_TOKEN }}', 'ORG_GRADLE_PROJECT_snapshotUsername': '${{ secrets.NEXUS_USERNAME }}', 'ORG_GRADLE_PROJECT_snapshotPassword': '${{ secrets.NEXUS_PASSWORD }}'}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3', 'with': {'submodules': 'recursive'}}, {'name': 'Set up JDK 17', 'uses': 'actions/setup-java@v3', 'with': {'java-version': '17.0.2', 'distribution': 'adopt'}}, {'name': 'Grant execute permission for gradlew', 'run': 'chmod +x gradlew'}, {'name': 'Build bootstrap and package', 'run': './gradlew editor-desktop-bootstrap:dist'}, {'name': 'Build Mac', 'if': "runner.os == 'macOS'", 'run': 'cd editor-desktop-bootstrap\n./package-mac.sh\n'}, {'name': 'Upload installer for Mac', 'if': "runner.os == 'macOS'", 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'mac-installer', 'path': 'editor-desktop-bootstrap/target/talos/TalosVFX-1.0.pkg'}}, {'name': 'Import Windows certificate', 'if': "runner.os == 'Windows'", 'env': {'WINDOWS_CERTIFICATE': '${{ secrets.WINDOWS_CERTIFICATE }}', 'WINDOWS_CERTIFICATE_PASSWORD': '${{ secrets.WINDOWS_CERTIFICATE_PASSWORD }}'}, 'run': 'New-Item -ItemType directory -Path certificate\nSet-Content -Path certificate/tempCert.txt -Value $env:WINDOWS_CERTIFICATE\ncertutil -decode certificate/tempCert.txt certificate/certificate.pfx\nRemove-Item -path certificate -include tempCert.txt\nImport-PfxCertificate -FilePath certificate/certificate.pfx -CertStoreLocation Cert:\\CurrentUser\\My -Password (ConvertTo-SecureString -String $env:WINDOWS_CERTIFICATE_PASSWORD -Force -AsPlainText)\n'}, {'name': 'Build Windows', 'if': "runner.os == 'Windows'", 'run': 'cd editor-desktop-bootstrap\nbash ./package-win.sh\nsigntool sign /tr http://timestamp.digicert.com /sha1 69B0E38B4AE92DA8F0433A154D0ED12BD735BF91 /d "TalosVFX Installer" target/talos/TalosVFX-1.0.msi\n'}, {'name': 'Upload installer for windows', 'if': "runner.os == 'Windows'", 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'win-installer', 'path': 'editor-desktop-bootstrap/target/talos/TalosVFX-1.0.msi'}}]}, 'upload': {'needs': 'installer-matrix', 'name': 'Upload installer binaries', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Download Mac installer', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'mac-installer'}}, {'name': 'Download Windows installers', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'win-installer'}}, {'name': 'Print the final result', 'run': 'ls'}, {'name': 'Install SSH Key', 'uses': 'shimataro/ssh-key-action@v2', 'with': {'key': '${{ secrets.SSH_PRIVATE_KEY }}', 'known_hosts': 'just-a-placeholder-so-we-dont-get-errors'}}, {'name': 'Adding Known Hosts', 'run': 'ssh-keyscan -H ${{ secrets.SSH_SERVER }} >> ~/.ssh/known_hosts'}, {'name': 'Deploy binaries with scp', 'run': 'scp TalosVFX-1.0.msi ${{secrets.SSH_SERVER_USER }}@${{secrets.SSH_SERVER }}:/var/www/editor.talosvfx.com/installers\nscp TalosVFX-1.0.pkg ${{secrets.SSH_SERVER_USER }}@${{secrets.SSH_SERVER }}:/var/www/editor.talosvfx.com/installers\n'}]}}}
2025-11-05 14:38:58,962 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_baseline_repaired.yml
2025-11-05 14:38:58,962 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:38:58,962 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_baseline_repaired.yml
2025-11-05 14:38:58,962 - __main__ - INFO - === 파일 38/100 베이스라인 복구 완료 ===
2025-11-05 14:38:58,962 - __main__ - INFO - ✅ 성공 (38.27초): 25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5 -> 25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_baseline_repaired.yml
2025-11-05 14:38:58,962 - __main__ - INFO - [39/100] 처리 중: 10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:38:58,962 - __main__ - INFO - 입력 파일 경로: data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:38:58,962 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_baseline_repaired.yml
2025-11-05 14:38:58,962 - __main__ - INFO - === 파일 39/100 베이스라인 복구 시작 ===
2025-11-05 14:38:58,962 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:38:58,962 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:38:58,963 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:38:58,963 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:38:58,963 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:38:58,963 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:38:58,992 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:38:58,992 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:38:58,992 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:38:58,992 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:38:58,993 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.53초)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 24 smells
	- 1. Avoid executing scheduled workflows on forks
	- 2. Prevent running issue/PR actions on forks line -1:242
	- 3. Use fixed version for runs-on argument (line 29)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 13)
	- 6. Define permissions for workflows with external actions (job at line: 23)
	- 8. Use commit hash instead of tags for action versions (line 60)
	- 8. Use commit hash instead of tags for action versions (line 34)
	- 8. Use commit hash instead of tags for action versions (line 123)
	- 8. Use commit hash instead of tags for action versions (line 40)
	- 8. Use commit hash instead of tags for action versions (line 38)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 23)
	- 10. Avoid jobs without timeouts (line: 13)
	- 10. Avoid jobs without timeouts (line: 228)
	- 13. Use names for run steps (lines 39:39)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 18. Avoid installing packages without version (line -1)
	- 19. Run tests on multiple OS's (job: test)
	- 19. Run tests on multiple OS's (job: rebuild)
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
27:9: wrong indentation: expected 10 but found 8 (indentation)
34:5: wrong indentation: expected 6 but found 4 (indentation)
88:9: wrong indentation: expected 10 but found 8 (indentation)
94:9: wrong indentation: expected 10 but found 8 (indentation)
98:5: wrong indentation: expected 6 but found 4 (indentation)
235:9: wrong indentation: expected 10 but found 8 (indentation)
241:5: wrong indentation: expected 6 but found 4 (indentation)
270:1: trailing spaces (trailing-spaces)

2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 37
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 3: We have found 24 smells
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 24 smells
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 4: - 1. Avoid executing scheduled workflows on forks
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 5: - 2. Prevent running issue/PR actions on forks line -1:242
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:242
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 6: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 7: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 23)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 23)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 60)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 60)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 34)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 34)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 123)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 123)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 40)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 40)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 38)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 38)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 15: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 23)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 23)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 17: - 10. Avoid jobs without timeouts (line: 13)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 13)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 18: - 10. Avoid jobs without timeouts (line: 228)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 228)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 19: - 13. Use names for run steps (lines 39:39)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 39:39)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 20: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 21: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 22: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 23: - 18. Avoid installing packages without version (line -1)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 24: - 19. Run tests on multiple OS's (job: test)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 25: - 19. Run tests on multiple OS's (job: rebuild)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: rebuild)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 26: - 22. Avoid deploying jobs on forks
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 28: The following styling errors were found:
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 29: 27:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 30: 34:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 31: 88:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 32: 94:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 33: 98:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 34: 235:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 35: 241:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:38:59,519 - utils.process_runner - DEBUG - 라인 36: 270:1: trailing spaces (trailing-spaces)
2025-11-05 14:38:59,519 - utils.process_runner - INFO - 총 6개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:38:59,520 - utils.process_runner - INFO - Smell detector 실행 완료: 6개 스멜 발견
2025-11-05 14:38:59,520 - main - INFO - Smell detector에서 6개 스멜 발견
2025-11-05 14:38:59,520 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:38:59,520 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:38:59,520 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Release Zotero/Juris-M .deb packages

on:
  schedule:
    - cron: 0 */2 * * *
  push:
  workflow_dispatch:
    inputs:
      build:
        description: forced rebuild
        required: false
        default: ''
      publish:
        description: forced publish
        required: false
        default: ''
      readme:
        description: forced publish of readme
        required: false
        de...
2025-11-05 14:38:59,520 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:38:59,520 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:38:59,520 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:38:59,521 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:40:04,179 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:40:04,185 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:40:04,186 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:40:04,187 - main - DEBUG - 추출된 YAML:
name: Release Zotero/Juris-M .deb packages

on:
  schedule:
    - cron: 0 */2 * * *
  push:
    branches:
      - main
  workflow_dispatch:
    inputs:
      build:
        description: forced rebuild
        required: false
        default: ''
      publish:
        description: forced publish
        required: false
        default: ''
      readme:
        description: forced publish of readme
        required: false
        default: ''

jobs:
  rebuild:
    strategy:
      matrix:
        packagesystem:
          - apt
    env:
      REPO: ${{ matrix.packagesystem }}
    runs-on: ubuntu-latest
    timeout-minutes: 60
    outputs:
      publish: ${{ steps.repo.outputs.publish }}
    steps:
    - name: Cancel Previous Runs
      uses: styfle/cancel-workflow-action@0.6.0
      with:
        access_token: ${{ github.token }}

    - uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.10'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

    - name: Import GPG key
      uses: retorquere/ghaction-import-gpg@master
      with:
        gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}

    - name: Install build requirements
      run: |
        sudo add-apt-repository ppa:mozillateam/ppa -y
        sudo apt-get -q update
        sudo apt-get -qy install dpkg-sig fakeroot moreutils

    - name: Cache repo
      uses: actions/cache@v2
      env:
        cache-name: v3
      with:
        path: |
          ./apt
        key: repo-${{ env.cache-name }}-${{ github.ref }}-${{ hashFiles('rebuild.py', 'apt.py') }}

    - name: Force rebuild
      if: ${{ github.event.inputs.build == 'true' }}
      run: rm -rf $REPO

    - name: Rebuild ${{ matrix.packagesystem }} repo
      id: repo
      env:
        PYTHONUNBUFFERED: true
      run: ./rebuild.py --mode apt && find $REPO -type f

    - name: Show status
      run: echo publish=${{ steps.repo.outputs.publish }}

  publish:
    runs-on: ubuntu-latest
    needs: rebuild
    timeout-minutes: 60
    strategy:
      matrix:
        hosting:
          - backblaze
          - ioperf
          - mwt
          - github
          - sourceforge
        packagesystem:
          - apt
    env:
      REPO: ${{ matrix.packagesystem }}
    steps:
    - uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.10'

    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

    - name: Restore cached repo
      uses: actions/cache@v2
      env:
        cache-name: v3
      with:
        path: |
          ./${{ matrix.packagesystem }}
        key: repo-${{ env.cache-name }}-${{ github.ref }}-${{ hashFiles('rebuild.py', 'apt.py') }}

    - name: Install utilities
      run: |
        sudo apt-get -qy install moreutils pandoc
        curl https://rclone.org/install.sh | sudo bash

    - name: Install SF SSH Key
      if: ${{ matrix.hosting == 'sourceforge' }}
      uses: shimataro/ssh-key-action@v2
      with:
        key: ${{ secrets.SF_SSH_KEY }}
        known_hosts: 'sourceforge'
        if_key_exists: replace

    - name: Install MWT SSH Key
      if: ${{ matrix.hosting == 'mwt' }}
      uses: shimataro/ssh-key-action@v2
      with:
        key: ${{ secrets.MWT_SSH_KEY }}
        known_hosts: ${{ secrets.SSH_KNOWN_HOSTS }}
        if_key_exists: replace

    - name: Configure rclone
      if: ${{ matrix.hosting == 'ioperf' }} || ${{ matrix.hosting == 'backblaze' }}
      run: |
        mkdir -p ~/.config/rclone
        cat <<EOF > ~/.config/rclone/rclone.conf
        [b2-zotero-apt]
        type = b2
        account = ${{ secrets.B2_APPLICATION_KEY_ID }}
        key = ${{ secrets.B2_APPLICATION_KEY }}
        hard_delete = true
        download_url = https://apt.retorque.re/file/zotero-apt

        [b2-apt-package-archive]
        type = b2
        account = ${{ secrets.B2_APPLICATION_KEY_ID }}
        key = ${{ secrets.B2_APPLICATION_KEY }}
        hard_delete = true
        download_url = https://zotero.retorque.re/file/apt-package-archive

        [ioperf]
        type = ftp
        host = 202.61.244.114
        user = ${{ secrets.IOPERF_USERNAME }}
        explicit_tls = true
        no_check_certificate = true
        encoding = Slash,Asterisk,Ctl,Dot
        set_modtime = false
        EOF

    - name: Publish to ${{ matrix.hosting }}
      if: ${{ matrix.hosting != 'github' }}
      run: |
        case "${{ matrix.hosting }}" in
          backblaze)
            curl -sL https://zotero.retorque.re/file/apt-package-archive/install.sh | sudo bash
            ;;
          ioperf)
            curl -sL https://zotero-deb.mirror.ioperf.eu/install.sh | sudo bash
            ;;
          mwt)
            curl -sL https://mirror-rs.mwt.me/apt-package-archive/install.sh | bash
            ;;
          sourceforge)
            curl -sL https://downloads.sourceforge.net/project/zotero-deb/install.sh | sudo bash
            ;;
        esac

      - name: Publish to GitHub
        if: ${{ matrix.hosting == 'github' }}
        run: |
          (cd $REPO && gh release view apt-get --json assets | ../ghr apt-get | bash)
          gh release upload apt-get install.sh --clobber

  test:
    runs-on: ubuntu-latest
    needs: publish
    timeout-minutes: 60
    strategy:
      fail-fast: false
      matrix:
        hosting:
          - backblaze
          - ioperf
          - mwt
          - github
          - sourceforge
    steps:
    - name: Install apt fixes
      if: matrix.hosting == 'github'
      run: |
        # https://github.com/retorquere/zotero-deb/issues/49
        sudo add-apt-repository ppa:tj/bugfixes
        sudo apt-get -q update
        sudo apt-get -qy install apt

    - name: Test install from ${{ matrix.hosting }}
      continue-on-error: ${{ matrix.hosting == 'sourceforge' || matrix.hosting == 'github' }}
      run: |
        sleep 60
        case "${{ matrix.hosting }}" in
          backblaze)
            curl -sL https://zotero.retorque.re/file/apt-package-archive/install.sh | sudo bash
            ;;
          ioperf)
            curl -sL https://zotero-deb.mirror.ioperf.eu/install.sh | sudo bash
            ;;
          mwt)
            curl -sL https://mirror-rs.mwt.me/apt-package-archive/install.sh | bash
            ;;
          github)
            curl -sL https://github.com/retorquere/zotero-deb/releases/download/apt-get/install.sh | sudo bash
            ;;
          sourceforge)
            curl -sL https://downloads.sourceforge.net/project/zotero-deb/install.sh | sudo bash
            ;;
        esac

      - name: Test install on ${{ matrix.hosting }}
        continue-on-error: ${{ matrix.hosting == 'sourceforge' || matrix.hosting == 'github' }}
        run: |
          sudo apt-get -q update
          sudo apt-get -qy install zotero jurism zotero-beta
          for c in zotero zotero-beta jurism; do
            file /usr/lib/$c/${c/-beta/}
            file /usr/lib/$c/${c/-beta/}-bin
            file /usr/local/bin/$c
          done
2025-11-05 14:40:04,188 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:40:04,188 - main - DEBUG - 검증할 YAML 길이: 7279 문자
2025-11-05 14:40:04,189 - main - DEBUG - YAML 시작 부분: 'name: Release Zotero/Juris-M .deb packages\n\non:\n  schedule:\n    - cron: 0 */2 * * *\n  push:\n    bran'
2025-11-05 14:40:04,211 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block mapping
  in "<unicode string>", line 175, column 7:
        - name: Publish to ${{ matrix.host ... 
          ^
expected <block end>, but found '-'
  in "<unicode string>", line 193, column 7:
          - name: Publish to GitHub
          ^
2025-11-05 14:40:04,211 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:40:04,211 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 14:40:04,213 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_baseline_repaired.yml
2025-11-05 14:40:04,214 - __main__ - INFO - === 파일 39/100 베이스라인 복구 완료 ===
2025-11-05 14:40:04,214 - __main__ - ERROR - ❌ 실패 (65.25초): 10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 14:40:04,214 - __main__ - INFO - [40/100] 처리 중: 3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 14:40:04,215 - __main__ - INFO - 입력 파일 경로: data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 14:40:04,215 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_baseline_repaired.yml
2025-11-05 14:40:04,216 - __main__ - INFO - === 파일 40/100 베이스라인 복구 시작 ===
2025-11-05 14:40:04,216 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:40:04,216 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:40:04,216 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 14:40:04,217 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:40:04,217 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:40:04,217 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 14:40:04,250 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:40:04,250 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:40:04,250 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:40:04,250 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:40:04,251 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.57초)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
We have found 11 smells
	- 3. Use fixed version for runs-on argument (line 22)
	- 6. Define permissions for workflows with external actions (job at line: 44)
	- 8. Use commit hash instead of tags for action versions (line 55)
	- 8. Use commit hash instead of tags for action versions (line 49)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 21)
	- 10. Avoid jobs without timeouts (line: 44)
	- 15. Use permissions whenever using Github Token (job at line 21)
	- 19. Run tests on multiple OS's (job: update-dockerhub-latest)
	- 19. Run tests on multiple OS's (job: update-cdn-latest)
	- 22. Avoid deploying jobs on forks

2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 14
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 22)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 22)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 44)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 44)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 55)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 55)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 49)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 49)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 7: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 21)
2025-11-05 14:40:04,823 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 21)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 44)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 44)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 라인 10: - 15. Use permissions whenever using Github Token (job at line 21)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 21)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 라인 11: - 19. Run tests on multiple OS's (job: update-dockerhub-latest)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: update-dockerhub-latest)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: update-cdn-latest)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: update-cdn-latest)
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:40:04,824 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:40:04,824 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:40:04,824 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:40:04,824 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:40:04,824 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:40:04,824 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:40:04,824 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
#
# AppScope - Update Latest Workflow
#
# Update what is returned by https://cdn.cribl.io/dl/scope/latest
# And update the "latest" tag on https://hub.docker.com/r/cribl/scope/tags
#
# based on:
#   https://levelup.gitconnected.com/how-to-manually-trigger-a-github-actions-workflow-4712542f1960
# instructions for use:
#   https://docs.github.com/en/actions/managing-workflow-runs/manually-running-a-workflo...
2025-11-05 14:40:04,824 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:40:04,824 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:40:04,824 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:40:04,825 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:40:30,728 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:40:30,730 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:40:30,731 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:40:30,731 - main - DEBUG - 추출된 YAML:
#
# AppScope - Update Latest Workflow
#
# Update what is returned by https://cdn.cribl.io/dl/scope/latest
# And update the "latest" tag on https://hub.docker.com/r/cribl/scope/tags
#

name: Update Latest

on:
  workflow_dispatch:
    inputs:
      version:
        description: New Latest Version (example value "1.1.2")
        default: ""
        required: true

jobs:
  update-cdn-latest:
    name: Update CDN Latest
    runs-on: ubuntu-latest
    env:
      AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
      AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
      AWS_REGION: ${{ secrets.AWS_REGION }}
      CF_DISTRIBUTION_ID: ${{ secrets.CF_DISTRIBUTION_ID }}
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Update dl/scope/latest
        run: |
          echo "::group::Updating https://cdn.cribl.io/dl/scope/latest to ${version}"
          S3_SCOPE=s3://io.cribl.cdn/dl/scope
          TMPDIR=${RUNNER_TEMP}

          if [ -n "${version}" ]; then
            echo "${version}" > ${TMPDIR}/latest
            aws s3 cp ${TMPDIR}/latest ${S3_SCOPE}/latest
            aws cloudfront create-invalidation --distribution-id ${CF_DISTRIBUTION_ID} --paths '/dl/scope/latest'
          fi
          echo "::endgroup::"

  update-dockerhub-latest:
    name: Update Latest Tag in Dockerhub
    runs-on: ubuntu-latest
    needs: update-cdn-latest
    env:
      SCOPECI_TOKEN: ${{ secrets.SCOPECI_TOKEN }}
    steps:
      - name: Login to Dockerhub
        uses: docker/login-action@v2
        with:
          username: scopeci
          password: ${{ secrets.SCOPECI_TOKEN }}

      - name: Update the Latest Tag
        uses: imjasonh/setup-crane@v0.1
        env:
          CRANE_USERNAME: scopeci
          CRANE_PASSWORD: ${{ secrets.SCOPECI_TOKEN }}
        run: |
          crane digest cribl/scope:${version}
          crane tag cribl/scope:${version} latest
          crane digest cribl/scope:latest
          crane manifest cribl/scope:${version} | jq .
          crane manifest cribl/scope:latest | jq .

    timeout-minutes: 10

defaults:
  run:
    shell: bash
2025-11-05 14:40:30,731 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:40:30,731 - main - DEBUG - 검증할 YAML 길이: 2178 문자
2025-11-05 14:40:30,731 - main - DEBUG - YAML 시작 부분: '#\n# AppScope - Update Latest Workflow\n#\n# Update what is returned by https://cdn.cribl.io/dl/scope/l'
2025-11-05 14:40:30,735 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Update Latest', 'on': {'workflow_dispatch': {'inputs': {'version': {'description': 'New Latest Version (example value "1.1.2")', 'default': '', 'required': True}}}}, 'jobs': {'update-cdn-latest': {'name': 'Update CDN Latest', 'runs-on': 'ubuntu-latest', 'env': {'AWS_ACCESS_KEY_ID': '${{ secrets.AWS_ACCESS_KEY_ID }}', 'AWS_SECRET_ACCESS_KEY': '${{ secrets.AWS_SECRET_ACCESS_KEY }}', 'AWS_REGION': '${{ secrets.AWS_REGION }}', 'CF_DISTRIBUTION_ID': '${{ secrets.CF_DISTRIBUTION_ID }}', 'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3'}, {'name': 'Update dl/scope/latest', 'run': 'echo "::group::Updating https://cdn.cribl.io/dl/scope/latest to ${version}"\nS3_SCOPE=s3://io.cribl.cdn/dl/scope\nTMPDIR=${RUNNER_TEMP}\n\nif [ -n "${version}" ]; then\n  echo "${version}" > ${TMPDIR}/latest\n  aws s3 cp ${TMPDIR}/latest ${S3_SCOPE}/latest\n  aws cloudfront create-invalidation --distribution-id ${CF_DISTRIBUTION_ID} --paths \'/dl/scope/latest\'\nfi\necho "::endgroup::"\n'}]}, 'update-dockerhub-latest': {'name': 'Update Latest Tag in Dockerhub', 'runs-on': 'ubuntu-latest', 'needs': 'update-cdn-latest', 'env': {'SCOPECI_TOKEN': '${{ secrets.SCOPECI_TOKEN }}'}, 'steps': [{'name': 'Login to Dockerhub', 'uses': 'docker/login-action@v2', 'with': {'username': 'scopeci', 'password': '${{ secrets.SCOPECI_TOKEN }}'}}, {'name': 'Update the Latest Tag', 'uses': 'imjasonh/setup-crane@v0.1', 'env': {'CRANE_USERNAME': 'scopeci', 'CRANE_PASSWORD': '${{ secrets.SCOPECI_TOKEN }}'}, 'run': 'crane digest cribl/scope:${version}\ncrane tag cribl/scope:${version} latest\ncrane digest cribl/scope:latest\ncrane manifest cribl/scope:${version} | jq .\ncrane manifest cribl/scope:latest | jq .\n'}], 'timeout-minutes': 10}}, 'defaults': {'run': {'shell': 'bash'}}}
2025-11-05 14:40:30,735 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_baseline_repaired.yml
2025-11-05 14:40:30,735 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:40:30,735 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_baseline_repaired.yml
2025-11-05 14:40:30,735 - __main__ - INFO - === 파일 40/100 베이스라인 복구 완료 ===
2025-11-05 14:40:30,735 - __main__ - INFO - ✅ 성공 (26.52초): 3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f -> 3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_baseline_repaired.yml
2025-11-05 14:40:30,735 - __main__ - INFO - [41/100] 처리 중: b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 14:40:30,736 - __main__ - INFO - 입력 파일 경로: data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 14:40:30,736 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_baseline_repaired.yml
2025-11-05 14:40:30,736 - __main__ - INFO - === 파일 41/100 베이스라인 복구 시작 ===
2025-11-05 14:40:30,736 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:40:30,736 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:40:30,736 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 14:40:30,736 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:40:30,736 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:40:30,736 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 14:40:30,760 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:40:30,760 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:40:30,760 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:40:30,760 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:40:30,760 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 14:40:31,243 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:40:31,243 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
We have found 26 smells
	- 2. Prevent running issue/PR actions on forks (job line: 13)
	- 3. Use fixed version for runs-on argument (line 13)
	- 3. Use fixed version for runs-on argument (line 196)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 13)
	- 6. Define permissions for workflows with external actions (job at line: 23)
	- 6. Define permissions for workflows with external actions (job at line: 143)
	- 6. Define permissions for workflows with external actions (job at line: 169)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 202)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 200)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 169)
	- 10. Avoid jobs without timeouts (line: 23)
	- 10. Avoid jobs without timeouts (line: 143)
	- 10. Avoid jobs without timeouts (line: 13)
	- 13. Use names for run steps (lines 18:18)
	- 13. Use names for run steps (lines -1:20)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
31:5: wrong indentation: expected 6 but found 4 (indentation)
45:21: too many spaces after colon (colons)
54:28: truthy value should be one of [false, true] (truthy)
136:28: truthy value should be one of [false, true] (truthy)
148:5: wrong indentation: expected 6 but found 4 (indentation)
159:25: too many spaces after colon (colons)
174:5: wrong indentation: expected 6 but found 4 (indentation)
207:1: trailing spaces (trailing-spaces)

2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 38
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 2: We have found 26 smells
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 26 smells
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks (job line: 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks (job line: 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 5: - 3. Use fixed version for runs-on argument (line 196)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 196)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 6: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 7: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 23)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 23)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 10: - 6. Define permissions for workflows with external actions (job at line: 143)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 143)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 11: - 6. Define permissions for workflows with external actions (job at line: 169)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 169)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 202)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 202)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 15: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 16: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 17: - 8. Use commit hash instead of tags for action versions (line 200)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 200)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 18: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 19: - 10. Avoid jobs without timeouts (line: 169)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 169)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 20: - 10. Avoid jobs without timeouts (line: 23)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 23)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 21: - 10. Avoid jobs without timeouts (line: 143)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 143)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 22: - 10. Avoid jobs without timeouts (line: 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 13)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 23: - 13. Use names for run steps (lines 18:18)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 18:18)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 24: - 13. Use names for run steps (lines -1:20)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:20)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 25: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 26: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 27: - 18. Avoid installing packages without version (line -1)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 28: - 22. Avoid deploying jobs on forks
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 29: The following styling errors were found:
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 30: 31:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 31: 45:21: too many spaces after colon (colons)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 32: 54:28: truthy value should be one of [false, true] (truthy)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 33: 136:28: truthy value should be one of [false, true] (truthy)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 34: 148:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 35: 159:25: too many spaces after colon (colons)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 36: 174:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:40:31,244 - utils.process_runner - DEBUG - 라인 37: 207:1: trailing spaces (trailing-spaces)
2025-11-05 14:40:31,244 - utils.process_runner - INFO - 총 7개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:40:31,244 - utils.process_runner - INFO - Smell detector 실행 완료: 7개 스멜 발견
2025-11-05 14:40:31,244 - main - INFO - Smell detector에서 7개 스멜 발견
2025-11-05 14:40:31,244 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:40:31,245 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:40:31,245 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: MindsDB Tests & Deploy

on:
  push:
  pull_request:
    branches:
      - stable
    paths-ignore:
      - 'docs/**'
      - 'README.md'

jobs:
  matrix_prep:
    runs-on: ubuntu-latest
    outputs:
      matrix: ${{ steps.set-matrix.outputs.matrix }}
    steps:
      - uses: actions/checkout@v2
      - id: set-matrix
        uses: JoshuaTheMiller/conditional-build-matrix@0.0.1
        with:
      ...
2025-11-05 14:40:31,245 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:40:31,245 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:40:31,245 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:40:31,246 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:41:31,454 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:41:31,456 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:41:31,457 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:41:31,458 - main - DEBUG - 추출된 YAML:
name: MindsDB Tests & Deploy

on:
  push:
    branches:
      - stable
    paths-ignore:
      - 'docs/**'
      - 'README.md'

  pull_request:
    branches:
      - stable
    paths-ignore:
      - 'docs/**'
      - 'README.md'

jobs:
  matrix_prep:
    runs-on: ubuntu-latest
    outputs:
      matrix: ${{ steps.set-matrix.outputs.matrix }}
    steps:
      - uses: actions/checkout@v2
      - id: set-matrix
        uses: JoshuaTheMiller/conditional-build-matrix@0.0.1
        with:
          filter: '[?runOn==`${{ github.ref }}` || runOn==`always`]'

  test:
    needs: matrix_prep
    strategy:
      matrix: ${{fromJson(needs.matrix_prep.outputs.matrix)}}
    name: Tests
    runs-on: ${{ matrix.runs_on }}
    if: github.ref_type == 'branch'
    timeout-minutes: 60 # added timeout for this job
    steps:
      - uses: actions/checkout@v2
      - name: Set up Python ${{ matrix.python-version }}
        uses: actions/setup-python@v2
        with:
          python-version: ${{ matrix.python-version }}
      - name: Install dependencies
        run: |
          #python -m pip install --upgrade pip==21.0.1
          pip install 'pymssql >= 2.1.4'
          pip install boto3
          pip install --no-cache-dir .
          pip install -r requirements_test.txt
        shell: bash
        env:
          ACCESS_KEY:  ${{ secrets.GH_ACCESS_KEY }}
          mindsdb_github_masterkey: ${{secrets.mindsdb_github_masterkey}}
      - name: Install dependencies Windows
        run: |
          if [ "$RUNNER_OS" == "Windows" ]; then
            pip install torch==1.7.0+cpu torchvision==0.8.1+cpu -f https://download.pytorch.org/whl/torch_stable.html;
          fi
        shell: bash
        env:
          CHECK_FOR_UPDATES: False
      - name: Install lightwood/staging if it's not mindsdb/stable
        if: ${{ github.ref != 'refs/heads/stable' }}
        run: |
            pip install git+https://github.com/mindsdb/lightwood.git@staging --upgrade --no-cache-dir
      - name: Run integration api and flow tests
        run: |
          if [ "$RUNNER_OS" == "Linux" ]; then
            mkdir -p ~/.ssh/
            echo "$DB_MACHINE_KEY" > ~/.ssh/db_machine
            sudo chmod 600 ~/.ssh/db_machine
            echo "$DB_MACHINE_MS_KEY" > ~/.ssh/db_machine_ms
            sudo chmod 600 ~/.ssh/db_machine_ms
            echo "$DATABASE_CREDENTIALS" > ~/.mindsdb_credentials.json
            sudo chmod 644 ~/.mindsdb_credentials.json

            export USE_EXTERNAL_DB_SERVER="1"

            # MySQL API
            echo -e "\n===============\ntest MySQL API\n===============\n"
            python tests/integration_tests/flows/test_mysql_api.py

            # # Kafka Stream
            # echo -e "\n===============\ntest Kafka Stream\n===============\n"
            # python tests/integration_tests/flows/test_kafka.py

            # Redis Stream
            echo -e "\n===============\ntest Redis Stream\n===============\n"
            python tests/integration_tests/flows/test_redis.py

            # Company independent
            echo -e "\n===============\ntest company independent\n===============\n"
            python tests/integration_tests/flows/test_company_independent.py

            # HTTP
            echo -e "\n===============\ntest HTTP\n===============\n"
            python tests/integration_tests/flows/test_http.py

            # ClickHouse
            echo -e "\n===============\ntest ClickHouse\n===============\n"
            python tests/integration_tests/flows/test_clickhouse.py

            # MsSQL
            echo -e "\n===============\ntest MsSQL\n===============\n"
            python tests/integration_tests/flows/test_mssql.py


            # MongoDB
            #echo -e "\n===============\ntest MongoDB\n===============\n"
            #python tests/integration_tests/flows/test_mongo.py


            # PostgreSQL
            echo -e "\n===============\ntest PostgreSQL\n===============\n"
            python tests/integration_tests/flows/test_postgres.py


            # MySQL
            echo -e "\n===============\ntest MySQL\n===============\n"
            python tests/integration_tests/flows/test_mysql.py


            # MariaDB
            echo -e "\n===============\ntest MariaDB\n===============\n"
            python tests/integration_tests/flows/test_mariadb.py


            # user flow 1
            echo -e "\n===============\ntest user flow 1\n===============\n"
            python tests/integration_tests/flows/test_user_flow_1.py


            # user flow 2
            echo -e "\n===============\ntest user flow 2\n===============\n"
            python tests/integration_tests/flows/test_user_flow_2.py

            # flow with mistakes
            echo -e "\n===============\nflow with mistakes\n===============\n"
            python tests/integration_tests/flows/test_mistakes.py
          fi
        shell: bash
        env:
          CHECK_FOR_UPDATES: False
          DB_MACHINE_KEY: ${{secrets.DB_MACHINE_KEY}}
          DB_MACHINE_MS_KEY: ${{secrets.DB_MACHINE_MS_KEY}}
          DATABASE_CREDENTIALS: ${{secrets.DATABASE_CREDENTIALS}}
          AWS_SECRET_ACCESS_KEY: ${{secrets.AWS_SECRET_ACCESS_KEY}}
          AWS_ACCESS_KEY_ID: ${{secrets.AWS_ACCESS_KEY_ID}}

  deploy_to_pypi:
    runs-on: ubuntu-latest
    needs: test
    if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
    timeout-minutes: 60 # added timeout for this job
    steps:
      - uses: actions/checkout@v2
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.7'
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install setuptools wheel twine
      - name: Build and publish
        env:
          TWINE_USERNAME:  __token__
          TWINE_PASSWORD: ${{ secrets.PYPI_PASSWORD }}
        run: |
          python setup.py sdist
          twine upload dist/*
      - name: Install latest version from pypi to see that all is working
        run: |
          sleep 90
          pip install mindsdb

  create_version_file:
    runs-on: ubuntu-latest
    needs: test
    if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
    timeout-minutes: 60 # added timeout for this job
    steps:
      - uses: actions/checkout@v2
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: '3.7'
      - name: Create version files
        run: |
          python create_version_file.py beta

      - name: Sync version file to s3
        uses: jakejarvis/s3-sync-action@master
        with:
          args: --acl public-read --follow-symlinks
        env:
          AWS_S3_BUCKET: 'mindsdb-installer'
          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          AWS_REGION: 'us-west-2'
          SOURCE_DIR: 'distributions/ver/dist'
          DEST_DIR: 'mindsdb-installer/ver'

  deploy_to_dockerhub:
    runs-on: ubuntu-latest
    needs: [deploy_to_pypi, create_version_file]
    if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
    timeout-minutes: 60 # added timeout for this job
    steps:
      - uses: actions/checkout@v2
      - name: Docker Login
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}
            
      - name: Docker build and push
        run: |
          cd docker
          python3 build.py release
2025-11-05 14:41:31,458 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:41:31,458 - main - DEBUG - 검증할 YAML 길이: 7576 문자
2025-11-05 14:41:31,458 - main - DEBUG - YAML 시작 부분: "name: MindsDB Tests & Deploy\n\non:\n  push:\n    branches:\n      - stable\n    paths-ignore:\n      - 'do"
2025-11-05 14:41:31,477 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'MindsDB Tests & Deploy', 'on': {'push': {'branches': ['stable'], 'paths-ignore': ['docs/**', 'README.md']}, 'pull_request': {'branches': ['stable'], 'paths-ignore': ['docs/**', 'README.md']}}, 'jobs': {'matrix_prep': {'runs-on': 'ubuntu-latest', 'outputs': {'matrix': '${{ steps.set-matrix.outputs.matrix }}'}, 'steps': [{'uses': 'actions/checkout@v2'}, {'id': 'set-matrix', 'uses': 'JoshuaTheMiller/conditional-build-matrix@0.0.1', 'with': {'filter': '[?runOn==`${{ github.ref }}` || runOn==`always`]'}}]}, 'test': {'needs': 'matrix_prep', 'strategy': {'matrix': '${{fromJson(needs.matrix_prep.outputs.matrix)}}'}, 'name': 'Tests', 'runs-on': '${{ matrix.runs_on }}', 'if': "github.ref_type == 'branch'", 'timeout-minutes': 60, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install dependencies', 'run': "#python -m pip install --upgrade pip==21.0.1\npip install 'pymssql >= 2.1.4'\npip install boto3\npip install --no-cache-dir .\npip install -r requirements_test.txt\n", 'shell': 'bash', 'env': {'ACCESS_KEY': '${{ secrets.GH_ACCESS_KEY }}', 'mindsdb_github_masterkey': '${{secrets.mindsdb_github_masterkey}}'}}, {'name': 'Install dependencies Windows', 'run': 'if [ "$RUNNER_OS" == "Windows" ]; then\n  pip install torch==1.7.0+cpu torchvision==0.8.1+cpu -f https://download.pytorch.org/whl/torch_stable.html;\nfi\n', 'shell': 'bash', 'env': {'CHECK_FOR_UPDATES': False}}, {'name': "Install lightwood/staging if it's not mindsdb/stable", 'if': "${{ github.ref != 'refs/heads/stable' }}", 'run': 'pip install git+https://github.com/mindsdb/lightwood.git@staging --upgrade --no-cache-dir\n'}, {'name': 'Run integration api and flow tests', 'run': 'if [ "$RUNNER_OS" == "Linux" ]; then\n  mkdir -p ~/.ssh/\n  echo "$DB_MACHINE_KEY" > ~/.ssh/db_machine\n  sudo chmod 600 ~/.ssh/db_machine\n  echo "$DB_MACHINE_MS_KEY" > ~/.ssh/db_machine_ms\n  sudo chmod 600 ~/.ssh/db_machine_ms\n  echo "$DATABASE_CREDENTIALS" > ~/.mindsdb_credentials.json\n  sudo chmod 644 ~/.mindsdb_credentials.json\n\n  export USE_EXTERNAL_DB_SERVER="1"\n\n  # MySQL API\n  echo -e "\\n===============\\ntest MySQL API\\n===============\\n"\n  python tests/integration_tests/flows/test_mysql_api.py\n\n  # # Kafka Stream\n  # echo -e "\\n===============\\ntest Kafka Stream\\n===============\\n"\n  # python tests/integration_tests/flows/test_kafka.py\n\n  # Redis Stream\n  echo -e "\\n===============\\ntest Redis Stream\\n===============\\n"\n  python tests/integration_tests/flows/test_redis.py\n\n  # Company independent\n  echo -e "\\n===============\\ntest company independent\\n===============\\n"\n  python tests/integration_tests/flows/test_company_independent.py\n\n  # HTTP\n  echo -e "\\n===============\\ntest HTTP\\n===============\\n"\n  python tests/integration_tests/flows/test_http.py\n\n  # ClickHouse\n  echo -e "\\n===============\\ntest ClickHouse\\n===============\\n"\n  python tests/integration_tests/flows/test_clickhouse.py\n\n  # MsSQL\n  echo -e "\\n===============\\ntest MsSQL\\n===============\\n"\n  python tests/integration_tests/flows/test_mssql.py\n\n\n  # MongoDB\n  #echo -e "\\n===============\\ntest MongoDB\\n===============\\n"\n  #python tests/integration_tests/flows/test_mongo.py\n\n\n  # PostgreSQL\n  echo -e "\\n===============\\ntest PostgreSQL\\n===============\\n"\n  python tests/integration_tests/flows/test_postgres.py\n\n\n  # MySQL\n  echo -e "\\n===============\\ntest MySQL\\n===============\\n"\n  python tests/integration_tests/flows/test_mysql.py\n\n\n  # MariaDB\n  echo -e "\\n===============\\ntest MariaDB\\n===============\\n"\n  python tests/integration_tests/flows/test_mariadb.py\n\n\n  # user flow 1\n  echo -e "\\n===============\\ntest user flow 1\\n===============\\n"\n  python tests/integration_tests/flows/test_user_flow_1.py\n\n\n  # user flow 2\n  echo -e "\\n===============\\ntest user flow 2\\n===============\\n"\n  python tests/integration_tests/flows/test_user_flow_2.py\n\n  # flow with mistakes\n  echo -e "\\n===============\\nflow with mistakes\\n===============\\n"\n  python tests/integration_tests/flows/test_mistakes.py\nfi\n', 'shell': 'bash', 'env': {'CHECK_FOR_UPDATES': False, 'DB_MACHINE_KEY': '${{secrets.DB_MACHINE_KEY}}', 'DB_MACHINE_MS_KEY': '${{secrets.DB_MACHINE_MS_KEY}}', 'DATABASE_CREDENTIALS': '${{secrets.DATABASE_CREDENTIALS}}', 'AWS_SECRET_ACCESS_KEY': '${{secrets.AWS_SECRET_ACCESS_KEY}}', 'AWS_ACCESS_KEY_ID': '${{secrets.AWS_ACCESS_KEY_ID}}'}}]}, 'deploy_to_pypi': {'runs-on': 'ubuntu-latest', 'needs': 'test', 'if': "github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'", 'timeout-minutes': 60, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Set up Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '3.7'}}, {'name': 'Install dependencies', 'run': 'python -m pip install --upgrade pip\npip install setuptools wheel twine\n'}, {'name': 'Build and publish', 'env': {'TWINE_USERNAME': '__token__', 'TWINE_PASSWORD': '${{ secrets.PYPI_PASSWORD }}'}, 'run': 'python setup.py sdist\ntwine upload dist/*\n'}, {'name': 'Install latest version from pypi to see that all is working', 'run': 'sleep 90\npip install mindsdb\n'}]}, 'create_version_file': {'runs-on': 'ubuntu-latest', 'needs': 'test', 'if': "github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'", 'timeout-minutes': 60, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Set up Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '3.7'}}, {'name': 'Create version files', 'run': 'python create_version_file.py beta\n'}, {'name': 'Sync version file to s3', 'uses': 'jakejarvis/s3-sync-action@master', 'with': {'args': '--acl public-read --follow-symlinks'}, 'env': {'AWS_S3_BUCKET': 'mindsdb-installer', 'AWS_ACCESS_KEY_ID': '${{ secrets.AWS_ACCESS_KEY_ID }}', 'AWS_SECRET_ACCESS_KEY': '${{ secrets.AWS_SECRET_ACCESS_KEY }}', 'AWS_REGION': 'us-west-2', 'SOURCE_DIR': 'distributions/ver/dist', 'DEST_DIR': 'mindsdb-installer/ver'}}]}, 'deploy_to_dockerhub': {'runs-on': 'ubuntu-latest', 'needs': ['deploy_to_pypi', 'create_version_file'], 'if': "github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'", 'timeout-minutes': 60, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Docker Login', 'uses': 'docker/login-action@v1', 'with': {'username': '${{ secrets.DOCKER_USERNAME }}', 'password': '${{ secrets.DOCKER_PASSWORD }}'}}, {'name': 'Docker build and push', 'run': 'cd docker\npython3 build.py release'}]}}}
2025-11-05 14:41:31,479 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_baseline_repaired.yml
2025-11-05 14:41:31,479 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:41:31,479 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_baseline_repaired.yml
2025-11-05 14:41:31,479 - __main__ - INFO - === 파일 41/100 베이스라인 복구 완료 ===
2025-11-05 14:41:31,480 - __main__ - INFO - ✅ 성공 (60.74초): b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4 -> b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_baseline_repaired.yml
2025-11-05 14:41:31,480 - __main__ - INFO - [42/100] 처리 중: f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 14:41:31,480 - __main__ - INFO - 입력 파일 경로: data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 14:41:31,481 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_baseline_repaired.yml
2025-11-05 14:41:31,481 - __main__ - INFO - === 파일 42/100 베이스라인 복구 시작 ===
2025-11-05 14:41:31,481 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:41:31,481 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:41:31,481 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 14:41:31,481 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:41:31,482 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:41:31,482 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 14:41:31,506 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:41:31,507 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:41:31,507 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:41:31,507 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:41:31,507 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: # This workflow will install Python dependencies, run tests and lint with a variety of Python versions
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions

name: Python package

on:
  - push
  - pull_request

permissions:
  contents: read

jobs:
  mypy:
    strategy:
      matrix:
        python-version:
          - '3.7'
          - '3.8'
          - '3.9'
          - '3.10'
<<<<<<< Updated upstream
          - '3.11'
=======
        include:
          - python-version: 3.5
            os: ubuntu-20.04
          - python-version: 3.6
            os: ubuntu-20.04
    runs-on: ${{ matrix.os || 'ubuntu-latest' }}
>>>>>>> Stashed changes

    steps:
      - uses: actions/checkout@v3
      - name: Set up Python ${{ matrix.python-version }}
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
      - name: Install dependencies
        run: python -m pip install mypy
      - name: Check types with mypy
        run: mypy --strict idna

  build:
    strategy:
      matrix:
<<<<<<< Updated upstream
        python-version: ['3.5', '3.6', '3.7', '3.8', '3.9', '3.10', '3.11', 'pypy-3.8']
=======
        python-version: ['3.7', '3.8', '3.9', '3.10', 'pypy3']
        include:
          - python-version: 3.5
            os: ubuntu-20.04
          - python-version: 3.6
            os: ubuntu-20.04
    runs-on: ${{ matrix.os || 'ubuntu-latest' }}
>>>>>>> Stashed changes

    steps:
    - uses: actions/checkout@v3
    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        python -m pip install flake8 pytest
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
    - name: Lint with flake8
      run: |
        # stop the build if there are Python syntax errors or undefined names
        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
        # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide
        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics
    - name: Test with pytest
      run: |
        pytest

while scanning a simple key
  in "<file>", line 22, column 1
could not find expected ':'
  in "<file>", line 24, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 61)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
24:1: syntax error: could not find expected ':' (syntax)

2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 119
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: # This workflow will install Python dependencies, run tests and lint with a variety of Python versions
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 2: # For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 4: name: Python package
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 7: - push
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 8: - pull_request
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 10: permissions:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 11: contents: read
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 13: jobs:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 14: mypy:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 15: strategy:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 16: matrix:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 17: python-version:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 18: - '3.7'
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 19: - '3.8'
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 20: - '3.9'
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 21: - '3.10'
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 22: <<<<<<< Updated upstream
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 23: - '3.11'
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 24: =======
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 25: include:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 26: - python-version: 3.5
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 27: os: ubuntu-20.04
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 28: - python-version: 3.6
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 29: os: ubuntu-20.04
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 30: runs-on: ${{ matrix.os || 'ubuntu-latest' }}
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 31: >>>>>>> Stashed changes
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 33: steps:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 34: - uses: actions/checkout@v3
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 35: - name: Set up Python ${{ matrix.python-version }}
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 36: uses: actions/setup-python@v4
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 38: python-version: ${{ matrix.python-version }}
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 39: - name: Install dependencies
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 40: run: python -m pip install mypy
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 41: - name: Check types with mypy
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 42: run: mypy --strict idna
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 44: build:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 45: strategy:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 46: matrix:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 47: <<<<<<< Updated upstream
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 48: python-version: ['3.5', '3.6', '3.7', '3.8', '3.9', '3.10', '3.11', 'pypy-3.8']
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 49: =======
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 50: python-version: ['3.7', '3.8', '3.9', '3.10', 'pypy3']
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 51: include:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 52: - python-version: 3.5
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 53: os: ubuntu-20.04
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 54: - python-version: 3.6
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 55: os: ubuntu-20.04
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 56: runs-on: ${{ matrix.os || 'ubuntu-latest' }}
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 57: >>>>>>> Stashed changes
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 59: steps:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 60: - uses: actions/checkout@v3
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 61: - name: Set up Python ${{ matrix.python-version }}
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 62: uses: actions/setup-python@v4
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 63: with:
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 64: python-version: ${{ matrix.python-version }}
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 65: - name: Install dependencies
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 66: run: |
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 67: python -m pip install --upgrade pip
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 68: python -m pip install flake8 pytest
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 69: if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 70: - name: Lint with flake8
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 71: run: |
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 72: # stop the build if there are Python syntax errors or undefined names
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 73: flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 74: # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 75: flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 76: - name: Test with pytest
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 77: run: |
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 78: pytest
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 80: while scanning a simple key
2025-11-05 14:41:31,998 - utils.process_runner - DEBUG - 라인 81: in "<file>", line 22, column 1
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 82: could not find expected ':'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 83: in "<file>", line 24, column 1
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 84: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 98: We have found 18 smells
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 99: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 100: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 101: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 102: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 103: - 8. Use commit hash instead of tags for action versions (line 61)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 61)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 104: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 111: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 112: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 117: The following styling errors were found:
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 라인 118: 24:1: syntax error: could not find expected ':' (syntax)
2025-11-05 14:41:31,999 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 24:1: syntax error: could not find expected ':' (syntax)
2025-11-05 14:41:31,999 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:41:31,999 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:41:31,999 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:41:31,999 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:41:31,999 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:41:31,999 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:41:31,999 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# This workflow will install Python dependencies, run tests and lint with a variety of Python versions
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions

name: Python package

on:
  - push
  - pull_request

permissions:
  contents: read

jobs:
  mypy:
    strategy:
      matrix:
        python-version:
          - '3.7'
          - ...
2025-11-05 14:41:31,999 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:41:32,000 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:41:32,000 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:41:32,001 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:41:51,349 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:41:51,350 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:41:51,351 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:41:51,351 - main - DEBUG - 추출된 YAML:
name: Python package

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

permissions:
  contents: read

jobs:
  mypy:
    strategy:
      matrix:
        python-version:
          - '3.7'
          - '3.8'
          - '3.9'
          - '3.10'
          - '3.11'

    runs-on: ${{ matrix.os || 'ubuntu-latest' }}

    steps:
      - uses: actions/checkout@v3
      - name: Set up Python ${{ matrix.python-version }}
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
      - name: Install dependencies
        run: |
          python -m pip install mypy
      - name: Check types with mypy
        run: |
          mypy --strict idna

  build:
    strategy:
      matrix:
        python-version:
          - '3.7'
          - '3.8'
          - '3.9'
          - '3.10'
          - 'pypy-3.8'

    runs-on: ${{ matrix.os || 'ubuntu-latest' }}

    steps:
      - uses: actions/checkout@v3
      - name: Set up Python ${{ matrix.python-version }}
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          python -m pip install flake8 pytest
          if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
      - name: Lint with flake8
        run: |
          # stop the build if there are Python syntax errors or undefined names
          flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
          # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide
          flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics
      - name: Test with pytest
        run: |
          pytest
2025-11-05 14:41:51,351 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:41:51,351 - main - DEBUG - 검증할 YAML 길이: 1800 문자
2025-11-05 14:41:51,351 - main - DEBUG - YAML 시작 부분: 'name: Python package\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\nper'
2025-11-05 14:41:51,362 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Python package', 'on': {'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'permissions': {'contents': 'read'}, 'jobs': {'mypy': {'strategy': {'matrix': {'python-version': ['3.7', '3.8', '3.9', '3.10', '3.11']}}, 'runs-on': "${{ matrix.os || 'ubuntu-latest' }}", 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install dependencies', 'run': 'python -m pip install mypy\n'}, {'name': 'Check types with mypy', 'run': 'mypy --strict idna\n'}]}, 'build': {'strategy': {'matrix': {'python-version': ['3.7', '3.8', '3.9', '3.10', 'pypy-3.8']}}, 'runs-on': "${{ matrix.os || 'ubuntu-latest' }}", 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install dependencies', 'run': 'python -m pip install --upgrade pip\npython -m pip install flake8 pytest\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n'}, {'name': 'Lint with flake8', 'run': '# stop the build if there are Python syntax errors or undefined names\nflake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n# exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\nflake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics\n'}, {'name': 'Test with pytest', 'run': 'pytest'}]}}}
2025-11-05 14:41:51,362 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_baseline_repaired.yml
2025-11-05 14:41:51,362 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:41:51,363 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_baseline_repaired.yml
2025-11-05 14:41:51,364 - __main__ - INFO - === 파일 42/100 베이스라인 복구 완료 ===
2025-11-05 14:41:51,364 - __main__ - INFO - ✅ 성공 (19.88초): f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab -> f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_baseline_repaired.yml
2025-11-05 14:41:51,364 - __main__ - INFO - [43/100] 처리 중: 4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:41:51,364 - __main__ - INFO - 입력 파일 경로: data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:41:51,365 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_baseline_repaired.yml
2025-11-05 14:41:51,365 - __main__ - INFO - === 파일 43/100 베이스라인 복구 시작 ===
2025-11-05 14:41:51,365 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:41:51,365 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:41:51,365 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:41:51,365 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:41:51,366 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:41:51,366 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:41:51,393 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:41:51,393 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:41:51,393 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:41:51,393 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:41:51,393 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.63초)
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Publish & deploy canary version

on:
  push:
    branches:
      - main
    paths-ignore:
      - "*.md"
      - "templates/**"
      - "scripts/**"
      - ".vscode/**"
      - "apps/**"

jobs:
  publish:
    name: Publish canary version - ${{ github.event_name }}
    if: github.event_name == 'push' && !contains(github.event.head_commit.message, 'chore: next version release')
    runs-on: ubuntu-latest
    permissions:
      id-token: write
    env:
      TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}
      TURBO_TEAM: ${{ secrets.TURBO_TEAM }}

    steps:
      - name: Check out code
        uses: actions/checkout@v3

      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - run: corepack enable
      - run: pnpm --version
      - uses: actions/setup-node@v3
        with:
          node-version: 18
          cache: "pnpm"
          cache-dependency-path: "**/pnpm-lock.yaml"
      - name: install
        run: pnpm install --frozen-lockfile --prefer-offline

      - name: Build packages
        run: pnpm run build --filter='./packages/*'

      - name: Generate shapshot
        run: |
          pnpm up -r --workspace templates 
          pnpm run version --snapshot canary
        env:
          GITHUB_TOKEN: ${{ secrets.CHANGESETS_TOKEN }}

      - name: Set publishing config
        run: npm config set '//registry.npmjs.org/:_authToken' "${NODE_AUTH_TOKEN}"
        env:
          NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}

      - name: Publish canary packages
        run: pnpm changeset publish --no-git-tag --no-git-checks --tag canary
        env:
          NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}
          NPM_CONFIG_PROVENANCE: true

mapping values are not allowed here
  in "<file>", line 17, column 90
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
49:43: trailing spaces (trailing-spaces)
17:90: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 103
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Publish & deploy canary version
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 6: - main
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 7: paths-ignore:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 8: - "*.md"
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 9: - "templates/**"
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 10: - "scripts/**"
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 11: - ".vscode/**"
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 12: - "apps/**"
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 14: jobs:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 15: publish:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 16: name: Publish canary version - ${{ github.event_name }}
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 17: if: github.event_name == 'push' && !contains(github.event.head_commit.message, 'chore: next version release')
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 19: permissions:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 20: id-token: write
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 21: env:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 22: TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 23: TURBO_TEAM: ${{ secrets.TURBO_TEAM }}
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 25: steps:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 26: - name: Check out code
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 27: uses: actions/checkout@v3
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 29: - name: Install Node.js
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 30: uses: actions/setup-node@v3
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 31: with:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 32: node-version: 18
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 34: - run: corepack enable
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 35: - run: pnpm --version
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 36: - uses: actions/setup-node@v3
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 38: node-version: 18
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 39: cache: "pnpm"
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 40: cache-dependency-path: "**/pnpm-lock.yaml"
2025-11-05 14:41:52,022 - utils.process_runner - DEBUG - 라인 41: - name: install
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 42: run: pnpm install --frozen-lockfile --prefer-offline
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 44: - name: Build packages
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 45: run: pnpm run build --filter='./packages/*'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 47: - name: Generate shapshot
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 48: run: |
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 49: pnpm up -r --workspace templates
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 50: pnpm run version --snapshot canary
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 51: env:
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 52: GITHUB_TOKEN: ${{ secrets.CHANGESETS_TOKEN }}
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 54: - name: Set publishing config
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 55: run: npm config set '//registry.npmjs.org/:_authToken' "${NODE_AUTH_TOKEN}"
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 56: env:
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 57: NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 59: - name: Publish canary packages
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 60: run: pnpm changeset publish --no-git-tag --no-git-checks --tag canary
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 61: env:
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 62: NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 63: NPM_CONFIG_PROVENANCE: true
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 65: mapping values are not allowed here
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 66: in "<file>", line 17, column 90
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 67: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 81: We have found 18 smells
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 82: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 83: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 84: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 85: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 86: - 12. Avoid workflows without comments
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 87: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:41:52,023 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 93: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 97: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 100: The following styling errors were found:
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 101: 49:43: trailing spaces (trailing-spaces)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 라인 102: 17:90: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:41:52,024 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 17:90: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:41:52,024 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:41:52,024 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:41:52,024 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:41:52,024 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:41:52,024 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:41:52,024 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:41:52,024 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Publish & deploy canary version

on:
  push:
    branches:
      - main
    paths-ignore:
      - "*.md"
      - "templates/**"
      - "scripts/**"
      - ".vscode/**"
      - "apps/**"

jobs:
  publish:
    name: Publish canary version - ${{ github.event_name }}
    if: github.event_name == 'push' && !contains(github.event.head_commit.message, 'chore: next version release')
    runs-on: ubuntu-l...
2025-11-05 14:41:52,024 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:41:52,024 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:41:52,024 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:41:52,026 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:42:09,231 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:42:09,233 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:42:09,234 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:42:09,234 - main - DEBUG - 추출된 YAML:
name: Publish & deploy canary version

on:
  push:
    branches:
      - main
    paths-ignore:
      - "*.md"
      - "templates/**"
      - "scripts/**"
      - ".vscode/**"
      - "apps/**"

jobs:
  publish:
    name: Publish canary version - ${{ github.event_name }}
    if: github.event_name == 'push' && !contains(github.event.head_commit.message, 'chore: next version release')
    runs-on: ubuntu-latest
    permissions:
      id-token: write
    env:
      TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}
      TURBO_TEAM: ${{ secrets.TURBO_TEAM }}

    steps:
      - name: Check out code
        uses: actions/checkout@v3

      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - run: corepack enable
      - run: pnpm --version
      - name: Setup Node.js (with cache)
        uses: actions/setup-node@v3
        with:
          node-version: 18
          cache: "pnpm"
          cache-dependency-path: "**/pnpm-lock.yaml"

      - name: Install dependencies
        run: pnpm install --frozen-lockfile --prefer-offline

      - name: Build packages
        run: pnpm run build --filter='./packages/*'

      - name: Generate snapshot
        run: |
          pnpm up -r --workspace templates 
          pnpm run version --snapshot canary
        env:
          GITHUB_TOKEN: ${{ secrets.CHANGESETS_TOKEN }}

      - name: Set publishing config
        run: npm config set '//registry.npmjs.org/:_authToken' "${NPM_TOKEN}"
        env:
          NPM_TOKEN: ${{secrets.NPM_TOKEN}}

      - name: Publish canary packages
        run: pnpm changeset publish --no-git-tag --no-git-checks --tag canary
        env:
          NPM_TOKEN: ${{secrets.NPM_TOKEN}}
          NPM_CONFIG_PROVENANCE: true
2025-11-05 14:42:09,234 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:42:09,234 - main - DEBUG - 검증할 YAML 길이: 1755 문자
2025-11-05 14:42:09,234 - main - DEBUG - YAML 시작 부분: 'name: Publish & deploy canary version\n\non:\n  push:\n    branches:\n      - main\n    paths-ignore:\n    '
2025-11-05 14:42:09,236 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 17, column 90:
     ... vent.head_commit.message, 'chore: next version release')
                                         ^
2025-11-05 14:42:09,236 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:42:09,236 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 14:42:09,237 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_baseline_repaired.yml
2025-11-05 14:42:09,237 - __main__ - INFO - === 파일 43/100 베이스라인 복구 완료 ===
2025-11-05 14:42:09,237 - __main__ - ERROR - ❌ 실패 (17.87초): 4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 14:42:09,238 - __main__ - INFO - [44/100] 처리 중: 976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 14:42:09,238 - __main__ - INFO - 입력 파일 경로: data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 14:42:09,238 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_baseline_repaired.yml
2025-11-05 14:42:09,238 - __main__ - INFO - === 파일 44/100 베이스라인 복구 시작 ===
2025-11-05 14:42:09,238 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:42:09,238 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:42:09,239 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 14:42:09,239 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:42:09,239 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:42:09,239 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 14:42:09,265 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:42:09,265 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:42:09,265 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:42:09,265 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:42:09,265 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
We have found 11 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 85)
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 101)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 10. Avoid jobs without timeouts (line: 11)
	- 13. Use names for run steps (lines -1:15)
	- 14. Avoid incorrectly formatted workflows
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
20:1: too many blank lines (3 > 2) (empty-lines)
23:9: wrong indentation: expected 6 but found 8 (indentation)
25:13: wrong indentation: expected 10 but found 12 (indentation)
27:20: too many spaces inside brackets (brackets)
27:70: too many spaces inside brackets (brackets)
30:13: wrong indentation: expected 10 but found 12 (indentation)
33:13: wrong indentation: expected 10 but found 12 (indentation)
54:55: trailing spaces (trailing-spaces)
58:9: wrong indentation: expected 6 but found 8 (indentation)
60:13: wrong indentation: expected 10 but found 12 (indentation)
62:20: too many spaces inside brackets (brackets)
62:36: too many spaces inside brackets (brackets)
65:13: wrong indentation: expected 10 but found 12 (indentation)
68:13: wrong indentation: expected 10 but found 12 (indentation)
88:7: wrong indentation: expected 8 but found 6 (indentation)
105:1: too many blank lines (1 > 0) (empty-lines)

2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 31
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 3: - 1. Avoid executing scheduled workflows on forks
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 85)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 85)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 101)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 101)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:42:09,770 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:15)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:15)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 12: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 14: The following styling errors were found:
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 15: 20:1: too many blank lines (3 > 2) (empty-lines)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 16: 23:9: wrong indentation: expected 6 but found 8 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 17: 25:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 18: 27:20: too many spaces inside brackets (brackets)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 19: 27:70: too many spaces inside brackets (brackets)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 20: 30:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 21: 33:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 22: 54:55: trailing spaces (trailing-spaces)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 23: 58:9: wrong indentation: expected 6 but found 8 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 24: 60:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 25: 62:20: too many spaces inside brackets (brackets)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 26: 62:36: too many spaces inside brackets (brackets)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 27: 65:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 28: 68:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 29: 88:7: wrong indentation: expected 8 but found 6 (indentation)
2025-11-05 14:42:09,771 - utils.process_runner - DEBUG - 라인 30: 105:1: too many blank lines (1 > 0) (empty-lines)
2025-11-05 14:42:09,771 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:42:09,771 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 14:42:09,771 - main - INFO - Smell detector에서 2개 스멜 발견
2025-11-05 14:42:09,771 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:42:09,771 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:42:09,771 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Dependency and link scanner

on:
  schedule:
    # Triggers the workflow every day at 0130 UTC
    - cron: "30 1 * * *"
  workflow_dispatch:

jobs:
  # Repo usage stats
  calculate-stats:
    runs-on: ubuntu-22.04
    environment: "analytics"
    steps:
      - uses: jgehrcke/github-repo-stats@HEAD
        with:
          ghtoken: ${{ secrets.GH_TOKEN_ANALYTICS }}



    # Checks imports using late...
2025-11-05 14:42:09,771 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:42:09,771 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:42:09,771 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:42:09,772 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:42:36,034 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:42:36,035 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:42:36,036 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:42:36,036 - main - DEBUG - 추출된 YAML:
name: Dependency and link scanner

on:
  schedule:
    # Triggers the workflow every day at 0130 UTC
    - cron: "30 1 * * *"
  workflow_dispatch:

jobs:
  calculate-stats:
    runs-on: ubuntu-22.04
    environment: analytics
    steps:
      - uses: jgehrcke/github-repo-stats@HEAD
        with:
          ghtoken: ${{ secrets.GH_TOKEN_ANALYTICS }}

  check-imports:
    name: Check imports using latest versions of dependencies for the core package.
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [ "ubuntu-latest", "windows-latest", "macos-latest" ]
        python-version: ["3.8"]
    defaults:
      run:
        shell: bash
    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Set up Python ${{ matrix.python-version }}
        id: setup-python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}

      - name: Install latest versions of core dependencies.
        run: |
          python3 -m pip install --upgrade pip-tools
          python3 -m pip install .

      # smoke-tests that check imports
      - name: Check imports
        # these modules cover most of the imports for the core package
        # Note: if these modules are renamed, please update this list
        run: |
          python -m superduperdb.db.base.db
          python -m superduperdb.db.base.backends
          python -m superduperdb.container.model

  test-latest-dev-deps:
    name: Run tests using latest versions of dependencies for the dev environment.
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [ "ubuntu-latest" ]  # TODO: add "windows-latest", "macos-latest" when Docker removed
        python-version: ["3.8"]
    defaults:
      run:
        shell: bash
    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Set up Python ${{ matrix.python-version }}
        id: setup-python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}

      - name: Install latest versions of developer dependencies
        run: |
          python3 -m pip install --upgrade pip-tools
          python3 -m pip install .[dev]

      - name: Run tests
        run: make test

  markdown-link-check:
    name: Markdown link check
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Create configuration for handling relative paths
        # regex validation: https://regex101.com/r/L2M2wa/1
        run: |
          cat <<EOF > mlc_config.json
          {
            "replacementPatterns": [
              {
                "pattern": "^[./]",
                "replacement": "{{BASEURL}}/"
              }
            ]
          }
          EOF
      - uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          config-file: 'mlc_config.json'
2025-11-05 14:42:36,036 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:42:36,037 - main - DEBUG - 검증할 YAML 길이: 2956 문자
2025-11-05 14:42:36,037 - main - DEBUG - YAML 시작 부분: 'name: Dependency and link scanner\n\non:\n  schedule:\n    # Triggers the workflow every day at 0130 UTC'
2025-11-05 14:42:36,049 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Dependency and link scanner', 'on': {'schedule': [{'cron': '30 1 * * *'}], 'workflow_dispatch': None}, 'jobs': {'calculate-stats': {'runs-on': 'ubuntu-22.04', 'environment': 'analytics', 'steps': [{'uses': 'jgehrcke/github-repo-stats@HEAD', 'with': {'ghtoken': '${{ secrets.GH_TOKEN_ANALYTICS }}'}}]}, 'check-imports': {'name': 'Check imports using latest versions of dependencies for the core package.', 'runs-on': '${{ matrix.os }}', 'strategy': {'fail-fast': False, 'matrix': {'os': ['ubuntu-latest', 'windows-latest', 'macos-latest'], 'python-version': ['3.8']}}, 'defaults': {'run': {'shell': 'bash'}}, 'steps': [{'name': 'Check out repository', 'uses': 'actions/checkout@v3'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'id': 'setup-python', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install latest versions of core dependencies.', 'run': 'python3 -m pip install --upgrade pip-tools\npython3 -m pip install .\n'}, {'name': 'Check imports', 'run': 'python -m superduperdb.db.base.db\npython -m superduperdb.db.base.backends\npython -m superduperdb.container.model\n'}]}, 'test-latest-dev-deps': {'name': 'Run tests using latest versions of dependencies for the dev environment.', 'runs-on': '${{ matrix.os }}', 'strategy': {'fail-fast': False, 'matrix': {'os': ['ubuntu-latest'], 'python-version': ['3.8']}}, 'defaults': {'run': {'shell': 'bash'}}, 'steps': [{'name': 'Check out repository', 'uses': 'actions/checkout@v3'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'id': 'setup-python', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install latest versions of developer dependencies', 'run': 'python3 -m pip install --upgrade pip-tools\npython3 -m pip install .[dev]\n'}, {'name': 'Run tests', 'run': 'make test'}]}, 'markdown-link-check': {'name': 'Markdown link check', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Create configuration for handling relative paths', 'run': 'cat <<EOF > mlc_config.json\n{\n  "replacementPatterns": [\n    {\n      "pattern": "^[./]",\n      "replacement": "{{BASEURL}}/"\n    }\n  ]\n}\nEOF\n'}, {'uses': 'gaurav-nelson/github-action-markdown-link-check@v1', 'with': {'config-file': 'mlc_config.json'}}]}}}
2025-11-05 14:42:36,050 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_baseline_repaired.yml
2025-11-05 14:42:36,050 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:42:36,050 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_baseline_repaired.yml
2025-11-05 14:42:36,050 - __main__ - INFO - === 파일 44/100 베이스라인 복구 완료 ===
2025-11-05 14:42:36,050 - __main__ - INFO - ✅ 성공 (26.81초): 976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5 -> 976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_baseline_repaired.yml
2025-11-05 14:42:36,051 - __main__ - INFO - [45/100] 처리 중: 0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 14:42:36,051 - __main__ - INFO - 입력 파일 경로: data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 14:42:36,051 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_baseline_repaired.yml
2025-11-05 14:42:36,051 - __main__ - INFO - === 파일 45/100 베이스라인 복구 시작 ===
2025-11-05 14:42:36,051 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:42:36,051 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:42:36,052 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 14:42:36,052 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:42:36,052 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:42:36,052 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 14:42:36,074 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:42:36,074 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:42:36,075 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:42:36,075 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:42:36,075 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 14:42:36,534 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 14:42:36,534 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
We have found 11 smells
	- 3. Use fixed version for runs-on argument (line 6)
	- 6. Define permissions for workflows with external actions (job at line: 6)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 8. Use commit hash instead of tags for action versions (line 9)
	- 10. Avoid jobs without timeouts (line: 6)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines 10:10)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
8:1: trailing spaces (trailing-spaces)
10:5: wrong indentation: expected 6 but found 4 (indentation)
11:1: trailing spaces (trailing-spaces)
28:140: trailing spaces (trailing-spaces)

2025-11-05 14:42:36,534 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:42:36,534 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 19
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 6)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 6)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 6)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 6)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 9)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 9)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 7: - 10. Avoid jobs without timeouts (line: 6)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 6)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 8: - 12. Avoid workflows without comments
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 9: - 13. Use names for run steps (lines 10:10)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 10:10)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 10: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 11: - 19. Run tests on multiple OS's (job: build)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 12: - 20. Run CI on multiple language versions (job: build)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 14: The following styling errors were found:
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 15: 8:1: trailing spaces (trailing-spaces)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 16: 10:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 17: 11:1: trailing spaces (trailing-spaces)
2025-11-05 14:42:36,535 - utils.process_runner - DEBUG - 라인 18: 28:140: trailing spaces (trailing-spaces)
2025-11-05 14:42:36,535 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:42:36,535 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:42:36,535 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:42:36,535 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:42:36,535 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:42:36,535 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
eeename: Build and Push to Nuget

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
        
    steps:
    - uses: actions/checkout@v1
 
    - name: setup dotnet
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: 6.0.100

    - name: test
      run: |
        dotnet test --filter Category!=Dependencies

    - name: pack
      run: |
        cd Mjml.Net & dotnet pac...
2025-11-05 14:42:36,535 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:42:36,535 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:42:36,535 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:42:36,536 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:42:50,268 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:42:50,271 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:42:50,272 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:42:50,272 - main - DEBUG - 추출된 YAML:
name: Build and Push to Nuget

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts

    steps:
      - uses: actions/checkout@v2 # Update to latest version of checkout action
        with:
          fetch-depth: 0 # Fetch all history for the repository

      - name: setup dotnet
        uses: actions/setup-dotnet@v2 # Update to latest version of setup-dotnet action
        with:
          dotnet-version: '6.0.100'

      - name: test
        run: |
          dotnet test --filter Category!=Dependencies

      - name: pack
        run: |
          cd Mjml.Net && dotnet pack -c Release

      - name: publish
        if: github.event_name != 'pull_request' && github.ref_name == 'main'
        run: |
          dotnet nuget push **/*.nupkg --source 'https://api.nuget.org/v3/index.json' --skip-duplicate -k ${{ secrets.NUGET_KEY }} --no-symbols 1
2025-11-05 14:42:50,272 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:42:50,272 - main - DEBUG - 검증할 YAML 길이: 990 문자
2025-11-05 14:42:50,272 - main - DEBUG - YAML 시작 부분: 'name: Build and Push to Nuget\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ ma'
2025-11-05 14:42:50,276 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build and Push to Nuget', 'on': {'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'setup dotnet', 'uses': 'actions/setup-dotnet@v2', 'with': {'dotnet-version': '6.0.100'}}, {'name': 'test', 'run': 'dotnet test --filter Category!=Dependencies\n'}, {'name': 'pack', 'run': 'cd Mjml.Net && dotnet pack -c Release\n'}, {'name': 'publish', 'if': "github.event_name != 'pull_request' && github.ref_name == 'main'", 'run': "dotnet nuget push **/*.nupkg --source 'https://api.nuget.org/v3/index.json' --skip-duplicate -k ${{ secrets.NUGET_KEY }} --no-symbols 1"}]}}}
2025-11-05 14:42:50,278 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_baseline_repaired.yml
2025-11-05 14:42:50,278 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:42:50,278 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_baseline_repaired.yml
2025-11-05 14:42:50,278 - __main__ - INFO - === 파일 45/100 베이스라인 복구 완료 ===
2025-11-05 14:42:50,278 - __main__ - INFO - ✅ 성공 (14.23초): 0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1 -> 0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_baseline_repaired.yml
2025-11-05 14:42:50,278 - __main__ - INFO - [46/100] 처리 중: e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 14:42:50,278 - __main__ - INFO - 입력 파일 경로: data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 14:42:50,279 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_baseline_repaired.yml
2025-11-05 14:42:50,279 - __main__ - INFO - === 파일 46/100 베이스라인 복구 시작 ===
2025-11-05 14:42:50,279 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:42:50,279 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:42:50,280 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 14:42:50,280 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:42:50,280 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:42:50,282 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 14:42:50,329 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.05초)
2025-11-05 14:42:50,330 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:42:50,330 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:42:50,330 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:42:50,330 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.76초)
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
We have found 11 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 9)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 10. Avoid jobs without timeouts (line: 9)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines 14:14)
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 9)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
12:8: trailing spaces (trailing-spaces)

2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 16
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:42:51,095 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 4: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 9)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 9)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 9)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 9)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 9: - 12. Avoid workflows without comments
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines 14:14)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 14:14)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 12: - 15. Use permissions whenever using Github Token (job at line 9)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 9)
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 14: The following styling errors were found:
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:42:51,096 - utils.process_runner - DEBUG - 라인 15: 12:8: trailing spaces (trailing-spaces)
2025-11-05 14:42:51,096 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:42:51,096 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:42:51,096 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:42:51,096 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:42:51,096 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:42:51,096 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Helper

on:
  pull_request_target:
    types:
      - closed

jobs:
  instructions:
    name: instructions
    runs-on: ubuntu-latest
    if: 
    steps:
      - uses: actions/checkout@v2
      - name: Comment
        if: github.event_name == 'pull_request_target' && github.event.action == 'closed' && github.event.pull_request.merged == true
        uses: actions/github-script@v3
        with:
    ...
2025-11-05 14:42:51,096 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:42:51,096 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:42:51,096 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:42:51,098 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:43:08,994 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:43:08,996 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:43:08,996 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:43:08,996 - main - DEBUG - 추출된 YAML:
name: Helper

on:
  pull_request_target:
    types: [closed]

jobs:
  instructions:
    name: instructions
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request_target' && github.event.action == 'closed' && github.event.pull_request.merged == true
    permissions:
      contents: read
      pull-requests: write
    steps:
      - uses: actions/checkout@v2
      - name: Comment
        uses: actions/github-script@v3
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            const { hasLabel } = require(`${process.env.GITHUB_WORKSPACE}/scripts/action-utils.js`);
            const { instructions } = require(`${process.env.GITHUB_WORKSPACE}/scripts/reply.js`);
            if (hasLabel(context, 'domain'))
              await instructions(context, github);
2025-11-05 14:43:08,996 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:43:08,997 - main - DEBUG - 검증할 YAML 길이: 813 문자
2025-11-05 14:43:08,997 - main - DEBUG - YAML 시작 부분: 'name: Helper\n\non:\n  pull_request_target:\n    types: [closed]\n\njobs:\n  instructions:\n    name: instru'
2025-11-05 14:43:09,001 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Helper', 'on': {'pull_request_target': {'types': ['closed']}}, 'jobs': {'instructions': {'name': 'instructions', 'runs-on': 'ubuntu-latest', 'if': "github.event_name == 'pull_request_target' && github.event.action == 'closed' && github.event.pull_request.merged == true", 'permissions': {'contents': 'read', 'pull-requests': 'write'}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Comment', 'uses': 'actions/github-script@v3', 'with': {'github-token': '${{secrets.GITHUB_TOKEN}}', 'script': "const { hasLabel } = require(`${process.env.GITHUB_WORKSPACE}/scripts/action-utils.js`);\nconst { instructions } = require(`${process.env.GITHUB_WORKSPACE}/scripts/reply.js`);\nif (hasLabel(context, 'domain'))\n  await instructions(context, github);"}}]}}}
2025-11-05 14:43:09,001 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_baseline_repaired.yml
2025-11-05 14:43:09,001 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:43:09,001 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_baseline_repaired.yml
2025-11-05 14:43:09,002 - __main__ - INFO - === 파일 46/100 베이스라인 복구 완료 ===
2025-11-05 14:43:09,002 - __main__ - INFO - ✅ 성공 (18.72초): e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc -> e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_baseline_repaired.yml
2025-11-05 14:43:09,002 - __main__ - INFO - [47/100] 처리 중: 29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 14:43:09,002 - __main__ - INFO - 입력 파일 경로: data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 14:43:09,002 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_baseline_repaired.yml
2025-11-05 14:43:09,002 - __main__ - INFO - === 파일 47/100 베이스라인 복구 시작 ===
2025-11-05 14:43:09,003 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:43:09,003 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:43:09,003 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 14:43:09,003 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:43:09,003 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:43:09,003 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 14:43:09,029 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:43:09,029 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:43:09,029 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:43:09,029 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:43:09,029 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 14:43:09,473 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 14:43:09,473 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: SDKs
on:
  push:
    tags:
      - v*

permissions:
  contents: read

jobs:
  sdk:
    permissions:
      contents: read
      packages: write # for publishing packages
      contents: write  # for creating releases
    if: github.repository == 'argoproj/argo-workflows'
    runs-on: ubuntu-latest
    name: Publish SDK
    strategy:
      matrix:
        name:
        - java
        - python
    steps:
      - uses: actions/checkout@v3
      - run: make --directory sdks/${{matrix.name}} publish -B
        env:
          JAVA_SDK_MAVEN_PASSWORD: ${{ secrets.GITHUB_TOKEN }}
          PYPI_API_TOKEN: ${{ secrets.PYPI_API_TOKEN }}

while constructing a mapping
  in "<file>", line 13, column 7
found duplicate key "contents" with value "write" (original value: "read")
  in "<file>", line 15, column 7

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 16)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
14:23: too few spaces before comment: expected 2 (comments)
15:7: duplication of key "contents" in mapping (key-duplicates)
22:9: wrong indentation: expected 10 but found 8 (indentation)

2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 73
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: SDKs
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 3: push:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 4: tags:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 5: - v*
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 7: permissions:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 8: contents: read
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 11: sdk:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 12: permissions:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 13: contents: read
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 14: packages: write # for publishing packages
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 15: contents: write  # for creating releases
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 16: if: github.repository == 'argoproj/argo-workflows'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 18: name: Publish SDK
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 19: strategy:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 20: matrix:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 21: name:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 22: - java
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 23: - python
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 24: steps:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 25: - uses: actions/checkout@v3
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 26: - run: make --directory sdks/${{matrix.name}} publish -B
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 27: env:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 28: JAVA_SDK_MAVEN_PASSWORD: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 29: PYPI_API_TOKEN: ${{ secrets.PYPI_API_TOKEN }}
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 31: while constructing a mapping
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 32: in "<file>", line 13, column 7
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 33: found duplicate key "contents" with value "write" (original value: "read")
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 34: in "<file>", line 15, column 7
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 36: To suppress this check see:
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 37: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 39: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 53: We have found 15 smells
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 54: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 55: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 56: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:43:09,474 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 69: The following styling errors were found:
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 70: 14:23: too few spaces before comment: expected 2 (comments)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 71: 15:7: duplication of key "contents" in mapping (key-duplicates)
2025-11-05 14:43:09,475 - utils.process_runner - DEBUG - 라인 72: 22:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 14:43:09,475 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:43:09,475 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:43:09,475 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:43:09,475 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:43:09,475 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:43:09,475 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:43:09,475 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: SDKs
on:
  push:
    tags:
      - v*

permissions:
  contents: read

jobs:
  sdk:
    permissions:
      contents: read
      packages: write # for publishing packages
      contents: write  # for creating releases
    if: github.repository == 'argoproj/argo-workflows'
    runs-on: ubuntu-latest
    name: Publish SDK
    strategy:
      matrix:
        name:
        - java
        - python
    ste...
2025-11-05 14:43:09,475 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:43:09,475 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:43:09,475 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:43:09,476 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:43:18,413 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1561
2025-11-05 14:43:18,414 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:43:18,415 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:43:18,415 - main - DEBUG - 추출된 YAML:
name: SDKs
on:
  push:
    tags:
      - v*

permissions:
  contents: read

jobs:
  sdk:
    permissions:
      packages: write # for publishing packages
      contents: write  # for creating releases
    if: github.repository == 'argoproj/argo-workflows'
    runs-on: ubuntu-latest
    name: Publish SDK
    strategy:
      matrix:
        language:
          - java
          - python
    steps:
      - uses: actions/checkout@v3
      - run: make --directory sdks/${{matrix.language}} publish -B
        env:
          JAVA_SDK_MAVEN_PASSWORD: ${{ secrets.GITHUB_TOKEN }}
          PYPI_API_TOKEN: ${{ secrets.PYPI_API_TOKEN }}
2025-11-05 14:43:18,415 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:43:18,415 - main - DEBUG - 검증할 YAML 길이: 630 문자
2025-11-05 14:43:18,415 - main - DEBUG - YAML 시작 부분: 'name: SDKs\non:\n  push:\n    tags:\n      - v*\n\npermissions:\n  contents: read\n\njobs:\n  sdk:\n    permiss'
2025-11-05 14:43:18,420 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'SDKs', 'on': {'push': {'tags': ['v*']}}, 'permissions': {'contents': 'read'}, 'jobs': {'sdk': {'permissions': {'packages': 'write', 'contents': 'write'}, 'if': "github.repository == 'argoproj/argo-workflows'", 'runs-on': 'ubuntu-latest', 'name': 'Publish SDK', 'strategy': {'matrix': {'language': ['java', 'python']}}, 'steps': [{'uses': 'actions/checkout@v3'}, {'run': 'make --directory sdks/${{matrix.language}} publish -B', 'env': {'JAVA_SDK_MAVEN_PASSWORD': '${{ secrets.GITHUB_TOKEN }}', 'PYPI_API_TOKEN': '${{ secrets.PYPI_API_TOKEN }}'}}]}}}
2025-11-05 14:43:18,421 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_baseline_repaired.yml
2025-11-05 14:43:18,421 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:43:18,421 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_baseline_repaired.yml
2025-11-05 14:43:18,421 - __main__ - INFO - === 파일 47/100 베이스라인 복구 완료 ===
2025-11-05 14:43:18,421 - __main__ - INFO - ✅ 성공 (9.42초): 29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8 -> 29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_baseline_repaired.yml
2025-11-05 14:43:18,422 - __main__ - INFO - [48/100] 처리 중: 95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 14:43:18,422 - __main__ - INFO - 입력 파일 경로: data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 14:43:18,422 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_baseline_repaired.yml
2025-11-05 14:43:18,422 - __main__ - INFO - === 파일 48/100 베이스라인 복구 시작 ===
2025-11-05 14:43:18,422 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:43:18,422 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:43:18,423 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 14:43:18,423 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:43:18,423 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:43:18,423 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 14:43:18,432 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:43:18,432 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:43:18,432 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:43:18,432 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:43:18,433 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.37초)
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 9)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 43)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 9)
	- 12. Avoid workflows without comments
	- 16. Avoid running CI related actions when no source code has changed
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks

2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 15
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 9)
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 9)
2025-11-05 14:43:18,804 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 43)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 43)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 9: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 10: - 10. Avoid jobs without timeouts (line: 9)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 9)
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 11: - 12. Avoid workflows without comments
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 12: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 13: - 21. Use cache parameter instead of cache option
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 14:43:18,805 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:43:18,805 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:43:18,805 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:43:18,805 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:43:18,805 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:43:18,805 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:43:18,805 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Prerelease

on:
  push:
    branches:
      - "master"

jobs:
  publish-npm:
    runs-on: ubuntu-latest
    if: "!contains(github.event.head_commit.message, 'skip ci') && !contains(github.event.head_commit.message, 'chore(release): packages')"
    steps:
      - name: GitHub context
        run: echo "$GITHUB_CONTEXT"
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
      - name: Checko...
2025-11-05 14:43:18,805 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:43:18,805 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:43:18,805 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:43:18,806 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:43:37,049 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:43:37,050 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:43:37,051 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:43:37,051 - main - DEBUG - 추출된 YAML:
name: Prerelease

on:
  push:
    branches:
      - "master"

jobs:
  publish-npm:
    runs-on: ubuntu-latest
    if: "!contains(github.event.head_commit.message, 'skip ci') && !contains(github.event.head_commit.message, 'chore(release): packages')"
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
        with:
          ref: master

      - name: Fetch tags
        run: git fetch --depth=1 origin +refs/tags/*:refs/tags/*

      - name: Read .nvmrc
        id: nvm
        run: |
          echo ::set-output name=NVMRC::$(cat .nvmrc)

      - name: yarn cache directory
        id: yarn-cache
        run: |
          echo "::set-output name=dir::$(yarn cache dir)"

      - name: Setup node_modules cache
        uses: actions/cache@v1
        with:
          path: ${{ steps.yarn-cache.outputs.dir }}
          key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}
          restore-keys: |
            ${{ runner.os }}-yarn-

      - name: Setup Node (uses version in .nvmrc)
        uses: actions/setup-node@v1
        with:
          node-version: "${{ steps.nvm.outputs.NVMRC }}"
          registry-url: https://registry.npmjs.org/
          scope: flopflip

      - name: Install
        run: yarn install --frozen-lockfile

      - name: Publish to next dist-tag
        env:
          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
        run: |
          echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" > .npmrc
          yarn release:next
2025-11-05 14:43:37,051 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:43:37,051 - main - DEBUG - 검증할 YAML 길이: 1476 문자
2025-11-05 14:43:37,051 - main - DEBUG - YAML 시작 부분: 'name: Prerelease\n\non:\n  push:\n    branches:\n      - "master"\n\njobs:\n  publish-npm:\n    runs-on: ubun'
2025-11-05 14:43:37,062 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Prerelease', 'on': {'push': {'branches': ['master']}}, 'jobs': {'publish-npm': {'runs-on': 'ubuntu-latest', 'if': "!contains(github.event.head_commit.message, 'skip ci') && !contains(github.event.head_commit.message, 'chore(release): packages')", 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2', 'with': {'ref': 'master'}}, {'name': 'Fetch tags', 'run': 'git fetch --depth=1 origin +refs/tags/*:refs/tags/*'}, {'name': 'Read .nvmrc', 'id': 'nvm', 'run': 'echo ::set-output name=NVMRC::$(cat .nvmrc)\n'}, {'name': 'yarn cache directory', 'id': 'yarn-cache', 'run': 'echo "::set-output name=dir::$(yarn cache dir)"\n'}, {'name': 'Setup node_modules cache', 'uses': 'actions/cache@v1', 'with': {'path': '${{ steps.yarn-cache.outputs.dir }}', 'key': "${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}", 'restore-keys': '${{ runner.os }}-yarn-\n'}}, {'name': 'Setup Node (uses version in .nvmrc)', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ steps.nvm.outputs.NVMRC }}', 'registry-url': 'https://registry.npmjs.org/', 'scope': 'flopflip'}}, {'name': 'Install', 'run': 'yarn install --frozen-lockfile'}, {'name': 'Publish to next dist-tag', 'env': {'NPM_TOKEN': '${{ secrets.NPM_TOKEN }}'}, 'run': 'echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" > .npmrc\nyarn release:next'}]}}}
2025-11-05 14:43:37,063 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_baseline_repaired.yml
2025-11-05 14:43:37,063 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:43:37,063 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_baseline_repaired.yml
2025-11-05 14:43:37,063 - __main__ - INFO - === 파일 48/100 베이스라인 복구 완료 ===
2025-11-05 14:43:37,063 - __main__ - INFO - ✅ 성공 (18.64초): 95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f -> 95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_baseline_repaired.yml
2025-11-05 14:43:37,063 - __main__ - INFO - [49/100] 처리 중: e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 14:43:37,063 - __main__ - INFO - 입력 파일 경로: data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 14:43:37,064 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_baseline_repaired.yml
2025-11-05 14:43:37,064 - __main__ - INFO - === 파일 49/100 베이스라인 복구 시작 ===
2025-11-05 14:43:37,064 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:43:37,064 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:43:37,064 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 14:43:37,064 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:43:37,064 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:43:37,064 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 14:43:37,090 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:43:37,091 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:43:37,091 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:43:37,091 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:43:37,091 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
YAML parsing error in multi_line_steps: 'CommentedSeq' object has no attribute 'replace'
YAML parsing error in installing_packages_without_version: 'CommentedSeq' object has no attribute 'split'
We have found 14 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 11)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 10. Avoid jobs without timeouts (line: 11)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
5:13: too many spaces after colon (colons)

2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 21
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in multi_line_steps: 'CommentedSeq' object has no attribute 'replace'
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'CommentedSeq' object has no attribute 'replace'
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in installing_packages_without_version: 'CommentedSeq' object has no attribute 'split'
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'CommentedSeq' object has no attribute 'split'
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 4: We have found 14 smells
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 5: - 1. Avoid executing scheduled workflows on forks
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 6: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 라인 7: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:43:37,551 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 11: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 12: - 12. Avoid workflows without comments
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 13: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 14: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 15: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 16: - 22. Avoid deploying jobs on forks
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 17: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 18: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 19: The following styling errors were found:
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:43:37,552 - utils.process_runner - DEBUG - 라인 20: 5:13: too many spaces after colon (colons)
2025-11-05 14:43:37,552 - utils.process_runner - INFO - 총 4개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:43:37,552 - utils.process_runner - INFO - Smell detector 실행 완료: 4개 스멜 발견
2025-11-05 14:43:37,552 - main - INFO - Smell detector에서 4개 스멜 발견
2025-11-05 14:43:37,552 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:43:37,552 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:43:37,552 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: GitHub pages

on:
  schedule:
    - cron:  '*/15 * * * *'
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Install Supplemental Dependencies
        run: npm i
      - name: Build
        run: npm run build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with...
2025-11-05 14:43:37,552 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:43:37,552 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:43:37,552 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:43:37,553 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:43:51,436 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:43:51,437 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:43:51,437 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:43:51,437 - main - DEBUG - 추출된 YAML:
name: GitHub Pages

on:
  schedule:
    - cron: '*/15 * * * *'
      branches: [ main ]
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Install Supplemental Dependencies
        run: npm install

      - name: Build
        run: npm run build

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
          publish_dir: ./site
          cname: drops.warframestat.us
          force_orphan: true
          user_name: 'Jimmy Bot'
          user_email: 'translator@warframe.gg'

      - name: Pushback
        run:
          - chmod +x .github/pushback.sh
          - ./pushback.sh
2025-11-05 14:43:51,437 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:43:51,438 - main - DEBUG - 검증할 YAML 길이: 799 문자
2025-11-05 14:43:51,438 - main - DEBUG - YAML 시작 부분: "name: GitHub Pages\n\non:\n  schedule:\n    - cron: '*/15 * * * *'\n      branches: [ main ]\n  push:\n    "
2025-11-05 14:43:51,446 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'GitHub Pages', 'on': {'schedule': [{'cron': '*/15 * * * *', 'branches': ['main']}], 'push': {'branches': ['main']}}, 'jobs': {'deploy': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Install Supplemental Dependencies', 'run': 'npm install'}, {'name': 'Build', 'run': 'npm run build'}, {'name': 'Deploy', 'uses': 'peaceiris/actions-gh-pages@v3', 'with': {'deploy_key': '${{ secrets.ACTIONS_DEPLOY_KEY }}', 'publish_dir': './site', 'cname': 'drops.warframestat.us', 'force_orphan': True, 'user_name': 'Jimmy Bot', 'user_email': 'translator@warframe.gg'}}, {'name': 'Pushback', 'run': ['chmod +x .github/pushback.sh', './pushback.sh']}]}}}
2025-11-05 14:43:51,447 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_baseline_repaired.yml
2025-11-05 14:43:51,447 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:43:51,447 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_baseline_repaired.yml
2025-11-05 14:43:51,447 - __main__ - INFO - === 파일 49/100 베이스라인 복구 완료 ===
2025-11-05 14:43:51,447 - __main__ - INFO - ✅ 성공 (14.38초): e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094 -> e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_baseline_repaired.yml
2025-11-05 14:43:51,447 - __main__ - INFO - [50/100] 처리 중: 01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 14:43:51,447 - __main__ - INFO - 입력 파일 경로: data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 14:43:51,447 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_baseline_repaired.yml
2025-11-05 14:43:51,447 - __main__ - INFO - === 파일 50/100 베이스라인 복구 시작 ===
2025-11-05 14:43:51,447 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:43:51,448 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:43:51,448 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 14:43:51,448 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:43:51,449 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:43:51,449 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 14:43:51,474 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:43:51,474 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:43:51,474 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:43:51,474 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:43:51,474 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 14:43:51,954 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
We have found 11 smells
	- 3. Use fixed version for runs-on argument (line 76)
	- 8. Use commit hash instead of tags for action versions (line 41)
	- 8. Use commit hash instead of tags for action versions (line 55)
	- 8. Use commit hash instead of tags for action versions (line 95)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 75)
	- 10. Avoid jobs without timeouts (line: 34)
	- 13. Use names for run steps (lines 42:42)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: e2e_test)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
115:401: line too long (461 > 400 characters) (line-length)

2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 16
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 76)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 76)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 4: - 8. Use commit hash instead of tags for action versions (line 41)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 41)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 55)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 55)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 95)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 95)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 7: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 75)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 75)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 34)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 34)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines 42:42)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 42:42)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: e2e_test)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: e2e_test)
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 14: The following styling errors were found:
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:43:51,955 - utils.process_runner - DEBUG - 라인 15: 115:401: line too long (461 > 400 characters) (line-length)
2025-11-05 14:43:51,955 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:43:51,955 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 14:43:51,955 - main - INFO - Smell detector에서 2개 스멜 발견
2025-11-05 14:43:51,955 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:43:51,955 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:43:51,955 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Publish OneDocker image

on:
  workflow_dispatch:
    inputs:
      name:
        description: 'Manually running this workflow will skip "Check New Commits" step and build image directly'
        default: "Run"
      new_tag:
        description: "The new tag of the docker image"
        required: false
        type: string
        default: latest-build
      tracker_hash:
        description: "[In...
2025-11-05 14:43:51,955 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:43:51,955 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:43:51,955 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:43:51,956 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:44:37,775 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:44:37,778 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:44:37,778 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:44:37,778 - main - DEBUG - 추출된 YAML:
name: Publish OneDocker image

on:
  workflow_dispatch:
    inputs:
      name:
        description: 'Manually running this workflow will skip "Check New Commits" step and build image directly'
        default: "Run"
        required: true
      new_tag:
        description: "The new tag of the docker image"
        type: string
        default: latest-build
      tracker_hash:
        description: "[Internal usage] Used for tracking workflow job status within Meta infra"
        type: string

env:
  DISTRO: ubuntu
  REGISTRY: ghcr.io
  LOCAL_IMAGE_NAME: fbpcs/onedocker/test
  RC_REGISTRY_IMAGE_NAME: ghcr.io/${{ github.repository }}/rc/onedocker
  PROD_REGISTRY_IMAGE_NAME: ghcr.io/${{ github.repository }}/onedocker
  COORDINATOR_IMAGE: ghcr.io/facebookresearch/fbpcs/coordinator
  PL_CONTAINER_NAME: e2e_pl_container
  PA_CONTAINER_NAME: e2e_pa_container
  TIME_RANGE: 24 hours
  FBPCF_VERSION: 2.1.132  # Please also update line 8 in .github/workflows/build_fbpcs_images.yml
  PID_VERSION: 0.0.8

jobs:
  ### Build and publish rc/onedocker image
  build_image:
    name: Build Onedocker, MPC Games and Data Processing Images
    runs-on: [self-hosted, fbpcs-build]
    permissions:
      contents: read
      packages: write
    timeout-minutes: 30

    steps:
      - uses: actions/checkout@v3

      - name: Print Tracker Hash
        run: echo ${{ inputs.tracker_hash }}

      - name: Remove unused images
        run: |
          docker image prune -af

      - name: Build onedocker image in rc
        run: |
          ./build-docker.sh onedocker -t ${{ inputs.new_tag }} -f -p linux/amd64 -v ${{ env.FBPCF_VERSION }} -i ${{ env.PID_VERSION }}

      - name: Log into registry ${{ env.REGISTRY }}
        uses: docker/login-action@v1
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Tag docker image
        run: |
          docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}
          docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}
          # temporarily tagging with rc because the task definition
          # (fbpcs-github-cicd:4 https://us-west-2.console.aws.amazon.com/ecs/home?region=us-west-2#/taskDefinitions/fbpcs-github-cicd/4)
          # points at :rc instead of latest-build
          docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:rc

      - name: Push image to rc registry
        run: |
          docker push --all-tags ${{ env.RC_REGISTRY_IMAGE_NAME }}

  e2e_test:
    name: Run End to End Tests
    runs-on: ubuntu-latest
    needs: build_image
    permissions:
      id-token: write
      contents: read
      packages: write
    timeout-minutes: 90

    steps:
      - uses: actions/checkout@v3

      - name: Print Tracker Hash
        run: echo ${{ inputs.tracker_hash }}

      - name: Get AWS Session name
        id: aws_session_name
        run: |
          echo session_name=$(echo publish-onedocker-tests-${{ inputs.new_tag }} | tr " " "-") >> $GITHUB_OUTPUT

      - name: Set AWS credentials
        uses: aws-actions/configure-aws-credentials@v1
        with:
          role-to-assume: ${{ secrets.AWS_E2E_TEST_ROLE_TO_ASSUME }}
          aws-region: us-west-2
          role-duration-seconds: 5400
          role-session-name: ${{ steps.aws_session_name.outputs.session_name }}

      - name: Clean Up Docker Images
        run: |
          docker image prune -af

      - name: Pull coordinator image
        run: |
          docker pull ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }}

      ### Private Lift and Attribution E2E tests
      - name: End to end testing
        timeout-minutes: 90
        run: |
          docker run -e AWS_ACCESS_KEY_ID -e AWS_SECRET_ACCESS_KEY -e AWS_SESSION_TOKEN -e AWS_DEFAULT_REGION --rm -v "instances":"/instances" -v "$(realpath fbpcs_e2e_aws.yml):/home/pcs/pl_coordinator_env/fbpcs_e2e_aws.yml" -v "$(realpath bolt_config.yml):/home/pcs/pl_coordinator_env/bolt_config.yml" ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }} python3.8 -m fbpcs.private_computation_cli.private_computation_cli bolt_e2e --bolt_config="bolt_config.yml"
        working-directory: fbpcs/tests/github/

      - name: Pull image from rc registry
        run: |
          docker pull ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}

      - name: Set output
        id: vars
        run: echo ::set-output name=ref::${GITHUB_REF##*/}

      - name: Tag image
        run: |
          docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ github.sha }}
          docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}
          docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ steps.vars.outputs.ref }}

      - name: Log into registry ${{ env.REGISTRY }}
        uses: docker/login-action@v1
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Push docker image to prod registry
        run: |
          docker push --all-tags ${{ env.PROD_REGISTRY_IMAGE_NAME }}
2025-11-05 14:44:37,779 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:44:37,779 - main - DEBUG - 검증할 YAML 길이: 5402 문자
2025-11-05 14:44:37,779 - main - DEBUG - YAML 시작 부분: 'name: Publish OneDocker image\n\non:\n  workflow_dispatch:\n    inputs:\n      name:\n        description:'
2025-11-05 14:44:37,801 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Publish OneDocker image', 'on': {'workflow_dispatch': {'inputs': {'name': {'description': 'Manually running this workflow will skip "Check New Commits" step and build image directly', 'default': 'Run', 'required': True}, 'new_tag': {'description': 'The new tag of the docker image', 'type': 'string', 'default': 'latest-build'}, 'tracker_hash': {'description': '[Internal usage] Used for tracking workflow job status within Meta infra', 'type': 'string'}}}}, 'env': {'DISTRO': 'ubuntu', 'REGISTRY': 'ghcr.io', 'LOCAL_IMAGE_NAME': 'fbpcs/onedocker/test', 'RC_REGISTRY_IMAGE_NAME': 'ghcr.io/${{ github.repository }}/rc/onedocker', 'PROD_REGISTRY_IMAGE_NAME': 'ghcr.io/${{ github.repository }}/onedocker', 'COORDINATOR_IMAGE': 'ghcr.io/facebookresearch/fbpcs/coordinator', 'PL_CONTAINER_NAME': 'e2e_pl_container', 'PA_CONTAINER_NAME': 'e2e_pa_container', 'TIME_RANGE': '24 hours', 'FBPCF_VERSION': '2.1.132', 'PID_VERSION': '0.0.8'}, 'jobs': {'build_image': {'name': 'Build Onedocker, MPC Games and Data Processing Images', 'runs-on': ['self-hosted', 'fbpcs-build'], 'permissions': {'contents': 'read', 'packages': 'write'}, 'timeout-minutes': 30, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Print Tracker Hash', 'run': 'echo ${{ inputs.tracker_hash }}'}, {'name': 'Remove unused images', 'run': 'docker image prune -af\n'}, {'name': 'Build onedocker image in rc', 'run': './build-docker.sh onedocker -t ${{ inputs.new_tag }} -f -p linux/amd64 -v ${{ env.FBPCF_VERSION }} -i ${{ env.PID_VERSION }}\n'}, {'name': 'Log into registry ${{ env.REGISTRY }}', 'uses': 'docker/login-action@v1', 'with': {'registry': '${{ env.REGISTRY }}', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Tag docker image', 'run': 'docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}\ndocker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}\n# temporarily tagging with rc because the task definition\n# (fbpcs-github-cicd:4 https://us-west-2.console.aws.amazon.com/ecs/home?region=us-west-2#/taskDefinitions/fbpcs-github-cicd/4)\n# points at :rc instead of latest-build\ndocker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:rc\n'}, {'name': 'Push image to rc registry', 'run': 'docker push --all-tags ${{ env.RC_REGISTRY_IMAGE_NAME }}\n'}]}, 'e2e_test': {'name': 'Run End to End Tests', 'runs-on': 'ubuntu-latest', 'needs': 'build_image', 'permissions': {'id-token': 'write', 'contents': 'read', 'packages': 'write'}, 'timeout-minutes': 90, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Print Tracker Hash', 'run': 'echo ${{ inputs.tracker_hash }}'}, {'name': 'Get AWS Session name', 'id': 'aws_session_name', 'run': 'echo session_name=$(echo publish-onedocker-tests-${{ inputs.new_tag }} | tr " " "-") >> $GITHUB_OUTPUT\n'}, {'name': 'Set AWS credentials', 'uses': 'aws-actions/configure-aws-credentials@v1', 'with': {'role-to-assume': '${{ secrets.AWS_E2E_TEST_ROLE_TO_ASSUME }}', 'aws-region': 'us-west-2', 'role-duration-seconds': 5400, 'role-session-name': '${{ steps.aws_session_name.outputs.session_name }}'}}, {'name': 'Clean Up Docker Images', 'run': 'docker image prune -af\n'}, {'name': 'Pull coordinator image', 'run': 'docker pull ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }}\n'}, {'name': 'End to end testing', 'timeout-minutes': 90, 'run': 'docker run -e AWS_ACCESS_KEY_ID -e AWS_SECRET_ACCESS_KEY -e AWS_SESSION_TOKEN -e AWS_DEFAULT_REGION --rm -v "instances":"/instances" -v "$(realpath fbpcs_e2e_aws.yml):/home/pcs/pl_coordinator_env/fbpcs_e2e_aws.yml" -v "$(realpath bolt_config.yml):/home/pcs/pl_coordinator_env/bolt_config.yml" ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }} python3.8 -m fbpcs.private_computation_cli.private_computation_cli bolt_e2e --bolt_config="bolt_config.yml"\n', 'working-directory': 'fbpcs/tests/github/'}, {'name': 'Pull image from rc registry', 'run': 'docker pull ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}\n'}, {'name': 'Set output', 'id': 'vars', 'run': 'echo ::set-output name=ref::${GITHUB_REF##*/}'}, {'name': 'Tag image', 'run': 'docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ github.sha }}\ndocker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}\ndocker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ steps.vars.outputs.ref }}\n'}, {'name': 'Log into registry ${{ env.REGISTRY }}', 'uses': 'docker/login-action@v1', 'with': {'registry': '${{ env.REGISTRY }}', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Push docker image to prod registry', 'run': 'docker push --all-tags ${{ env.PROD_REGISTRY_IMAGE_NAME }}'}]}}}
2025-11-05 14:44:37,802 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_baseline_repaired.yml
2025-11-05 14:44:37,802 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:44:37,802 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_baseline_repaired.yml
2025-11-05 14:44:37,803 - __main__ - INFO - === 파일 50/100 베이스라인 복구 완료 ===
2025-11-05 14:44:37,803 - __main__ - INFO - ✅ 성공 (46.36초): 01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93 -> 01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_baseline_repaired.yml
2025-11-05 14:44:37,803 - __main__ - INFO - [51/100] 처리 중: 99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:44:37,803 - __main__ - INFO - 입력 파일 경로: data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:44:37,804 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_baseline_repaired.yml
2025-11-05 14:44:37,804 - __main__ - INFO - === 파일 51/100 베이스라인 복구 시작 ===
2025-11-05 14:44:37,804 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:44:37,804 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:44:37,804 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:44:37,804 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:44:37,805 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:44:37,805 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:44:37,828 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:44:37,828 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:44:37,828 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:44:37,828 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:44:37,828 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:44:38,326 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Build-And-Deploy
on:
   schedule:
     - cron: "0 8 * * *"

  workflow_dispatch:
    inputs:
      isDeploy:
        description: "Whether the build should be deployed?"
        type: boolean
        required: true
        default: false
      skipBinaries:
        description: "Skip building precompiled binaries?"
        type: boolean
        required: true
        default: false
      skipJava:
        description: "Skip building Java?"
        type: boolean
        required: true
        default: false
      skipNodejs:
        description: "Skip building Node.js?"
        type: boolean
        required: true
        default: false
      skipPython:
        description: "Skip building Python?"
        type: boolean
        required: true
        default: false
      skipRust:
        description: "Skip building Rust?"
        type: boolean
        required: true
        default: false
      isNightly:
        description: "Whether the build is a nightly build?"
        type: boolean
        required: true
        default: false

jobs:
  build-java-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/mac-java-workflow.yml
    secrets: inherit

  build-java-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/linux-java-workflow.yml
    secrets: inherit

  build-java-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/windows-java-workflow.yml
    secrets: inherit

  inject-java-bins:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    needs: [build-java-mac, build-java-linux, build-java-windows]
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@v4
        with:
          name: java-lib-osx-x86_64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-osx-arm64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-linux-aarch64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: kuzu-linux-jar
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-win-x86_64
          path: java-bins

      - name: Add Java libs to jar
        run: |
          jar uf kuzu_java.jar libkuzu_java_native.so_windows_amd64
          jar uf kuzu_java.jar libkuzu_java_native.so_osx_arm64
          jar uf kuzu_java.jar libkuzu_java_native.so_osx_amd64
          jar uf kuzu_java.jar libkuzu_java_native.so_linux_arm64
        working-directory: java-bins

      - name: Upload jar
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-java-multiplatform-jar
          path: java-bins/kuzu_java.jar

  build-nodejs-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/mac-nodejs-workflow.yml
    secrets: inherit

  build-nodejs-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/linux-nodejs-workflow.yml
    secrets: inherit

  build-nodejs-windows:
    if: ${{ github.event_name == 'schedule' ||  github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/windows-nodejs-workflow.yml
    secrets: inherit

  deploy-nodejs:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    needs: [build-nodejs-mac, build-nodejs-linux, build-nodejs-windows]
    runs-on: ubuntu-latest
    env:
      NODE_AUTH_TOKEN: ${{ secrets.NPM_JS_TOKEN }}
    steps:
      - uses: actions/checkout@v4

      - name: Update nightly version
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
        run: python3 update-nightly-build-version.py
        working-directory: scripts

      - name: Create prebuilt folder
        run: mkdir -p tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: mac-nodejs-module-arm64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: mac-nodejs-module-x86_64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: linux-nodejs-module-x86_64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: linux-nodejs-module-aarch64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: windows-nodejs-module
          path: tools/nodejs_api/prebuilt

      - uses: actions/setup-node@v3
        with:
          node-version: "16"
          registry-url: "https://registry.npmjs.org"

      - name: Package Node.js API with prebuilt binaries
        run: node package
        working-directory: tools/nodejs_api

      - name: Show tarball contents
        run: tar -tvf kuzu-source.tar.gz
        working-directory: tools/nodejs_api

      - name: Upload tarball
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-deploy-nodejs
          path: tools/nodejs_api/kuzu-source.tar.gz

      - name: Deploy to npm.js dry run
        if: ${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}
        run: npm publish kuzu-source.tar.gz --access public --dry-run
        working-directory: tools/nodejs_api

      - name: Deploy nightly to npm.js
        if: ${{ github.event_name == 'schedule' || (github.event.inputs.isDeploy == 'true' && github.event.inputs.isNightly == 'true') }}
        run: npm publish kuzu-source.tar.gz --access public --tag next
        working-directory: tools/nodejs_api

      - name: Deploy to npm.js
        if: ${{ github.event.inputs.isDeploy == 'true' && github.event.inputs.isNightly != 'true' }}
        run: npm publish kuzu-source.tar.gz --access public --tag latest
        working-directory: tools/nodejs_api

  build-wheel-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
    uses: ./.github/workflows/mac-wheel-workflow.yml
    with:
      isNightly: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
    secrets: inherit

  build-wheel-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
    uses: ./.github/workflows/linux-wheel-workflow.yml
    with:
      isNightly: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
    secrets: inherit

  build-wheel-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
    uses: ./.github/workflows/windows-wheel-workflow.yml
    with:
      isNightly: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
    secrets: inherit

  package-python-sdist:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Update nightly version
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
        run: python3 update-nightly-build-version.py
        working-directory: scripts

      - name: Package Python sdist
        run: python package_tar.py
        working-directory: scripts/pip-package

      - name: Upload tarball
        uses: actions/upload-artifact@v4
        with:
          name: python-sdist
          path: scripts/pip-package/*.tar.gz

  deploy-python:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
    needs:
      [
        build-wheel-mac,
        build-wheel-linux,
        build-wheel-windows,
        package-python-sdist,
      ]
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@v4
        with:
          name: macos-wheels-arm64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: macos-wheels-x86_64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: linux-wheels-x86_64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: linux-wheels-aarch64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: windows-wheels
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: python-sdist
          path: dist

      - name: List wheels
        run: ls -l
        working-directory: dist

      - name: Upload wheels
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-deploy-wheels
          path: dist/*

      - name: Deploy to PyPI test
        if: ${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}
        uses: pypa/gh-action-pypi-publish@release/v1
        with:
          password: ${{ secrets.PYPI_TEST_TOKEN }}
          repository-url: https://test.pypi.org/legacy/

      - name: Deploy to PyPI
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isDeploy == 'true' }}
        uses: pypa/gh-action-pypi-publish@release/v1
        with:
          password: ${{ secrets.PYPI_TOKEN }}

  deploy-rust:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipRust != 'true' }}
    runs-on: kuzu-self-hosted-testing
    env:
      CARGO_REGISTRY_TOKEN: ${{ secrets.CARGO_REGISTRY_TOKEN }}
    steps:
      - uses: actions/checkout@v4

      - name: Update nightly version
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
        run: python3 update-nightly-build-version.py
        working-directory: scripts

      - name: Update Cargo.toml version
        run: python3 update_version.py
        working-directory: tools/rust_api

      - name: Deploy crate to Crates.io
        run: cargo publish --allow-dirty
        if: ${{ github.event.inputs.isDeploy == 'true' }}
        working-directory: tools/rust_api

      - name: Test publishing crate
        run: cargo publish --dry-run --allow-dirty
        if: ${{ github.event.inputs.isDeploy != 'true' }}
        working-directory: tools/rust_api

      - name: Upload crate
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-deploy-crate
          path: tools/rust_api/target/package/*.crate

  build-precompiled-bin-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/mac-precompiled-bin-workflow.yml
    secrets: inherit

  build-precompiled-bin-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/linux-precompiled-bin-workflow.yml
    secrets: inherit

  build-precompiled-bin-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/windows-precompiled-bin-workflow.yml
    secrets: inherit

while parsing a block mapping
  in "<file>", line 1, column 1
expected <block end>, but found '<block mapping start>'
  in "<file>", line 6, column 3
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 62)
	- 8. Use commit hash instead of tags for action versions (line 289)
	- 8. Use commit hash instead of tags for action versions (line 160)
	- 8. Use commit hash instead of tags for action versions (line 125)
	- 8. Use commit hash instead of tags for action versions (line 64)
	- 8. Use commit hash instead of tags for action versions (line 98)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
4:6: wrong indentation: expected 6 but found 5 (indentation)
6:3: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
7:5: wrong indentation: expected 5 but found 4 (indentation)
8:7: wrong indentation: expected 7 but found 6 (indentation)
9:9: wrong indentation: expected 9 but found 8 (indentation)
14:9: wrong indentation: expected 9 but found 8 (indentation)
19:9: wrong indentation: expected 9 but found 8 (indentation)
24:9: wrong indentation: expected 9 but found 8 (indentation)
29:9: wrong indentation: expected 9 but found 8 (indentation)
34:9: wrong indentation: expected 9 but found 8 (indentation)
39:9: wrong indentation: expected 9 but found 8 (indentation)
45:3: wrong indentation: expected 3 but found 2 (indentation)
46:5: wrong indentation: expected 5 but found 4 (indentation)
51:5: wrong indentation: expected 5 but found 4 (indentation)
56:5: wrong indentation: expected 5 but found 4 (indentation)
61:5: wrong indentation: expected 5 but found 4 (indentation)
65:7: wrong indentation: expected 7 but found 6 (indentation)
67:11: wrong indentation: expected 11 but found 10 (indentation)
72:11: wrong indentation: expected 11 but found 10 (indentation)
77:11: wrong indentation: expected 11 but found 10 (indentation)
82:11: wrong indentation: expected 11 but found 10 (indentation)
87:11: wrong indentation: expected 11 but found 10 (indentation)
101:11: wrong indentation: expected 11 but found 10 (indentation)
105:5: wrong indentation: expected 5 but found 4 (indentation)
110:5: wrong indentation: expected 5 but found 4 (indentation)
115:5: wrong indentation: expected 5 but found 4 (indentation)
120:5: wrong indentation: expected 5 but found 4 (indentation)
124:7: wrong indentation: expected 7 but found 6 (indentation)
126:7: wrong indentation: expected 7 but found 6 (indentation)
138:11: wrong indentation: expected 11 but found 10 (indentation)
143:11: wrong indentation: expected 11 but found 10 (indentation)
148:11: wrong indentation: expected 11 but found 10 (indentation)
153:11: wrong indentation: expected 11 but found 10 (indentation)
158:11: wrong indentation: expected 11 but found 10 (indentation)
163:11: wrong indentation: expected 11 but found 10 (indentation)
177:11: wrong indentation: expected 11 but found 10 (indentation)
196:5: wrong indentation: expected 5 but found 4 (indentation)
199:7: wrong indentation: expected 7 but found 6 (indentation)
203:5: wrong indentation: expected 5 but found 4 (indentation)
206:7: wrong indentation: expected 7 but found 6 (indentation)
210:5: wrong indentation: expected 5 but found 4 (indentation)
213:7: wrong indentation: expected 7 but found 6 (indentation)
217:5: wrong indentation: expected 5 but found 4 (indentation)
220:7: wrong indentation: expected 7 but found 6 (indentation)
234:11: wrong indentation: expected 11 but found 10 (indentation)
238:5: wrong indentation: expected 5 but found 4 (indentation)
240:7: wrong indentation: expected 7 but found 6 (indentation)
241:9: wrong indentation: expected 9 but found 8 (indentation)
242:9: wrong indentation: expected 9 but found 8 (indentation)
243:9: wrong indentation: expected 9 but found 8 (indentation)
244:9: wrong indentation: expected 9 but found 8 (indentation)
248:7: wrong indentation: expected 7 but found 6 (indentation)
250:11: wrong indentation: expected 11 but found 10 (indentation)
255:11: wrong indentation: expected 11 but found 10 (indentation)
260:11: wrong indentation: expected 11 but found 10 (indentation)
265:11: wrong indentation: expected 11 but found 10 (indentation)
270:11: wrong indentation: expected 11 but found 10 (indentation)
275:11: wrong indentation: expected 11 but found 10 (indentation)
285:11: wrong indentation: expected 11 but found 10 (indentation)
292:11: wrong indentation: expected 11 but found 10 (indentation)
299:11: wrong indentation: expected 11 but found 10 (indentation)
302:5: wrong indentation: expected 5 but found 4 (indentation)
305:7: wrong indentation: expected 7 but found 6 (indentation)
307:7: wrong indentation: expected 7 but found 6 (indentation)
331:11: wrong indentation: expected 11 but found 10 (indentation)
335:5: wrong indentation: expected 5 but found 4 (indentation)
340:5: wrong indentation: expected 5 but found 4 (indentation)
345:5: wrong indentation: expected 5 but found 4 (indentation)

2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 457
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Build-And-Deploy
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 3: schedule:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 4: - cron: "0 8 * * *"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 6: workflow_dispatch:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 7: inputs:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 8: isDeploy:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 9: description: "Whether the build should be deployed?"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 10: type: boolean
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 11: required: true
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 12: default: false
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 13: skipBinaries:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 14: description: "Skip building precompiled binaries?"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 15: type: boolean
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 16: required: true
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 17: default: false
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 18: skipJava:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 19: description: "Skip building Java?"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 20: type: boolean
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 21: required: true
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 22: default: false
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 23: skipNodejs:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 24: description: "Skip building Node.js?"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 25: type: boolean
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 26: required: true
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 27: default: false
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 28: skipPython:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 29: description: "Skip building Python?"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 30: type: boolean
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 31: required: true
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 32: default: false
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 33: skipRust:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 34: description: "Skip building Rust?"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 35: type: boolean
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 36: required: true
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 37: default: false
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 38: isNightly:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 39: description: "Whether the build is a nightly build?"
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 40: type: boolean
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 41: required: true
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 42: default: false
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 44: jobs:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 45: build-java-mac:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 46: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 47: uses: ./.github/workflows/mac-java-workflow.yml
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 48: secrets: inherit
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 50: build-java-linux:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 51: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 52: uses: ./.github/workflows/linux-java-workflow.yml
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 53: secrets: inherit
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 55: build-java-windows:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 56: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 57: uses: ./.github/workflows/windows-java-workflow.yml
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 58: secrets: inherit
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 60: inject-java-bins:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 61: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 62: needs: [build-java-mac, build-java-linux, build-java-windows]
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 63: runs-on: ubuntu-latest
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 64: steps:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 65: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 66: with:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 67: name: java-lib-osx-x86_64
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 68: path: java-bins
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 70: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 72: name: java-lib-osx-arm64
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 73: path: java-bins
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 75: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 76: with:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 77: name: java-lib-linux-aarch64
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 78: path: java-bins
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 80: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 81: with:
2025-11-05 14:44:38,327 - utils.process_runner - DEBUG - 라인 82: name: kuzu-linux-jar
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 83: path: java-bins
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 85: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 86: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 87: name: java-lib-win-x86_64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 88: path: java-bins
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 90: - name: Add Java libs to jar
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 91: run: |
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 92: jar uf kuzu_java.jar libkuzu_java_native.so_windows_amd64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 93: jar uf kuzu_java.jar libkuzu_java_native.so_osx_arm64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 94: jar uf kuzu_java.jar libkuzu_java_native.so_osx_amd64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 95: jar uf kuzu_java.jar libkuzu_java_native.so_linux_arm64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 96: working-directory: java-bins
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 98: - name: Upload jar
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 99: uses: actions/upload-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 100: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 101: name: kuzu-java-multiplatform-jar
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 102: path: java-bins/kuzu_java.jar
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 104: build-nodejs-mac:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 105: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 106: uses: ./.github/workflows/mac-nodejs-workflow.yml
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 107: secrets: inherit
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 109: build-nodejs-linux:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 110: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 111: uses: ./.github/workflows/linux-nodejs-workflow.yml
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 112: secrets: inherit
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 114: build-nodejs-windows:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 115: if: ${{ github.event_name == 'schedule' ||  github.event.inputs.skipNodejs != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 116: uses: ./.github/workflows/windows-nodejs-workflow.yml
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 117: secrets: inherit
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 119: deploy-nodejs:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 120: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 121: needs: [build-nodejs-mac, build-nodejs-linux, build-nodejs-windows]
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 122: runs-on: ubuntu-latest
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 123: env:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 124: NODE_AUTH_TOKEN: ${{ secrets.NPM_JS_TOKEN }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 125: steps:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 126: - uses: actions/checkout@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 128: - name: Update nightly version
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 129: if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 130: run: python3 update-nightly-build-version.py
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 131: working-directory: scripts
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 133: - name: Create prebuilt folder
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 134: run: mkdir -p tools/nodejs_api/prebuilt
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 136: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 137: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 138: name: mac-nodejs-module-arm64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 139: path: tools/nodejs_api/prebuilt
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 141: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 142: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 143: name: mac-nodejs-module-x86_64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 144: path: tools/nodejs_api/prebuilt
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 146: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 147: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 148: name: linux-nodejs-module-x86_64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 149: path: tools/nodejs_api/prebuilt
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 151: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 152: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 153: name: linux-nodejs-module-aarch64
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 154: path: tools/nodejs_api/prebuilt
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 156: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 157: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 158: name: windows-nodejs-module
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 159: path: tools/nodejs_api/prebuilt
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 161: - uses: actions/setup-node@v3
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 162: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 163: node-version: "16"
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 164: registry-url: "https://registry.npmjs.org"
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 166: - name: Package Node.js API with prebuilt binaries
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 167: run: node package
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 168: working-directory: tools/nodejs_api
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 170: - name: Show tarball contents
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 171: run: tar -tvf kuzu-source.tar.gz
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 172: working-directory: tools/nodejs_api
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 174: - name: Upload tarball
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 175: uses: actions/upload-artifact@v4
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 176: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 177: name: kuzu-deploy-nodejs
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 178: path: tools/nodejs_api/kuzu-source.tar.gz
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 180: - name: Deploy to npm.js dry run
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 181: if: ${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 182: run: npm publish kuzu-source.tar.gz --access public --dry-run
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 183: working-directory: tools/nodejs_api
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 185: - name: Deploy nightly to npm.js
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 186: if: ${{ github.event_name == 'schedule' || (github.event.inputs.isDeploy == 'true' && github.event.inputs.isNightly == 'true') }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 187: run: npm publish kuzu-source.tar.gz --access public --tag next
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 188: working-directory: tools/nodejs_api
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 190: - name: Deploy to npm.js
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 191: if: ${{ github.event.inputs.isDeploy == 'true' && github.event.inputs.isNightly != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 192: run: npm publish kuzu-source.tar.gz --access public --tag latest
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 193: working-directory: tools/nodejs_api
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 195: build-wheel-mac:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 196: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 197: uses: ./.github/workflows/mac-wheel-workflow.yml
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 198: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 199: isNightly: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 200: secrets: inherit
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 202: build-wheel-linux:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 203: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 204: uses: ./.github/workflows/linux-wheel-workflow.yml
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 205: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 206: isNightly: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 207: secrets: inherit
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 209: build-wheel-windows:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 210: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 211: uses: ./.github/workflows/windows-wheel-workflow.yml
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 212: with:
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 213: isNightly: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 214: secrets: inherit
2025-11-05 14:44:38,328 - utils.process_runner - DEBUG - 라인 216: package-python-sdist:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 217: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 218: runs-on: ubuntu-latest
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 219: steps:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 220: - uses: actions/checkout@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 222: - name: Update nightly version
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 223: if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 224: run: python3 update-nightly-build-version.py
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 225: working-directory: scripts
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 227: - name: Package Python sdist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 228: run: python package_tar.py
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 229: working-directory: scripts/pip-package
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 231: - name: Upload tarball
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 232: uses: actions/upload-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 233: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 234: name: python-sdist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 235: path: scripts/pip-package/*.tar.gz
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 237: deploy-python:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 238: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipPython != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 239: needs:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 240: [
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 241: build-wheel-mac,
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 242: build-wheel-linux,
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 243: build-wheel-windows,
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 244: package-python-sdist,
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 245: ]
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 246: runs-on: ubuntu-latest
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 247: steps:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 248: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 249: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 250: name: macos-wheels-arm64
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 251: path: dist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 253: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 254: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 255: name: macos-wheels-x86_64
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 256: path: dist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 258: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 259: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 260: name: linux-wheels-x86_64
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 261: path: dist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 263: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 264: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 265: name: linux-wheels-aarch64
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 266: path: dist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 268: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 269: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 270: name: windows-wheels
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 271: path: dist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 273: - uses: actions/download-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 274: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 275: name: python-sdist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 276: path: dist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 278: - name: List wheels
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 279: run: ls -l
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 280: working-directory: dist
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 282: - name: Upload wheels
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 283: uses: actions/upload-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 284: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 285: name: kuzu-deploy-wheels
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 286: path: dist/*
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 288: - name: Deploy to PyPI test
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 289: if: ${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 290: uses: pypa/gh-action-pypi-publish@release/v1
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 291: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 292: password: ${{ secrets.PYPI_TEST_TOKEN }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 293: repository-url: https://test.pypi.org/legacy/
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 295: - name: Deploy to PyPI
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 296: if: ${{ github.event_name == 'schedule' || github.event.inputs.isDeploy == 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 297: uses: pypa/gh-action-pypi-publish@release/v1
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 298: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 299: password: ${{ secrets.PYPI_TOKEN }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 301: deploy-rust:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 302: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipRust != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 303: runs-on: kuzu-self-hosted-testing
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 304: env:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 305: CARGO_REGISTRY_TOKEN: ${{ secrets.CARGO_REGISTRY_TOKEN }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 306: steps:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 307: - uses: actions/checkout@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 309: - name: Update nightly version
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 310: if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 311: run: python3 update-nightly-build-version.py
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 312: working-directory: scripts
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 314: - name: Update Cargo.toml version
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 315: run: python3 update_version.py
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 316: working-directory: tools/rust_api
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 318: - name: Deploy crate to Crates.io
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 319: run: cargo publish --allow-dirty
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 320: if: ${{ github.event.inputs.isDeploy == 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 321: working-directory: tools/rust_api
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 323: - name: Test publishing crate
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 324: run: cargo publish --dry-run --allow-dirty
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 325: if: ${{ github.event.inputs.isDeploy != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 326: working-directory: tools/rust_api
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 328: - name: Upload crate
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 329: uses: actions/upload-artifact@v4
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 330: with:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 331: name: kuzu-deploy-crate
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 332: path: tools/rust_api/target/package/*.crate
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 334: build-precompiled-bin-mac:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 335: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 336: uses: ./.github/workflows/mac-precompiled-bin-workflow.yml
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 337: secrets: inherit
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 339: build-precompiled-bin-linux:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 340: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 341: uses: ./.github/workflows/linux-precompiled-bin-workflow.yml
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 342: secrets: inherit
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 344: build-precompiled-bin-windows:
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 345: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 346: uses: ./.github/workflows/windows-precompiled-bin-workflow.yml
2025-11-05 14:44:38,329 - utils.process_runner - DEBUG - 라인 347: secrets: inherit
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 349: while parsing a block mapping
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 350: in "<file>", line 1, column 1
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 351: expected <block end>, but found '<block mapping start>'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 352: in "<file>", line 6, column 3
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 353: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 354: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 355: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 356: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 357: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 358: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 359: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 360: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 361: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 362: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 363: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 364: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 365: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 366: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 367: We have found 20 smells
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 368: - 3. Use fixed version for runs-on argument (line 62)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 62)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 369: - 8. Use commit hash instead of tags for action versions (line 289)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 289)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 370: - 8. Use commit hash instead of tags for action versions (line 160)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 160)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 371: - 8. Use commit hash instead of tags for action versions (line 125)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 125)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 372: - 8. Use commit hash instead of tags for action versions (line 64)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 64)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 373: - 8. Use commit hash instead of tags for action versions (line 98)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 98)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 374: - 12. Avoid workflows without comments
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 375: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 376: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 377: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 378: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 379: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 380: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 381: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 382: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 383: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 384: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 385: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 386: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 387: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 388: The following styling errors were found:
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 389: 4:6: wrong indentation: expected 6 but found 5 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 390: 6:3: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 6:3: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 391: 7:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 392: 8:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 393: 9:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 394: 14:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 395: 19:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 396: 24:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 397: 29:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 398: 34:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 399: 39:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 400: 45:3: wrong indentation: expected 3 but found 2 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 401: 46:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 402: 51:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 403: 56:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 404: 61:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 405: 65:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 406: 67:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 407: 72:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 408: 77:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 409: 82:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 410: 87:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 411: 101:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,330 - utils.process_runner - DEBUG - 라인 412: 105:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 413: 110:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 414: 115:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 415: 120:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 416: 124:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 417: 126:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 418: 138:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 419: 143:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 420: 148:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 421: 153:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 422: 158:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 423: 163:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 424: 177:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 425: 196:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 426: 199:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 427: 203:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 428: 206:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 429: 210:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 430: 213:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 431: 217:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 432: 220:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 433: 234:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 434: 238:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 435: 240:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 436: 241:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 437: 242:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 438: 243:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 439: 244:9: wrong indentation: expected 9 but found 8 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 440: 248:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 441: 250:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 442: 255:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 443: 260:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 444: 265:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 445: 270:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 446: 275:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 447: 285:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 448: 292:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 449: 299:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 450: 302:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 451: 305:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 452: 307:7: wrong indentation: expected 7 but found 6 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 453: 331:11: wrong indentation: expected 11 but found 10 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 454: 335:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 455: 340:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - DEBUG - 라인 456: 345:5: wrong indentation: expected 5 but found 4 (indentation)
2025-11-05 14:44:38,331 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:44:38,331 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:44:38,331 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:44:38,331 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:44:38,331 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:44:38,331 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:44:38,331 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build-And-Deploy
on:
   schedule:
     - cron: "0 8 * * *"

  workflow_dispatch:
    inputs:
      isDeploy:
        description: "Whether the build should be deployed?"
        type: boolean
        required: true
        default: false
      skipBinaries:
        description: "Skip building precompiled binaries?"
        type: boolean
        required: true
        default: false
      skipJava:
...
2025-11-05 14:44:38,331 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:44:38,331 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:44:38,331 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:44:38,332 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:45:41,658 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:45:41,661 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:45:41,661 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:45:41,662 - main - DEBUG - 추출된 YAML:
name: Build-And-Deploy
on:
  schedule:
    - cron: "0 8 * * *"
  workflow_dispatch:
    inputs:
      isDeploy:
        description: "Whether the build should be deployed?"
        type: boolean
        required: true
        default: false
      skipBinaries:
        description: "Skip building precompiled binaries?"
        type: boolean
        required: true
        default: false
      skipJava:
        description: "Skip building Java?"
        type: boolean
        required: true
        default: false
      skipNodejs:
        description: "Skip building Node.js?"
        type: boolean
        required: true
        default: false
      skipPython:
        description: "Skip building Python?"
        type: boolean
        required: true
        default: false
      skipRust:
        description: "Skip building Rust?"
        type: boolean
        required: true
        default: false
      isNightly:
        description: "Whether the build is a nightly build?"
        type: boolean
        required: true
        default: false

jobs:
  build-java-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/mac-java-workflow.yml
    secrets: inherit

  build-java-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/linux-java-workflow.yml
    secrets: inherit

  build-java-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/windows-java-workflow.yml
    secrets: inherit

  inject-java-bins:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    needs: [build-java-mac, build-java-linux, build-java-windows]
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@v4
        with:
          name: java-lib-osx-x86_64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-osx-arm64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-linux-aarch64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: kuzu-linux-jar
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-win-x86_64
          path: java-bins

      - name: Add Java libs to jar
        run: |
          jar uf kuzu_java.jar libkuzu_java_native.so_windows_amd64
          jar uf kuzu_java.jar libkuzu_java_native.so_osx_arm64
          jar uf kuzu_java.jar libkuzu_java_native.so_osx_amd64
          jar uf kuzu_java.jar libkuzu_java_native.so_linux_arm64
        working-directory: java-bins

      - name: Upload jar
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-java-multiplatform-jar
          path: java-bins/kuzu_java.jar

  build-nodejs-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/mac-nodejs-workflow.yml
    secrets: inherit

  build-nodejs-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/linux-nodejs-workflow.yml
    secrets: inherit

  build-nodejs-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/windows-nodejs-workflow.yml
    secrets: inherit

  deploy-nodejs:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    needs: [build-nodejs-mac, build-nodejs-linux, build-nodejs-windows]
    runs-on: ubuntu-latest
    env:
      NODE_AUTH_TOKEN: ${{ secrets.NPM_JS_TOKEN }}
    steps:
      - uses: actions/checkout@v4

      - name: Update nightly version
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
        run: python3 update-nightly-build-version.py
        working-directory: scripts

      - name: Create prebuilt folder
        run: mkdir -p tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: mac-nodejs-module-arm64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: macos-wheels-arm64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: macos-wheels-x86_64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: linux-wheels-x86_64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: linux-wheels-aarch64
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: windows-wheels
          path: dist

      - uses: actions/download-artifact@v4
        with:
          name: python-sdist
          path: dist

      - name: List wheels
        run: ls -l
        working-directory: dist

      - name: Upload wheels
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-deploy-wheels
          path: dist/*

      - name: Deploy to PyPI test
        if: ${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}
        uses: pypa/gh-action-pypi-publish@release/v1
        with:
          password: ${{ secrets.PYPI_TEST_TOKEN }}
          repository-url: https://test.pypi.org/legacy/

      - name: Deploy to PyPI
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isDeploy == 'true' }}
        uses: pypa/gh-action-pypi-publish@release/v1
        with:
          password: ${{ secrets.PYPI_TOKEN }}

  deploy-rust:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipRust != 'true' }}
    runs-on: kuzu-self-hosted-testing
    env:
      CARGO_REGISTRY_TOKEN: ${{ secrets.CARGO_REGISTRY_TOKEN }}
    steps:
      - uses: actions/checkout@v4

      - name: Update nightly version
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
        run: python3 update-nightly-build-version.py
        working-directory: scripts

      - name: Update Cargo.toml version
        run: python3 update_version.py
        working-directory: tools/rust_api

      - name: Deploy crate to Crates.io
        run: cargo publish --allow-dirty
        if: ${{ github.event.inputs.isDeploy == 'true' }}
        working-directory: tools/rust_api

      - name: Test publishing crate
        run: cargo publish --dry-run --allow-dirty
        if: ${{ github.event.inputs.isDeploy != 'true' }}
        working-directory: tools/rust_api

      - name: Upload crate
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-deploy-crate
          path: tools/rust_api/target/package/*.crate

  build-precompiled-bin-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/mac-precompiled-bin-workflow.yml
    secrets: inherit

  build-precompiled-bin-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/linux-precompiled-bin-workflow.yml
    secrets: inherit

  build-precompiled-bin-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/windows-precompiled-bin-workflow.yml
    secrets: inherit
2025-11-05 14:45:41,662 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:45:41,662 - main - DEBUG - 검증할 YAML 길이: 7481 문자
2025-11-05 14:45:41,662 - main - DEBUG - YAML 시작 부분: 'name: Build-And-Deploy\non:\n  schedule:\n    - cron: "0 8 * * *"\n  workflow_dispatch:\n    inputs:\n    '
2025-11-05 14:45:41,689 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build-And-Deploy', 'on': {'schedule': [{'cron': '0 8 * * *'}], 'workflow_dispatch': {'inputs': {'isDeploy': {'description': 'Whether the build should be deployed?', 'type': 'boolean', 'required': True, 'default': False}, 'skipBinaries': {'description': 'Skip building precompiled binaries?', 'type': 'boolean', 'required': True, 'default': False}, 'skipJava': {'description': 'Skip building Java?', 'type': 'boolean', 'required': True, 'default': False}, 'skipNodejs': {'description': 'Skip building Node.js?', 'type': 'boolean', 'required': True, 'default': False}, 'skipPython': {'description': 'Skip building Python?', 'type': 'boolean', 'required': True, 'default': False}, 'skipRust': {'description': 'Skip building Rust?', 'type': 'boolean', 'required': True, 'default': False}, 'isNightly': {'description': 'Whether the build is a nightly build?', 'type': 'boolean', 'required': True, 'default': False}}}}, 'jobs': {'build-java-mac': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}", 'uses': './.github/workflows/mac-java-workflow.yml', 'secrets': 'inherit'}, 'build-java-linux': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}", 'uses': './.github/workflows/linux-java-workflow.yml', 'secrets': 'inherit'}, 'build-java-windows': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}", 'uses': './.github/workflows/windows-java-workflow.yml', 'secrets': 'inherit'}, 'inject-java-bins': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}", 'needs': ['build-java-mac', 'build-java-linux', 'build-java-windows'], 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/download-artifact@v4', 'with': {'name': 'java-lib-osx-x86_64', 'path': 'java-bins'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'java-lib-osx-arm64', 'path': 'java-bins'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'java-lib-linux-aarch64', 'path': 'java-bins'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'kuzu-linux-jar', 'path': 'java-bins'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'java-lib-win-x86_64', 'path': 'java-bins'}}, {'name': 'Add Java libs to jar', 'run': 'jar uf kuzu_java.jar libkuzu_java_native.so_windows_amd64\njar uf kuzu_java.jar libkuzu_java_native.so_osx_arm64\njar uf kuzu_java.jar libkuzu_java_native.so_osx_amd64\njar uf kuzu_java.jar libkuzu_java_native.so_linux_arm64\n', 'working-directory': 'java-bins'}, {'name': 'Upload jar', 'uses': 'actions/upload-artifact@v4', 'with': {'name': 'kuzu-java-multiplatform-jar', 'path': 'java-bins/kuzu_java.jar'}}]}, 'build-nodejs-mac': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}", 'uses': './.github/workflows/mac-nodejs-workflow.yml', 'secrets': 'inherit'}, 'build-nodejs-linux': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}", 'uses': './.github/workflows/linux-nodejs-workflow.yml', 'secrets': 'inherit'}, 'build-nodejs-windows': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}", 'uses': './.github/workflows/windows-nodejs-workflow.yml', 'secrets': 'inherit'}, 'deploy-nodejs': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}", 'needs': ['build-nodejs-mac', 'build-nodejs-linux', 'build-nodejs-windows'], 'runs-on': 'ubuntu-latest', 'env': {'NODE_AUTH_TOKEN': '${{ secrets.NPM_JS_TOKEN }}'}, 'steps': [{'uses': 'actions/checkout@v4'}, {'name': 'Update nightly version', 'if': "${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}", 'run': 'python3 update-nightly-build-version.py', 'working-directory': 'scripts'}, {'name': 'Create prebuilt folder', 'run': 'mkdir -p tools/nodejs_api/prebuilt'}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'mac-nodejs-module-arm64', 'path': 'tools/nodejs_api/prebuilt'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'macos-wheels-arm64', 'path': 'dist'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'macos-wheels-x86_64', 'path': 'dist'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'linux-wheels-x86_64', 'path': 'dist'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'linux-wheels-aarch64', 'path': 'dist'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'windows-wheels', 'path': 'dist'}}, {'uses': 'actions/download-artifact@v4', 'with': {'name': 'python-sdist', 'path': 'dist'}}, {'name': 'List wheels', 'run': 'ls -l', 'working-directory': 'dist'}, {'name': 'Upload wheels', 'uses': 'actions/upload-artifact@v4', 'with': {'name': 'kuzu-deploy-wheels', 'path': 'dist/*'}}, {'name': 'Deploy to PyPI test', 'if': "${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}", 'uses': 'pypa/gh-action-pypi-publish@release/v1', 'with': {'password': '${{ secrets.PYPI_TEST_TOKEN }}', 'repository-url': 'https://test.pypi.org/legacy/'}}, {'name': 'Deploy to PyPI', 'if': "${{ github.event_name == 'schedule' || github.event.inputs.isDeploy == 'true' }}", 'uses': 'pypa/gh-action-pypi-publish@release/v1', 'with': {'password': '${{ secrets.PYPI_TOKEN }}'}}]}, 'deploy-rust': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipRust != 'true' }}", 'runs-on': 'kuzu-self-hosted-testing', 'env': {'CARGO_REGISTRY_TOKEN': '${{ secrets.CARGO_REGISTRY_TOKEN }}'}, 'steps': [{'uses': 'actions/checkout@v4'}, {'name': 'Update nightly version', 'if': "${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}", 'run': 'python3 update-nightly-build-version.py', 'working-directory': 'scripts'}, {'name': 'Update Cargo.toml version', 'run': 'python3 update_version.py', 'working-directory': 'tools/rust_api'}, {'name': 'Deploy crate to Crates.io', 'run': 'cargo publish --allow-dirty', 'if': "${{ github.event.inputs.isDeploy == 'true' }}", 'working-directory': 'tools/rust_api'}, {'name': 'Test publishing crate', 'run': 'cargo publish --dry-run --allow-dirty', 'if': "${{ github.event.inputs.isDeploy != 'true' }}", 'working-directory': 'tools/rust_api'}, {'name': 'Upload crate', 'uses': 'actions/upload-artifact@v4', 'with': {'name': 'kuzu-deploy-crate', 'path': 'tools/rust_api/target/package/*.crate'}}]}, 'build-precompiled-bin-mac': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}", 'uses': './.github/workflows/mac-precompiled-bin-workflow.yml', 'secrets': 'inherit'}, 'build-precompiled-bin-linux': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}", 'uses': './.github/workflows/linux-precompiled-bin-workflow.yml', 'secrets': 'inherit'}, 'build-precompiled-bin-windows': {'if': "${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}", 'uses': './.github/workflows/windows-precompiled-bin-workflow.yml', 'secrets': 'inherit'}}}
2025-11-05 14:45:41,689 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:45:41,690 - main - ERROR - 검증 오류: ["Job 'build-java-mac' missing 'runs-on'", "Job 'build-java-mac' missing 'steps'", "Job 'build-java-linux' missing 'runs-on'", "Job 'build-java-linux' missing 'steps'", "Job 'build-java-windows' missing 'runs-on'", "Job 'build-java-windows' missing 'steps'", "Job 'build-nodejs-mac' missing 'runs-on'", "Job 'build-nodejs-mac' missing 'steps'", "Job 'build-nodejs-linux' missing 'runs-on'", "Job 'build-nodejs-linux' missing 'steps'", "Job 'build-nodejs-windows' missing 'runs-on'", "Job 'build-nodejs-windows' missing 'steps'", "Job 'build-precompiled-bin-mac' missing 'runs-on'", "Job 'build-precompiled-bin-mac' missing 'steps'", "Job 'build-precompiled-bin-linux' missing 'runs-on'", "Job 'build-precompiled-bin-linux' missing 'steps'", "Job 'build-precompiled-bin-windows' missing 'runs-on'", "Job 'build-precompiled-bin-windows' missing 'steps'"]
2025-11-05 14:45:41,690 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_baseline_repaired.yml
2025-11-05 14:45:41,691 - __main__ - INFO - === 파일 51/100 베이스라인 복구 완료 ===
2025-11-05 14:45:41,691 - __main__ - ERROR - ❌ 실패 (63.89초): 99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 14:45:41,691 - __main__ - INFO - [52/100] 처리 중: 66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 14:45:41,691 - __main__ - INFO - 입력 파일 경로: data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 14:45:41,691 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_baseline_repaired.yml
2025-11-05 14:45:41,691 - __main__ - INFO - === 파일 52/100 베이스라인 복구 시작 ===
2025-11-05 14:45:41,691 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:45:41,691 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:45:41,693 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 14:45:41,693 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:45:41,694 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:45:41,696 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 14:45:41,736 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 14:45:41,736 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:45:41,736 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:45:41,736 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:45:41,736 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 15)
	- 7. Use 'if' for upload-artifact action (line 42)
	- 8. Use commit hash instead of tags for action versions (line 41)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 15)
	- 13. Use names for run steps (lines 19:19)
	- 13. Use names for run steps (lines -1:20)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: tests)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
10:16: too many spaces inside brackets (brackets)
10:23: too many spaces inside brackets (brackets)
12:16: too many spaces inside brackets (brackets)
12:23: too many spaces inside brackets (brackets)
23:49: trailing spaces (trailing-spaces)
28:1: trailing spaces (trailing-spaces)
29:68: trailing spaces (trailing-spaces)
35:53: trailing spaces (trailing-spaces)
41:41: trailing spaces (trailing-spaces)
42:40: trailing spaces (trailing-spaces)
43:14: trailing spaces (trailing-spaces)

2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 31
2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:45:42,215 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 2: We have found 16 smells
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 5: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 15)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 15)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 7: - 7. Use 'if' for upload-artifact action (line 42)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 42)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 41)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 41)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 11: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 12: - 10. Avoid jobs without timeouts (line: 15)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 15)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines 19:19)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 19:19)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines -1:20)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:20)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 15: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 16: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 17: - 19. Run tests on multiple OS's (job: tests)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: tests)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 18: - 22. Avoid deploying jobs on forks
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 19: The following styling errors were found:
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 20: 10:16: too many spaces inside brackets (brackets)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 21: 10:23: too many spaces inside brackets (brackets)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 22: 12:16: too many spaces inside brackets (brackets)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 23: 12:23: too many spaces inside brackets (brackets)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 24: 23:49: trailing spaces (trailing-spaces)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 25: 28:1: trailing spaces (trailing-spaces)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 26: 29:68: trailing spaces (trailing-spaces)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 27: 35:53: trailing spaces (trailing-spaces)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 28: 41:41: trailing spaces (trailing-spaces)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 29: 42:40: trailing spaces (trailing-spaces)
2025-11-05 14:45:42,216 - utils.process_runner - DEBUG - 라인 30: 43:14: trailing spaces (trailing-spaces)
2025-11-05 14:45:42,216 - utils.process_runner - INFO - 총 4개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:45:42,216 - utils.process_runner - INFO - Smell detector 실행 완료: 4개 스멜 발견
2025-11-05 14:45:42,216 - main - INFO - Smell detector에서 4개 스멜 발견
2025-11-05 14:45:42,216 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:45:42,216 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:45:42,216 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

name: Dart

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  tests:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
      - uses: subosito/flutter-ac...
2025-11-05 14:45:42,216 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:45:42,216 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:45:42,216 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:45:42,217 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:46:00,738 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:46:00,739 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:46:00,739 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:46:00,739 - main - DEBUG - 추출된 YAML:
name: Dart

on:
  push:
    branches: [ master ]
    paths:
      - '**.dart'
  pull_request:
    branches: [ master ]
    paths:
      - '**.dart'

jobs:
  tests:
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0

      - name: Install flutter
        uses: subosito/flutter-action@v1
        with:
          flutter-version: '2.0.3'

      - name: Checkout facebook_auth
        run: cd facebook_auth && git checkout main

      - name: Install facebook_auth dependencies
        run: cd facebook_auth && flutter pub get

      - name: Run facebook_auth tests --coverage
        run: cd facebook_auth && flutter test --coverage

      - name: Checkout facebook_auth_platform_interface
        run: cd facebook_auth_platform_interface && git checkout main

      - name: Install facebook_auth_platform_interface dependencies
        run: cd facebook_auth_platform_interface && flutter pub get

      - name: Run facebook_auth_platform_interface tests --coverage
        run: cd facebook_auth_platform_interface && flutter test --coverage

      - name: Checkout facebook_auth_web
        run: cd facebook_auth_web && git checkout main

      - name: Install facebook_auth_web dependencies
        run: cd facebook_auth_web && flutter pub get

      - name: Run facebook_auth_web tests --platform chrome --coverage
        run: cd facebook_auth_web && flutter test --platform chrome --coverage

      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v2
        with:
          file: facebook_auth_platform_interface/coverage/lcov.info
2025-11-05 14:46:00,739 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:46:00,739 - main - DEBUG - 검증할 YAML 길이: 1643 문자
2025-11-05 14:46:00,739 - main - DEBUG - YAML 시작 부분: "name: Dart\n\non:\n  push:\n    branches: [ master ]\n    paths:\n      - '**.dart'\n  pull_request:\n    br"
2025-11-05 14:46:00,752 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Dart', 'on': {'push': {'branches': ['master'], 'paths': ['**.dart']}, 'pull_request': {'branches': ['master'], 'paths': ['**.dart']}}, 'jobs': {'tests': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Install flutter', 'uses': 'subosito/flutter-action@v1', 'with': {'flutter-version': '2.0.3'}}, {'name': 'Checkout facebook_auth', 'run': 'cd facebook_auth && git checkout main'}, {'name': 'Install facebook_auth dependencies', 'run': 'cd facebook_auth && flutter pub get'}, {'name': 'Run facebook_auth tests --coverage', 'run': 'cd facebook_auth && flutter test --coverage'}, {'name': 'Checkout facebook_auth_platform_interface', 'run': 'cd facebook_auth_platform_interface && git checkout main'}, {'name': 'Install facebook_auth_platform_interface dependencies', 'run': 'cd facebook_auth_platform_interface && flutter pub get'}, {'name': 'Run facebook_auth_platform_interface tests --coverage', 'run': 'cd facebook_auth_platform_interface && flutter test --coverage'}, {'name': 'Checkout facebook_auth_web', 'run': 'cd facebook_auth_web && git checkout main'}, {'name': 'Install facebook_auth_web dependencies', 'run': 'cd facebook_auth_web && flutter pub get'}, {'name': 'Run facebook_auth_web tests --platform chrome --coverage', 'run': 'cd facebook_auth_web && flutter test --platform chrome --coverage'}, {'name': 'Upload coverage to Codecov', 'uses': 'codecov/codecov-action@v2', 'with': {'file': 'facebook_auth_platform_interface/coverage/lcov.info'}}]}}}
2025-11-05 14:46:00,752 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_baseline_repaired.yml
2025-11-05 14:46:00,753 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:46:00,753 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_baseline_repaired.yml
2025-11-05 14:46:00,753 - __main__ - INFO - === 파일 52/100 베이스라인 복구 완료 ===
2025-11-05 14:46:00,753 - __main__ - INFO - ✅ 성공 (19.06초): 66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5 -> 66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_baseline_repaired.yml
2025-11-05 14:46:00,753 - __main__ - INFO - [53/100] 처리 중: d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 14:46:00,753 - __main__ - INFO - 입력 파일 경로: data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 14:46:00,753 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_baseline_repaired.yml
2025-11-05 14:46:00,753 - __main__ - INFO - === 파일 53/100 베이스라인 복구 시작 ===
2025-11-05 14:46:00,753 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:46:00,753 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:46:00,754 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 14:46:00,754 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:46:00,754 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:46:00,755 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 14:46:00,762 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:46:00,762 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:46:00,762 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:46:00,762 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:46:00,762 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.37초)
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
We have found 8 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 57)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 9. Steps should only perform a single command (line -1)
	- 13. Use names for run steps (lines -1:38)
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks

2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 11
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 라인 2: We have found 8 smells
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 8 smells
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 라인 3: - 1. Avoid executing scheduled workflows on forks
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 57)
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 57)
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 14:46:01,134 - utils.process_runner - DEBUG - 라인 6: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 라인 7: - 13. Use names for run steps (lines -1:38)
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:38)
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 라인 8: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 라인 9: - 18. Avoid installing packages without version (line -1)
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 라인 10: - 22. Avoid deploying jobs on forks
2025-11-05 14:46:01,135 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:46:01,135 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:46:01,135 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:46:01,135 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:46:01,135 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:46:01,135 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:46:01,135 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# Workflow which verifies that the latest stable version can be installed from
# pip on all the supported Python versions
name: Install stable version using pip

on:
  schedule:
    - cron: '0 13 * * *'
    - cron: '0 2 * * *'

permissions:
  contents: read

jobs:
  install_and_verify:
    name: Install latest stable version
    runs-on: ${{ matrix.os }}
    timeout-minutes: 2

    strategy:
      fail-f...
2025-11-05 14:46:01,135 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:46:01,135 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:46:01,135 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:46:01,136 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:46:18,394 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:46:18,396 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:46:18,397 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:46:18,397 - main - DEBUG - 추출된 YAML:
# Workflow which verifies that the latest stable version can be installed from
# pip on all the supported Python versions
name: Install stable version using pip

on:
  schedule:
    - cron: '0 13 * * *'
    - cron: '0 2 * * *'

permissions:
  contents: read

jobs:
  install_and_verify:
    name: Install latest stable version
    runs-on: ${{ matrix.os }}
    timeout-minutes: 2

    strategy:
      fail-fast: false
      matrix:
        os: ["ubuntu-latest", "ubuntu-20.04"]
        python_version:
          - 3.7
          - 3.8
          - 3.9
          - "3.10"
          - "pypy-3.7"

    steps:
      - uses: actions/checkout@master
        with:
          fetch-depth: 1

      - name: Use Python ${{ matrix.python_version }}
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python_version }}

      - name: Install Libcloud
        run: |
          python --version
          pip show apache-libcloud && exit 1
          pip install apache-libcloud
          pip show apache-libcloud

  # Job which verifies that the checksum for release artifacts for the latest
  # stable version are the same for official ASF mirror and PyPi
  verify_checksums:
    name: Verify Artifacts Checksum
    runs-on: ubuntu-latest
    timeout-minutes: 2
    if: github.event_name != 'schedule'

    steps:
      - uses: actions/checkout@master
        with:
          fetch-depth: 1

      - name: Verify Checksums
        run: |
          LAST_STABLE_VERSION=$(curl -s --fail https://pypi.org/pypi/apache-libcloud/json | jq ".releases | to_entries | last | .key" -r)
          echo "Verifying checksums for version ${LAST_STABLE_VERSION}"
          ./dist/verify_checksums.sh "apache-libcloud-${LAST_STABLE_VERSION}"
2025-11-05 14:46:18,397 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:46:18,397 - main - DEBUG - 검증할 YAML 길이: 1748 문자
2025-11-05 14:46:18,397 - main - DEBUG - YAML 시작 부분: '# Workflow which verifies that the latest stable version can be installed from\n# pip on all the supp'
2025-11-05 14:46:18,408 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Install stable version using pip', 'on': {'schedule': [{'cron': '0 13 * * *'}, {'cron': '0 2 * * *'}]}, 'permissions': {'contents': 'read'}, 'jobs': {'install_and_verify': {'name': 'Install latest stable version', 'runs-on': '${{ matrix.os }}', 'timeout-minutes': 2, 'strategy': {'fail-fast': False, 'matrix': {'os': ['ubuntu-latest', 'ubuntu-20.04'], 'python_version': [3.7, 3.8, 3.9, '3.10', 'pypy-3.7']}}, 'steps': [{'uses': 'actions/checkout@master', 'with': {'fetch-depth': 1}}, {'name': 'Use Python ${{ matrix.python_version }}', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python_version }}'}}, {'name': 'Install Libcloud', 'run': 'python --version\npip show apache-libcloud && exit 1\npip install apache-libcloud\npip show apache-libcloud\n'}]}, 'verify_checksums': {'name': 'Verify Artifacts Checksum', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 2, 'if': "github.event_name != 'schedule'", 'steps': [{'uses': 'actions/checkout@master', 'with': {'fetch-depth': 1}}, {'name': 'Verify Checksums', 'run': 'LAST_STABLE_VERSION=$(curl -s --fail https://pypi.org/pypi/apache-libcloud/json | jq ".releases | to_entries | last | .key" -r)\necho "Verifying checksums for version ${LAST_STABLE_VERSION}"\n./dist/verify_checksums.sh "apache-libcloud-${LAST_STABLE_VERSION}"'}]}}}
2025-11-05 14:46:18,408 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_baseline_repaired.yml
2025-11-05 14:46:18,408 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:46:18,408 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_baseline_repaired.yml
2025-11-05 14:46:18,408 - __main__ - INFO - === 파일 53/100 베이스라인 복구 완료 ===
2025-11-05 14:46:18,409 - __main__ - INFO - ✅ 성공 (17.66초): d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c -> d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_baseline_repaired.yml
2025-11-05 14:46:18,409 - __main__ - INFO - [54/100] 처리 중: af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 14:46:18,409 - __main__ - INFO - 입력 파일 경로: data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 14:46:18,409 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_baseline_repaired.yml
2025-11-05 14:46:18,409 - __main__ - INFO - === 파일 54/100 베이스라인 복구 시작 ===
2025-11-05 14:46:18,409 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:46:18,409 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:46:18,410 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 14:46:18,410 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:46:18,411 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:46:18,411 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 14:46:18,439 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:46:18,440 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:46:18,440 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:46:18,440 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:46:18,440 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 10)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 10. Avoid jobs without timeouts (line: 10)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:-1)
	- 13. Use names for run steps (lines 13:13)
	- 13. Use names for run steps (lines 32:32)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
6:13: trailing spaces (trailing-spaces)
13:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 22
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 2: We have found 16 smells
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 14:46:18,904 - utils.process_runner - DEBUG - 라인 11: - 10. Avoid jobs without timeouts (line: 10)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 10)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 12: - 12. Avoid workflows without comments
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines -1:-1)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:-1)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines 13:13)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 13:13)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 15: - 13. Use names for run steps (lines 32:32)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 32:32)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 16: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 17: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 18: - 22. Avoid deploying jobs on forks
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 19: The following styling errors were found:
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 20: 6:13: trailing spaces (trailing-spaces)
2025-11-05 14:46:18,905 - utils.process_runner - DEBUG - 라인 21: 13:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:46:18,905 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:46:18,905 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:46:18,905 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:46:18,905 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:46:18,905 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:46:18,905 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Deploy mdBook to GCS

on:
  push:
    branches:
      - main 
      - jolt

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - id: 'auth'
      uses: 'google-github-actions/auth@v2'
      with:
        credentials_json: '${{ secrets.GCP_SA_KEY}}'

    - name: Set up Cloud SDK
      uses: google-github-actions/setup-gcloud@v2

    - name: Setup mdBook
      ...
2025-11-05 14:46:18,905 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:46:18,905 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:46:18,905 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:46:18,906 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:46:35,326 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:46:35,328 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:46:35,328 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:46:35,328 - main - DEBUG - 추출된 YAML:
name: Deploy mdBook to GCS

on:
  push:
    branches:
      - main
      - jolt

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - id: 'auth'
      uses: google-github-actions/auth@v2
      with:
        credentials_json: '${{ secrets.GCP_SA_KEY }}'

    - name: Set up Cloud SDK
      uses: google-github-actions/setup-gcloud@v2

    - name: Setup mdBook
      uses: peaceiris/actions-mdbook@v1
      with:
        mdbook-version: '0.4.10'

    - name: Install mdbook-katex
      uses: actions-rust-lang/setup-rust-toolchain@v1
      run: cargo install mdbook-katex

    - name: Build mdBook
      run: |
        mdbook build ./book

    - name: Deploy to Google Cloud Storage
      env:
        GCS_BUCKET_NAME: ${{ secrets.GCS_BUCKET_NAME }}
      run: |
        gsutil -m rsync -d -r ./book/book gs://${GCS_BUCKET_NAME}

    timeout-minutes: 10
2025-11-05 14:46:35,328 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:46:35,328 - main - DEBUG - 검증할 YAML 길이: 891 문자
2025-11-05 14:46:35,328 - main - DEBUG - YAML 시작 부분: 'name: Deploy mdBook to GCS\n\non:\n  push:\n    branches:\n      - main\n      - jolt\n\njobs:\n  deploy:\n   '
2025-11-05 14:46:35,336 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Deploy mdBook to GCS', 'on': {'push': {'branches': ['main', 'jolt']}}, 'jobs': {'deploy': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'id': 'auth', 'uses': 'google-github-actions/auth@v2', 'with': {'credentials_json': '${{ secrets.GCP_SA_KEY }}'}}, {'name': 'Set up Cloud SDK', 'uses': 'google-github-actions/setup-gcloud@v2'}, {'name': 'Setup mdBook', 'uses': 'peaceiris/actions-mdbook@v1', 'with': {'mdbook-version': '0.4.10'}}, {'name': 'Install mdbook-katex', 'uses': 'actions-rust-lang/setup-rust-toolchain@v1', 'run': 'cargo install mdbook-katex'}, {'name': 'Build mdBook', 'run': 'mdbook build ./book\n'}, {'name': 'Deploy to Google Cloud Storage', 'env': {'GCS_BUCKET_NAME': '${{ secrets.GCS_BUCKET_NAME }}'}, 'run': 'gsutil -m rsync -d -r ./book/book gs://${GCS_BUCKET_NAME}\n'}], 'timeout-minutes': 10}}}
2025-11-05 14:46:35,336 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_baseline_repaired.yml
2025-11-05 14:46:35,336 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:46:35,336 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_baseline_repaired.yml
2025-11-05 14:46:35,337 - __main__ - INFO - === 파일 54/100 베이스라인 복구 완료 ===
2025-11-05 14:46:35,337 - __main__ - INFO - ✅ 성공 (16.93초): af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937 -> af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_baseline_repaired.yml
2025-11-05 14:46:35,337 - __main__ - INFO - [55/100] 처리 중: 592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 14:46:35,337 - __main__ - INFO - 입력 파일 경로: data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 14:46:35,337 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_baseline_repaired.yml
2025-11-05 14:46:35,337 - __main__ - INFO - === 파일 55/100 베이스라인 복구 시작 ===
2025-11-05 14:46:35,338 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:46:35,338 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:46:35,338 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 14:46:35,338 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:46:35,338 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:46:35,339 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 14:46:35,362 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:46:35,362 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:46:35,363 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:46:35,363 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:46:35,363 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.42초)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
We have found 7 smells
	- 2. Prevent running issue/PR actions on forks line -1:34
	- 3. Use fixed version for runs-on argument (line 14)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 10. Avoid jobs without timeouts (line: 12)
	- 12. Avoid workflows without comments
	- 19. Run tests on multiple OS's (job: build-and-push-image)
	- 22. Avoid deploying jobs on forks

2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 10
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 2: We have found 7 smells
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 7 smells
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line -1:34
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:34
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 6: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 7: - 12. Avoid workflows without comments
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 8: - 19. Run tests on multiple OS's (job: build-and-push-image)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-and-push-image)
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 라인 9: - 22. Avoid deploying jobs on forks
2025-11-05 14:46:35,784 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:46:35,784 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:46:35,784 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:46:35,784 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:46:35,784 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:46:35,784 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:46:35,784 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Backend Publish docker image

on:
  release:
    types: ['released']

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}_backend

jobs:
  build-and-push-image:
    if: (startswith(github.event.release.tag_name, 'v'))

    runs-on: ubuntu-latest

    permissions:
      contents: read
      packages: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

 ...
2025-11-05 14:46:35,784 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:46:35,785 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:46:35,785 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:46:35,785 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:46:50,138 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:46:50,139 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:46:50,139 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:46:50,140 - main - DEBUG - 추출된 YAML:
name: Backend Publish docker image

on:
  release:
    types: ['released']

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}_backend

jobs:
  build-and-push-image:
    if: (startswith(github.event.release.tag_name, 'v'))
    timeout-minutes: 10 # Fix semantic smell: add a timeout to the job

    runs-on: ubuntu-latest

    permissions:
      contents: read
      packages: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Log in to the Container registry
        uses: docker/login-action@v3 # Fix syntax error: update action version
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@f6a5d0c # Fix syntax error: update action version
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}

      - name: Build and push Docker image
        uses: docker/build-push-action@ad72085 # Fix syntax error: update action version
        with:
          context: .
          file: "Dockerfile_backend"
          push: true
          tags:
            - ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest
            - ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}
          labels: ${{ steps.meta.outputs.labels }}
2025-11-05 14:46:50,140 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:46:50,140 - main - DEBUG - 검증할 YAML 길이: 1428 문자
2025-11-05 14:46:50,140 - main - DEBUG - YAML 시작 부분: "name: Backend Publish docker image\n\non:\n  release:\n    types: ['released']\n\nenv:\n  REGISTRY: ghcr.io"
2025-11-05 14:46:50,149 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Backend Publish docker image', 'on': {'release': {'types': ['released']}}, 'env': {'REGISTRY': 'ghcr.io', 'IMAGE_NAME': '${{ github.repository }}_backend'}, 'jobs': {'build-and-push-image': {'if': "(startswith(github.event.release.tag_name, 'v'))", 'timeout-minutes': 10, 'runs-on': 'ubuntu-latest', 'permissions': {'contents': 'read', 'packages': 'write'}, 'steps': [{'name': 'Checkout repository', 'uses': 'actions/checkout@v4'}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v3', 'with': {'registry': '${{ env.REGISTRY }}', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@f6a5d0c', 'with': {'images': '${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}'}}, {'name': 'Build and push Docker image', 'uses': 'docker/build-push-action@ad72085', 'with': {'context': '.', 'file': 'Dockerfile_backend', 'push': True, 'tags': ['${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest', '${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.event.release.tag_name }}'], 'labels': '${{ steps.meta.outputs.labels }}'}}]}}}
2025-11-05 14:46:50,149 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_baseline_repaired.yml
2025-11-05 14:46:50,150 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:46:50,150 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_baseline_repaired.yml
2025-11-05 14:46:50,150 - __main__ - INFO - === 파일 55/100 베이스라인 복구 완료 ===
2025-11-05 14:46:50,150 - __main__ - INFO - ✅ 성공 (14.81초): 592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6 -> 592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_baseline_repaired.yml
2025-11-05 14:46:50,150 - __main__ - INFO - [56/100] 처리 중: 9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:46:50,150 - __main__ - INFO - 입력 파일 경로: data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:46:50,150 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_baseline_repaired.yml
2025-11-05 14:46:50,150 - __main__ - INFO - === 파일 56/100 베이스라인 복구 시작 ===
2025-11-05 14:46:50,150 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:46:50,151 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:46:50,152 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:46:50,152 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:46:50,152 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:46:50,152 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:46:50,159 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:46:50,159 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:46:50,159 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:46:50,159 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:46:50,159 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:46:50,533 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.37초)
2025-11-05 14:46:50,533 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: #-------------------------------------------------------------------------------
# Copyright 2023-2024 Norconex Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#-------------------------------------------------------------------------------

name: Maven Java CI 

on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, synchronize, reopened]

jobs:

  build:

    runs-on: ubuntu-latest

    permissions:
      id-token: write
      contents: read

    steps:

      - name: Source checkout
        uses: actions/checkout@v4
        with:
          # depth 0 means checkout all commits... we need that 
          # in case there are many commits in a push/PR
          fetch-depth: 0

      - name: Set up JDK 17
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'
          cache: 'maven'
          server-id: ossrh
          server-username: MAVEN_USERNAME
          server-password: MAVEN_CENTRAL_TOKEN
          gpg-private-key: ${{ secrets.MAVEN_GPG_PRIVATE_KEY }}
          gpg-passphrase: MAVEN_GPG_PASSPHRASE

      - name: Cache SonarCloud packages
        uses: actions/cache@v4
        with:
          path: ~/.sonar/cache
          key: ${{ runner.os }}-sonar
          restore-keys: ${{ runner.os }}-sonar

      - name: Get changed files
        id: changed-files
        uses: tj-actions/changed-files@v42.0.5
        with:
          dir_names: true
          dir_names_max_depth: 2
          write_output_files: true
          files_ignore: |
            ./README.md
            ./TODO.txt
            ./V4_MIGRATION.md
            **/README.md
            **/TODO.txt

      - name: Build
        if: steps.changed-files.outputs.any_changed == 'true'
        run: |
          mvn_args="install"
#          mvn_goal="install"
#          mvn_skip=""
#          projectsArg="-Dorg.slf4j.simpleLogger.defaultLogLevel=warn -Dorg.apache.logging.log4j.level=warn"
          
          if [ ${{ github.event_name }} == 'pull_request' ]; then
              mvn_args="-Dgpg.skip=true install"
          fi
          if [ ${{ github.event_name }} == 'push' ] && [ ${{ github.repository }} == 'Norconex/crawlers' ]; then
              mvn_args="install sonar:sonar deploy:deploy"
          fi
          if [ ${{ github.actor }} == 'dependabot[bot]' ]; then
              mvn_args="-Dgpg.skip=true -Dmaven.javadoc.skip=true package"
          fi
          echo "Maven args\: clean ${mvn_args}"
          mvn clean ${mvn_args} -amd --batch-mode --threads=1
        env:
          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}

#      # We get changed Maven module so we only analyze those when dealing
#      # with pull requets.
#      - name: Get changed modules (PR only)
#        id: changed-modules
#        if: >
#          github.event_name == 'pull_request' &&
#          steps.changed-files.outputs.any_changed == 'true'
#        run: |
#          bash .github/workflows/scripts/changed-modules.sh
#          echo "any_changed=$(cat .github/outputs/any-module-changed.txt)" >> $GITHUB_OUTPUT
#
#      - name: Build
#        if: steps.changed-files.outputs.any_changed == 'true'
#        run: |
#          mvn_cmd="install"
#          mvn_skip=""
#          projectsArg=""
#          
#          if [ ${{ github.event_name }} == 'pull_request' ]; then
#              mvn_skip="-Dgpg.skip=true"
#          fi
#
#          mvn clean ${mvn_skip} ${mvn_cmd} ${projectsArg} -amd --batch-mode --threads=2
#        env:
#          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
#
#      - name: Analyze
#        if: >
#          steps.changed-files.outputs.any_changed == 'true' &&
#          ${{ github.actor != 'dependabot[bot]' }}
#        # Note: For SonarCloud to work with monorepos, each projects must be 
#        # analyzed separately
#        run: |
#          dirs=""
#          if [ -f ".github/outputs/changed-module-dirs-deps.txt" ]; then
#              dirs=$(cat ".github/outputs/changed-module-dirs-deps.txt");
#          fi
#          if [ -z "$dirs" ]; then
#              dirs=$(bash ".github/workflows/scripts/all_project_dirs.sh");
#          fi
#          for dir in $dirs; do
#              echo "Analyzing ${dir}..."
#              (cd ${dir}; mvn sonar:sonar)
#          done
##        run: |
##          mvn sonar:sonar
#
#        env:
#          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
#
#      - name: Deploy (Push only)
#        if: >
#          github.repository == 'Norconex/crawlers' &&
#          github.event_name == 'push' &&
#          steps.changed-files.outputs.any_changed == 'true'
#        run: |
#          mvn jar:jar deploy:deploy --threads=2
#        env:
#          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
#          MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
#          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
#

mapping values are not allowed here
  in "<file>", line 95, column 28
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 45)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 38)
	- 8. Use commit hash instead of tags for action versions (line 65)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
1:2: missing starting space in comment (comments)
15:2: missing starting space in comment (comments)
17:20: trailing spaces (trailing-spaces)
41:63: trailing spaces (trailing-spaces)
85:1: trailing spaces (trailing-spaces)
121:2: trailing spaces (trailing-spaces)
86:11: syntax error: expected <block end>, but found '<scalar>' (syntax)

2025-11-05 14:46:50,533 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 211
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: #-------------------------------------------------------------------------------
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 2: # Copyright 2023-2024 Norconex Inc.
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 3: #
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 4: # Licensed under the Apache License, Version 2.0 (the "License");
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 5: # you may not use this file except in compliance with the License.
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 6: # You may obtain a copy of the License at
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 7: #
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 8: #     http://www.apache.org/licenses/LICENSE-2.0
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 9: #
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 10: # Unless required by applicable law or agreed to in writing, software
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 11: # distributed under the License is distributed on an "AS IS" BASIS,
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 12: # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 13: # See the License for the specific language governing permissions and
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 14: # limitations under the License.
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 15: #-------------------------------------------------------------------------------
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 17: name: Maven Java CI
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 19: on:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 20: push:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 21: branches:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 22: - main
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 23: pull_request:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 24: types: [opened, synchronize, reopened]
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 26: jobs:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 28: build:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-latest
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 32: permissions:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 33: id-token: write
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 34: contents: read
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 36: steps:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 38: - name: Source checkout
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 39: uses: actions/checkout@v4
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 40: with:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 41: # depth 0 means checkout all commits... we need that
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 42: # in case there are many commits in a push/PR
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 43: fetch-depth: 0
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 45: - name: Set up JDK 17
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 46: uses: actions/setup-java@v4
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 47: with:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 48: java-version: '17'
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 49: distribution: 'temurin'
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 50: cache: 'maven'
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 51: server-id: ossrh
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 52: server-username: MAVEN_USERNAME
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 53: server-password: MAVEN_CENTRAL_TOKEN
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 54: gpg-private-key: ${{ secrets.MAVEN_GPG_PRIVATE_KEY }}
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 55: gpg-passphrase: MAVEN_GPG_PASSPHRASE
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 57: - name: Cache SonarCloud packages
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 58: uses: actions/cache@v4
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 60: path: ~/.sonar/cache
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 61: key: ${{ runner.os }}-sonar
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 62: restore-keys: ${{ runner.os }}-sonar
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 64: - name: Get changed files
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 65: id: changed-files
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 66: uses: tj-actions/changed-files@v42.0.5
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 67: with:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 68: dir_names: true
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 69: dir_names_max_depth: 2
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 70: write_output_files: true
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 71: files_ignore: |
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 72: ./README.md
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 73: ./TODO.txt
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 74: ./V4_MIGRATION.md
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 75: **/README.md
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 76: **/TODO.txt
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 78: - name: Build
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 79: if: steps.changed-files.outputs.any_changed == 'true'
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 80: run: |
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 81: mvn_args="install"
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 82: #          mvn_goal="install"
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 83: #          mvn_skip=""
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 84: #          projectsArg="-Dorg.slf4j.simpleLogger.defaultLogLevel=warn -Dorg.apache.logging.log4j.level=warn"
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 86: if [ ${{ github.event_name }} == 'pull_request' ]; then
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 87: mvn_args="-Dgpg.skip=true install"
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 88: fi
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 89: if [ ${{ github.event_name }} == 'push' ] && [ ${{ github.repository }} == 'Norconex/crawlers' ]; then
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 90: mvn_args="install sonar:sonar deploy:deploy"
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 91: fi
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 92: if [ ${{ github.actor }} == 'dependabot[bot]' ]; then
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 93: mvn_args="-Dgpg.skip=true -Dmaven.javadoc.skip=true package"
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 94: fi
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 95: echo "Maven args\: clean ${mvn_args}"
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 96: mvn clean ${mvn_args} -amd --batch-mode --threads=1
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 97: env:
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 98: MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 99: MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 100: MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 101: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 102: SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 104: #      # We get changed Maven module so we only analyze those when dealing
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 105: #      # with pull requets.
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 106: #      - name: Get changed modules (PR only)
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 107: #        id: changed-modules
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 108: #        if: >
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 109: #          github.event_name == 'pull_request' &&
2025-11-05 14:46:50,534 - utils.process_runner - DEBUG - 라인 110: #          steps.changed-files.outputs.any_changed == 'true'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 111: #        run: |
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 112: #          bash .github/workflows/scripts/changed-modules.sh
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 113: #          echo "any_changed=$(cat .github/outputs/any-module-changed.txt)" >> $GITHUB_OUTPUT
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 114: #
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 115: #      - name: Build
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 116: #        if: steps.changed-files.outputs.any_changed == 'true'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 117: #        run: |
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 118: #          mvn_cmd="install"
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 119: #          mvn_skip=""
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 120: #          projectsArg=""
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 121: #
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 122: #          if [ ${{ github.event_name }} == 'pull_request' ]; then
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 123: #              mvn_skip="-Dgpg.skip=true"
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 124: #          fi
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 125: #
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 126: #          mvn clean ${mvn_skip} ${mvn_cmd} ${projectsArg} -amd --batch-mode --threads=2
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 127: #        env:
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 128: #          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 129: #
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 130: #      - name: Analyze
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 131: #        if: >
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 132: #          steps.changed-files.outputs.any_changed == 'true' &&
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 133: #          ${{ github.actor != 'dependabot[bot]' }}
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 134: #        # Note: For SonarCloud to work with monorepos, each projects must be
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 135: #        # analyzed separately
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 136: #        run: |
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 137: #          dirs=""
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 138: #          if [ -f ".github/outputs/changed-module-dirs-deps.txt" ]; then
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 139: #              dirs=$(cat ".github/outputs/changed-module-dirs-deps.txt");
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 140: #          fi
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 141: #          if [ -z "$dirs" ]; then
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 142: #              dirs=$(bash ".github/workflows/scripts/all_project_dirs.sh");
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 143: #          fi
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 144: #          for dir in $dirs; do
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 145: #              echo "Analyzing ${dir}..."
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 146: #              (cd ${dir}; mvn sonar:sonar)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 147: #          done
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 148: ##        run: |
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 149: ##          mvn sonar:sonar
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 150: #
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 151: #        env:
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 152: #          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 153: #          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 154: #
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 155: #      - name: Deploy (Push only)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 156: #        if: >
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 157: #          github.repository == 'Norconex/crawlers' &&
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 158: #          github.event_name == 'push' &&
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 159: #          steps.changed-files.outputs.any_changed == 'true'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 160: #        run: |
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 161: #          mvn jar:jar deploy:deploy --threads=2
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 162: #        env:
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 163: #          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 164: #          MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 165: #          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 166: #
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 168: mapping values are not allowed here
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 169: in "<file>", line 95, column 28
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 170: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 171: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 172: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 173: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 174: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 178: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 179: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 180: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 182: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 184: We have found 18 smells
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 185: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 186: - 8. Use commit hash instead of tags for action versions (line 45)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 45)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 187: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 188: - 8. Use commit hash instead of tags for action versions (line 38)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 38)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 189: - 8. Use commit hash instead of tags for action versions (line 65)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 65)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 190: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 191: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 192: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 193: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 194: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:46:50,535 - utils.process_runner - DEBUG - 라인 195: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 196: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 197: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 198: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 199: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 200: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 201: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 202: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 203: The following styling errors were found:
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 204: 1:2: missing starting space in comment (comments)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 205: 15:2: missing starting space in comment (comments)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 206: 17:20: trailing spaces (trailing-spaces)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 207: 41:63: trailing spaces (trailing-spaces)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 208: 85:1: trailing spaces (trailing-spaces)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 209: 121:2: trailing spaces (trailing-spaces)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 라인 210: 86:11: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:46:50,536 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 86:11: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:46:50,536 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:46:50,536 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:46:50,536 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:46:50,536 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:46:50,536 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:46:50,536 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:46:50,536 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
#-------------------------------------------------------------------------------
# Copyright 2023-2024 Norconex Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,...
2025-11-05 14:46:50,536 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:46:50,536 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:46:50,536 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:46:50,537 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:47:30,217 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:47:30,219 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:47:30,220 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:47:30,220 - main - DEBUG - 추출된 YAML:
name: Maven Java CI

on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, synchronize, reopened]

jobs:

  build:

    runs-on: ubuntu-latest

    permissions:
      id-token: write
      contents: read

    steps:

      - name: Source checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Set up JDK 17
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'
          cache: 'maven'
          server-id: ossrh
          server-username: ${{ secrets.OSSRH_USERNAME }}
          server-password: ${{ secrets.OSSRH_TOKEN }}
          gpg-private-key: ${{ secrets.MAVEN_GPG_PRIVATE_KEY }}
          gpg-passphrase: ${{ secrets.MAVEN_GPG_PASSPHRASE }}

      - name: Cache SonarCloud packages
        uses: actions/cache@v4
        with:
          path: ~/.sonar/cache
          key: ${{ runner.os }}-sonar
          restore-keys: ${{ runner.os }}-sonar

      - name: Get changed files
        id: changed-files
        uses: tj-actions/changed-files@v42.0.5
        with:
          dir_names: true
          dir_names_max_depth: 2
          write_output_files: true
          files_ignore: |
            ./README.md
            ./TODO.txt
            ./V4_MIGRATION.md
            **/README.md
            **/TODO.txt

      - name: Build
        if: steps.changed-files.outputs.any_changed == 'true'
        run: |
          mvn_args="install"
#          mvn_goal="install"
#          mvn_skip=""
#          projectsArg="-Dorg.slf4j.simpleLogger.defaultLogLevel=warn -Dorg.apache.logging.log4j.level=warn"

          if [ "${GITHUB_EVENT_NAME}" == 'pull_request' ]; then
            mvn_args="-Dgpg.skip=true install"
          elif [ "${GITHUB_EVENT_NAME}" == 'push' ] && [ "${GITHUB_REPOSITORY}" == 'Norconex/crawlers' ]; then
            mvn_args="install sonar:sonar deploy:deploy"
          fi
          if [ "${GITHUB_ACTOR}" == 'dependabot[bot]' ]; then
            mvn_args="-Dgpg.skip=true -Dmaven.javadoc.skip=true package"
          fi
          echo "Maven args: clean ${mvn_args}"
          mvn clean ${mvn_args} -amd --batch-mode --threads=1
        env:
          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
          OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          OSSRH_TOKEN: ${{ secrets.OSSRH_TOKEN }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}

      - name: Get changed modules (PR only)
        id: changed-modules
        if: github.event_name == 'pull_request' && steps.changed-files.outputs.any_changed == 'true'
        run: |
          bash .github/workflows/scripts/changed-modules.sh
          echo "any_changed=$(cat .github/outputs/any-module-changed.txt)" >> $GITHUB_OUTPUT

      - name: Build
        if: steps.changed-files.outputs.any_changed == 'true'
        run: |
          mvn_cmd="install"
          mvn_skip=""
          projectsArg=""

          if [ "${GITHUB_EVENT_NAME}" == 'pull_request' ]; then
            mvn_skip="-Dgpg.skip=true"
          fi

          mvn clean ${mvn_skip} ${mvn_cmd} ${projectsArg} -amd --batch-mode --threads=2
        env:
          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}

      - name: Analyze
        if: steps.changed-files.outputs.any_changed == 'true' && github.actor != 'dependabot[bot]'
        run: |
          dirs=""
          if [ -f ".github/outputs/changed-module-dirs-deps.txt" ]; then
            dirs=$(cat ".github/outputs/changed-module-dirs-deps.txt");
          fi
          if [ -z "$dirs" ]; then
            dirs=$(bash ".github/workflows/scripts/all_project_dirs.sh");
          fi
          for dir in $dirs; do
            echo "Analyzing ${dir}..."
            (cd ${dir}; mvn sonar:sonar)
          done

        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}

      - name: Deploy (Push only)
        if: github.repository == 'Norconex/crawlers' && github.event_name == 'push' && steps.changed-files.outputs.any_changed == 'true'
        run: |
          mvn jar:jar deploy:deploy --threads=2
        env:
          OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          OSSRH_TOKEN: ${{ secrets.OSSRH_TOKEN }}
          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 14:47:30,220 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:47:30,220 - main - DEBUG - 검증할 YAML 길이: 4366 문자
2025-11-05 14:47:30,220 - main - DEBUG - YAML 시작 부분: 'name: Maven Java CI\n\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    types: [opened, sync'
2025-11-05 14:47:30,227 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block mapping
  in "<unicode string>", line 60, column 9:
          - name: Build
            ^
expected <block end>, but found '<scalar>'
  in "<unicode string>", line 68, column 11:
              if [ "${GITHUB_EVENT_NAME}" == ' ... 
              ^
2025-11-05 14:47:30,227 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:47:30,227 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 14:47:30,228 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_baseline_repaired.yml
2025-11-05 14:47:30,228 - __main__ - INFO - === 파일 56/100 베이스라인 복구 완료 ===
2025-11-05 14:47:30,228 - __main__ - ERROR - ❌ 실패 (40.08초): 9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 14:47:30,228 - __main__ - INFO - [57/100] 처리 중: 1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 14:47:30,228 - __main__ - INFO - 입력 파일 경로: data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 14:47:30,229 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_baseline_repaired.yml
2025-11-05 14:47:30,229 - __main__ - INFO - === 파일 57/100 베이스라인 복구 시작 ===
2025-11-05 14:47:30,229 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:47:30,229 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:47:30,229 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 14:47:30,229 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:47:30,229 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:47:30,229 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 14:47:30,258 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:47:30,259 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:47:30,259 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:47:30,259 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:47:30,259 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: # Based on https://github.com/zdenop/tesserocr/actions/runs/691257659/workflow
# Build Tesseract on Windows using cmake. No Training Tools.
name: cmake-win64
on:
  #push:
  schedule:
    - cron: 0 23 * * *
  workflow_dispatch:

env:
  ILOC: d:/a/local

jobs:
  build:
    name: ${{ matrix.config.name }}
    runs-on: ${{ matrix.config.os }}
    strategy:
      fail-fast: True
      matrix:
        config:
        - {
            name: "Windows Latest MSVC - cmake", artifact: "Windows-MSVC",
            os: windows-latest,
            cc: "cl", cxx: "cl",
            environment_script: "C:/Program Files (x86)/Microsoft Visual Studio/2019/Enterprise/VC/Auxiliary/Build/vcvars64.bat"
          }

    steps:
      - uses: ilammy/setup-nasm@v1
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          submodules: recursive
      - name: Build and Install leptonica dependencies
        shell: cmd
        run: |
             mkdir ${{env.ILOC}}
             echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV

      - name: Build and Install zlib
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/zlib-ng/zlib-ng.git
            cd zlib-ng
            cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_SHARED_LIBS=OFF -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
            cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
            cmake --build build --config Release --target install
             cd ..

      - name: Build and Install libpng
        shell: cmd
        run: |
             curl -sSL -o lpng1637.zip https://download.sourceforge.net/libpng/lpng1637.zip
             unzip.exe  -qq lpng1637.zip
             cd lpng1637
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DPNG_TESTS=OFF -DPNG_SHARED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install giflib
        shell: cmd
        run: |
             curl -sSL -o giflib-master.zip https://codeload.github.com/xbmc/giflib/zip/master
             unzip -qq giflib-master.zip
             cd giflib-master
             cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}}
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install libjpeg
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/libjpeg-turbo/libjpeg-turbo.git
             cd libjpeg-turbo
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWITH_TURBOJPEG=OFF -DENABLE_SHARED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install webp
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/webmproject/libwebp.git
             cd libwebp
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWEBP_BUILD_ANIM_UTILS=OFF -DWEBP_BUILD_CWEBP=OFF -DWEBP_BUILD_DWEBP=OFF -DWEBP_BUILD_GIF2WEBP=OFF -DWEBP_BUILD_IMG2WEBP=OFF -DWEBP_BUILD_VWEBP=OFF -DWEBP_BUILD_WEBPMUX=OFF -DWEBP_BUILD_WEBPINFO=OFF -DWEBP_BUILD_EXTRAS=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install jbigkit
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/zdenop/jbigkit
             cd jbigkit-2.1
             cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_PROGRAMS=OFF -DBUILD_TOOLS=OFF -DCMAKE_WARN_DEPRECATED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install zstd
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/facebook/zstd.git
             cd zstd/build/cmake
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZSTD_BUILD_PROGRAMS=OFF -DBUILD_TESTING=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install libtiff
        shell: cmd
        run: |
             git clone --depth 1 https://gitlab.com/libtiff/libtiff
             cd libtiff
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -Dtiff-tools=OFF -Dtiff-tests=OFF -Dtiff-contrib=OFF -Dtiff-docs=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install openjpeg
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/uclouvain/openjpeg.git
             cd openjpeg
             cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_CODEC=OFF -DBUILD_TESTING=OFF -DBUILD_DOC=OFF -DCMAKE_WARN_DEPRECATED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install leptonica
        shell: cmd
        run: |
             echo "Building leptonica..."
             git clone --depth 1 https://github.com/DanBloomberg/leptonica.git
             cd leptonica
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_PROG=OFF -DBUILD_SHARED_LIBS=ON
             cmake --build build --config Release --target install

      - name: Build and Install libarchive
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/libarchive/libarchive.git
             cd libarchive
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DENABLE_TEST=OFF
             cmake --build build --config Release --target instal

      - name: Remove not needed tools Before building tesseract
        shell: cmd
        run: >
             rm -Rf ${{env.ILOC}}/bin/*.exe

      - name: Build and Install tesseract
        shell: cmd
        run: |
             cmake -E env CXXFLAGS="/Qpar /fp:fast" cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_SHARED_LIBS=ON -DENABLE_LTO=ON -DBUILD_TRAINING_TOOLS=OFF -DFAST_FLOAT=ON -DGRAPHICS_DISABLED=ON -DOPENMP_BUILD=ON
             cmake --build build --config Release --target install

      - name: Display Tesseract Version and Test Command Line Usage
        shell: cmd
        run: |
          curl -L https://github.com/tesseract-ocr/tessdata/raw/main/eng.traineddata --output ${{env.ILOC}}/share/tessdata/eng.traineddata
          curl -L https://github.com/tesseract-ocr/tessdata/raw/main/osd.traineddata --output ${{env.ILOC}}/share/tessdata/osd.traineddata
          set TESSDATA_PREFIX=${{env.ILOC}}/share/tessdata
          set PATH=${{env.ILOC}}/bin;%PATH%
          tesseract -v
          tesseract --list-langs
          tesseract test/testing/phototest.tif -
          
      - name: Upload Build Results
        uses: actions/upload-artifact@v2
        with:
          name: tesseract-${{env.RELEASE_VERSION}}-VS2019_win64
          path: ${{env.ILOC}}
          retention-days: 5

while parsing a block mapping
  in "<file>", line 40, column 9
expected <block end>, but found '<scalar>'
  in "<file>", line 44, column 13
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 163)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
5:4: missing starting space in comment (comments)
18:18: truthy value should be one of [false, true] (truthy)
21:9: wrong indentation: expected 10 but found 8 (indentation)
22:13: wrong indentation: expected 10 but found 12 (indentation)
23:13: wrong indentation: expected 10 but found 12 (indentation)
24:13: wrong indentation: expected 10 but found 12 (indentation)
25:13: wrong indentation: expected 10 but found 12 (indentation)
26:11: wrong indentation: expected 8 but found 10 (indentation)
44:13: syntax error: expected <block end>, but found '<scalar>' (syntax)
162:1: trailing spaces (trailing-spaces)

2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 216
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: # Based on https://github.com/zdenop/tesserocr/actions/runs/691257659/workflow
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 2: # Build Tesseract on Windows using cmake. No Training Tools.
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 3: name: cmake-win64
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 5: #push:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 6: schedule:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 7: - cron: 0 23 * * *
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 8: workflow_dispatch:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 10: env:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 11: ILOC: d:/a/local
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 13: jobs:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 14: build:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 15: name: ${{ matrix.config.name }}
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 16: runs-on: ${{ matrix.config.os }}
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 17: strategy:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 18: fail-fast: True
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 19: matrix:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 20: config:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 21: - {
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 22: name: "Windows Latest MSVC - cmake", artifact: "Windows-MSVC",
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 23: os: windows-latest,
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 24: cc: "cl", cxx: "cl",
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 25: environment_script: "C:/Program Files (x86)/Microsoft Visual Studio/2019/Enterprise/VC/Auxiliary/Build/vcvars64.bat"
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 26: }
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 28: steps:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 29: - uses: ilammy/setup-nasm@v1
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 30: - name: Checkout code
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 31: uses: actions/checkout@v3
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 32: with:
2025-11-05 14:47:30,740 - utils.process_runner - DEBUG - 라인 33: submodules: recursive
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 34: - name: Build and Install leptonica dependencies
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 35: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 36: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 37: mkdir ${{env.ILOC}}
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 38: echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 40: - name: Build and Install zlib
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 41: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 43: git clone --depth 1 https://github.com/zlib-ng/zlib-ng.git
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 44: cd zlib-ng
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 45: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_SHARED_LIBS=OFF -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 46: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 47: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 48: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 50: - name: Build and Install libpng
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 51: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 52: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 53: curl -sSL -o lpng1637.zip https://download.sourceforge.net/libpng/lpng1637.zip
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 54: unzip.exe  -qq lpng1637.zip
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 55: cd lpng1637
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 56: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DPNG_TESTS=OFF -DPNG_SHARED=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 57: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 58: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 60: - name: Build and Install giflib
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 61: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 62: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 63: curl -sSL -o giflib-master.zip https://codeload.github.com/xbmc/giflib/zip/master
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 64: unzip -qq giflib-master.zip
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 65: cd giflib-master
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 66: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}}
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 67: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 68: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 70: - name: Build and Install libjpeg
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 71: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 72: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 73: git clone --depth 1 https://github.com/libjpeg-turbo/libjpeg-turbo.git
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 74: cd libjpeg-turbo
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 75: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWITH_TURBOJPEG=OFF -DENABLE_SHARED=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 76: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 77: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 79: - name: Build and Install webp
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 80: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 81: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 82: git clone --depth 1 https://github.com/webmproject/libwebp.git
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 83: cd libwebp
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 84: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWEBP_BUILD_ANIM_UTILS=OFF -DWEBP_BUILD_CWEBP=OFF -DWEBP_BUILD_DWEBP=OFF -DWEBP_BUILD_GIF2WEBP=OFF -DWEBP_BUILD_IMG2WEBP=OFF -DWEBP_BUILD_VWEBP=OFF -DWEBP_BUILD_WEBPMUX=OFF -DWEBP_BUILD_WEBPINFO=OFF -DWEBP_BUILD_EXTRAS=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 85: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 86: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 88: - name: Build and Install jbigkit
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 89: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 90: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 91: git clone --depth 1 https://github.com/zdenop/jbigkit
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 92: cd jbigkit-2.1
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 93: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_PROGRAMS=OFF -DBUILD_TOOLS=OFF -DCMAKE_WARN_DEPRECATED=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 94: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 95: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 97: - name: Build and Install zstd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 98: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 99: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 100: git clone --depth 1 https://github.com/facebook/zstd.git
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 101: cd zstd/build/cmake
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 102: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZSTD_BUILD_PROGRAMS=OFF -DBUILD_TESTING=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 103: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 104: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 106: - name: Build and Install libtiff
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 107: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 108: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 109: git clone --depth 1 https://gitlab.com/libtiff/libtiff
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 110: cd libtiff
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 111: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -Dtiff-tools=OFF -Dtiff-tests=OFF -Dtiff-contrib=OFF -Dtiff-docs=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 112: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 113: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 115: - name: Build and Install openjpeg
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 116: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 117: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 118: git clone --depth 1 https://github.com/uclouvain/openjpeg.git
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 119: cd openjpeg
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 120: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_CODEC=OFF -DBUILD_TESTING=OFF -DBUILD_DOC=OFF -DCMAKE_WARN_DEPRECATED=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 121: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 122: cd ..
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 124: - name: Build and Install leptonica
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 125: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 126: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 127: echo "Building leptonica..."
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 128: git clone --depth 1 https://github.com/DanBloomberg/leptonica.git
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 129: cd leptonica
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 130: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_PROG=OFF -DBUILD_SHARED_LIBS=ON
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 131: cmake --build build --config Release --target install
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 133: - name: Build and Install libarchive
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 134: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 135: run: |
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 136: git clone --depth 1 https://github.com/libarchive/libarchive.git
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 137: cd libarchive
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 138: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DENABLE_TEST=OFF
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 139: cmake --build build --config Release --target instal
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 141: - name: Remove not needed tools Before building tesseract
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 142: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 143: run: >
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 144: rm -Rf ${{env.ILOC}}/bin/*.exe
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 146: - name: Build and Install tesseract
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 147: shell: cmd
2025-11-05 14:47:30,741 - utils.process_runner - DEBUG - 라인 148: run: |
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 149: cmake -E env CXXFLAGS="/Qpar /fp:fast" cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_SHARED_LIBS=ON -DENABLE_LTO=ON -DBUILD_TRAINING_TOOLS=OFF -DFAST_FLOAT=ON -DGRAPHICS_DISABLED=ON -DOPENMP_BUILD=ON
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 150: cmake --build build --config Release --target install
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 152: - name: Display Tesseract Version and Test Command Line Usage
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 153: shell: cmd
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 154: run: |
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 155: curl -L https://github.com/tesseract-ocr/tessdata/raw/main/eng.traineddata --output ${{env.ILOC}}/share/tessdata/eng.traineddata
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 156: curl -L https://github.com/tesseract-ocr/tessdata/raw/main/osd.traineddata --output ${{env.ILOC}}/share/tessdata/osd.traineddata
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 157: set TESSDATA_PREFIX=${{env.ILOC}}/share/tessdata
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 158: set PATH=${{env.ILOC}}/bin;%PATH%
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 159: tesseract -v
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 160: tesseract --list-langs
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 161: tesseract test/testing/phototest.tif -
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 163: - name: Upload Build Results
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 164: uses: actions/upload-artifact@v2
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 165: with:
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 166: name: tesseract-${{env.RELEASE_VERSION}}-VS2019_win64
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 167: path: ${{env.ILOC}}
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 168: retention-days: 5
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 170: while parsing a block mapping
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 171: in "<file>", line 40, column 9
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 172: expected <block end>, but found '<scalar>'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 173: in "<file>", line 44, column 13
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 174: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 178: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 179: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 180: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 182: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 184: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 185: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 186: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 187: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 188: We have found 16 smells
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 189: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 190: - 8. Use commit hash instead of tags for action versions (line 163)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 163)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 191: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 192: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 193: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 194: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 195: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 196: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 197: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 198: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 199: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 200: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 201: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 202: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 203: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 204: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 205: The following styling errors were found:
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 206: 5:4: missing starting space in comment (comments)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 207: 18:18: truthy value should be one of [false, true] (truthy)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 208: 21:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 209: 22:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 210: 23:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 211: 24:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 212: 25:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 213: 26:11: wrong indentation: expected 8 but found 10 (indentation)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 214: 44:13: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 44:13: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:47:30,742 - utils.process_runner - DEBUG - 라인 215: 162:1: trailing spaces (trailing-spaces)
2025-11-05 14:47:30,743 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:47:30,743 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:47:30,743 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:47:30,743 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:47:30,743 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:47:30,743 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:47:30,743 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# Based on https://github.com/zdenop/tesserocr/actions/runs/691257659/workflow
# Build Tesseract on Windows using cmake. No Training Tools.
name: cmake-win64
on:
  #push:
  schedule:
    - cron: 0 23 * * *
  workflow_dispatch:

env:
  ILOC: d:/a/local

jobs:
  build:
    name: ${{ matrix.config.name }}
    runs-on: ${{ matrix.config.os }}
    strategy:
      fail-fast: True
      matrix:
        config:
...
2025-11-05 14:47:30,743 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:47:30,743 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:47:30,743 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:47:30,744 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:48:33,193 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:48:33,195 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:48:33,196 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:48:33,196 - main - DEBUG - 추출된 YAML:
name: cmake-win64
on:
  schedule:
    - cron: 0 23 * * *
  workflow_dispatch:

env:
  ILOC: d:/a/local

jobs:
  build:
    name: ${{ matrix.config.name }}
    runs-on: ${{ matrix.config.os }}
    strategy:
      fail-fast: true
      matrix:
        config:
          - {
              name: "Windows Latest MSVC - cmake", artifact: "Windows-MSVC",
              os: windows-latest,
              cc: "cl", cxx: "cl",
              environment_script: "C:/Program Files (x86)/Microsoft Visual Studio/2019/Enterprise/VC/Auxiliary/Build/vcvars64.bat"
            }

    steps:
      - uses: ilammy/setup-nasm@v1
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          submodules: recursive

      - name: Build and Install leptonica dependencies
        shell: cmd
        run: |
          mkdir ${{env.ILOC}}
          echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV

      - name: Build and Install zlib
        shell: cmd
        run: |
          git clone --depth 1 https://github.com/zlib-ng/zlib-ng.git
          cd zlib-ng
          cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_SHARED_LIBS=OFF -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install libpng
        shell: cmd
        run: |
          curl -sSL -o lpng1637.zip https://download.sourceforge.net/libpng/lpng1637.zip
          unzip.exe  -qq lpng1637.zip
          cd lpng1637
          cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DPNG_TESTS=OFF -DPNG_SHARED=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install giflib
        shell: cmd
        run: |
          curl -sSL -o giflib-master.zip https://codeload.github.com/xbmc/giflib/zip/master
          unzip -qq giflib-master.zip
          cd giflib-master
          cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}}
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install libjpeg
        shell: cmd
        run: |
          git clone --depth 1 https://github.com/libjpeg-turbo/libjpeg-turbo.git
          cd libjpeg-turbo
          cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWITH_TURBOJPEG=OFF -DENABLE_SHARED=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install webp
        shell: cmd
        run: |
          git clone --depth 1 https://github.com/webmproject/libwebp.git
          cd libwebp
          cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWEBP_BUILD_ANIM_UTILS=OFF -DWEBP_BUILD_CWEBP=OFF -DWEBP_BUILD_DWEBP=OFF -DWEBP_BUILD_GIF2WEBP=OFF -DWEBP_BUILD_IMG2WEBP=OFF -DWEBP_BUILD_VWEBP=OFF -DWEBP_BUILD_WEBPMUX=OFF -DWEBP_BUILD_WEBPINFO=OFF -DWEBP_BUILD_EXTRAS=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install jbigkit
        shell: cmd
        run: |
          git clone --depth 1 https://github.com/zdenop/jbigkit
          cd jbigkit-2.1
          cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_PROGRAMS=OFF -DBUILD_TOOLS=OFF -DCMAKE_WARN_DEPRECATED=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install zstd
        shell: cmd
        run: |
          git clone --depth 1 https://github.com/facebook/zstd.git
          cd zstd/build/cmake
          cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZSTD_BUILD_PROGRAMS=OFF -DBUILD_TESTING=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install libtiff
        shell: cmd
        run: |
          git clone --depth 1 https://gitlab.com/libtiff/libtiff
          cd libtiff
          cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -Dtiff-tools=OFF -Dtiff-tests=OFF -Dtiff-contrib=OFF -Dtiff-docs=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install openjpeg
        shell: cmd
        run: |
          git clone --depth 1 https://github.com/uclouvain/openjpeg.git
          cd openjpeg
          cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_CODEC=OFF -DBUILD_TESTING=OFF -DBUILD_DOC=OFF -DCMAKE_WARN_DEPRECATED=OFF
          cmake --build build --config Release --target install
          cd ..

      - name: Build and Install leptonica
        shell: cmd
        run: |
          echo "Building leptonica..."
          git clone --depth 1 https://github.com/DanBloomberg/leptonica.git
          cd leptonica
          cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_PROG=OFF -DBUILD_SHARED_LIBS=ON
          cmake --build build --config Release --target install

      - name: Build and Install libarchive
        shell: cmd
        run: |
          git clone --depth 1 https://github.com/libarchive/libarchive.git
          cd libarchive
          cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DENABLE_TEST=OFF
          cmake --build build --config Release --target install

      - name: Remove not needed tools Before building tesseract
        shell: cmd
        run: |
          rm -Rf ${{env.ILOC}}/bin/*.exe

      - name: Build and Install tesseract
        shell: cmd
        run: |
          cmake -E env CXXFLAGS="/Qpar /fp:fast" cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_SHARED_LIBS=ON -DENABLE_LTO=ON -DBUILD_TRAINING_TOOLS=OFF -DFAST_FLOAT=ON -DGRAPHICS_DISABLED=ON -DOPENMP_BUILD=ON
          cmake --build build --config Release --target install

      - name: Display Tesseract Version and Test Command Line Usage
        shell: cmd
        run: |
          curl -L https://github.com/tesseract-ocr/tessdata/raw/main/eng.traineddata --output ${{env.ILOC}}/share/tessdata/eng.traineddata
          curl -L https://github.com/tesseract-ocr/tessdata/raw/main/osd.traineddata --output ${{env.ILOC}}/share/tessdata/osd.traineddata
          set TESSDATA_PREFIX=${{env.ILOC}}/share/tessdata
          set PATH=${{env.ILOC}}/bin;%PATH%
          tesseract -v
          tesseract --list-langs
          tesseract test/testing/phototest.tif -

      - name: Upload artifact
        uses: actions/upload-artifact@v2
        with:
          name: ${{ matrix.config.name }}
          path: ${{env.ILOC}}
2025-11-05 14:48:33,196 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:48:33,196 - main - DEBUG - 검증할 YAML 길이: 7057 문자
2025-11-05 14:48:33,196 - main - DEBUG - YAML 시작 부분: 'name: cmake-win64\non:\n  schedule:\n    - cron: 0 23 * * *\n  workflow_dispatch:\n\nenv:\n  ILOC: d:/a/loc'
2025-11-05 14:48:33,215 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'cmake-win64', 'on': {'schedule': [{'cron': '0 23 * * *'}], 'workflow_dispatch': None}, 'env': {'ILOC': 'd:/a/local'}, 'jobs': {'build': {'name': '${{ matrix.config.name }}', 'runs-on': '${{ matrix.config.os }}', 'strategy': {'fail-fast': True, 'matrix': {'config': [{'name': 'Windows Latest MSVC - cmake', 'artifact': 'Windows-MSVC', 'os': 'windows-latest', 'cc': 'cl', 'cxx': 'cl', 'environment_script': 'C:/Program Files (x86)/Microsoft Visual Studio/2019/Enterprise/VC/Auxiliary/Build/vcvars64.bat'}]}}, 'steps': [{'uses': 'ilammy/setup-nasm@v1'}, {'name': 'Checkout code', 'uses': 'actions/checkout@v3', 'with': {'submodules': 'recursive'}}, {'name': 'Build and Install leptonica dependencies', 'shell': 'cmd', 'run': 'mkdir ${{env.ILOC}}\necho "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV\n'}, {'name': 'Build and Install zlib', 'shell': 'cmd', 'run': 'git clone --depth 1 https://github.com/zlib-ng/zlib-ng.git\ncd zlib-ng\ncmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_SHARED_LIBS=OFF -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install libpng', 'shell': 'cmd', 'run': 'curl -sSL -o lpng1637.zip https://download.sourceforge.net/libpng/lpng1637.zip\nunzip.exe  -qq lpng1637.zip\ncd lpng1637\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DPNG_TESTS=OFF -DPNG_SHARED=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install giflib', 'shell': 'cmd', 'run': 'curl -sSL -o giflib-master.zip https://codeload.github.com/xbmc/giflib/zip/master\nunzip -qq giflib-master.zip\ncd giflib-master\ncmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}}\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install libjpeg', 'shell': 'cmd', 'run': 'git clone --depth 1 https://github.com/libjpeg-turbo/libjpeg-turbo.git\ncd libjpeg-turbo\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWITH_TURBOJPEG=OFF -DENABLE_SHARED=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install webp', 'shell': 'cmd', 'run': 'git clone --depth 1 https://github.com/webmproject/libwebp.git\ncd libwebp\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWEBP_BUILD_ANIM_UTILS=OFF -DWEBP_BUILD_CWEBP=OFF -DWEBP_BUILD_DWEBP=OFF -DWEBP_BUILD_GIF2WEBP=OFF -DWEBP_BUILD_IMG2WEBP=OFF -DWEBP_BUILD_VWEBP=OFF -DWEBP_BUILD_WEBPMUX=OFF -DWEBP_BUILD_WEBPINFO=OFF -DWEBP_BUILD_EXTRAS=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install jbigkit', 'shell': 'cmd', 'run': 'git clone --depth 1 https://github.com/zdenop/jbigkit\ncd jbigkit-2.1\ncmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_PROGRAMS=OFF -DBUILD_TOOLS=OFF -DCMAKE_WARN_DEPRECATED=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install zstd', 'shell': 'cmd', 'run': 'git clone --depth 1 https://github.com/facebook/zstd.git\ncd zstd/build/cmake\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZSTD_BUILD_PROGRAMS=OFF -DBUILD_TESTING=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install libtiff', 'shell': 'cmd', 'run': 'git clone --depth 1 https://gitlab.com/libtiff/libtiff\ncd libtiff\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -Dtiff-tools=OFF -Dtiff-tests=OFF -Dtiff-contrib=OFF -Dtiff-docs=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install openjpeg', 'shell': 'cmd', 'run': 'git clone --depth 1 https://github.com/uclouvain/openjpeg.git\ncd openjpeg\ncmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_CODEC=OFF -DBUILD_TESTING=OFF -DBUILD_DOC=OFF -DCMAKE_WARN_DEPRECATED=OFF\ncmake --build build --config Release --target install\ncd ..\n'}, {'name': 'Build and Install leptonica', 'shell': 'cmd', 'run': 'echo "Building leptonica..."\ngit clone --depth 1 https://github.com/DanBloomberg/leptonica.git\ncd leptonica\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_PROG=OFF -DBUILD_SHARED_LIBS=ON\ncmake --build build --config Release --target install\n'}, {'name': 'Build and Install libarchive', 'shell': 'cmd', 'run': 'git clone --depth 1 https://github.com/libarchive/libarchive.git\ncd libarchive\ncmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DENABLE_TEST=OFF\ncmake --build build --config Release --target install\n'}, {'name': 'Remove not needed tools Before building tesseract', 'shell': 'cmd', 'run': 'rm -Rf ${{env.ILOC}}/bin/*.exe\n'}, {'name': 'Build and Install tesseract', 'shell': 'cmd', 'run': 'cmake -E env CXXFLAGS="/Qpar /fp:fast" cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_SHARED_LIBS=ON -DENABLE_LTO=ON -DBUILD_TRAINING_TOOLS=OFF -DFAST_FLOAT=ON -DGRAPHICS_DISABLED=ON -DOPENMP_BUILD=ON\ncmake --build build --config Release --target install\n'}, {'name': 'Display Tesseract Version and Test Command Line Usage', 'shell': 'cmd', 'run': 'curl -L https://github.com/tesseract-ocr/tessdata/raw/main/eng.traineddata --output ${{env.ILOC}}/share/tessdata/eng.traineddata\ncurl -L https://github.com/tesseract-ocr/tessdata/raw/main/osd.traineddata --output ${{env.ILOC}}/share/tessdata/osd.traineddata\nset TESSDATA_PREFIX=${{env.ILOC}}/share/tessdata\nset PATH=${{env.ILOC}}/bin;%PATH%\ntesseract -v\ntesseract --list-langs\ntesseract test/testing/phototest.tif -\n'}, {'name': 'Upload artifact', 'uses': 'actions/upload-artifact@v2', 'with': {'name': '${{ matrix.config.name }}', 'path': '${{env.ILOC}}'}}]}}}
2025-11-05 14:48:33,217 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_baseline_repaired.yml
2025-11-05 14:48:33,217 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:48:33,217 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_baseline_repaired.yml
2025-11-05 14:48:33,218 - __main__ - INFO - === 파일 57/100 베이스라인 복구 완료 ===
2025-11-05 14:48:33,218 - __main__ - INFO - ✅ 성공 (62.99초): 1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444 -> 1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_baseline_repaired.yml
2025-11-05 14:48:33,219 - __main__ - INFO - [58/100] 처리 중: 9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 14:48:33,219 - __main__ - INFO - 입력 파일 경로: data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 14:48:33,219 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_baseline_repaired.yml
2025-11-05 14:48:33,219 - __main__ - INFO - === 파일 58/100 베이스라인 복구 시작 ===
2025-11-05 14:48:33,219 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:48:33,219 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:48:33,220 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 14:48:33,220 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:48:33,220 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:48:33,220 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 14:48:33,256 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 14:48:33,256 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:48:33,256 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:48:33,256 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:48:33,256 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 14:48:33,728 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: on:
  pull_request: {}
name: Test
jobs:
  test:
    name: Test
    runs-on: macos-13
    strategy:
        matrix:
          xcode: ['15.2']
    steps:
      - name: Set Xcode ${{ matrix.xcode }}
        run: |
          echo "Available Xcode versions:"
          ls /Applications | grep Xcode
          echo "Choosing Xcode_${{ matrix.xcode }}.app"
          sudo xcode-select -s /Applications/Xcode_${{ matrix.xcode }}.app
          xcodebuild -version
          swift --version
          swift package --version
      - name: Checkout
        uses: actions/checkout@main
      - name: misu
        run: |
        curl https://mise.jdx.dev/install.sh | sh
        echo "$HOME/.local/share/mise/bin" >> $GITHUB_PATH
        echo "$HOME/.local/share/mise/shims" >> $GITHUB_PATH
      - name: Install & Run tuist
        run: |
          touch .env
          echo "APP_NAME=Keyboard Cowboy" >> .env
          echo -e "APP_SCHEME=Keyboard-Cowboy" >> .env
          echo -e "APP_BUNDLE_IDENTIFIER=com.zenangst.Keyboard-Cowboy" >> .env
          echo -e "TEAM_ID=XXXXXXXXXX" >> .env
          echo -e "PACKAGE_DEVELOPMENT=false" >> .env
          tuist fetch
          tuist generate -n
      - name: Run tests
        uses: sersoft-gmbh/xcodebuild-action@v2
        with:
          workspace: "Keyboard Cowboy.xcworkspace"
          scheme: "Keyboard-Cowboy"
          destination: platform=macOS
          action: test
          result-bundle-path: ResultBundle.xcresult
          sdk: macosx
          build-settings: CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED="NO"
      - name: xcresulttool
        uses: kishikawakatsumi/xcresulttool@v1
        with:
          path: ResultBundle.xcresult
        if: success() || failure()
      - name: Upload test results
        uses: actions/upload-artifact@v2
        with:
          name: Test results
          path: ResultBundle.xcresult
      - name: Add comment to PR
        uses: actions/github-script@v6
        if: always()
        with:
          script: |
            const name = '${{ github.workflow   }}';
            const url = '${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}';
            const success = '${{ job.status }}' === 'success';
            const body = `${name}: ${success ? 'succeeded ✅' : 'failed ❌'}\n${url}\n\n@${{ github.event.pull_request.user.login }}`;

            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: body
            })

while scanning a simple key
  in "<file>", line 25, column 9
could not find expected ':'
  in "<file>", line 26, column 9
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 8. Use commit hash instead of tags for action versions (line 53)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 8. Use commit hash instead of tags for action versions (line 58)
	- 8. Use commit hash instead of tags for action versions (line 38)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
9:9: wrong indentation: expected 6 but found 8 (indentation)
26:9: syntax error: could not find expected ':' (syntax)

2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 115
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: on:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 2: pull_request: {}
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 3: name: Test
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 4: jobs:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 5: test:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 6: name: Test
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 7: runs-on: macos-13
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 8: strategy:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 9: matrix:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 10: xcode: ['15.2']
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 11: steps:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 12: - name: Set Xcode ${{ matrix.xcode }}
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 13: run: |
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 14: echo "Available Xcode versions:"
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 15: ls /Applications | grep Xcode
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 16: echo "Choosing Xcode_${{ matrix.xcode }}.app"
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 17: sudo xcode-select -s /Applications/Xcode_${{ matrix.xcode }}.app
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 18: xcodebuild -version
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 19: swift --version
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 20: swift package --version
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 21: - name: Checkout
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 22: uses: actions/checkout@main
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 23: - name: misu
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 24: run: |
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 25: curl https://mise.jdx.dev/install.sh | sh
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 26: echo "$HOME/.local/share/mise/bin" >> $GITHUB_PATH
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 27: echo "$HOME/.local/share/mise/shims" >> $GITHUB_PATH
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 28: - name: Install & Run tuist
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 29: run: |
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 30: touch .env
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 31: echo "APP_NAME=Keyboard Cowboy" >> .env
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 32: echo -e "APP_SCHEME=Keyboard-Cowboy" >> .env
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 33: echo -e "APP_BUNDLE_IDENTIFIER=com.zenangst.Keyboard-Cowboy" >> .env
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 34: echo -e "TEAM_ID=XXXXXXXXXX" >> .env
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 35: echo -e "PACKAGE_DEVELOPMENT=false" >> .env
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 36: tuist fetch
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 37: tuist generate -n
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 38: - name: Run tests
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 39: uses: sersoft-gmbh/xcodebuild-action@v2
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 40: with:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 41: workspace: "Keyboard Cowboy.xcworkspace"
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 42: scheme: "Keyboard-Cowboy"
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 43: destination: platform=macOS
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 44: action: test
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 45: result-bundle-path: ResultBundle.xcresult
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 46: sdk: macosx
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 47: build-settings: CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED="NO"
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 48: - name: xcresulttool
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 49: uses: kishikawakatsumi/xcresulttool@v1
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 50: with:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 51: path: ResultBundle.xcresult
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 52: if: success() || failure()
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 53: - name: Upload test results
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 54: uses: actions/upload-artifact@v2
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 55: with:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 56: name: Test results
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 57: path: ResultBundle.xcresult
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 58: - name: Add comment to PR
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 59: uses: actions/github-script@v6
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 60: if: always()
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 61: with:
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 62: script: |
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 63: const name = '${{ github.workflow   }}';
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 64: const url = '${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}';
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 65: const success = '${{ job.status }}' === 'success';
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 66: const body = `${name}: ${success ? 'succeeded ✅' : 'failed ❌'}\n${url}\n\n@${{ github.event.pull_request.user.login }}`;
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 68: await github.rest.issues.createComment({
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 69: issue_number: context.issue.number,
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 70: owner: context.repo.owner,
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 71: repo: context.repo.repo,
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 72: body: body
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 73: })
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 75: while scanning a simple key
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 76: in "<file>", line 25, column 9
2025-11-05 14:48:33,729 - utils.process_runner - DEBUG - 라인 77: could not find expected ':'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 78: in "<file>", line 26, column 9
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 79: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 93: We have found 18 smells
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 94: - 8. Use commit hash instead of tags for action versions (line 53)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 53)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 95: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 96: - 8. Use commit hash instead of tags for action versions (line 58)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 58)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 97: - 8. Use commit hash instead of tags for action versions (line 38)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 38)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 98: - 12. Avoid workflows without comments
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 99: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 111: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 112: The following styling errors were found:
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 113: 9:9: wrong indentation: expected 6 but found 8 (indentation)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 라인 114: 26:9: syntax error: could not find expected ':' (syntax)
2025-11-05 14:48:33,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 26:9: syntax error: could not find expected ':' (syntax)
2025-11-05 14:48:33,730 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:48:33,730 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:48:33,730 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:48:33,730 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:48:33,730 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:48:33,730 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:48:33,730 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
on:
  pull_request: {}
name: Test
jobs:
  test:
    name: Test
    runs-on: macos-13
    strategy:
        matrix:
          xcode: ['15.2']
    steps:
      - name: Set Xcode ${{ matrix.xcode }}
        run: |
          echo "Available Xcode versions:"
          ls /Applications | grep Xcode
          echo "Choosing Xcode_${{ matrix.xcode }}.app"
          sudo xcode-select -s /Applications/Xcode_${{ ma...
2025-11-05 14:48:33,730 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:48:33,731 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:48:33,731 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:48:33,732 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:48:56,948 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:48:56,949 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:48:56,949 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:48:56,950 - main - DEBUG - 추출된 YAML:
name: Test
on:
  pull_request:
    branches: [main]
jobs:
  test:
    name: Test
    runs-on: macos-13
    strategy:
      matrix:
        xcode: ['15.2']
    steps:
      - name: Set Xcode version
        run: |
          echo "Available Xcode versions:"
          ls /Applications | grep Xcode
          echo "Choosing Xcode_${{ matrix.xcode }}.app"
          sudo xcode-select -s /Applications/Xcode_${{ matrix.xcode }}.app
          xcodebuild -version
          swift --version
          swift package --version
      - name: Checkout code
        uses: actions/checkout@main
      - name: Install misu
        run: |
          curl https://mise.jdx.dev/install.sh | sh
          echo "$HOME/.local/share/mise/bin" >> $GITHUB_PATH
          echo "$HOME/.local/share/mise/shims" >> $GITHUB_PATH
      - name: Install & Run tuist
        run: |
          touch .env
          echo "APP_NAME=Keyboard Cowboy" >> .env
          echo -e "APP_SCHEME=Keyboard-Cowboy" >> .env
          echo -e "APP_BUNDLE_IDENTIFIER=com.zenangst.Keyboard-Cowboy" >> .env
          echo -e "TEAM_ID=XXXXXXXXXX" >> .env
          echo -e "PACKAGE_DEVELOPMENT=false" >> .env
          tuist fetch
          tuist generate -n
      - name: Run tests
        uses: sersoft-gmbh/xcodebuild-action@v2
        with:
          workspace: "Keyboard Cowboy.xcworkspace"
          scheme: "Keyboard-Cowboy"
          destination: platform=macOS
          action: test
          result-bundle-path: ResultBundle.xcresult
          sdk: macosx
          build-settings: CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED="NO"
      - name: xcresulttool
        uses: kishikawakatsumi/xcresulttool@v1
        with:
          path: ResultBundle.xcresult
        if: success() || failure()
      - name: Upload test results
        uses: actions/upload-artifact@v2
        with:
          name: Test results
          path: ResultBundle.xcresult
      - name: Add comment to PR
        uses: actions/github-script@v6
        if: always()
        with:
          script: |
            const name = '${{ github.workflow }}';
            const url = '${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}';
            const success = '${{ job.status }}' === 'success';
            const body = `${name}: ${success ? 'succeeded ✅' : 'failed ❌'}\n${url}\n\n@${{ github.event.pull_request.user.login }}`;

            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: body
            })
2025-11-05 14:48:56,950 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:48:56,950 - main - DEBUG - 검증할 YAML 길이: 2635 문자
2025-11-05 14:48:56,950 - main - DEBUG - YAML 시작 부분: 'name: Test\non:\n  pull_request:\n    branches: [main]\njobs:\n  test:\n    name: Test\n    runs-on: macos-'
2025-11-05 14:48:56,961 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Test', 'on': {'pull_request': {'branches': ['main']}}, 'jobs': {'test': {'name': 'Test', 'runs-on': 'macos-13', 'strategy': {'matrix': {'xcode': ['15.2']}}, 'steps': [{'name': 'Set Xcode version', 'run': 'echo "Available Xcode versions:"\nls /Applications | grep Xcode\necho "Choosing Xcode_${{ matrix.xcode }}.app"\nsudo xcode-select -s /Applications/Xcode_${{ matrix.xcode }}.app\nxcodebuild -version\nswift --version\nswift package --version\n'}, {'name': 'Checkout code', 'uses': 'actions/checkout@main'}, {'name': 'Install misu', 'run': 'curl https://mise.jdx.dev/install.sh | sh\necho "$HOME/.local/share/mise/bin" >> $GITHUB_PATH\necho "$HOME/.local/share/mise/shims" >> $GITHUB_PATH\n'}, {'name': 'Install & Run tuist', 'run': 'touch .env\necho "APP_NAME=Keyboard Cowboy" >> .env\necho -e "APP_SCHEME=Keyboard-Cowboy" >> .env\necho -e "APP_BUNDLE_IDENTIFIER=com.zenangst.Keyboard-Cowboy" >> .env\necho -e "TEAM_ID=XXXXXXXXXX" >> .env\necho -e "PACKAGE_DEVELOPMENT=false" >> .env\ntuist fetch\ntuist generate -n\n'}, {'name': 'Run tests', 'uses': 'sersoft-gmbh/xcodebuild-action@v2', 'with': {'workspace': 'Keyboard Cowboy.xcworkspace', 'scheme': 'Keyboard-Cowboy', 'destination': 'platform=macOS', 'action': 'test', 'result-bundle-path': 'ResultBundle.xcresult', 'sdk': 'macosx', 'build-settings': 'CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED="NO"'}}, {'name': 'xcresulttool', 'uses': 'kishikawakatsumi/xcresulttool@v1', 'with': {'path': 'ResultBundle.xcresult'}, 'if': 'success() || failure()'}, {'name': 'Upload test results', 'uses': 'actions/upload-artifact@v2', 'with': {'name': 'Test results', 'path': 'ResultBundle.xcresult'}}, {'name': 'Add comment to PR', 'uses': 'actions/github-script@v6', 'if': 'always()', 'with': {'script': "const name = '${{ github.workflow }}';\nconst url = '${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}';\nconst success = '${{ job.status }}' === 'success';\nconst body = `${name}: ${success ? 'succeeded ✅' : 'failed ❌'}\\n${url}\\n\\n@${{ github.event.pull_request.user.login }}`;\n\nawait github.rest.issues.createComment({\n  issue_number: context.issue.number,\n  owner: context.repo.owner,\n  repo: context.repo.repo,\n  body: body\n})"}}]}}}
2025-11-05 14:48:56,962 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_baseline_repaired.yml
2025-11-05 14:48:56,962 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:48:56,962 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_baseline_repaired.yml
2025-11-05 14:48:56,962 - __main__ - INFO - === 파일 58/100 베이스라인 복구 완료 ===
2025-11-05 14:48:56,962 - __main__ - INFO - ✅ 성공 (23.74초): 9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40 -> 9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_baseline_repaired.yml
2025-11-05 14:48:56,962 - __main__ - INFO - [59/100] 처리 중: d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 14:48:56,962 - __main__ - INFO - 입력 파일 경로: data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 14:48:56,962 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_baseline_repaired.yml
2025-11-05 14:48:56,962 - __main__ - INFO - === 파일 59/100 베이스라인 복구 시작 ===
2025-11-05 14:48:56,962 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:48:56,962 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:48:56,963 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 14:48:56,963 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:48:56,963 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:48:56,963 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 14:48:56,969 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:48:56,969 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:48:56,969 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:48:56,969 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:48:56,969 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.37초)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Hook Slinger Build & Test

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run the Linters, Build the Containers & Run the Tests
        run: |
          pip install docker-compose
          make start_tests


      - name: Check Test Log
          run: |
            docker logs -f hook-slinger_test_1

mapping values are not allowed here
  in "<file>", line 23, column 14
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
23:14: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 61
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Hook Slinger Build & Test
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 6: - main
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 8: branches:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 9: - main
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 12: build:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 13: runs-on: ubuntu-latest
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v2
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 16: - name: Run the Linters, Build the Containers & Run the Tests
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 17: run: |
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 18: pip install docker-compose
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 19: make start_tests
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 22: - name: Check Test Log
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 23: run: |
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 24: docker logs -f hook-slinger_test_1
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 26: mapping values are not allowed here
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 27: in "<file>", line 23, column 14
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 28: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 42: We have found 16 smells
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 43: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 44: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 45: - 12. Avoid workflows without comments
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 46: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:48:57,344 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 59: The following styling errors were found:
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 라인 60: 23:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:48:57,345 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 23:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:48:57,345 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:48:57,345 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:48:57,345 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:48:57,345 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:48:57,345 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:48:57,345 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:48:57,345 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Hook Slinger Build & Test

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run the Linters, Build the Containers & Run the Tests
        run: |
          pip install docker-compose
          make start_tests


      - name: Check Test Log
          run: |
         ...
2025-11-05 14:48:57,345 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:48:57,345 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:48:57,345 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:48:57,346 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:49:04,959 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1442
2025-11-05 14:49:04,961 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:49:04,961 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:49:04,961 - main - DEBUG - 추출된 YAML:
name: Hook Slinger Build & Test

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install dependencies and run tests
        run: |
          pip install docker-compose
          make start_tests

      - name: Check test log
        run: |
          docker logs -f hook-slinger_test_1
2025-11-05 14:49:04,961 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:49:04,961 - main - DEBUG - 검증할 YAML 길이: 420 문자
2025-11-05 14:49:04,961 - main - DEBUG - YAML 시작 부분: 'name: Hook Slinger Build & Test\n\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    branches'
2025-11-05 14:49:04,963 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Hook Slinger Build & Test', 'on': {'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Install dependencies and run tests', 'run': 'pip install docker-compose\nmake start_tests\n'}, {'name': 'Check test log', 'run': 'docker logs -f hook-slinger_test_1'}]}}}
2025-11-05 14:49:04,963 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_baseline_repaired.yml
2025-11-05 14:49:04,963 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:49:04,964 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_baseline_repaired.yml
2025-11-05 14:49:04,964 - __main__ - INFO - === 파일 59/100 베이스라인 복구 완료 ===
2025-11-05 14:49:04,964 - __main__ - INFO - ✅ 성공 (8.00초): d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb -> d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_baseline_repaired.yml
2025-11-05 14:49:04,964 - __main__ - INFO - [60/100] 처리 중: 6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:04,964 - __main__ - INFO - 입력 파일 경로: data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:04,964 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_baseline_repaired.yml
2025-11-05 14:49:04,964 - __main__ - INFO - === 파일 60/100 베이스라인 복구 시작 ===
2025-11-05 14:49:04,964 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:49:04,964 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:49:04,965 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:04,965 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:49:04,965 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:49:04,965 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:04,976 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:49:04,977 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:49:04,977 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:49:04,977 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:49:04,978 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Build-Release

on:
  workflow_dispatch:
    inputs:
      tag:
        description: "tag: git tag you want create. (sample 1.0.0)"
        required: true
      dry_run:
        description: "dry_run: true will never create release/nuget."
        required: true
        default: "false"

env:
  GIT_TAG: ${{ github.event.inputs.tag }}
  DRY_RUN: ${{ github.event.inputs.dry_run }}
  DOTNET_SDK_VERISON_5: 3.1.x
  DOTNET_SDK_VERISON_5: 5.0.100

jobs:
  build-dotnet:
    runs-on: ubuntu-latest
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 1
      DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
      NUGET_XMLDOC_MODE: skip
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-dotnet@v1
        with:
          dotnet-version: ${{ env.DOTNET_SDK_VERISON_5 }}
      # pack nuget
      - run: dotnet build -c Release -p:Version=${{ env.GIT_TAG }}
      # - run: dotnet test -c Release --no-build
      - run: dotnet pack ./src/DFrame/DFrame.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.LoadTesting/DFrame.LoadTesting.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.OutOfProcess/DFrame.OutOfProcess.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.Kubernetes/DFrame.Kubernetes.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.Ecs/DFrame.Ecs.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - uses: actions/upload-artifact@v2
        with:
          name: nuget
          path: ./publish

  create-release:
    if: github.event.inputs.dry_run == 'false'
    needs: [build-dotnet]
    runs-on: ubuntu-latest
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 1
      DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
      NUGET_XMLDOC_MODE: skip
    steps:
      # setup dotnet for nuget push
      - uses: actions/setup-dotnet@v1
        with:
          dotnet-version: ${{ env.DOTNET_SDK_VERISON_5 }}
      # tag
      - uses: actions/checkout@v2
      - name: tag
        run: git tag ${{ env.GIT_TAG }}
      - name: Push changes
        uses: ad-m/github-push-action@master
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          branch: ${{ github.ref }}
          tags: true
      # Create Releases
      - uses: actions/create-release@v1
        id: create_release
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ env.GIT_TAG }}
          release_name: Ver.${{ env.GIT_TAG }}
          draft: true
          prerelease: false
      # Download (All) Artifacts to current directory
      - uses: actions/download-artifact@v2
      # Upload to NuGet
      - run: dotnet nuget push "./nuget/*.nupkg" -s https://www.nuget.org/api/v2/package -k ${{ secrets.NUGET_KEY }}

while constructing a mapping
  in "<file>", line 15, column 3
found duplicate key "DOTNET_SDK_VERISON_5" with value "5.0.100" (original value: "3.1.x")
  in "<file>", line 18, column 3

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 21)
	- 8. Use commit hash instead of tags for action versions (line 78)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 8. Use commit hash instead of tags for action versions (line 39)
	- 8. Use commit hash instead of tags for action versions (line 68)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
18:3: duplication of key "DOTNET_SDK_VERISON_5" in mapping (key-duplicates)

2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 127
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Build-Release
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 4: workflow_dispatch:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 5: inputs:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 6: tag:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 7: description: "tag: git tag you want create. (sample 1.0.0)"
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 9: dry_run:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 10: description: "dry_run: true will never create release/nuget."
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 11: required: true
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 12: default: "false"
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 14: env:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 15: GIT_TAG: ${{ github.event.inputs.tag }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 16: DRY_RUN: ${{ github.event.inputs.dry_run }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 17: DOTNET_SDK_VERISON_5: 3.1.x
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 18: DOTNET_SDK_VERISON_5: 5.0.100
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 20: jobs:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 21: build-dotnet:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 22: runs-on: ubuntu-latest
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 23: env:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 24: DOTNET_CLI_TELEMETRY_OPTOUT: 1
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 25: DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 26: NUGET_XMLDOC_MODE: skip
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 27: steps:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 28: - uses: actions/checkout@v2
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 29: - uses: actions/setup-dotnet@v1
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 30: with:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 31: dotnet-version: ${{ env.DOTNET_SDK_VERISON_5 }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 32: # pack nuget
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 33: - run: dotnet build -c Release -p:Version=${{ env.GIT_TAG }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 34: # - run: dotnet test -c Release --no-build
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 35: - run: dotnet pack ./src/DFrame/DFrame.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 36: - run: dotnet pack ./src/DFrame.LoadTesting/DFrame.LoadTesting.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 37: - run: dotnet pack ./src/DFrame.OutOfProcess/DFrame.OutOfProcess.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 38: - run: dotnet pack ./src/DFrame.Kubernetes/DFrame.Kubernetes.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 39: - run: dotnet pack ./src/DFrame.Ecs/DFrame.Ecs.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 40: - uses: actions/upload-artifact@v2
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 41: with:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 42: name: nuget
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 43: path: ./publish
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 45: create-release:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 46: if: github.event.inputs.dry_run == 'false'
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 47: needs: [build-dotnet]
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 48: runs-on: ubuntu-latest
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 49: env:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 50: DOTNET_CLI_TELEMETRY_OPTOUT: 1
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 51: DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 52: NUGET_XMLDOC_MODE: skip
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 53: steps:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 54: # setup dotnet for nuget push
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 55: - uses: actions/setup-dotnet@v1
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 56: with:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 57: dotnet-version: ${{ env.DOTNET_SDK_VERISON_5 }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 58: # tag
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 59: - uses: actions/checkout@v2
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 60: - name: tag
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 61: run: git tag ${{ env.GIT_TAG }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 62: - name: Push changes
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 63: uses: ad-m/github-push-action@master
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 64: with:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 65: github_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 66: branch: ${{ github.ref }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 67: tags: true
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 68: # Create Releases
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 69: - uses: actions/create-release@v1
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 70: id: create_release
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 71: env:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 72: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 73: with:
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 74: tag_name: ${{ env.GIT_TAG }}
2025-11-05 14:49:05,356 - utils.process_runner - DEBUG - 라인 75: release_name: Ver.${{ env.GIT_TAG }}
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 76: draft: true
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 77: prerelease: false
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 78: # Download (All) Artifacts to current directory
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 79: - uses: actions/download-artifact@v2
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 80: # Upload to NuGet
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 81: - run: dotnet nuget push "./nuget/*.nupkg" -s https://www.nuget.org/api/v2/package -k ${{ secrets.NUGET_KEY }}
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 83: while constructing a mapping
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 84: in "<file>", line 15, column 3
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 85: found duplicate key "DOTNET_SDK_VERISON_5" with value "5.0.100" (original value: "3.1.x")
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 86: in "<file>", line 18, column 3
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 88: To suppress this check see:
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 89: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 91: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 104: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 105: We have found 19 smells
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 106: - 3. Use fixed version for runs-on argument (line 21)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 21)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 107: - 8. Use commit hash instead of tags for action versions (line 78)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 78)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 108: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 109: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 39)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 39)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 111: - 8. Use commit hash instead of tags for action versions (line 68)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 68)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 112: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 125: The following styling errors were found:
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:49:05,357 - utils.process_runner - DEBUG - 라인 126: 18:3: duplication of key "DOTNET_SDK_VERISON_5" in mapping (key-duplicates)
2025-11-05 14:49:05,357 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:49:05,357 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:49:05,357 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:49:05,357 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:49:05,357 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:49:05,358 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:49:05,358 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build-Release

on:
  workflow_dispatch:
    inputs:
      tag:
        description: "tag: git tag you want create. (sample 1.0.0)"
        required: true
      dry_run:
        description: "dry_run: true will never create release/nuget."
        required: true
        default: "false"

env:
  GIT_TAG: ${{ github.event.inputs.tag }}
  DRY_RUN: ${{ github.event.inputs.dry_run }}
  DOTNET_SDK_VERISON...
2025-11-05 14:49:05,358 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:49:05,358 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:49:05,358 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:49:05,359 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:49:33,317 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:49:33,319 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:49:33,319 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:49:33,319 - main - DEBUG - 추출된 YAML:
name: Build-Release

on:
  workflow_dispatch:
    inputs:
      tag:
        description: "tag: git tag you want create. (sample 1.0.0)"
        required: true
      dry_run:
        description: "dry_run: true will never create release/nuget."
        required: true
        default: "false"

env:
  GIT_TAG: ${{ github.event.inputs.tag }}
  DRY_RUN: ${{ github.event.inputs.dry_run }}
  DOTNET_SDK_VERSION_5: 3.1.x

jobs:
  build-dotnet:
    runs-on: ubuntu-latest
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 1
      DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
      NUGET_XMLDOC_MODE: skip
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-dotnet@v1
        with:
          dotnet-version: ${{ env.DOTNET_SDK_VERSION_5 }}
      # pack nuget
      - run: dotnet build -c Release -p:Version=${{ env.GIT_TAG }}
      # - run: dotnet test -c Release --no-build
      - run: dotnet pack ./src/DFrame/DFrame.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.LoadTesting/DFrame.LoadTesting.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.OutOfProcess/DFrame.OutOfProcess.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.Kubernetes/DFrame.Kubernetes.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.Ecs/DFrame.Ecs.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - uses: actions/upload-artifact@v2
        with:
          name: nuget
          path: ./publish

  create-release:
    if: github.event.inputs.dry_run == 'false'
    needs: [build-dotnet]
    runs-on: ubuntu-latest
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 1
      DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
      NUGET_XMLDOC_MODE: skip
    steps:
      # setup dotnet for nuget push
      - uses: actions/setup-dotnet@v1
        with:
          dotnet-version: ${{ env.DOTNET_SDK_VERSION_5 }}
      # tag
      - uses: actions/checkout@v2
      - name: tag
        run: git tag ${{ env.GIT_TAG }}
      - name: Push changes
        uses: ad-m/github-push-action@master
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          branch: ${{ github.ref }}
          tags: true
      # Create Releases
      - uses: actions/create-release@v1
        id: create_release
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ env.GIT_TAG }}
          release_name: Ver.${{ env.GIT_TAG }}
          draft: true
          prerelease: false
      # Download (All) Artifacts to current directory
      - uses: actions/download-artifact@v2
      name: Download Artifact
        with:
          name: nuget
      # Upload to NuGet
      - run: dotnet nuget push "./nuget/*.nupkg" -s https://www.nuget.org/api/v2/package -k ${{ secrets.NUGET_KEY }}
2025-11-05 14:49:33,319 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:49:33,319 - main - DEBUG - 검증할 YAML 길이: 2947 문자
2025-11-05 14:49:33,319 - main - DEBUG - YAML 시작 부분: 'name: Build-Release\n\non:\n  workflow_dispatch:\n    inputs:\n      tag:\n        description: "tag: git '
2025-11-05 14:49:33,328 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block collection
  in "<unicode string>", line 54, column 7:
          - uses: actions/setup-dotnet@v1
          ^
expected <block end>, but found '?'
  in "<unicode string>", line 79, column 7:
          name: Download Artifact
          ^
2025-11-05 14:49:33,328 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:49:33,328 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 14:49:33,328 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_baseline_repaired.yml
2025-11-05 14:49:33,329 - __main__ - INFO - === 파일 60/100 베이스라인 복구 완료 ===
2025-11-05 14:49:33,329 - __main__ - ERROR - ❌ 실패 (28.36초): 6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 14:49:33,329 - __main__ - INFO - [61/100] 처리 중: 7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 14:49:33,329 - __main__ - INFO - 입력 파일 경로: data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 14:49:33,329 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_baseline_repaired.yml
2025-11-05 14:49:33,329 - __main__ - INFO - === 파일 61/100 베이스라인 복구 시작 ===
2025-11-05 14:49:33,329 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:49:33,329 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:49:33,330 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 14:49:33,330 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:49:33,330 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:49:33,330 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 14:49:33,356 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:49:33,356 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:49:33,356 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:49:33,356 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:49:33,356 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.54초)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
We have found 24 smells
	- 3. Use fixed version for runs-on argument (line 28)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 287)
	- 6. Define permissions for workflows with external actions (job at line: 219)
	- 6. Define permissions for workflows with external actions (job at line: 46)
	- 6. Define permissions for workflows with external actions (job at line: 62)
	- 6. Define permissions for workflows with external actions (job at line: 27)
	- 7. Use 'if' for upload-artifact action (line 207)
	- 8. Use commit hash instead of tags for action versions (line 206)
	- 8. Use commit hash instead of tags for action versions (line 51)
	- 8. Use commit hash instead of tags for action versions (line 298)
	- 8. Use commit hash instead of tags for action versions (line 137)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 287)
	- 10. Avoid jobs without timeouts (line: 62)
	- 10. Avoid jobs without timeouts (line: 27)
	- 10. Avoid jobs without timeouts (line: 46)
	- 10. Avoid jobs without timeouts (line: 219)
	- 13. Use names for run steps (lines 38:38)
	- 13. Use names for run steps (lines -1:38)
	- 14. Avoid incorrectly formatted workflows
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
51:5: wrong indentation: expected 6 but found 4 (indentation)
138:5: wrong indentation: expected 6 but found 4 (indentation)
228:14: too many spaces inside braces (braces)
228:34: too many spaces after comma (commas)
228:87: too many spaces inside braces (braces)
229:14: too many spaces inside braces (braces)
229:34: too many spaces after comma (commas)
229:87: too many spaces inside braces (braces)
230:14: too many spaces inside braces (braces)
230:34: too many spaces after comma (commas)
230:87: too many spaces inside braces (braces)
231:14: too many spaces inside braces (braces)
231:34: too many spaces after comma (commas)
231:87: too many spaces inside braces (braces)
232:14: too many spaces inside braces (braces)
232:34: too many spaces after comma (commas)
232:87: too many spaces inside braces (braces)
233:14: too many spaces inside braces (braces)
233:34: too many spaces after comma (commas)
233:59: too many spaces after comma (commas)
233:86: too many spaces inside braces (braces)
234:14: too many spaces inside braces (braces)
234:34: too many spaces after comma (commas)
234:59: too many spaces after comma (commas)
234:85: too many spaces inside braces (braces)
235:14: too many spaces inside braces (braces)
235:34: too many spaces after comma (commas)
235:59: too many spaces after comma (commas)
235:85: too many spaces inside braces (braces)
236:14: too many spaces inside braces (braces)
236:34: too many spaces after comma (commas)
236:59: too many spaces after comma (commas)
236:85: too many spaces inside braces (braces)
237:14: too many spaces inside braces (braces)
237:34: too many spaces after comma (commas)
237:59: too many spaces after comma (commas)
237:84: too many spaces inside braces (braces)
238:14: too many spaces inside braces (braces)
238:34: too many spaces after comma (commas)
238:59: too many spaces after comma (commas)
238:84: too many spaces inside braces (braces)
239:14: too many spaces inside braces (braces)
239:88: too many spaces inside braces (braces)
240:14: too many spaces inside braces (braces)
240:88: too many spaces inside braces (braces)
241:14: too many spaces inside braces (braces)
241:34: too many spaces after comma (commas)
241:59: too many spaces after comma (commas)
241:87: too many spaces inside braces (braces)
244:5: wrong indentation: expected 6 but found 4 (indentation)
275:6: missing starting space in comment (comments)
293:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 80
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 2: We have found 24 smells
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 24 smells
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 28)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 28)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 5: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 287)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 287)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 219)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 219)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 46)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 46)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 62)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 62)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 10: - 6. Define permissions for workflows with external actions (job at line: 27)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 27)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 11: - 7. Use 'if' for upload-artifact action (line 207)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 207)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 206)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 206)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 51)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 51)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 298)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 298)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 15: - 8. Use commit hash instead of tags for action versions (line 137)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 137)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 16: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 17: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 18: - 10. Avoid jobs without timeouts (line: 287)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 287)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 19: - 10. Avoid jobs without timeouts (line: 62)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 62)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 20: - 10. Avoid jobs without timeouts (line: 27)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 27)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 21: - 10. Avoid jobs without timeouts (line: 46)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 46)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 22: - 10. Avoid jobs without timeouts (line: 219)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 219)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 23: - 13. Use names for run steps (lines 38:38)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 38:38)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 24: - 13. Use names for run steps (lines -1:38)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:38)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 25: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 26: - 22. Avoid deploying jobs on forks
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 27: The following styling errors were found:
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 28: 51:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 29: 138:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 30: 228:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 31: 228:34: too many spaces after comma (commas)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 32: 228:87: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 33: 229:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 34: 229:34: too many spaces after comma (commas)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 35: 229:87: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 36: 230:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 37: 230:34: too many spaces after comma (commas)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 38: 230:87: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 39: 231:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 40: 231:34: too many spaces after comma (commas)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 41: 231:87: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 42: 232:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,894 - utils.process_runner - DEBUG - 라인 43: 232:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 44: 232:87: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 45: 233:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 46: 233:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 47: 233:59: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 48: 233:86: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 49: 234:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 50: 234:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 51: 234:59: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 52: 234:85: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 53: 235:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 54: 235:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 55: 235:59: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 56: 235:85: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 57: 236:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 58: 236:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 59: 236:59: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 60: 236:85: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 61: 237:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 62: 237:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 63: 237:59: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 64: 237:84: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 65: 238:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 66: 238:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 67: 238:59: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 68: 238:84: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 69: 239:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 70: 239:88: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 71: 240:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 72: 240:88: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 73: 241:14: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 74: 241:34: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 75: 241:59: too many spaces after comma (commas)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 76: 241:87: too many spaces inside braces (braces)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 77: 244:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 78: 275:6: missing starting space in comment (comments)
2025-11-05 14:49:33,895 - utils.process_runner - DEBUG - 라인 79: 293:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:49:33,895 - utils.process_runner - INFO - 총 7개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:49:33,895 - utils.process_runner - INFO - Smell detector 실행 완료: 7개 스멜 발견
2025-11-05 14:49:33,895 - main - INFO - Smell detector에서 7개 스멜 발견
2025-11-05 14:49:33,895 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:49:33,895 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:49:33,895 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: "Building and testing ArkScript"

on:
  push:
    branches: [dev, master]
    paths-ignore:
      - '.github/workflows/docker.yml'
      - '.github/workflows/label.yml'
      - '.github/workflows/lizard.yml'
      - '.github/workflows/release.yml'
      - '.vscode/*.*'
      - 'examples/*.ark'
      - 'images/*.*'
      - '*.md'
      - 'docs/*.*'
      - 'Dockerfile'
      - '.dockerignore'
      ...
2025-11-05 14:49:33,895 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:49:33,895 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:49:33,895 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:49:33,896 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:50:04,371 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:50:04,399 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:50:04,409 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:50:04,410 - main - DEBUG - 추출된 YAML:
name: "Building and testing ArkScript"

on:
  push:
    branches: [dev, master]
    paths-ignore:
      - '.github/workflows/docker.yml'
      - '.github/workflows/label.yml'
      - '.github/workflows/lizard.yml'
      - '.github/workflows/release.yml'
      - '.vscode/*.*'
      - 'examples/*.ark'
      - 'images/*.*'
      - '*.md'
      - 'docs/*.*'
      - 'Dockerfile'
      - '.dockerignore'
      - 'LICENCE'
      - '.gitignore'

  pull_request:

env:
  BUILD_TYPE: Debug
  SQLITE_VERSION: 3390100  # 3.39.1

jobs:
  check:
    name: Formatting check
    runs-on: ubuntu-latest
    timeout-minutes: 30
    steps:
      - uses: actions/checkout@v3

      - name: Run clang-format check for C++
        uses: HorstBaerbel/action-clang-format@master
        with:
          scandir: ${{ matrix.path }}
          style: 'file'

  repo_visualizer:
    runs-on: ubuntu-latest
    needs: [check]
    timeout-minutes: 30
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Update diagram
        uses: githubocto/repo-visualizer@main
        with:
          excluded_paths: 'dist,node_modules,submodules'
          should_push: false
          output_file: 'diagram.svg'
          artifact_name: 'diagram'

  build:
    runs-on: ${{ matrix.config.os }}
    name: ${{ matrix.config.name }}
    needs: [check]
    timeout-minutes: 60
    strategy:
      fail-fast: false
      matrix:
        config:
          - {
            os: ubuntu-latest, name: "Ubuntu Clang 14", cc: "clang-14", cxx: "clang++-14",
            artifact: "ubuntu-clang-14", sanitizers: "On", preconfigure: ""
          }
          # ... (rest of the matrix)

    steps:
      - uses: actions/checkout@v3
        with:
          submodules: recursive

      - name: Setup compilers
        uses: ./.github/workflows/setup-compilers

      - name: Setup dependencies
        uses: ./.github/workflows/setup-deps

      - name: Configure CMake Ark
        shell: bash
        run: |
          ${{ matrix.config.preconfigure }}
          cmake -Bbuild \
            -DCMAKE_BUILD_TYPE=$BUILD_TYPE \
            -DCMAKE_C_COMPILER=${{ matrix.config.cc }} \
            -DCMAKE_CXX_COMPILER=${{ matrix.config.cxx }} \
            -DARK_SANITIZERS=${{ matrix.config.sanitizers }} \
            -DARK_BUILD_EXE=On -DARK_BUILD_MODULES=On -DARK_MOD_ALL=On -DARK_BUILD_PARSER_TESTS=On

      # ... (rest of the build steps)

  tests:
    runs-on: ${{ matrix.config.os }}
    name: Tests on ${{ matrix.config.name }}
    needs: [build]
    timeout-minutes: 60
    strategy:
      fail-fast: false
      matrix:
        config:
          - { os: ubuntu-latest,  name: "Ubuntu Clang 14", artifact: "ubuntu-clang-14" }
          # ... (rest of the matrix)

    steps:
      - uses: actions/checkout@v3
        with:
          submodules: recursive

      - name: Setup tests
        uses: ./.github/workflows/setup-tests

      # ... (rest of the test steps)

  valgrind:
    runs-on: ubuntu-latest
    name: Ubuntu Clang 11 Valgrind
    needs: [build]
    timeout-minutes: 60
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: recursive

      # ... (rest of the valgrind steps)
2025-11-05 14:50:04,410 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:50:04,410 - main - DEBUG - 검증할 YAML 길이: 3204 문자
2025-11-05 14:50:04,410 - main - DEBUG - YAML 시작 부분: 'name: "Building and testing ArkScript"\n\non:\n  push:\n    branches: [dev, master]\n    paths-ignore:\n  '
2025-11-05 14:50:04,467 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Building and testing ArkScript', 'on': {'push': {'branches': ['dev', 'master'], 'paths-ignore': ['.github/workflows/docker.yml', '.github/workflows/label.yml', '.github/workflows/lizard.yml', '.github/workflows/release.yml', '.vscode/*.*', 'examples/*.ark', 'images/*.*', '*.md', 'docs/*.*', 'Dockerfile', '.dockerignore', 'LICENCE', '.gitignore']}, 'pull_request': None}, 'env': {'BUILD_TYPE': 'Debug', 'SQLITE_VERSION': 3390100}, 'jobs': {'check': {'name': 'Formatting check', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 30, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Run clang-format check for C++', 'uses': 'HorstBaerbel/action-clang-format@master', 'with': {'scandir': '${{ matrix.path }}', 'style': 'file'}}]}, 'repo_visualizer': {'runs-on': 'ubuntu-latest', 'needs': ['check'], 'timeout-minutes': 30, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3'}, {'name': 'Update diagram', 'uses': 'githubocto/repo-visualizer@main', 'with': {'excluded_paths': 'dist,node_modules,submodules', 'should_push': False, 'output_file': 'diagram.svg', 'artifact_name': 'diagram'}}]}, 'build': {'runs-on': '${{ matrix.config.os }}', 'name': '${{ matrix.config.name }}', 'needs': ['check'], 'timeout-minutes': 60, 'strategy': {'fail-fast': False, 'matrix': {'config': [{'os': 'ubuntu-latest', 'name': 'Ubuntu Clang 14', 'cc': 'clang-14', 'cxx': 'clang++-14', 'artifact': 'ubuntu-clang-14', 'sanitizers': 'On', 'preconfigure': ''}]}}, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'submodules': 'recursive'}}, {'name': 'Setup compilers', 'uses': './.github/workflows/setup-compilers'}, {'name': 'Setup dependencies', 'uses': './.github/workflows/setup-deps'}, {'name': 'Configure CMake Ark', 'shell': 'bash', 'run': '${{ matrix.config.preconfigure }}\ncmake -Bbuild \\\n  -DCMAKE_BUILD_TYPE=$BUILD_TYPE \\\n  -DCMAKE_C_COMPILER=${{ matrix.config.cc }} \\\n  -DCMAKE_CXX_COMPILER=${{ matrix.config.cxx }} \\\n  -DARK_SANITIZERS=${{ matrix.config.sanitizers }} \\\n  -DARK_BUILD_EXE=On -DARK_BUILD_MODULES=On -DARK_MOD_ALL=On -DARK_BUILD_PARSER_TESTS=On\n'}]}, 'tests': {'runs-on': '${{ matrix.config.os }}', 'name': 'Tests on ${{ matrix.config.name }}', 'needs': ['build'], 'timeout-minutes': 60, 'strategy': {'fail-fast': False, 'matrix': {'config': [{'os': 'ubuntu-latest', 'name': 'Ubuntu Clang 14', 'artifact': 'ubuntu-clang-14'}]}}, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'submodules': 'recursive'}}, {'name': 'Setup tests', 'uses': './.github/workflows/setup-tests'}]}, 'valgrind': {'runs-on': 'ubuntu-latest', 'name': 'Ubuntu Clang 11 Valgrind', 'needs': ['build'], 'timeout-minutes': 60, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'submodules': 'recursive'}}]}}}
2025-11-05 14:50:04,493 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_baseline_repaired.yml
2025-11-05 14:50:04,493 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:50:04,493 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_baseline_repaired.yml
2025-11-05 14:50:04,493 - __main__ - INFO - === 파일 61/100 베이스라인 복구 완료 ===
2025-11-05 14:50:04,493 - __main__ - INFO - ✅ 성공 (31.16초): 7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c -> 7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_baseline_repaired.yml
2025-11-05 14:50:04,494 - __main__ - INFO - [62/100] 처리 중: 237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:04,494 - __main__ - INFO - 입력 파일 경로: data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:04,494 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_baseline_repaired.yml
2025-11-05 14:50:04,494 - __main__ - INFO - === 파일 62/100 베이스라인 복구 시작 ===
2025-11-05 14:50:04,494 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:50:04,494 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:50:04,494 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:04,494 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:50:04,495 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:50:04,495 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:04,578 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.08초)
2025-11-05 14:50:04,579 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:50:04,579 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:50:04,579 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:50:04,580 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:05,308 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.73초)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
We have found 19 smells
	- 2. Prevent running issue/PR actions on forks line 77:78
	- 3. Use fixed version for runs-on argument (line 13)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 35)
	- 6. Define permissions for workflows with external actions (job at line: 13)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 8. Use commit hash instead of tags for action versions (line 64)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 71)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 35)
	- 10. Avoid jobs without timeouts (line: 13)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
20:13: wrong indentation: expected 10 but found 12 (indentation)
25:13: wrong indentation: expected 10 but found 12 (indentation)

2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 25
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 2: We have found 19 smells
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line 77:78
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line 77:78
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 6: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 35)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 35)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 13)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 64)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 64)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 71)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 71)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 15: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 35)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 35)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 17: - 10. Avoid jobs without timeouts (line: 13)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 13)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 18: - 12. Avoid workflows without comments
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 19: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 20: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 21: - 22. Avoid deploying jobs on forks
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 22: The following styling errors were found:
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 23: 20:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:50:05,309 - utils.process_runner - DEBUG - 라인 24: 25:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 14:50:05,309 - utils.process_runner - INFO - 총 5개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:50:05,309 - utils.process_runner - INFO - Smell detector 실행 완료: 5개 스멜 발견
2025-11-05 14:50:05,309 - main - INFO - Smell detector에서 5개 스멜 발견
2025-11-05 14:50:05,309 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:50:05,310 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:50:05,310 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Tests

on:
  push:
    branches:
      - 1.0
      - 1.1
      - 1.2
      - develop
  pull_request:

jobs:
  frontendTests:
    runs-on: ubuntu-latest
    name: JavaScript
    steps:
      - name: Checkout changes
        uses: actions/checkout@v2
        with:
            fetch-depth: 0

      - name: Install Node
        uses: actions/setup-node@v1
        with:
            node-version: 12

   ...
2025-11-05 14:50:05,310 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:50:05,310 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:50:05,310 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:50:05,311 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:50:43,394 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:50:43,396 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:50:43,396 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:50:43,397 - main - DEBUG - 추출된 YAML:
name: Tests

on:
  push:
    branches:
      - 1.0
      - 1.1
      - 1.2
      - develop
  pull_request:

jobs:
  frontendTests:
    runs-on: ubuntu-latest
    name: JavaScript
    steps:
      - name: Checkout changes
        uses: actions/checkout@v2
        with:
          fetch-depth: 0

      - name: Install Node
        uses: actions/setup-node@v1
        with:
          node-version: 12

      - name: Install Node dependencies
        working-directory: ./modules/system/tests/js
        run: npm install

      - name: Run tests
        working-directory: ./modules/system/tests/js
        run: npm run test

  phpUnitTests:
    strategy:
      max-parallel: 8
      matrix:
        operatingSystem: [ubuntu-latest, windows-latest]
        phpVersion: ['8.0', '8.1']
      fail-fast: false
    runs-on: ${{ matrix.operatingSystem }}
    name: ${{ matrix.operatingSystem }} / PHP ${{ matrix.phpVersion }}
    env:
      extensions: curl, fileinfo, gd, mbstring, openssl, pdo, pdo_sqlite, sqlite3, xml, zip
      key: winter-cms-cache-develop
    steps:
      - name: Cancel previous incomplete runs
        uses: styfle/cancel-workflow-action@0.8.0
        with:
          access_token: ${{ github.token }}

      - name: Checkout changes
        uses: actions/checkout@v2

      - name: Setup extension cache
        id: extcache
        uses: shivammathur/cache-extensions@v1
        with:
          php-version: ${{ matrix.phpVersion }}
          extensions: ${{ env.extensions }}
          key: ${{ env.key }}

      - name: Cache extensions
        uses: actions/cache@v2
        with:
          path: ${{ steps.extcache.outputs.dir }}
          key: ${{ steps.extcache.outputs.key }}
          restore-keys: ${{ steps.extcache.outputs.key }}

      - name: Install PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: ${{ matrix.phpVersion }}
          extensions: ${{ env.extensions }}

      - name: Echo branches
        run: echo "${{ github.event.pull_request.base_ref }} | ${GITHUB_REF} | ${GITHUB_HEAD_REF} | ${GITHUB_BASE_REF}"

      - name: Switch library dependency (develop)
        if: github.ref == 'refs/heads/develop' || github.base_ref == 'develop'
        run: php ./.github/workflows/utilities/library-switcher "dev-develop as 1.2"

      - name: Switch library dependency (1.0)
        if: github.head_ref == '1.0' || github.ref == 'refs/heads/1.0' || github.base_ref == '1.0'
        run: php ./.github/workflows/utilities/library-switcher "1.0.x-dev as 1.0"

      - name: Switch library dependency (1.1)
        if: github.head_ref == '1.1' || github.ref == 'refs/heads/1.1' || github.base_ref == '1.1'
        run: php ./.github/workflows/utilities/library-switcher "1.1.x-dev as 1.1"

      - name: Switch library dependency (1.2)
        if: github.head_ref == '1.2' || github.ref == 'refs/heads/1.2' || github.base_ref == '1.2'
        run: php ./.github/workflows/utilities/library-switcher "1.2.x-dev as 1.2"

      - name: Setup dependency cache
        id: composercache
        run: echo "::set-output name=dir::$(composer config cache-files-dir)"

      - name: Cache dependencies
        uses: actions/cache@v2
        with:
          path: ${{ steps.composercache.outputs.dir }}
          key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.json') }}
          restore-keys: ${{ runner.os }}-composer-

      - name: Install Composer dependencies
        run: composer install --no-interaction --no-progress --no-scripts

      - name: Reset modules
        run: git reset --hard

      - name: Run post-update Composer scripts
        run: php artisan package:discover

      - name: Setup problem matchers for PHPUnit
        if: matrix.phpVersion == '8.1'
        run: echo "::add-matcher::${{ runner.tool_cache }}/phpunit.json"

      - name: Run Linting and Tests
        run: |
          composer lint
          php artisan winter:test -m system -m backend -m cms

  timeout-minutes: 30 # added timeout for the job

  frontendTests:
    timeout-minutes: 10 # added timeout for the job

  phpUnitTests:
    timeout-minutes: 60 # added timeout for the job
2025-11-05 14:50:43,397 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:50:43,397 - main - DEBUG - 검증할 YAML 길이: 4147 문자
2025-11-05 14:50:43,397 - main - DEBUG - YAML 시작 부분: 'name: Tests\n\non:\n  push:\n    branches:\n      - 1.0\n      - 1.1\n      - 1.2\n      - develop\n  pull_re'
2025-11-05 14:50:43,413 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Tests', 'on': {'push': {'branches': [1.0, 1.1, 1.2, 'develop']}, 'pull_request': None}, 'jobs': {'frontendTests': {'timeout-minutes': 10}, 'phpUnitTests': {'timeout-minutes': 60}, 'timeout-minutes': 30}}
2025-11-05 14:50:43,413 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:50:43,413 - main - ERROR - 검증 오류: ["Job 'frontendTests' missing 'runs-on'", "Job 'frontendTests' missing 'steps'", "Job 'phpUnitTests' missing 'runs-on'", "Job 'phpUnitTests' missing 'steps'", "Job 'timeout-minutes' is not a valid object"]
2025-11-05 14:50:43,414 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_baseline_repaired.yml
2025-11-05 14:50:43,414 - __main__ - INFO - === 파일 62/100 베이스라인 복구 완료 ===
2025-11-05 14:50:43,414 - __main__ - ERROR - ❌ 실패 (38.92초): 237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 14:50:43,414 - __main__ - INFO - [63/100] 처리 중: e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 14:50:43,414 - __main__ - INFO - 입력 파일 경로: data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 14:50:43,414 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_baseline_repaired.yml
2025-11-05 14:50:43,414 - __main__ - INFO - === 파일 63/100 베이스라인 복구 시작 ===
2025-11-05 14:50:43,414 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:50:43,414 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:50:43,415 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 14:50:43,415 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:50:43,415 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:50:43,415 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 14:50:43,438 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:50:43,438 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:50:43,438 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:50:43,438 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:50:43,438 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: 'Build Electron and NWJS packages'
on:
  schedule:
  # Nightly run at 03:39 UTC
    - cron: '39 03 * * *'
  workflow_dispatch:
    inputs:
      version:
        description: Specific version to build like v9.9.9 (if empty, builds version in package.json)
        required: false
        default: ''
      target:
        description: Do you wish to build release or nightly?
        required: false
        default: 'nightly'
env:
  INPUT_VERSION: ${{ github.event.inputs.version }}
  INPUT_TARGET: ${{ github.event.inputs.target }}
  CRON_LAUNCHED: ${{ github.event.schedule }}
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  CSC_LINK: ${{ secrets.CSC_LINK }}
  CSC_KEY_PASSWORD: ${{ secrets.CSC_KEY_PASSWORD }}
  SSH_KEY: ${{ secrets.SSH_KEY }}
      
jobs:

  Release_Linux:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-node@v3
    - name: Install dependencies
      run: npm install
    - name: Rewrite app version number and file name
      run: |
        chmod +x ./scripts/rewrite_app_version_number.sh
        ./scripts/rewrite_app_version_number.sh
        # Replace -app in archive name for Electron apps
        sed -i -E "s/(mdwiki[^-]+)-app_/\1_/g" ./www/js/init.js
    - name: Download archive if needed
        # Get archive name
        packagedFile="$(grep -m1 'params\[.packagedFile' www/js/init.js | sed -E 's/^[^"]+"([^"]+\.zim)".+/\1/')"
        # If file doesn't exist in FS
        if [! -f "archives/$packagedFile"]; then
          # Generalize the name and download it
          packagedFileGeneric=$(sed 's/_[0-9-]+(\.zim)/\1/' <<<"$packagedFile")
          echo -e "\nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
          wget "https://download.kiwix.org/zim/$packagedFileGeneric" -O "archives/$packagedFile"
        fi
        ls archives
        if [ $packagedFile && -f "archives/$packagedFile" ]; then
          echo -e "\nFile $packagedFile now available in 'archives'.\n"
        else
          echo -e "\nError! We could not obtain the requested archive $packagedFile!\n"
          exit 1
        fi
    - name: Publish
      run: |
        npm run publish
        echo "$SSH_KEY" > ./scripts/ssh_key
        chmod 600 ./scripts/ssh_key
        chmod +x ./scripts/publish_linux_packages_to_kiwix.sh
        ./scripts/publish_linux_packages_to_kiwix.sh

  Release_Windows:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v3      
    - uses: actions/setup-node@v3
    - name: Install dependencies
      run: npm install
    - name: Rewrite app version number and file name
      run: |
        $INPUT_VERSION = $Env:INPUT_VERSION
        $INPUT_TARGET = $Env:INPUT_TARGET
        $CRON_LAUNCHED = $Env:CRON_LAUNCHED
        ./scripts/Rewrite-AppVersion.ps1
        # Replace -app in archive name for Electron apps
        (Get-Content ./www/js/init.js) -replace '(mdwiki[^-]+)-app_', '$1_' | Set-Content -encoding 'utf8BOM' ./www/js/init.js
    - name: Download archive if needed
      run: |
        $packagedFile = (Select-String 'packagedFile' "www\js\init.js" -List) -ireplace '^[^"]+"([^"]+\.zim)".+', '$1'
        if ($packagedFile -and ! (Test-Path "archives\$packagedFile" -PathType Leaf)) {
          # File not in archives, so generalize the name and download it
          $packagedFileGeneric = $packagedFile -replace '_[0-9-]+(\.zim)', '$1'
          Write-Host "`nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
          Invoke-WebRequest "https://download.kiwix.org/zim/$packagedFileGeneric" -OutFile "archives\$packagedFile"
        }
        ls archives
        if ($packagedFile -and (Test-Path "archives\$packagedFile" -PathType Leaf)) {
          Write-Host "`nFile $packagedFile now available in 'archives'.`n" -ForegroundColor Green
        } else {
          Write-Host "`nError! We could not obtain the requested archive $packagedFile!`n" -ForegroundColor Red
          exit 1
        }
    - name: run electron builder
      run: | 
        $GITHUB_TOKEN = $Env:GITHUB_TOKEN
        $INPUT_VERSION = $Env:INPUT_VERSION
        $INPUT_TARGET = $Env:INPUT_TARGET
        $CRON_LAUNCHED = $Env:CRON_LAUNCHED
        ./scripts/Rewrite-DraftReleaseTag.ps1
        npm run publish
        ./scripts/Rewrite-DraftReleaseTag.ps1
    - name: build portable Electron app
      run: |
        if (-not ($Env:CRON_LAUNCHED -or ($Env:INPUT_TARGET -eq 'nightly'))) {
          $GITHUB_TOKEN = $Env:GITHUB_TOKEN
          $INPUT_VERSION_E = $Env:INPUT_VERSION -replace '^(v[0-9.]+).*', '$1E'
          if ($Env:INPUT_VERSION -match '-Wiki[\w]+') {
            $INPUT_VERSION_E += $matches[0]
          }
          ./scripts/Create-DraftRelease -buildonly -tag_name $INPUT_VERSION_E -portableonly -wingetprompt N
        }
    - name: publish packages
      run: |
        $SSH_KEY = $Env:SSH_KEY
        echo "$SSH_KEY" > .\scripts\ssh_key
        $GITHUB_TOKEN = $Env:GITHUB_TOKEN
        $INPUT_VERSION = $Env:INPUT_VERSION
        $INPUT_TARGET = $Env:INPUT_TARGET
        $CRON_LAUNCHED = $Env:CRON_LAUNCHED
        ./scripts/Publish-ElectronPackages.ps1 -portableonly

  Release_NWJS:
    runs-on: windows-latest
    needs: Download_Archive
    steps:
    - uses: actions/checkout@v3       
    - uses: actions/setup-node@v3
      with:
        node-version: 16
    - name: Select NWJS app
      run: |
        del package.json
        ren package.json.nwjs package.json
    - name: Install dependencies
      run: npm install
    - name: Enable GNU tar
      shell: cmd
      run: |
        echo "Adding GNU tar to PATH"
        echo C:\Program Files\Git\usr\bin>>"%GITHUB_PATH%"
    - name: Restore cache
      id: cache-archive
      uses: actions/cache@v3
      with:
        path: archives
        key:  ${{ needs.Download_Archive.outputs.file }}
    - name: Rewrite app version number
      run: |
        $INPUT_VERSION = $Env:INPUT_VERSION
        $INPUT_TARGET = $Env:INPUT_TARGET
        $CRON_LAUNCHED = $Env:CRON_LAUNCHED
        ./scripts/Rewrite-AppVersion.ps1
    - name: Build NWJS app
      run: ./scripts/Build-NWJS.ps1 -only32bit
    - name: Publish
      run: |
        $SSH_KEY = $Env:SSH_KEY
        echo "$SSH_KEY" > .\scripts\ssh_key
        $GITHUB_TOKEN = $Env:GITHUB_TOKEN
        $INPUT_VERSION = $Env:INPUT_VERSION
        $INPUT_TARGET = $Env:INPUT_TARGET
        $CRON_LAUNCHED = $Env:CRON_LAUNCHED
        ./scripts/Publish-ElectronPackages.ps1
while parsing a block mapping
  in "<file>", line 40, column 7
expected <block end>, but found '<scalar>'
  in "<file>", line 42, column 9
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 27)
	- 3. Use fixed version for runs-on argument (line 65)
	- 8. Use commit hash instead of tags for action versions (line 67)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 145)
	- 8. Use commit hash instead of tags for action versions (line 128)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
4:3: comment not indented like content (comments-indentation)
24:1: trailing spaces (trailing-spaces)
30:5: wrong indentation: expected 6 but found 4 (indentation)
42:9: syntax error: expected <block end>, but found '<scalar>' (syntax)
44:9: wrong indentation: expected 6 but found 8 (indentation)
46:11: wrong indentation: expected 6 but found 10 (indentation)
68:5: wrong indentation: expected 6 but found 4 (indentation)
68:32: trailing spaces (trailing-spaces)
97:13: trailing spaces (trailing-spaces)
129:5: wrong indentation: expected 6 but found 4 (indentation)
129:32: trailing spaces (trailing-spaces)
149:14: too many spaces after colon (colons)
166:47: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 220
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: 'Build Electron and NWJS packages'
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 3: schedule:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 4: # Nightly run at 03:39 UTC
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 5: - cron: '39 03 * * *'
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 6: workflow_dispatch:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 7: inputs:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 8: version:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 9: description: Specific version to build like v9.9.9 (if empty, builds version in package.json)
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 10: required: false
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 11: default: ''
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 12: target:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 13: description: Do you wish to build release or nightly?
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 14: required: false
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 15: default: 'nightly'
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 16: env:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 17: INPUT_VERSION: ${{ github.event.inputs.version }}
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 18: INPUT_TARGET: ${{ github.event.inputs.target }}
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 19: CRON_LAUNCHED: ${{ github.event.schedule }}
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 20: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 21: CSC_LINK: ${{ secrets.CSC_LINK }}
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 22: CSC_KEY_PASSWORD: ${{ secrets.CSC_KEY_PASSWORD }}
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 23: SSH_KEY: ${{ secrets.SSH_KEY }}
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 25: jobs:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 27: Release_Linux:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 28: runs-on: ubuntu-latest
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v3
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 31: - uses: actions/setup-node@v3
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 32: - name: Install dependencies
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 33: run: npm install
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 34: - name: Rewrite app version number and file name
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 35: run: |
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 36: chmod +x ./scripts/rewrite_app_version_number.sh
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 37: ./scripts/rewrite_app_version_number.sh
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 38: # Replace -app in archive name for Electron apps
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 39: sed -i -E "s/(mdwiki[^-]+)-app_/\1_/g" ./www/js/init.js
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 40: - name: Download archive if needed
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 41: # Get archive name
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 42: packagedFile="$(grep -m1 'params\[.packagedFile' www/js/init.js | sed -E 's/^[^"]+"([^"]+\.zim)".+/\1/')"
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 43: # If file doesn't exist in FS
2025-11-05 14:50:43,907 - utils.process_runner - DEBUG - 라인 44: if [! -f "archives/$packagedFile"]; then
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 45: # Generalize the name and download it
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 46: packagedFileGeneric=$(sed 's/_[0-9-]+(\.zim)/\1/' <<<"$packagedFile")
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 47: echo -e "\nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 48: wget "https://download.kiwix.org/zim/$packagedFileGeneric" -O "archives/$packagedFile"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 49: fi
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 50: ls archives
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 51: if [ $packagedFile && -f "archives/$packagedFile" ]; then
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 52: echo -e "\nFile $packagedFile now available in 'archives'.\n"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 53: else
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 54: echo -e "\nError! We could not obtain the requested archive $packagedFile!\n"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 55: exit 1
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 56: fi
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 57: - name: Publish
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 59: npm run publish
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 60: echo "$SSH_KEY" > ./scripts/ssh_key
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 61: chmod 600 ./scripts/ssh_key
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 62: chmod +x ./scripts/publish_linux_packages_to_kiwix.sh
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 63: ./scripts/publish_linux_packages_to_kiwix.sh
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 65: Release_Windows:
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 66: runs-on: windows-latest
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 67: steps:
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 68: - uses: actions/checkout@v3
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 69: - uses: actions/setup-node@v3
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 70: - name: Install dependencies
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 71: run: npm install
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 72: - name: Rewrite app version number and file name
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 73: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 74: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 75: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 76: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 77: ./scripts/Rewrite-AppVersion.ps1
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 78: # Replace -app in archive name for Electron apps
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 79: (Get-Content ./www/js/init.js) -replace '(mdwiki[^-]+)-app_', '$1_' | Set-Content -encoding 'utf8BOM' ./www/js/init.js
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 80: - name: Download archive if needed
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 81: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 82: $packagedFile = (Select-String 'packagedFile' "www\js\init.js" -List) -ireplace '^[^"]+"([^"]+\.zim)".+', '$1'
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 83: if ($packagedFile -and ! (Test-Path "archives\$packagedFile" -PathType Leaf)) {
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 84: # File not in archives, so generalize the name and download it
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 85: $packagedFileGeneric = $packagedFile -replace '_[0-9-]+(\.zim)', '$1'
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 86: Write-Host "`nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 87: Invoke-WebRequest "https://download.kiwix.org/zim/$packagedFileGeneric" -OutFile "archives\$packagedFile"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 88: }
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 89: ls archives
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 90: if ($packagedFile -and (Test-Path "archives\$packagedFile" -PathType Leaf)) {
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 91: Write-Host "`nFile $packagedFile now available in 'archives'.`n" -ForegroundColor Green
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 92: } else {
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 93: Write-Host "`nError! We could not obtain the requested archive $packagedFile!`n" -ForegroundColor Red
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 94: exit 1
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 95: }
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 96: - name: run electron builder
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 97: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 98: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 99: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 100: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 101: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 102: ./scripts/Rewrite-DraftReleaseTag.ps1
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 103: npm run publish
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 104: ./scripts/Rewrite-DraftReleaseTag.ps1
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 105: - name: build portable Electron app
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 106: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 107: if (-not ($Env:CRON_LAUNCHED -or ($Env:INPUT_TARGET -eq 'nightly'))) {
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 108: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 109: $INPUT_VERSION_E = $Env:INPUT_VERSION -replace '^(v[0-9.]+).*', '$1E'
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 110: if ($Env:INPUT_VERSION -match '-Wiki[\w]+') {
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 111: $INPUT_VERSION_E += $matches[0]
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 112: }
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 113: ./scripts/Create-DraftRelease -buildonly -tag_name $INPUT_VERSION_E -portableonly -wingetprompt N
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 114: }
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 115: - name: publish packages
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 116: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 117: $SSH_KEY = $Env:SSH_KEY
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 118: echo "$SSH_KEY" > .\scripts\ssh_key
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 119: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 120: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 121: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 122: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 123: ./scripts/Publish-ElectronPackages.ps1 -portableonly
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 125: Release_NWJS:
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 126: runs-on: windows-latest
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 127: needs: Download_Archive
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 128: steps:
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 129: - uses: actions/checkout@v3
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 130: - uses: actions/setup-node@v3
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 131: with:
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 132: node-version: 16
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 133: - name: Select NWJS app
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 134: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 135: del package.json
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 136: ren package.json.nwjs package.json
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 137: - name: Install dependencies
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 138: run: npm install
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 139: - name: Enable GNU tar
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 140: shell: cmd
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 141: run: |
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 142: echo "Adding GNU tar to PATH"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 143: echo C:\Program Files\Git\usr\bin>>"%GITHUB_PATH%"
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 144: - name: Restore cache
2025-11-05 14:50:43,908 - utils.process_runner - DEBUG - 라인 145: id: cache-archive
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 146: uses: actions/cache@v3
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 147: with:
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 148: path: archives
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 149: key:  ${{ needs.Download_Archive.outputs.file }}
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 150: - name: Rewrite app version number
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 151: run: |
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 152: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 153: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 154: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 155: ./scripts/Rewrite-AppVersion.ps1
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 156: - name: Build NWJS app
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 157: run: ./scripts/Build-NWJS.ps1 -only32bit
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 158: - name: Publish
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 159: run: |
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 160: $SSH_KEY = $Env:SSH_KEY
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 161: echo "$SSH_KEY" > .\scripts\ssh_key
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 162: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 163: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 164: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 165: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 166: ./scripts/Publish-ElectronPackages.ps1
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 167: while parsing a block mapping
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 168: in "<file>", line 40, column 7
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 169: expected <block end>, but found '<scalar>'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 170: in "<file>", line 42, column 9
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 171: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 172: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 173: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 174: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 178: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 179: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 180: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 182: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 184: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 185: We have found 20 smells
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 186: - 3. Use fixed version for runs-on argument (line 27)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 27)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 187: - 3. Use fixed version for runs-on argument (line 65)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 65)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 188: - 8. Use commit hash instead of tags for action versions (line 67)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 67)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 189: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 190: - 8. Use commit hash instead of tags for action versions (line 145)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 145)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 191: - 8. Use commit hash instead of tags for action versions (line 128)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 128)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 192: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 193: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 194: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 195: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 196: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 197: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 198: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 199: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 200: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 201: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 202: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 203: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 204: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 205: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 206: The following styling errors were found:
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 207: 4:3: comment not indented like content (comments-indentation)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 208: 24:1: trailing spaces (trailing-spaces)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 209: 30:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:50:43,909 - utils.process_runner - DEBUG - 라인 210: 42:9: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 42:9: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 211: 44:9: wrong indentation: expected 6 but found 8 (indentation)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 212: 46:11: wrong indentation: expected 6 but found 10 (indentation)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 213: 68:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 214: 68:32: trailing spaces (trailing-spaces)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 215: 97:13: trailing spaces (trailing-spaces)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 216: 129:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 217: 129:32: trailing spaces (trailing-spaces)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 218: 149:14: too many spaces after colon (colons)
2025-11-05 14:50:43,910 - utils.process_runner - DEBUG - 라인 219: 166:47: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 14:50:43,910 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:50:43,910 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:50:43,910 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:50:43,910 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:50:43,910 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:50:43,910 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:50:43,910 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: 'Build Electron and NWJS packages'
on:
  schedule:
  # Nightly run at 03:39 UTC
    - cron: '39 03 * * *'
  workflow_dispatch:
    inputs:
      version:
        description: Specific version to build like v9.9.9 (if empty, builds version in package.json)
        required: false
        default: ''
      target:
        description: Do you wish to build release or nightly?
        required: false
 ...
2025-11-05 14:50:43,910 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:50:43,910 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:50:43,910 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:50:43,911 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:51:41,509 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:51:41,512 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:51:41,512 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:51:41,513 - main - DEBUG - 추출된 YAML:
name: 'Build Electron and NWJS packages'
on:
  schedule:
    - cron: '39 03 * * *' # Nightly run at 03:39 UTC
  workflow_dispatch:
    inputs:
      version:
        description: Specific version to build like v9.9.9 (if empty, builds version in package.json)
        required: false
        default: ''
      target:
        description: Do you wish to build release or nightly?
        required: false
        default: 'nightly'
env:
  INPUT_VERSION: ${{ github.event.inputs.version }}
  INPUT_TARGET: ${{ github.event.inputs.target }}
  CRON_LAUNCHED: ${{ github.event.schedule }}
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  CSC_LINK: ${{ secrets.CSC_LINK }}
  CSC_KEY_PASSWORD: ${{ secrets.CSC_KEY_PASSWORD }}
  SSH_KEY: ${{ secrets.SSH_KEY }}

jobs:
  Release_Linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - name: Install dependencies
        run: npm install
      - name: Rewrite app version number and file name
        run: |
          chmod +x ./scripts/rewrite_app_version_number.sh
          ./scripts/rewrite_app_version_number.sh
          sed -i -E "s/(mdwiki[^-]+)-app_/\1_/g" ./www/js/init.js
      - name: Download archive if needed
        run: |
          packagedFile=$(grep -m1 'params\[.packagedFile' www/js/init.js | sed -E 's/^[^"]+"([^"]+\.zim)".+/\1/')
          if [ ! -f "archives/$packagedFile" ]; then
            packagedFileGeneric=$(sed 's/_[0-9-]+(\.zim)/\1/' <<<"$packagedFile")
            echo -e "\nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
            wget "https://download.kiwix.org/zim/$packagedFileGeneric" -O "archives/$packagedFile"
          fi
          ls archives
          if [ $packagedFile ] && [ -f "archives/$packagedFile" ]; then
            echo -e "\nFile $packagedFile now available in 'archives'.\n"
          else
            echo -e "\nError! We could not obtain the requested archive $packagedFile!\n"
            exit 1
          fi
      - name: Publish
        run: |
          npm run publish
          echo "$SSH_KEY" > ./scripts/ssh_key
          chmod 600 ./scripts/ssh_key
          chmod +x ./scripts/publish_linux_packages_to_kiwix.sh
          ./scripts/publish_linux_packages_to_kiwix.sh

  Release_Windows:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - name: Install dependencies
        run: npm install
      - name: Rewrite app version number and file name
        run: |
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Rewrite-AppVersion.ps1
          (Get-Content ./www/js/init.js) -replace '(mdwiki[^-]+)-app_', '$1_' | Set-Content -encoding 'utf8BOM' ./www/js/init.js
      - name: Download archive if needed
        run: |
          $packagedFile = (Select-String 'packagedFile' "www\js\init.js" -List) -ireplace '^[^"]+"([^"]+\.zim)".+', '$1'
          if ($packagedFile -and ! (Test-Path "archives\$packagedFile" -PathType Leaf)) {
            $packagedFileGeneric = $packagedFile -replace '_[0-9-]+(\.zim)', '$1'
            Write-Host "`nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
            Invoke-WebRequest "https://download.kiwix.org/zim/$packagedFileGeneric" -OutFile "archives\$packagedFile"
          }
          ls archives
          if ($packagedFile -and (Test-Path "archives\$packagedFile" -PathType Leaf)) {
            Write-Host "`nFile $packagedFile now available in 'archives'.`n" -ForegroundColor Green
          } else {
            Write-Host "`nError! We could not obtain the requested archive $packagedFile!`n" -ForegroundColor Red
            exit 1
          }
      - name: run electron builder
        run: |
          $GITHUB_TOKEN = $Env:GITHUB_TOKEN
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Rewrite-DraftReleaseTag.ps1
          npm run publish
          ./scripts/Rewrite-DraftReleaseTag.ps1
      - name: build portable Electron app
        run: |
          if (-not ($Env:CRON_LAUNCHED -or ($Env:INPUT_TARGET -eq 'nightly'))) {
            $GITHUB_TOKEN = $Env:GITHUB_TOKEN
            $INPUT_VERSION_E = $Env:INPUT_VERSION -replace '^(v[0-9.]+).*', '$1E'
            if ($Env:INPUT_VERSION -match '-Wiki[\w]+') {
              $INPUT_VERSION_E += $matches[0]
            }
            ./scripts/Create-DraftRelease -buildonly -tag_name $INPUT_VERSION_E -portableonly -wingetprompt N
          }
      - name: publish packages
        run: |
          $SSH_KEY = $Env:SSH_KEY
          echo "$SSH_KEY" > .\scripts\ssh_key
          $GITHUB_TOKEN = $Env:GITHUB_TOKEN
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Publish-ElectronPackages.ps1 -portableonly

  Release_NWJS:
    runs-on: windows-latest
    needs: Download_Archive
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 16
      - name: Select NWJS app
        run: |
          del package.json
          ren package.json.nwjs package.json
      - name: Install dependencies
        run: npm install
      - name: Enable GNU tar
        shell: cmd
        run: |
          echo "Adding GNU tar to PATH"
          echo C:\Program Files\Git\usr\bin>>"%GITHUB_PATH%"
      - name: Restore cache
        id: cache-archive
        uses: actions/cache@v3
        with:
          path: archives
          key: ${{ needs.Download_Archive.outputs.file }}
      - name: Rewrite app version number
        run: |
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Rewrite-AppVersion.ps1
      - name: Build NWJS app
        run: ./scripts/Build-NWJS.ps1 -only32bit
      - name: Publish
        run: |
          $SSH_KEY = $Env:SSH_KEY
          echo "$SSH_KEY" > .\scripts\ssh_key
          $GITHUB_TOKEN = $Env:GITHUB_TOKEN
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Publish-ElectronPackages.ps1
2025-11-05 14:51:41,513 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:51:41,513 - main - DEBUG - 검증할 YAML 길이: 6377 문자
2025-11-05 14:51:41,513 - main - DEBUG - YAML 시작 부분: "name: 'Build Electron and NWJS packages'\non:\n  schedule:\n    - cron: '39 03 * * *' # Nightly run at "
2025-11-05 14:51:41,526 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build Electron and NWJS packages', 'on': {'schedule': [{'cron': '39 03 * * *'}], 'workflow_dispatch': {'inputs': {'version': {'description': 'Specific version to build like v9.9.9 (if empty, builds version in package.json)', 'required': False, 'default': ''}, 'target': {'description': 'Do you wish to build release or nightly?', 'required': False, 'default': 'nightly'}}}}, 'env': {'INPUT_VERSION': '${{ github.event.inputs.version }}', 'INPUT_TARGET': '${{ github.event.inputs.target }}', 'CRON_LAUNCHED': '${{ github.event.schedule }}', 'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}', 'CSC_LINK': '${{ secrets.CSC_LINK }}', 'CSC_KEY_PASSWORD': '${{ secrets.CSC_KEY_PASSWORD }}', 'SSH_KEY': '${{ secrets.SSH_KEY }}'}, 'jobs': {'Release_Linux': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'actions/setup-node@v3'}, {'name': 'Install dependencies', 'run': 'npm install'}, {'name': 'Rewrite app version number and file name', 'run': 'chmod +x ./scripts/rewrite_app_version_number.sh\n./scripts/rewrite_app_version_number.sh\nsed -i -E "s/(mdwiki[^-]+)-app_/\\1_/g" ./www/js/init.js\n'}, {'name': 'Download archive if needed', 'run': 'packagedFile=$(grep -m1 \'params\\[.packagedFile\' www/js/init.js | sed -E \'s/^[^"]+"([^"]+\\.zim)".+/\\1/\')\nif [ ! -f "archives/$packagedFile" ]; then\n  packagedFileGeneric=$(sed \'s/_[0-9-]+(\\.zim)/\\1/\' <<<"$packagedFile")\n  echo -e "\\nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"\n  wget "https://download.kiwix.org/zim/$packagedFileGeneric" -O "archives/$packagedFile"\nfi\nls archives\nif [ $packagedFile ] && [ -f "archives/$packagedFile" ]; then\n  echo -e "\\nFile $packagedFile now available in \'archives\'.\\n"\nelse\n  echo -e "\\nError! We could not obtain the requested archive $packagedFile!\\n"\n  exit 1\nfi\n'}, {'name': 'Publish', 'run': 'npm run publish\necho "$SSH_KEY" > ./scripts/ssh_key\nchmod 600 ./scripts/ssh_key\nchmod +x ./scripts/publish_linux_packages_to_kiwix.sh\n./scripts/publish_linux_packages_to_kiwix.sh\n'}]}, 'Release_Windows': {'runs-on': 'windows-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'actions/setup-node@v3'}, {'name': 'Install dependencies', 'run': 'npm install'}, {'name': 'Rewrite app version number and file name', 'run': "$INPUT_VERSION = $Env:INPUT_VERSION\n$INPUT_TARGET = $Env:INPUT_TARGET\n$CRON_LAUNCHED = $Env:CRON_LAUNCHED\n./scripts/Rewrite-AppVersion.ps1\n(Get-Content ./www/js/init.js) -replace '(mdwiki[^-]+)-app_', '$1_' | Set-Content -encoding 'utf8BOM' ./www/js/init.js\n"}, {'name': 'Download archive if needed', 'run': '$packagedFile = (Select-String \'packagedFile\' "www\\js\\init.js" -List) -ireplace \'^[^"]+"([^"]+\\.zim)".+\', \'$1\'\nif ($packagedFile -and ! (Test-Path "archives\\$packagedFile" -PathType Leaf)) {\n  $packagedFileGeneric = $packagedFile -replace \'_[0-9-]+(\\.zim)\', \'$1\'\n  Write-Host "`nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"\n  Invoke-WebRequest "https://download.kiwix.org/zim/$packagedFileGeneric" -OutFile "archives\\$packagedFile"\n}\nls archives\nif ($packagedFile -and (Test-Path "archives\\$packagedFile" -PathType Leaf)) {\n  Write-Host "`nFile $packagedFile now available in \'archives\'.`n" -ForegroundColor Green\n} else {\n  Write-Host "`nError! We could not obtain the requested archive $packagedFile!`n" -ForegroundColor Red\n  exit 1\n}\n'}, {'name': 'run electron builder', 'run': '$GITHUB_TOKEN = $Env:GITHUB_TOKEN\n$INPUT_VERSION = $Env:INPUT_VERSION\n$INPUT_TARGET = $Env:INPUT_TARGET\n$CRON_LAUNCHED = $Env:CRON_LAUNCHED\n./scripts/Rewrite-DraftReleaseTag.ps1\nnpm run publish\n./scripts/Rewrite-DraftReleaseTag.ps1\n'}, {'name': 'build portable Electron app', 'run': "if (-not ($Env:CRON_LAUNCHED -or ($Env:INPUT_TARGET -eq 'nightly'))) {\n  $GITHUB_TOKEN = $Env:GITHUB_TOKEN\n  $INPUT_VERSION_E = $Env:INPUT_VERSION -replace '^(v[0-9.]+).*', '$1E'\n  if ($Env:INPUT_VERSION -match '-Wiki[\\w]+') {\n    $INPUT_VERSION_E += $matches[0]\n  }\n  ./scripts/Create-DraftRelease -buildonly -tag_name $INPUT_VERSION_E -portableonly -wingetprompt N\n}\n"}, {'name': 'publish packages', 'run': '$SSH_KEY = $Env:SSH_KEY\necho "$SSH_KEY" > .\\scripts\\ssh_key\n$GITHUB_TOKEN = $Env:GITHUB_TOKEN\n$INPUT_VERSION = $Env:INPUT_VERSION\n$INPUT_TARGET = $Env:INPUT_TARGET\n$CRON_LAUNCHED = $Env:CRON_LAUNCHED\n./scripts/Publish-ElectronPackages.ps1 -portableonly\n'}]}, 'Release_NWJS': {'runs-on': 'windows-latest', 'needs': 'Download_Archive', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'actions/setup-node@v3', 'with': {'node-version': 16}}, {'name': 'Select NWJS app', 'run': 'del package.json\nren package.json.nwjs package.json\n'}, {'name': 'Install dependencies', 'run': 'npm install'}, {'name': 'Enable GNU tar', 'shell': 'cmd', 'run': 'echo "Adding GNU tar to PATH"\necho C:\\Program Files\\Git\\usr\\bin>>"%GITHUB_PATH%"\n'}, {'name': 'Restore cache', 'id': 'cache-archive', 'uses': 'actions/cache@v3', 'with': {'path': 'archives', 'key': '${{ needs.Download_Archive.outputs.file }}'}}, {'name': 'Rewrite app version number', 'run': '$INPUT_VERSION = $Env:INPUT_VERSION\n$INPUT_TARGET = $Env:INPUT_TARGET\n$CRON_LAUNCHED = $Env:CRON_LAUNCHED\n./scripts/Rewrite-AppVersion.ps1\n'}, {'name': 'Build NWJS app', 'run': './scripts/Build-NWJS.ps1 -only32bit'}, {'name': 'Publish', 'run': '$SSH_KEY = $Env:SSH_KEY\necho "$SSH_KEY" > .\\scripts\\ssh_key\n$GITHUB_TOKEN = $Env:GITHUB_TOKEN\n$INPUT_VERSION = $Env:INPUT_VERSION\n$INPUT_TARGET = $Env:INPUT_TARGET\n$CRON_LAUNCHED = $Env:CRON_LAUNCHED\n./scripts/Publish-ElectronPackages.ps1'}]}}}
2025-11-05 14:51:41,527 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_baseline_repaired.yml
2025-11-05 14:51:41,527 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:51:41,527 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_baseline_repaired.yml
2025-11-05 14:51:41,527 - __main__ - INFO - === 파일 63/100 베이스라인 복구 완료 ===
2025-11-05 14:51:41,527 - __main__ - INFO - ✅ 성공 (58.11초): e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a -> e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_baseline_repaired.yml
2025-11-05 14:51:41,527 - __main__ - INFO - [64/100] 처리 중: f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 14:51:41,527 - __main__ - INFO - 입력 파일 경로: data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 14:51:41,527 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_baseline_repaired.yml
2025-11-05 14:51:41,527 - __main__ - INFO - === 파일 64/100 베이스라인 복구 시작 ===
2025-11-05 14:51:41,527 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:51:41,528 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:51:41,528 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 14:51:41,528 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:51:41,528 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:51:41,529 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 14:51:41,563 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:51:41,563 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:51:41,563 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:51:41,563 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:51:41,563 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 14:51:42,070 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 14:51:42,070 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Build and Push Image
on:
  schedule:
    - cron: '40 16 * * *'  # 16:40 UTC everyday
  merge_group:
  pull_request:
    branches:
      - main
    paths-ignore:
      - '**.md'
  workflow_dispatch:
env:
    IMAGE_REGISTRY: ghcr.io/${{ github.repository_owner }}

concurrency:
  group: ${{ github.workflow }}-${{ github.ref || github.run_id }}
  cancel-in-progress: true

jobs:
  push-ghcr:
    name: Make
    runs-on: ubuntu-22.04
    permissions:
      contents: read
      packages: write
      id-token: write
    strategy:
      fail-fast: false
      matrix:
        image_flavor: [main, nvidia, asus, asus-nvidia, framework, surface, surface-nvidia]
        base_name: [bluefin, bluefin-dx]
        major_version: [38, 39]
        include:
          - major_version: 38
            is_latest_version: false
            is_stable_version: true
            is_gts_version: true
          - major_version: 39
            is_latest_version: true
            is_stable_version: true
            is_gts_version: false
    steps:
      # Checkout push-to-registry action GitHub repository
      - name: Checkout Push to Registry action
        uses: actions/checkout@v4

      - name: Verify base image
        uses: EyeCantCU/cosign-action/verify@v0.2.2
        with:
          containers: silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }}

      - name: Verify Chainguard images
        if: matrix.base_name != 'bluefin'
        uses: EyeCantCU/cosign-action/verify@v0.2.2
        with:
          containers: dive, flux, helm, ko, minio, kubectl
          cert-identity: https://github.com/chainguard-images/images/.github/workflows/release.yaml@refs/heads/main
          oidc-issuer: https://token.actions.githubusercontent.com
          registry: cgr.dev/chainguard

      - name: Maximize build space
        uses: ublue-os/remove-unwanted-software@v6

      - name: Check just syntax
        uses: ublue-os/just-action@v1

      - name: Matrix Variables
        run: |
          if [[ "${{ matrix.image_flavor }}" == "main" ]]; then
              echo "IMAGE_NAME=${{ matrix.base_name }}" >> $GITHUB_ENV
          else
              echo "IMAGE_NAME=${{ format('{0}-{1}', matrix.base_name, matrix.image_flavor) }}" >> $GITHUB_ENV
          fi
          if [[ "${{ matrix.image_flavor }}" =~ "asus" ]]; then
              echo "AKMODS_FLAVOR=asus" >> $GITHUB_ENV
          elif [[ "${{ matrix.image_flavor }}" =~ "surface" ]]; then
              echo "AKMODS_FLAVOR=surface" >> $GITHUB_ENV
          else
              echo "AKMODS_FLAVOR=main" >> $GITHUB_ENV
          fi

      - name: Generate tags
        id: generate-tags
        shell: bash
        run: |
          # Generate a timestamp for creating an image version history
          TIMESTAMP="$(date +%Y%m%d)"
          MAJOR_VERSION="${{ matrix.major_version }}"
          COMMIT_TAGS=()
          BUILD_TAGS=()
          # Have tags for tracking builds during pull request
          SHA_SHORT="${GITHUB_SHA::7}"
          COMMIT_TAGS+=("pr-${{ github.event.number }}-${MAJOR_VERSION}")
          COMMIT_TAGS+=("${SHA_SHORT}-${MAJOR_VERSION}")
          if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
             [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
              COMMIT_TAGS+=("pr-${{ github.event.number }}")
              COMMIT_TAGS+=("${SHA_SHORT}")
          fi

          BUILD_TAGS=("${MAJOR_VERSION}" "${MAJOR_VERSION}-${TIMESTAMP}")

          if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
             [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
              BUILD_TAGS+=("latest")
          elif [[ "${{ matrix.is_gts_version }}" == "true" ]]; then
              BUILD_TAGS+=("gts")
          fi

          if [[ "${{ github.event_name }}" == "pull_request" ]]; then
              echo "Generated the following commit tags: "
              for TAG in "${COMMIT_TAGS[@]}"; do
                  echo "${TAG}"
              done
              alias_tags=("${COMMIT_TAGS[@]}")
          else
              alias_tags=("${BUILD_TAGS[@]}")
          fi
          echo "Generated the following build tags: "
          for TAG in "${BUILD_TAGS[@]}"; do
              echo "${TAG}"
          done
          echo "alias_tags=${alias_tags[*]}" >> $GITHUB_OUTPUT

      - name: Get Current Fedora Version
        id: labels
        run: |
          ver=$(skopeo inspect docker://ghcr.io/ublue-os/silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }} | jq -r '.Labels["org.opencontainers.image.version"]')
          echo "VERSION=$ver" >> $GITHUB_OUTPUT

      # Build metadata
      - name: Image Metadata
        uses: docker/metadata-action@v5
        id: meta
        with:
          images: |
            ${{ env.IMAGE_NAME }}
          labels: |
            org.opencontainers.image.title=${{ env.IMAGE_NAME }}
            org.opencontainers.image.version=${{ steps.labels.outputs.VERSION }}
            org.opencontainers.image.description=An interpretation of the Ubuntu spirit built on Fedora technology 
            io.artifacthub.package.readme-url=https://raw.githubusercontent.com/ublue-os/bluefin/bluefin/README.md
            io.artifacthub.package.logo-url=https://avatars.githubusercontent.com/u/120078124?s=200&v=4

      # Build image using Buildah action
      - name: Build Image
        id: build_image
        uses: redhat-actions/buildah-build@v2
        with:
          containerfiles: |
            ./Containerfile
          image: ${{ env.IMAGE_NAME }}
          tags: |
            ${{ steps.generate-tags.outputs.alias_tags }}
          build-args: |
            IMAGE_NAME=${{ env.IMAGE_NAME }}
            IMAGE_FLAVOR=${{ matrix.image_flavor }}
            IMAGE_VENDOR=${{ github.repository_owner }}
            FEDORA_MAJOR_VERSION=${{ matrix.major_version }}
            TARGET_BASE=${{ matrix.target_base }}
            AKMODS_FLAVOR=${{ env.AKMODS_FLAVOR }}
          labels: ${{ steps.meta.outputs.labels }}
          oci: false
          # TODO(GH-280)
          # extra-args: |
          #   --target=${{ matrix.target_name || matrix.base_name }}
          extra-args: |
            --target=${{ matrix.base_name }}

      # Workaround bug where capital letters in your GitHub username make it impossible to push to GHCR.
      # https://github.com/macbre/push-to-ghcr/issues/12
      - name: Lowercase Registry
        id: registry_case
        uses: ASzc/change-string-case-action@v6
        with:
          string: ${{ env.IMAGE_REGISTRY }}

      # Push the image to GHCR (Image Registry)
      - name: Push To GHCR
        uses: redhat-actions/push-to-registry@v2
        id: push
        if: github.event_name != 'pull_request'
        env:
          REGISTRY_USER: ${{ github.actor }}
          REGISTRY_PASSWORD: ${{ github.token }}
        with:
          image: ${{ steps.build_image.outputs.image }}
          tags: ${{ steps.build_image.outputs.tags }}
          registry: ${{ steps.registry_case.outputs.lowercase }}
          username: ${{ env.REGISTRY_USER }}
          password: ${{ env.REGISTRY_PASSWORD }}

      - name: Login to GitHub Container Registry
        uses: docker/login-action@v3
        if: github.event_name != 'pull_request'
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      # Sign container
      - uses: sigstore/cosign-installer@v3.3.0
        if: github.event_name != 'pull_request'

      - name: Sign container image
        if: github.event_name != 'pull_request'
        run: |
          cosign sign -y --key env://COSIGN_PRIVATE_KEY ${{ steps.registry_case.outputs.lowercase }}/${{ env.IMAGE_NAME }}@${TAGS}
        env:
          TAGS: ${{ steps.push.outputs.digest }}
          COSIGN_EXPERIMENTAL: false
          COSIGN_PRIVATE_KEY: ${{ secrets.SIGNING_SECRET }}

      - name: Echo outputs
        if: github.event_name != 'pull_request'
        run: |
          echo "${{ toJSON(steps.push.outputs) }}"

      - uses: akhilmhdh/contributors-readme-action@v2.3.6
          env:
              GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}    

  check:
    name: Check all builds successful
    if: ${{ !cancelled() }}
    runs-on: ubuntu-latest
    needs: [push-ghcr]
    steps:
      - name: Exit on failure
        if: ${{ needs.push-ghcr.result == 'failure' }}
        shell: bash
        run: exit 1
      - name: Exit
        shell: bash
        run: exit 0

mapping values are not allowed here
  in "<file>", line 220, column 14
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 25 smells
	- 3. Use fixed version for runs-on argument (line 225)
	- 8. Use commit hash instead of tags for action versions (line 47)
	- 8. Use commit hash instead of tags for action versions (line 132)
	- 8. Use commit hash instead of tags for action versions (line 173)
	- 8. Use commit hash instead of tags for action versions (line 218)
	- 8. Use commit hash instead of tags for action versions (line 201)
	- 8. Use commit hash instead of tags for action versions (line 64)
	- 8. Use commit hash instead of tags for action versions (line 193)
	- 8. Use commit hash instead of tags for action versions (line 147)
	- 8. Use commit hash instead of tags for action versions (line 61)
	- 8. Use commit hash instead of tags for action versions (line 179)
	- 8. Use commit hash instead of tags for action versions (line 44)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
13:5: wrong indentation: expected 2 but found 4 (indentation)
141:115: trailing spaces (trailing-spaces)
220:14: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:51:42,070 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:51:42,070 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:51:42,070 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 283
2025-11-05 14:51:42,070 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Build and Push Image
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 3: schedule:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 4: - cron: '40 16 * * *'  # 16:40 UTC everyday
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 5: merge_group:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 6: pull_request:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 7: branches:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 8: - main
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 9: paths-ignore:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 10: - '**.md'
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 11: workflow_dispatch:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 12: env:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 13: IMAGE_REGISTRY: ghcr.io/${{ github.repository_owner }}
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 15: concurrency:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 16: group: ${{ github.workflow }}-${{ github.ref || github.run_id }}
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 17: cancel-in-progress: true
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 19: jobs:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 20: push-ghcr:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 21: name: Make
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 22: runs-on: ubuntu-22.04
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 23: permissions:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 24: contents: read
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 25: packages: write
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 26: id-token: write
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 27: strategy:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 28: fail-fast: false
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 29: matrix:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 30: image_flavor: [main, nvidia, asus, asus-nvidia, framework, surface, surface-nvidia]
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 31: base_name: [bluefin, bluefin-dx]
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 32: major_version: [38, 39]
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 33: include:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 34: - major_version: 38
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 35: is_latest_version: false
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 36: is_stable_version: true
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 37: is_gts_version: true
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 38: - major_version: 39
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 39: is_latest_version: true
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 40: is_stable_version: true
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 41: is_gts_version: false
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 42: steps:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 43: # Checkout push-to-registry action GitHub repository
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 44: - name: Checkout Push to Registry action
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 45: uses: actions/checkout@v4
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 47: - name: Verify base image
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 48: uses: EyeCantCU/cosign-action/verify@v0.2.2
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 49: with:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 50: containers: silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }}
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 52: - name: Verify Chainguard images
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 53: if: matrix.base_name != 'bluefin'
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 54: uses: EyeCantCU/cosign-action/verify@v0.2.2
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 55: with:
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 56: containers: dive, flux, helm, ko, minio, kubectl
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 57: cert-identity: https://github.com/chainguard-images/images/.github/workflows/release.yaml@refs/heads/main
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 58: oidc-issuer: https://token.actions.githubusercontent.com
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 59: registry: cgr.dev/chainguard
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 61: - name: Maximize build space
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 62: uses: ublue-os/remove-unwanted-software@v6
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 64: - name: Check just syntax
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 65: uses: ublue-os/just-action@v1
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 67: - name: Matrix Variables
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 68: run: |
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 69: if [[ "${{ matrix.image_flavor }}" == "main" ]]; then
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 70: echo "IMAGE_NAME=${{ matrix.base_name }}" >> $GITHUB_ENV
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 71: else
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 72: echo "IMAGE_NAME=${{ format('{0}-{1}', matrix.base_name, matrix.image_flavor) }}" >> $GITHUB_ENV
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 73: fi
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 74: if [[ "${{ matrix.image_flavor }}" =~ "asus" ]]; then
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 75: echo "AKMODS_FLAVOR=asus" >> $GITHUB_ENV
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 76: elif [[ "${{ matrix.image_flavor }}" =~ "surface" ]]; then
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 77: echo "AKMODS_FLAVOR=surface" >> $GITHUB_ENV
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 78: else
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 79: echo "AKMODS_FLAVOR=main" >> $GITHUB_ENV
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 80: fi
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 82: - name: Generate tags
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 83: id: generate-tags
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 84: shell: bash
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 85: run: |
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 86: # Generate a timestamp for creating an image version history
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 87: TIMESTAMP="$(date +%Y%m%d)"
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 88: MAJOR_VERSION="${{ matrix.major_version }}"
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 89: COMMIT_TAGS=()
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 90: BUILD_TAGS=()
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 91: # Have tags for tracking builds during pull request
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 92: SHA_SHORT="${GITHUB_SHA::7}"
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 93: COMMIT_TAGS+=("pr-${{ github.event.number }}-${MAJOR_VERSION}")
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 94: COMMIT_TAGS+=("${SHA_SHORT}-${MAJOR_VERSION}")
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 95: if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 96: [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 97: COMMIT_TAGS+=("pr-${{ github.event.number }}")
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 98: COMMIT_TAGS+=("${SHA_SHORT}")
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 99: fi
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 101: BUILD_TAGS=("${MAJOR_VERSION}" "${MAJOR_VERSION}-${TIMESTAMP}")
2025-11-05 14:51:42,071 - utils.process_runner - DEBUG - 라인 103: if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 104: [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 105: BUILD_TAGS+=("latest")
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 106: elif [[ "${{ matrix.is_gts_version }}" == "true" ]]; then
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 107: BUILD_TAGS+=("gts")
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 108: fi
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 110: if [[ "${{ github.event_name }}" == "pull_request" ]]; then
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 111: echo "Generated the following commit tags: "
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 112: for TAG in "${COMMIT_TAGS[@]}"; do
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 113: echo "${TAG}"
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 114: done
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 115: alias_tags=("${COMMIT_TAGS[@]}")
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 116: else
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 117: alias_tags=("${BUILD_TAGS[@]}")
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 118: fi
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 119: echo "Generated the following build tags: "
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 120: for TAG in "${BUILD_TAGS[@]}"; do
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 121: echo "${TAG}"
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 122: done
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 123: echo "alias_tags=${alias_tags[*]}" >> $GITHUB_OUTPUT
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 125: - name: Get Current Fedora Version
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 126: id: labels
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 127: run: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 128: ver=$(skopeo inspect docker://ghcr.io/ublue-os/silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }} | jq -r '.Labels["org.opencontainers.image.version"]')
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 129: echo "VERSION=$ver" >> $GITHUB_OUTPUT
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 131: # Build metadata
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 132: - name: Image Metadata
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 133: uses: docker/metadata-action@v5
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 134: id: meta
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 135: with:
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 136: images: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 137: ${{ env.IMAGE_NAME }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 138: labels: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 139: org.opencontainers.image.title=${{ env.IMAGE_NAME }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 140: org.opencontainers.image.version=${{ steps.labels.outputs.VERSION }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 141: org.opencontainers.image.description=An interpretation of the Ubuntu spirit built on Fedora technology
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 142: io.artifacthub.package.readme-url=https://raw.githubusercontent.com/ublue-os/bluefin/bluefin/README.md
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 143: io.artifacthub.package.logo-url=https://avatars.githubusercontent.com/u/120078124?s=200&v=4
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 145: # Build image using Buildah action
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 146: - name: Build Image
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 147: id: build_image
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 148: uses: redhat-actions/buildah-build@v2
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 149: with:
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 150: containerfiles: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 151: ./Containerfile
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 152: image: ${{ env.IMAGE_NAME }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 153: tags: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 154: ${{ steps.generate-tags.outputs.alias_tags }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 155: build-args: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 156: IMAGE_NAME=${{ env.IMAGE_NAME }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 157: IMAGE_FLAVOR=${{ matrix.image_flavor }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 158: IMAGE_VENDOR=${{ github.repository_owner }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 159: FEDORA_MAJOR_VERSION=${{ matrix.major_version }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 160: TARGET_BASE=${{ matrix.target_base }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 161: AKMODS_FLAVOR=${{ env.AKMODS_FLAVOR }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 162: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 163: oci: false
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 164: # TODO(GH-280)
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 165: # extra-args: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 166: #   --target=${{ matrix.target_name || matrix.base_name }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 167: extra-args: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 168: --target=${{ matrix.base_name }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 170: # Workaround bug where capital letters in your GitHub username make it impossible to push to GHCR.
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 171: # https://github.com/macbre/push-to-ghcr/issues/12
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 172: - name: Lowercase Registry
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 173: id: registry_case
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 174: uses: ASzc/change-string-case-action@v6
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 175: with:
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 176: string: ${{ env.IMAGE_REGISTRY }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 178: # Push the image to GHCR (Image Registry)
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 179: - name: Push To GHCR
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 180: uses: redhat-actions/push-to-registry@v2
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 181: id: push
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 182: if: github.event_name != 'pull_request'
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 183: env:
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 184: REGISTRY_USER: ${{ github.actor }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 185: REGISTRY_PASSWORD: ${{ github.token }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 186: with:
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 187: image: ${{ steps.build_image.outputs.image }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 188: tags: ${{ steps.build_image.outputs.tags }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 189: registry: ${{ steps.registry_case.outputs.lowercase }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 190: username: ${{ env.REGISTRY_USER }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 191: password: ${{ env.REGISTRY_PASSWORD }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 193: - name: Login to GitHub Container Registry
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 194: uses: docker/login-action@v3
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 195: if: github.event_name != 'pull_request'
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 196: with:
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 197: registry: ghcr.io
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 198: username: ${{ github.actor }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 199: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 201: # Sign container
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 202: - uses: sigstore/cosign-installer@v3.3.0
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 203: if: github.event_name != 'pull_request'
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 205: - name: Sign container image
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 206: if: github.event_name != 'pull_request'
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 207: run: |
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 208: cosign sign -y --key env://COSIGN_PRIVATE_KEY ${{ steps.registry_case.outputs.lowercase }}/${{ env.IMAGE_NAME }}@${TAGS}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 209: env:
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 210: TAGS: ${{ steps.push.outputs.digest }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 211: COSIGN_EXPERIMENTAL: false
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 212: COSIGN_PRIVATE_KEY: ${{ secrets.SIGNING_SECRET }}
2025-11-05 14:51:42,072 - utils.process_runner - DEBUG - 라인 214: - name: Echo outputs
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 215: if: github.event_name != 'pull_request'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 216: run: |
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 217: echo "${{ toJSON(steps.push.outputs) }}"
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 219: - uses: akhilmhdh/contributors-readme-action@v2.3.6
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 220: env:
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 221: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 223: check:
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 224: name: Check all builds successful
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 225: if: ${{ !cancelled() }}
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 226: runs-on: ubuntu-latest
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 227: needs: [push-ghcr]
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 228: steps:
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 229: - name: Exit on failure
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 230: if: ${{ needs.push-ghcr.result == 'failure' }}
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 231: shell: bash
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 232: run: exit 1
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 233: - name: Exit
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 234: shell: bash
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 235: run: exit 0
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 237: mapping values are not allowed here
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 238: in "<file>", line 220, column 14
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 239: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 240: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 241: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 242: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 243: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 244: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 245: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 246: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 247: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 248: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 249: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 250: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 251: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 252: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 253: We have found 25 smells
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 25 smells
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 254: - 3. Use fixed version for runs-on argument (line 225)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 225)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 255: - 8. Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 47)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 256: - 8. Use commit hash instead of tags for action versions (line 132)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 132)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 257: - 8. Use commit hash instead of tags for action versions (line 173)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 173)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 258: - 8. Use commit hash instead of tags for action versions (line 218)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 218)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 259: - 8. Use commit hash instead of tags for action versions (line 201)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 201)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 260: - 8. Use commit hash instead of tags for action versions (line 64)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 64)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 261: - 8. Use commit hash instead of tags for action versions (line 193)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 193)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 262: - 8. Use commit hash instead of tags for action versions (line 147)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 147)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 263: - 8. Use commit hash instead of tags for action versions (line 61)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 61)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 264: - 8. Use commit hash instead of tags for action versions (line 179)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 179)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 265: - 8. Use commit hash instead of tags for action versions (line 44)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 44)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 266: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 267: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 268: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 269: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 270: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 271: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 272: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 273: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 274: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 275: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 276: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 277: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 278: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:51:42,073 - utils.process_runner - DEBUG - 라인 279: The following styling errors were found:
2025-11-05 14:51:42,074 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:51:42,074 - utils.process_runner - DEBUG - 라인 280: 13:5: wrong indentation: expected 2 but found 4 (indentation)
2025-11-05 14:51:42,074 - utils.process_runner - DEBUG - 라인 281: 141:115: trailing spaces (trailing-spaces)
2025-11-05 14:51:42,074 - utils.process_runner - DEBUG - 라인 282: 220:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:51:42,074 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 220:14: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:51:42,074 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:51:42,074 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:51:42,074 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:51:42,074 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:51:42,074 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:51:42,074 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:51:42,074 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build and Push Image
on:
  schedule:
    - cron: '40 16 * * *'  # 16:40 UTC everyday
  merge_group:
  pull_request:
    branches:
      - main
    paths-ignore:
      - '**.md'
  workflow_dispatch:
env:
    IMAGE_REGISTRY: ghcr.io/${{ github.repository_owner }}

concurrency:
  group: ${{ github.workflow }}-${{ github.ref || github.run_id }}
  cancel-in-progress: true

jobs:
  push-ghcr:
    name: M...
2025-11-05 14:51:42,074 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:51:42,074 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:51:42,074 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:51:42,075 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:52:49,195 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:52:49,198 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:52:49,199 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:52:49,199 - main - DEBUG - 추출된 YAML:
name: Build and Push Image
on:
  schedule:
    - cron: '40 16 * * *'  # 16:40 UTC everyday
  merge_group:
  pull_request:
    branches:
      - main
    paths-ignore:
      - '**.md'
  workflow_dispatch:

env:
  IMAGE_REGISTRY: ghcr.io/${{ github.repository_owner }}

concurrency:
  group: ${{ github.workflow }}-${{ github.ref || github.run_id }}
  cancel-in-progress: true

jobs:
  push-ghcr:
    name: Make
    runs-on: ubuntu-22.04
    permissions:
      contents: read
      packages: write
      id-token: write
    strategy:
      fail-fast: false
      matrix:
        image_flavor: [main, nvidia, asus, asus-nvidia, framework, surface, surface-nvidia]
        base_name: [bluefin, bluefin-dx]
        major_version: [38, 39]
        include:
          - major_version: 38
            is_latest_version: false
            is_stable_version: true
            is_gts_version: true
          - major_version: 39
            is_latest_version: true
            is_stable_version: true
            is_gts_version: false

    steps:
      # Checkout push-to-registry action GitHub repository
      - name: Checkout Push to Registry action
        uses: actions/checkout@v4

      - name: Verify base image
        uses: EyeCantCU/cosign-action/verify@v0.2.2
        with:
          containers: silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }}

      - name: Verify Chainguard images
        if: matrix.base_name != 'bluefin'
        uses: EyeCantCU/cosign-action/verify@v0.2.2
        with:
          containers: dive, flux, helm, ko, minio, kubectl
          cert-identity: https://github.com/chainguard-images/images/.github/workflows/release.yaml@refs/heads/main
          oidc-issuer: https://token.actions.githubusercontent.com
          registry: cgr.dev/chainguard

      - name: Maximize build space
        uses: ublue-os/remove-unwanted-software@v6

      - name: Check just syntax
        uses: ublue-os/just-action@v1

      - name: Matrix Variables
        run: |
          if [[ "${{ matrix.image_flavor }}" == "main" ]]; then
              echo "IMAGE_NAME=${{ matrix.base_name }}" >> $GITHUB_ENV
          else
              echo "IMAGE_NAME=${{ format('{0}-{1}', matrix.base_name, matrix.image_flavor) }}" >> $GITHUB_ENV
          fi
          if [[ "${{ matrix.image_flavor }}" =~ "asus" ]]; then
              echo "AKMODS_FLAVOR=asus" >> $GITHUB_ENV
          elif [[ "${{ matrix.image_flavor }}" =~ "surface" ]]; then
              echo "AKMODS_FLAVOR=surface" >> $GITHUB_ENV
          else
              echo "AKMODS_FLAVOR=main" >> $GITHUB_ENV
          fi

      - name: Generate tags
        id: generate-tags
        shell: bash
        run: |
          # Generate a timestamp for creating an image version history
          TIMESTAMP="$(date +%Y%m%d)"
          MAJOR_VERSION="${{ matrix.major_version }}"
          COMMIT_TAGS=()
          BUILD_TAGS=()
          # Have tags for tracking builds during pull request
          SHA_SHORT="${GITHUB_SHA::7}"
          COMMIT_TAGS+=("pr-${{ github.event.number }}-${MAJOR_VERSION}")
          COMMIT_TAGS+=("${SHA_SHORT}-${MAJOR_VERSION}")
          if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
             [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
              COMMIT_TAGS+=("pr-${{ github.event.number }}")
              COMMIT_TAGS+=("${SHA_SHORT}")
          fi

          BUILD_TAGS=("${MAJOR_VERSION}" "${MAJOR_VERSION}-${TIMESTAMP}")

          if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
             [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
              BUILD_TAGS+=("latest")
          elif [[ "${{ matrix.is_gts_version }}" == "true" ]]; then
              BUILD_TAGS+=("gts")
          fi

          if [[ "${{ github.event_name }}" == "pull_request" ]]; then
              echo "Generated the following commit tags: "
              for TAG in "${COMMIT_TAGS[@]}"; do
                  echo "${TAG}"
              done
              alias_tags=("${COMMIT_TAGS[@]}")
          else
              alias_tags=("${BUILD_TAGS[@]}")
          fi
          echo "Generated the following build tags: "
          for TAG in "${BUILD_TAGS[@]}"; do
              echo "${TAG}"
          done
          echo "alias_tags=${alias_tags[*]}" >> $GITHUB_OUTPUT

      - name: Get Current Fedora Version
        id: labels
        run: |
          ver=$(skopeo inspect docker://ghcr.io/ublue-os/silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }} | jq -r '.Labels["org.opencontainers.image.version"]')
          echo "VERSION=$ver" >> $GITHUB_OUTPUT

      # Build metadata
      - name: Image Metadata
        uses: docker/metadata-action@v5
        id: meta
        with:
          images: |
            ${{ env.IMAGE_NAME }}
          labels: |
            org.opencontainers.image.title=${{ env.IMAGE_NAME }}
            org.opencontainers.image.version=${{ steps.labels.outputs.VERSION }}
            org.opencontainers.image.description=An interpretation of the Ubuntu spirit built on Fedora technology 
            io.artifacthub.package.readme-url=https://raw.githubusercontent.com/ublue-os/bluefin/bluefin/README.md
            io.artifacthub.package.logo-url=https://avatars.githubusercontent.com/u/120078124?s=200&v=4

      # Build image using Buildah action
      - name: Build Image
        id: build_image
        uses: redhat-actions/buildah-build@v2
        with:
          containerfiles: |
            ./Containerfile
          image: ${{ env.IMAGE_NAME }}
          tags: |
            ${{ steps.generate-tags.outputs.alias_tags }}
          build-args: |
            IMAGE_NAME=${{ env.IMAGE_NAME }}
            IMAGE_FLAVOR=${{ matrix.image_flavor }}
            IMAGE_VENDOR=${{ github.repository_owner }}
            FEDORA_MAJOR_VERSION=${{ matrix.major_version }}
            TARGET_BASE=${{ matrix.target_base }}
            AKMODS_FLAVOR=${{ env.AKMODS_FLAVOR }}
          labels: ${{ steps.meta.outputs.labels }}
          oci: false
          extra-args: |
            --target=${{ matrix.base_name }}

      # Workaround bug where capital letters in your GitHub username make it impossible to push to GHCR.
      # https://github.com/macbre/push-to-ghcr/issues/12
      - name: Lowercase Registry
        id: registry_case
        uses: ASzc/change-string-case-action@v6
        with:
          string: ${{ env.IMAGE_REGISTRY }}

      # Push the image to GHCR (Image Registry)
      - name: Push To GHCR
        uses: redhat-actions/push-to-registry@v2
        id: push
        if: github.event_name != 'pull_request'
        env:
          REGISTRY_USER: ${{ github.actor }}
          REGISTRY_PASSWORD: ${{ secrets.GITHUB_TOKEN }}
        with:
          image: ${{ steps.build_image.outputs.image }}
          tags: ${{ steps.build_image.outputs.tags }}
          registry: ${{ steps.registry_case.outputs.lowercase }}
          username: ${{ env.REGISTRY_USER }}
          password: ${{ env.REGISTRY_PASSWORD }}

      - name: Login to GitHub Container Registry
        uses: docker/login-action@v3
        if: github.event_name != 'pull_request'
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      # Sign container
      - uses: sigstore/cosign-installer@v3.3.0
        if: github.event_name != 'pull_request'

      - name: Sign container image
        if: github.event_name != 'pull_request'
        run: |
          cosign sign -y --key env://COSIGN_PRIVATE_KEY ${{ steps.registry_case.outputs.lowercase }}/${{ env.IMAGE_NAME }}@${TAGS}
        env:
          TAGS: ${{ steps.push.outputs.digest }}
          COSIGN_EXPERIMENTAL: false
          COSIGN_PRIVATE_KEY: ${{ secrets.SIGNING_SECRET }}

      - name: Echo outputs
        if: github.event_name != 'pull_request'
        run: |
          echo "Image pushed to GHCR"

      - name: Exit
        shell: bash
        run: exit 0

  check:
    runs-on: ubuntu-22.04
    steps:
      - name: Check image exists in GHCR
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
        run: |
          if ! curl -s -f https://ghcr.io/v2/${{ github.repository }}/images/tags/${{ env.IMAGE_NAME }}; then
            echo "Image does not exist in GHCR"
            exit 1
          fi

      - name: Exit
        shell: bash
        run: exit 0
2025-11-05 14:52:49,199 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:52:49,200 - main - DEBUG - 검증할 YAML 길이: 8489 문자
2025-11-05 14:52:49,200 - main - DEBUG - YAML 시작 부분: "name: Build and Push Image\non:\n  schedule:\n    - cron: '40 16 * * *'  # 16:40 UTC everyday\n  merge_g"
2025-11-05 14:52:49,223 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build and Push Image', 'on': {'schedule': [{'cron': '40 16 * * *'}], 'merge_group': None, 'pull_request': {'branches': ['main'], 'paths-ignore': ['**.md']}, 'workflow_dispatch': None}, 'env': {'IMAGE_REGISTRY': 'ghcr.io/${{ github.repository_owner }}'}, 'concurrency': {'group': '${{ github.workflow }}-${{ github.ref || github.run_id }}', 'cancel-in-progress': True}, 'jobs': {'push-ghcr': {'name': 'Make', 'runs-on': 'ubuntu-22.04', 'permissions': {'contents': 'read', 'packages': 'write', 'id-token': 'write'}, 'strategy': {'fail-fast': False, 'matrix': {'image_flavor': ['main', 'nvidia', 'asus', 'asus-nvidia', 'framework', 'surface', 'surface-nvidia'], 'base_name': ['bluefin', 'bluefin-dx'], 'major_version': [38, 39], 'include': [{'major_version': 38, 'is_latest_version': False, 'is_stable_version': True, 'is_gts_version': True}, {'major_version': 39, 'is_latest_version': True, 'is_stable_version': True, 'is_gts_version': False}]}}, 'steps': [{'name': 'Checkout Push to Registry action', 'uses': 'actions/checkout@v4'}, {'name': 'Verify base image', 'uses': 'EyeCantCU/cosign-action/verify@v0.2.2', 'with': {'containers': 'silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }}'}}, {'name': 'Verify Chainguard images', 'if': "matrix.base_name != 'bluefin'", 'uses': 'EyeCantCU/cosign-action/verify@v0.2.2', 'with': {'containers': 'dive, flux, helm, ko, minio, kubectl', 'cert-identity': 'https://github.com/chainguard-images/images/.github/workflows/release.yaml@refs/heads/main', 'oidc-issuer': 'https://token.actions.githubusercontent.com', 'registry': 'cgr.dev/chainguard'}}, {'name': 'Maximize build space', 'uses': 'ublue-os/remove-unwanted-software@v6'}, {'name': 'Check just syntax', 'uses': 'ublue-os/just-action@v1'}, {'name': 'Matrix Variables', 'run': 'if [[ "${{ matrix.image_flavor }}" == "main" ]]; then\n    echo "IMAGE_NAME=${{ matrix.base_name }}" >> $GITHUB_ENV\nelse\n    echo "IMAGE_NAME=${{ format(\'{0}-{1}\', matrix.base_name, matrix.image_flavor) }}" >> $GITHUB_ENV\nfi\nif [[ "${{ matrix.image_flavor }}" =~ "asus" ]]; then\n    echo "AKMODS_FLAVOR=asus" >> $GITHUB_ENV\nelif [[ "${{ matrix.image_flavor }}" =~ "surface" ]]; then\n    echo "AKMODS_FLAVOR=surface" >> $GITHUB_ENV\nelse\n    echo "AKMODS_FLAVOR=main" >> $GITHUB_ENV\nfi\n'}, {'name': 'Generate tags', 'id': 'generate-tags', 'shell': 'bash', 'run': '# Generate a timestamp for creating an image version history\nTIMESTAMP="$(date +%Y%m%d)"\nMAJOR_VERSION="${{ matrix.major_version }}"\nCOMMIT_TAGS=()\nBUILD_TAGS=()\n# Have tags for tracking builds during pull request\nSHA_SHORT="${GITHUB_SHA::7}"\nCOMMIT_TAGS+=("pr-${{ github.event.number }}-${MAJOR_VERSION}")\nCOMMIT_TAGS+=("${SHA_SHORT}-${MAJOR_VERSION}")\nif [[ "${{ matrix.is_latest_version }}" == "true" ]] && \\\n   [[ "${{ matrix.is_stable_version }}" == "true" ]]; then\n    COMMIT_TAGS+=("pr-${{ github.event.number }}")\n    COMMIT_TAGS+=("${SHA_SHORT}")\nfi\n\nBUILD_TAGS=("${MAJOR_VERSION}" "${MAJOR_VERSION}-${TIMESTAMP}")\n\nif [[ "${{ matrix.is_latest_version }}" == "true" ]] && \\\n   [[ "${{ matrix.is_stable_version }}" == "true" ]]; then\n    BUILD_TAGS+=("latest")\nelif [[ "${{ matrix.is_gts_version }}" == "true" ]]; then\n    BUILD_TAGS+=("gts")\nfi\n\nif [[ "${{ github.event_name }}" == "pull_request" ]]; then\n    echo "Generated the following commit tags: "\n    for TAG in "${COMMIT_TAGS[@]}"; do\n        echo "${TAG}"\n    done\n    alias_tags=("${COMMIT_TAGS[@]}")\nelse\n    alias_tags=("${BUILD_TAGS[@]}")\nfi\necho "Generated the following build tags: "\nfor TAG in "${BUILD_TAGS[@]}"; do\n    echo "${TAG}"\ndone\necho "alias_tags=${alias_tags[*]}" >> $GITHUB_OUTPUT\n'}, {'name': 'Get Current Fedora Version', 'id': 'labels', 'run': 'ver=$(skopeo inspect docker://ghcr.io/ublue-os/silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }} | jq -r \'.Labels["org.opencontainers.image.version"]\')\necho "VERSION=$ver" >> $GITHUB_OUTPUT\n'}, {'name': 'Image Metadata', 'uses': 'docker/metadata-action@v5', 'id': 'meta', 'with': {'images': '${{ env.IMAGE_NAME }}\n', 'labels': 'org.opencontainers.image.title=${{ env.IMAGE_NAME }}\norg.opencontainers.image.version=${{ steps.labels.outputs.VERSION }}\norg.opencontainers.image.description=An interpretation of the Ubuntu spirit built on Fedora technology \nio.artifacthub.package.readme-url=https://raw.githubusercontent.com/ublue-os/bluefin/bluefin/README.md\nio.artifacthub.package.logo-url=https://avatars.githubusercontent.com/u/120078124?s=200&v=4\n'}}, {'name': 'Build Image', 'id': 'build_image', 'uses': 'redhat-actions/buildah-build@v2', 'with': {'containerfiles': './Containerfile\n', 'image': '${{ env.IMAGE_NAME }}', 'tags': '${{ steps.generate-tags.outputs.alias_tags }}\n', 'build-args': 'IMAGE_NAME=${{ env.IMAGE_NAME }}\nIMAGE_FLAVOR=${{ matrix.image_flavor }}\nIMAGE_VENDOR=${{ github.repository_owner }}\nFEDORA_MAJOR_VERSION=${{ matrix.major_version }}\nTARGET_BASE=${{ matrix.target_base }}\nAKMODS_FLAVOR=${{ env.AKMODS_FLAVOR }}\n', 'labels': '${{ steps.meta.outputs.labels }}', 'oci': False, 'extra-args': '--target=${{ matrix.base_name }}\n'}}, {'name': 'Lowercase Registry', 'id': 'registry_case', 'uses': 'ASzc/change-string-case-action@v6', 'with': {'string': '${{ env.IMAGE_REGISTRY }}'}}, {'name': 'Push To GHCR', 'uses': 'redhat-actions/push-to-registry@v2', 'id': 'push', 'if': "github.event_name != 'pull_request'", 'env': {'REGISTRY_USER': '${{ github.actor }}', 'REGISTRY_PASSWORD': '${{ secrets.GITHUB_TOKEN }}'}, 'with': {'image': '${{ steps.build_image.outputs.image }}', 'tags': '${{ steps.build_image.outputs.tags }}', 'registry': '${{ steps.registry_case.outputs.lowercase }}', 'username': '${{ env.REGISTRY_USER }}', 'password': '${{ env.REGISTRY_PASSWORD }}'}}, {'name': 'Login to GitHub Container Registry', 'uses': 'docker/login-action@v3', 'if': "github.event_name != 'pull_request'", 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'uses': 'sigstore/cosign-installer@v3.3.0', 'if': "github.event_name != 'pull_request'"}, {'name': 'Sign container image', 'if': "github.event_name != 'pull_request'", 'run': 'cosign sign -y --key env://COSIGN_PRIVATE_KEY ${{ steps.registry_case.outputs.lowercase }}/${{ env.IMAGE_NAME }}@${TAGS}\n', 'env': {'TAGS': '${{ steps.push.outputs.digest }}', 'COSIGN_EXPERIMENTAL': False, 'COSIGN_PRIVATE_KEY': '${{ secrets.SIGNING_SECRET }}'}}, {'name': 'Echo outputs', 'if': "github.event_name != 'pull_request'", 'run': 'echo "Image pushed to GHCR"\n'}, {'name': 'Exit', 'shell': 'bash', 'run': 'exit 0'}]}, 'check': {'runs-on': 'ubuntu-22.04', 'steps': [{'name': 'Check image exists in GHCR', 'uses': 'docker/login-action@v3', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}, 'run': 'if ! curl -s -f https://ghcr.io/v2/${{ github.repository }}/images/tags/${{ env.IMAGE_NAME }}; then\n  echo "Image does not exist in GHCR"\n  exit 1\nfi\n'}, {'name': 'Exit', 'shell': 'bash', 'run': 'exit 0'}]}}}
2025-11-05 14:52:49,224 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_baseline_repaired.yml
2025-11-05 14:52:49,224 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:52:49,224 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_baseline_repaired.yml
2025-11-05 14:52:49,224 - __main__ - INFO - === 파일 64/100 베이스라인 복구 완료 ===
2025-11-05 14:52:49,224 - __main__ - INFO - ✅ 성공 (67.70초): f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857 -> f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_baseline_repaired.yml
2025-11-05 14:52:49,225 - __main__ - INFO - [65/100] 처리 중: a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:49,225 - __main__ - INFO - 입력 파일 경로: data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:49,225 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_baseline_repaired.yml
2025-11-05 14:52:49,225 - __main__ - INFO - === 파일 65/100 베이스라인 복구 시작 ===
2025-11-05 14:52:49,225 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:52:49,225 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:52:49,225 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:49,225 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:52:49,226 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:52:49,226 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:49,250 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 14:52:49,250 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:52:49,250 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:52:49,250 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:52:49,250 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
We have found 6 smells
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 10)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build-ormlite)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
14:64: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 11
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 2: We have found 6 smells
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 6 smells
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 3: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 10)
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 5: - 12. Avoid workflows without comments
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 6: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 7: - 19. Run tests on multiple OS's (job: build-ormlite)
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-ormlite)
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 8: - 22. Avoid deploying jobs on forks
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 9: The following styling errors were found:
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:52:49,716 - utils.process_runner - DEBUG - 라인 10: 14:64: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 14:52:49,716 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:52:49,716 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 14:52:49,716 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 14:52:49,716 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:52:49,716 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:52:49,717 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
﻿name: Build OrmLite

on:
  push:
    paths:
      - 'ServiceStack.OrmLite/**'
      - '.github/workflows/build-ormlite.yml'

jobs:
  build-ormlite:
    runs-on: ubuntu-20.04
    uses: ServiceStack/ServiceStack/.github/workflows/reuse-build-ormlite.yml@main
    secrets:
      SERVICESTACK_LICENSE: ${{ secrets.SERVICESTACK_LICENSE }}
```

**Issues Found:**

**Syntax Errors (actionlint):**
1. when a reusab...
2025-11-05 14:52:49,717 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:52:49,717 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:52:49,717 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:52:49,718 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:52:57,282 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1372
2025-11-05 14:52:57,282 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:52:57,283 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:52:57,283 - main - DEBUG - 추출된 YAML:
name: Build OrmLite

on:
  push:
    paths:
      - 'ServiceStack.OrmLite/**'
      - '.github/workflows/build-ormlite.yml'

jobs:
  build-ormlite:
    name: Reuse Build OrmLite Workflow
    uses: ServiceStack/ServiceStack/.github/workflows/reuse-build-ormlite.yml@main
    secrets:
      SERVICESTACK_LICENSE: ${{ secrets.SERVICESTACK_LICENSE }}
2025-11-05 14:52:57,283 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:52:57,283 - main - DEBUG - 검증할 YAML 길이: 346 문자
2025-11-05 14:52:57,283 - main - DEBUG - YAML 시작 부분: "name: Build OrmLite\n\non:\n  push:\n    paths:\n      - 'ServiceStack.OrmLite/**'\n      - '.github/workf"
2025-11-05 14:52:57,286 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build OrmLite', 'on': {'push': {'paths': ['ServiceStack.OrmLite/**', '.github/workflows/build-ormlite.yml']}}, 'jobs': {'build-ormlite': {'name': 'Reuse Build OrmLite Workflow', 'uses': 'ServiceStack/ServiceStack/.github/workflows/reuse-build-ormlite.yml@main', 'secrets': {'SERVICESTACK_LICENSE': '${{ secrets.SERVICESTACK_LICENSE }}'}}}}
2025-11-05 14:52:57,286 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 14:52:57,286 - main - ERROR - 검증 오류: ["Job 'build-ormlite' missing 'runs-on'", "Job 'build-ormlite' missing 'steps'"]
2025-11-05 14:52:57,287 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_baseline_repaired.yml
2025-11-05 14:52:57,287 - __main__ - INFO - === 파일 65/100 베이스라인 복구 완료 ===
2025-11-05 14:52:57,287 - __main__ - ERROR - ❌ 실패 (8.06초): a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 14:52:57,287 - __main__ - INFO - [66/100] 처리 중: 3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 14:52:57,287 - __main__ - INFO - 입력 파일 경로: data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 14:52:57,288 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_baseline_repaired.yml
2025-11-05 14:52:57,288 - __main__ - INFO - === 파일 66/100 베이스라인 복구 시작 ===
2025-11-05 14:52:57,288 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:52:57,288 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:52:57,289 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 14:52:57,289 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:52:57,289 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:52:57,289 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 14:52:57,297 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:52:57,297 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:52:57,297 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:52:57,297 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:52:57,297 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.29초)
2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
We have found 11 smells
	- 3. Use fixed version for runs-on argument (line 8)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 7)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 10)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 7)
	- 13. Use names for run steps (lines 11:11)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
21:12: missing starting space in comment (comments)

2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 16
2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:52:57,592 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 7)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 7)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 10)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 10)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 7)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 7)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines 11:11)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 11:11)
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 12: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 14: The following styling errors were found:
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:52:57,593 - utils.process_runner - DEBUG - 라인 15: 21:12: missing starting space in comment (comments)
2025-11-05 14:52:57,593 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:52:57,593 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:52:57,593 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:52:57,593 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:52:57,593 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:52:57,593 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: CI
on:
  push:
    branches:
      - master
jobs:
  test:
    name: Publish
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - name: Install, Build, Test
        run: |
          npm install
          npm run build
      - name: Publish
        uses: actions/npm@1.0.0
        args: "publish --access public"
        env:
          NPM_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}...
2025-11-05 14:52:57,593 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:52:57,593 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:52:57,593 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:52:57,594 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:53:10,288 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:53:10,290 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:53:10,290 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:53:10,291 - main - DEBUG - 추출된 YAML:
name: CI
on:
  push:
    branches:
      - master
jobs:
  test:
    name: Publish
    runs-on: ubuntu-latest
    timeout-minutes: 10 # added timeout to avoid semantic smell
    steps:
      - uses: actions/checkout@v2 # updated action version to v2
      - name: Install, Build, Test
        run: |
          npm install
          npm run build
      - name: Publish
        uses: actions/npm@v1 # updated action version to v1
        env:
          NPM_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # added back the GitHub token
      - name: npm version
        run: |
          npm version patch
          git config --global user.name "github-actions[bot]"
          git config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"
          git add .
          git commit -m "Release"
          git push
      - name: npm publish
        run: |
          npm publish
2025-11-05 14:53:10,291 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:53:10,291 - main - DEBUG - 검증할 YAML 길이: 936 문자
2025-11-05 14:53:10,291 - main - DEBUG - YAML 시작 부분: 'name: CI\non:\n  push:\n    branches:\n      - master\njobs:\n  test:\n    name: Publish\n    runs-on: ubunt'
2025-11-05 14:53:10,297 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'push': {'branches': ['master']}}, 'jobs': {'test': {'name': 'Publish', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Install, Build, Test', 'run': 'npm install\nnpm run build\n'}, {'name': 'Publish', 'uses': 'actions/npm@v1', 'env': {'NPM_AUTH_TOKEN': '${{ secrets.NPM_TOKEN }}', 'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'npm version', 'run': 'npm version patch\ngit config --global user.name "github-actions[bot]"\ngit config --global user.email "41898282+github-actions[bot]@users.noreply.github.com"\ngit add .\ngit commit -m "Release"\ngit push\n'}, {'name': 'npm publish', 'run': 'npm publish'}]}}}
2025-11-05 14:53:10,298 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_baseline_repaired.yml
2025-11-05 14:53:10,298 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:53:10,298 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_baseline_repaired.yml
2025-11-05 14:53:10,298 - __main__ - INFO - === 파일 66/100 베이스라인 복구 완료 ===
2025-11-05 14:53:10,299 - __main__ - INFO - ✅ 성공 (13.01초): 3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752 -> 3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_baseline_repaired.yml
2025-11-05 14:53:10,299 - __main__ - INFO - [67/100] 처리 중: d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 14:53:10,299 - __main__ - INFO - 입력 파일 경로: data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 14:53:10,299 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_baseline_repaired.yml
2025-11-05 14:53:10,299 - __main__ - INFO - === 파일 67/100 베이스라인 복구 시작 ===
2025-11-05 14:53:10,299 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:53:10,299 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:53:10,299 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 14:53:10,299 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:53:10,299 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:53:10,300 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 14:53:10,332 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:53:10,332 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:53:10,332 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:53:10,332 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:53:10,332 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 14:53:10,784 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 14:53:10,784 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 31)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 31)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 31)
	- 13. Use names for run steps (lines -1:38)
	- 13. Use names for run steps (lines -1:34)
	- 16. Avoid running CI related actions when no source code has changed
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks

2025-11-05 14:53:10,784 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:53:10,784 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 15
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 31)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 31)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 31)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 31)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 31)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 31)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:38)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:38)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:34)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:34)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 12: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 13: - 18. Avoid installing packages without version (line -1)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 14:53:10,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:53:10,785 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:53:10,785 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 14:53:10,785 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 14:53:10,785 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:53:10,785 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:53:10,785 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# This is a GitHub workflow defining a set of jobs with a set of steps.
# ref: https://docs.github.com/en/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions
#
name: Publish

# Trigger the workflow's on pushed tags or commits to main/master branch.
on:
  push:
    branches: [main, master]
    tags:

defaults:
  run:
    # Declare bash be used by default in this workflow's "run" step...
2025-11-05 14:53:10,785 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:53:10,785 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:53:10,785 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:53:10,786 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:53:26,124 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:53:26,125 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:53:26,126 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:53:26,126 - main - DEBUG - 추출된 YAML:
name: Publish

on:
  push:
    branches: [main, master]
    tags:
      - 'v*'

defaults:
  run:
    shell: bash

jobs:
  publish:
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0
      - name: Setup Python environment
        uses: actions/setup-python@v2
        with:
          python-version: '3.8'
      - name: Install chart publishing dependencies (chartpress, helm)
        run: |
          . ./ci/common
          setup_helm
          pip install --no-cache-dir chartpress
      - name: Configure a git user
        run: |
          git config --global user.email "github-actions@example.local"
          git config --global user.name "GitHub Actions user"
      - name: Publish images and chart with chartpress
        env:
          GITHUB_REPOSITORY: "${{ github.repository }}"
        run: |
          ./ci/publish

  # Added a separate job for Docker Hub login to avoid running it in the main job
  docker-login:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Login to Docker Hub
        env:
          DOCKER_USERNAME: ${{ secrets.DOCKER_USERNAME }}
          DOCKER_PASSWORD: ${{ secrets.DOCKER_PASSWORD }}
        run: |
          docker login -u "${DOCKER_USERNAME}" -p "${DOCKER_PASSWORD}"
2025-11-05 14:53:26,126 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:53:26,126 - main - DEBUG - 검증할 YAML 길이: 1333 문자
2025-11-05 14:53:26,126 - main - DEBUG - YAML 시작 부분: "name: Publish\n\non:\n  push:\n    branches: [main, master]\n    tags:\n      - 'v*'\n\ndefaults:\n  run:\n   "
2025-11-05 14:53:26,134 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Publish', 'on': {'push': {'branches': ['main', 'master'], 'tags': ['v*']}}, 'defaults': {'run': {'shell': 'bash'}}, 'jobs': {'publish': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Setup Python environment', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '3.8'}}, {'name': 'Install chart publishing dependencies (chartpress, helm)', 'run': '. ./ci/common\nsetup_helm\npip install --no-cache-dir chartpress\n'}, {'name': 'Configure a git user', 'run': 'git config --global user.email "github-actions@example.local"\ngit config --global user.name "GitHub Actions user"\n'}, {'name': 'Publish images and chart with chartpress', 'env': {'GITHUB_REPOSITORY': '${{ github.repository }}'}, 'run': './ci/publish\n'}]}, 'docker-login': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Login to Docker Hub', 'env': {'DOCKER_USERNAME': '${{ secrets.DOCKER_USERNAME }}', 'DOCKER_PASSWORD': '${{ secrets.DOCKER_PASSWORD }}'}, 'run': 'docker login -u "${DOCKER_USERNAME}" -p "${DOCKER_PASSWORD}"'}]}}}
2025-11-05 14:53:26,134 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_baseline_repaired.yml
2025-11-05 14:53:26,134 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:53:26,134 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_baseline_repaired.yml
2025-11-05 14:53:26,134 - __main__ - INFO - === 파일 67/100 베이스라인 복구 완료 ===
2025-11-05 14:53:26,134 - __main__ - INFO - ✅ 성공 (15.84초): d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079 -> d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_baseline_repaired.yml
2025-11-05 14:53:26,134 - __main__ - INFO - [68/100] 처리 중: ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 14:53:26,134 - __main__ - INFO - 입력 파일 경로: data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 14:53:26,134 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_baseline_repaired.yml
2025-11-05 14:53:26,134 - __main__ - INFO - === 파일 68/100 베이스라인 복구 시작 ===
2025-11-05 14:53:26,134 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:53:26,134 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:53:26,135 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 14:53:26,135 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:53:26,135 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:53:26,135 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 14:53:26,141 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:53:26,141 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:53:26,141 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:53:26,141 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:53:26,142 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.42초)
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: build

on:
  workflow_call:

jobs:
  build:
    timeout-minutes: 30
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [ "18.5.0" ]
        go-version: [ "1.20" ]
        db-host:
          - 127.0.0.1

    services:
      postgres:
        image: postgres:14
        ports:
          - 5432:5432
        env:
          POSTGRES_DB: "thunderdome"
          POSTGRES_USER: "thor"
          POSTGRES_PASSWORD: "odinson"
        # Set health checks to wait until postgres has started
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
      - name: Set up Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}

      - name: Set up Go ${{ matrix.go-version }}
        uses: actions/setup-go@v4
        with:
          go-version: ${{ matrix.go-version }}
        id: go

      - name: Check out code into the Go module directory
        uses: actions/checkout@v3

      - run: npm ci --no-optional
      #      - run: npm test
      - run: npm run build
        env:
          CI: true

      - name: Get dependencies
        run: |
          go mod download
          if [ -f Gopkg.toml ]; then
              curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh
              dep ensure
          fi
          go install github.com/swaggo/swag/cmd/swag@v1.7.4

      - name: Generate swagger docs
        run: swag init -g http/http.go -o swaggerdocs

      - name: Build
        run: go build -v .

      - name: Archive build artifacts
          uses: actions/upload-artifact@v3
          with:
            name: build-artifacts
            path: |
              dist
              swaggerdocs

      - name: Run Thunderdome application
        run: ./thunderdome-planning-poker &
        env:
          DB_HOST: ${{ matrix.db-host }}
          APP_DOMAIN: ".127.0.0.1"
          COOKIE_SECURE: "false"

      - name: Install Playwright dependencies
        working-directory: ./e2e
        run: |
          npm ci
          npx playwright install --with-deps

      - name: Run Playwright tests
        working-directory: ./e2e
        run: npx playwright test
        env:
          DB_HOST: ${{ matrix.db-host }}

      - uses: actions/upload-artifact@v3
        if: always()
        with:
          name: playwright-report
          path: e2e/playwright-report/
          retention-days: 30



mapping values are not allowed here
  in "<file>", line 71, column 15
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 8)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 46)
	- 8. Use commit hash instead of tags for action versions (line 40)
	- 8. Use commit hash instead of tags for action versions (line 70)
	- 8. Use commit hash instead of tags for action versions (line 96)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
13:24: too many spaces inside brackets (brackets)
13:33: too many spaces inside brackets (brackets)
14:22: too many spaces inside brackets (brackets)
14:29: too many spaces inside brackets (brackets)
104:1: too many blank lines (2 > 0) (empty-lines)
71:15: syntax error: mapping values are not allowed here (syntax)

2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 149
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: build
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 4: workflow_call:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 6: jobs:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 7: build:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 8: timeout-minutes: 30
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-latest
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 11: strategy:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 12: matrix:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 13: node-version: [ "18.5.0" ]
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 14: go-version: [ "1.20" ]
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 15: db-host:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 16: - 127.0.0.1
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 18: services:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 19: postgres:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 20: image: postgres:14
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 21: ports:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 22: - 5432:5432
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 23: env:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 24: POSTGRES_DB: "thunderdome"
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 25: POSTGRES_USER: "thor"
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 26: POSTGRES_PASSWORD: "odinson"
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 27: # Set health checks to wait until postgres has started
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 28: options: >-
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 29: --health-cmd pg_isready
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 30: --health-interval 10s
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 31: --health-timeout 5s
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 32: --health-retries 5
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 34: steps:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 35: - name: Set up Node.js ${{ matrix.node-version }}
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 36: uses: actions/setup-node@v3
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 38: node-version: ${{ matrix.node-version }}
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 40: - name: Set up Go ${{ matrix.go-version }}
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 41: uses: actions/setup-go@v4
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 42: with:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 43: go-version: ${{ matrix.go-version }}
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 44: id: go
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 46: - name: Check out code into the Go module directory
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 47: uses: actions/checkout@v3
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 49: - run: npm ci --no-optional
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 50: #      - run: npm test
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 51: - run: npm run build
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 52: env:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 53: CI: true
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 55: - name: Get dependencies
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 56: run: |
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 57: go mod download
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 58: if [ -f Gopkg.toml ]; then
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 59: curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 60: dep ensure
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 61: fi
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 62: go install github.com/swaggo/swag/cmd/swag@v1.7.4
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 64: - name: Generate swagger docs
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 65: run: swag init -g http/http.go -o swaggerdocs
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 67: - name: Build
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 68: run: go build -v .
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 70: - name: Archive build artifacts
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 71: uses: actions/upload-artifact@v3
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 72: with:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 73: name: build-artifacts
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 74: path: |
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 75: dist
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 76: swaggerdocs
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 78: - name: Run Thunderdome application
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 79: run: ./thunderdome-planning-poker &
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 80: env:
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 81: DB_HOST: ${{ matrix.db-host }}
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 82: APP_DOMAIN: ".127.0.0.1"
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 83: COOKIE_SECURE: "false"
2025-11-05 14:53:26,558 - utils.process_runner - DEBUG - 라인 85: - name: Install Playwright dependencies
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 86: working-directory: ./e2e
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 87: run: |
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 88: npm ci
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 89: npx playwright install --with-deps
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 91: - name: Run Playwright tests
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 92: working-directory: ./e2e
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 93: run: npx playwright test
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 94: env:
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 95: DB_HOST: ${{ matrix.db-host }}
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 97: - uses: actions/upload-artifact@v3
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 98: if: always()
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 99: with:
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 100: name: playwright-report
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 101: path: e2e/playwright-report/
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 102: retention-days: 30
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 106: mapping values are not allowed here
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 107: in "<file>", line 71, column 15
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 108: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 109: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 110: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 111: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 112: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 113: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 114: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 115: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 116: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 118: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 119: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 120: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 122: We have found 19 smells
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 123: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 124: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 125: - 8. Use commit hash instead of tags for action versions (line 46)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 46)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 126: - 8. Use commit hash instead of tags for action versions (line 40)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 40)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 127: - 8. Use commit hash instead of tags for action versions (line 70)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 70)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 128: - 8. Use commit hash instead of tags for action versions (line 96)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 96)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 129: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 130: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 131: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 132: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 133: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 134: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 135: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 136: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 137: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 138: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 139: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 140: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 141: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 142: The following styling errors were found:
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 143: 13:24: too many spaces inside brackets (brackets)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 144: 13:33: too many spaces inside brackets (brackets)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 145: 14:22: too many spaces inside brackets (brackets)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 146: 14:29: too many spaces inside brackets (brackets)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 147: 104:1: too many blank lines (2 > 0) (empty-lines)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 라인 148: 71:15: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:53:26,559 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 71:15: syntax error: mapping values are not allowed here (syntax)
2025-11-05 14:53:26,559 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:53:26,559 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:53:26,560 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:53:26,560 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:53:26,560 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:53:26,560 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:53:26,560 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: build

on:
  workflow_call:

jobs:
  build:
    timeout-minutes: 30
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [ "18.5.0" ]
        go-version: [ "1.20" ]
        db-host:
          - 127.0.0.1

    services:
      postgres:
        image: postgres:14
        ports:
          - 5432:5432
        env:
          POSTGRES_DB: "thunderdome"
          POSTGRES_USER: "t...
2025-11-05 14:53:26,560 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:53:26,560 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:53:26,560 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:53:26,561 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:54:08,964 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:54:08,967 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:54:08,967 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:54:08,968 - main - DEBUG - 추출된 YAML:
name: build

on:
  workflow_call:

jobs:
  build:
    timeout-minutes: 30
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [ "18.5.0" ]
        go-version: [ "1.20" ]
        db-host:
          - 127.0.0.1

    services:
      postgres:
        image: postgres:14
        ports:
          - 5432:5432
        env:
          POSTGRES_DB: "thunderdome"
          POSTGRES_USER: "thor"
          POSTGRES_PASSWORD: "odinson"
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
      - name: Set up Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}

      - name: Set up Go ${{ matrix.go-version }}
        uses: actions/setup-go@v4
        with:
          go-version: ${{ matrix.go-version }}
        id: go

      - name: Check out code into the Go module directory
        uses: actions/checkout@v3

      - run: npm ci --no-optional
      #      - run: npm test
      - run: npm run build
        env:
          CI: true

      - name: Get dependencies
        run: |
          go mod download
          if [ -f Gopkg.toml ]; then
              curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh
              dep ensure
          fi
          go install github.com/swaggo/swag/cmd/swag@v1.7.4

      - name: Generate swagger docs
        run: swag init -g http/http.go -o swaggerdocs

      - name: Build
        run: go build -v .

      - name: Archive build artifacts
        uses: actions/upload-artifact@v3
        with:
          name: build-artifacts
          path: |
            dist
            swaggerdocs

      - name: Run Thunderdome application
        run: ./thunderdome-planning-poker &
        env:
          DB_HOST: ${{ matrix.db-host }}
          APP_DOMAIN: ".127.0.0.1"
          COOKIE_SECURE: "false"

      - name: Install Playwright dependencies
        working-directory: ./e2e
        run: |
          npm ci
          npx playwright install --with-deps

      - name: Run Playwright tests
        working-directory: ./e2e
        run: npx playwright test
        env:
          DB_HOST: ${{ matrix.db-host }}

      - uses: actions/upload-artifact@v3
        if: always()
        with:
          name: playwright-report
          path: e2e/playwright-report/
          retention-days: 30
2025-11-05 14:54:08,968 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:54:08,968 - main - DEBUG - 검증할 YAML 길이: 2460 문자
2025-11-05 14:54:08,968 - main - DEBUG - YAML 시작 부분: 'name: build\n\non:\n  workflow_call:\n\njobs:\n  build:\n    timeout-minutes: 30\n    runs-on: ubuntu-latest'
2025-11-05 14:54:08,982 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'build', 'on': {'workflow_call': None}, 'jobs': {'build': {'timeout-minutes': 30, 'runs-on': 'ubuntu-latest', 'strategy': {'matrix': {'node-version': ['18.5.0'], 'go-version': ['1.20'], 'db-host': ['127.0.0.1']}}, 'services': {'postgres': {'image': 'postgres:14', 'ports': ['5432:5432'], 'env': {'POSTGRES_DB': 'thunderdome', 'POSTGRES_USER': 'thor', 'POSTGRES_PASSWORD': 'odinson'}, 'options': '--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5'}}, 'steps': [{'name': 'Set up Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v3', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Set up Go ${{ matrix.go-version }}', 'uses': 'actions/setup-go@v4', 'with': {'go-version': '${{ matrix.go-version }}'}, 'id': 'go'}, {'name': 'Check out code into the Go module directory', 'uses': 'actions/checkout@v3'}, {'run': 'npm ci --no-optional'}, {'run': 'npm run build', 'env': {'CI': True}}, {'name': 'Get dependencies', 'run': 'go mod download\nif [ -f Gopkg.toml ]; then\n    curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh\n    dep ensure\nfi\ngo install github.com/swaggo/swag/cmd/swag@v1.7.4\n'}, {'name': 'Generate swagger docs', 'run': 'swag init -g http/http.go -o swaggerdocs'}, {'name': 'Build', 'run': 'go build -v .'}, {'name': 'Archive build artifacts', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'build-artifacts', 'path': 'dist\nswaggerdocs\n'}}, {'name': 'Run Thunderdome application', 'run': './thunderdome-planning-poker &', 'env': {'DB_HOST': '${{ matrix.db-host }}', 'APP_DOMAIN': '.127.0.0.1', 'COOKIE_SECURE': 'false'}}, {'name': 'Install Playwright dependencies', 'working-directory': './e2e', 'run': 'npm ci\nnpx playwright install --with-deps\n'}, {'name': 'Run Playwright tests', 'working-directory': './e2e', 'run': 'npx playwright test', 'env': {'DB_HOST': '${{ matrix.db-host }}'}}, {'uses': 'actions/upload-artifact@v3', 'if': 'always()', 'with': {'name': 'playwright-report', 'path': 'e2e/playwright-report/', 'retention-days': 30}}]}}}
2025-11-05 14:54:08,983 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_baseline_repaired.yml
2025-11-05 14:54:08,983 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:54:08,983 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_baseline_repaired.yml
2025-11-05 14:54:08,983 - __main__ - INFO - === 파일 68/100 베이스라인 복구 완료 ===
2025-11-05 14:54:08,983 - __main__ - INFO - ✅ 성공 (42.85초): ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a -> ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_baseline_repaired.yml
2025-11-05 14:54:08,983 - __main__ - INFO - [69/100] 처리 중: 42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 14:54:08,983 - __main__ - INFO - 입력 파일 경로: data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 14:54:08,984 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_baseline_repaired.yml
2025-11-05 14:54:08,984 - __main__ - INFO - === 파일 69/100 베이스라인 복구 시작 ===
2025-11-05 14:54:08,984 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:54:08,984 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:54:08,984 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 14:54:08,984 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:54:08,985 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:54:08,985 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 14:54:09,017 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 14:54:09,017 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:54:09,017 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:54:09,017 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:54:09,017 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 14:54:09,497 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 14:54:09,497 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Laravel

on: [push]

jobs:
  laravel-tests:
    runs-on: ubuntu-latest
    services:
      mysql-service:
        image: mysql:8.0.25
        env:
          MYSQL_ROOT_PASSWORD: password
          MYSQL_DATABASE: flare_test
        ports:
          - 33306:3306
        options: >-
          --health-cmd="mysqladmin ping"
          --health-interval=10s
          --health-timeout=5s
          --health-retries=3
    steps:
    - uses: actions/checkout@v1
    - name: Setup PHP
      uses: shivammathur/setup-php@v2
      with:
        php-version: 8.0
    - name: Copy .env
      run: php -r "file_exists('.env') || copy('.env.example', '.env');"
    - name: Install Dependencies
      run: |
        rm -rf vendor
        composer install
        yarn install
    - name: Generate key
      run: php artisan key:generate
    - name: Link Storage
      run: php artisan storage:link
    - name: Install dependencies (laravel mix)
      run: yarn run prod
    - name: Execute tests (Unit and Feature tests) via PHPUnit
      env:
        DB_CONNECTION: mysql
        DB_HOST: 127.0.0.1
        DB_DATABASE: flare_test
        DB_PORT: 33306
        DB_USER: root
        DB_PASSWORD: password
        TIME_ZONE: America/Edmonton
      run: |
      php artisan migrate
      vendor/bin/phpunit --stop-on-failure

while scanning a simple key
  in "<file>", line 50, column 7
could not find expected ':'
  in "<file>", line 51, column 7
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 6)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
22:5: wrong indentation: expected 6 but found 4 (indentation)
51:7: syntax error: could not find expected ':' (syntax)

2025-11-05 14:54:09,497 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:54:09,497 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 92
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Laravel
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 3: on: [push]
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 5: jobs:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 6: laravel-tests:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 7: runs-on: ubuntu-latest
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 8: services:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 9: mysql-service:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 10: image: mysql:8.0.25
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 11: env:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 12: MYSQL_ROOT_PASSWORD: password
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 13: MYSQL_DATABASE: flare_test
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 14: ports:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 15: - 33306:3306
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 16: options: >-
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 17: --health-cmd="mysqladmin ping"
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 18: --health-interval=10s
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 19: --health-timeout=5s
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 20: --health-retries=3
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 21: steps:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 22: - uses: actions/checkout@v1
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 23: - name: Setup PHP
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 24: uses: shivammathur/setup-php@v2
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 25: with:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 26: php-version: 8.0
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 27: - name: Copy .env
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 28: run: php -r "file_exists('.env') || copy('.env.example', '.env');"
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 29: - name: Install Dependencies
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 30: run: |
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 31: rm -rf vendor
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 32: composer install
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 33: yarn install
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 34: - name: Generate key
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 35: run: php artisan key:generate
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 36: - name: Link Storage
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 37: run: php artisan storage:link
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 38: - name: Install dependencies (laravel mix)
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 39: run: yarn run prod
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 40: - name: Execute tests (Unit and Feature tests) via PHPUnit
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 41: env:
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 42: DB_CONNECTION: mysql
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 43: DB_HOST: 127.0.0.1
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 44: DB_DATABASE: flare_test
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 45: DB_PORT: 33306
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 46: DB_USER: root
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 47: DB_PASSWORD: password
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 48: TIME_ZONE: America/Edmonton
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 49: run: |
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 50: php artisan migrate
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 51: vendor/bin/phpunit --stop-on-failure
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 53: while scanning a simple key
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 54: in "<file>", line 50, column 7
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 55: could not find expected ':'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 56: in "<file>", line 51, column 7
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 57: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 71: We have found 17 smells
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 72: - 3. Use fixed version for runs-on argument (line 6)
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 6)
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 73: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 74: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 라인 75: - 12. Avoid workflows without comments
2025-11-05 14:54:09,498 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 76: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 89: The following styling errors were found:
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 90: 22:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 라인 91: 51:7: syntax error: could not find expected ':' (syntax)
2025-11-05 14:54:09,499 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 51:7: syntax error: could not find expected ':' (syntax)
2025-11-05 14:54:09,499 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:54:09,499 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 14:54:09,499 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 14:54:09,499 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 14:54:09,499 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:54:09,499 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:54:09,499 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Laravel

on: [push]

jobs:
  laravel-tests:
    runs-on: ubuntu-latest
    services:
      mysql-service:
        image: mysql:8.0.25
        env:
          MYSQL_ROOT_PASSWORD: password
          MYSQL_DATABASE: flare_test
        ports:
          - 33306:3306
        options: >-
          --health-cmd="mysqladmin ping"
          --health-interval=10s
          --health-timeout=5s
          --heal...
2025-11-05 14:54:09,499 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:54:09,499 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:54:09,499 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:54:09,500 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:54:24,107 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 14:54:24,108 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 14:54:24,108 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 14:54:24,108 - main - DEBUG - 추출된 YAML:
name: Laravel

on: [push]

jobs:
  laravel-tests:
    runs-on: ubuntu-latest
    services:
      mysql-service:
        image: mysql:8.0.25
        env:
          MYSQL_ROOT_PASSWORD: password
          MYSQL_DATABASE: flare_test
        ports:
          - 33306:3306
        options: >-
          --health-cmd="mysqladmin ping"
          --health-interval=10s
          --health-timeout=5s
          --health-retries=3
    steps:
      - uses: actions/checkout@v2 # updated to v2
      - name: Setup PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: 8.0
      - name: Copy .env
        run: |
          if [ ! -f ".env" ]; then
            cp .env.example .env;
          fi
      - name: Install Dependencies
        run: |
          rm -rf vendor
          composer install
          yarn install
      - name: Generate key
        run: php artisan key:generate
      - name: Link Storage
        run: php artisan storage:link
      - name: Install dependencies (laravel mix)
        run: yarn run prod
      - name: Execute tests (Unit and Feature tests) via PHPUnit
        env:
          DB_CONNECTION: mysql
          DB_HOST: 127.0.0.1
          DB_DATABASE: flare_test
          DB_PORT: 33306
          DB_USER: root
          DB_PASSWORD: password
          TIME_ZONE: America/Edmonton
        run: |
          php artisan migrate
          vendor/bin/phpunit --stop-on-failure
2025-11-05 14:54:24,108 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 14:54:24,108 - main - DEBUG - 검증할 YAML 길이: 1419 문자
2025-11-05 14:54:24,108 - main - DEBUG - YAML 시작 부분: 'name: Laravel\n\non: [push]\n\njobs:\n  laravel-tests:\n    runs-on: ubuntu-latest\n    services:\n      mys'
2025-11-05 14:54:24,117 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Laravel', 'on': ['push'], 'jobs': {'laravel-tests': {'runs-on': 'ubuntu-latest', 'services': {'mysql-service': {'image': 'mysql:8.0.25', 'env': {'MYSQL_ROOT_PASSWORD': 'password', 'MYSQL_DATABASE': 'flare_test'}, 'ports': ['33306:3306'], 'options': '--health-cmd="mysqladmin ping" --health-interval=10s --health-timeout=5s --health-retries=3'}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Setup PHP', 'uses': 'shivammathur/setup-php@v2', 'with': {'php-version': 8.0}}, {'name': 'Copy .env', 'run': 'if [ ! -f ".env" ]; then\n  cp .env.example .env;\nfi\n'}, {'name': 'Install Dependencies', 'run': 'rm -rf vendor\ncomposer install\nyarn install\n'}, {'name': 'Generate key', 'run': 'php artisan key:generate'}, {'name': 'Link Storage', 'run': 'php artisan storage:link'}, {'name': 'Install dependencies (laravel mix)', 'run': 'yarn run prod'}, {'name': 'Execute tests (Unit and Feature tests) via PHPUnit', 'env': {'DB_CONNECTION': 'mysql', 'DB_HOST': '127.0.0.1', 'DB_DATABASE': 'flare_test', 'DB_PORT': 33306, 'DB_USER': 'root', 'DB_PASSWORD': 'password', 'TIME_ZONE': 'America/Edmonton'}, 'run': 'php artisan migrate\nvendor/bin/phpunit --stop-on-failure'}]}}}
2025-11-05 14:54:24,118 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_baseline_repaired.yml
2025-11-05 14:54:24,118 - main - INFO - Baseline 모드 복구 완료
2025-11-05 14:54:24,118 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_baseline_repaired.yml
2025-11-05 14:54:24,118 - __main__ - INFO - === 파일 69/100 베이스라인 복구 완료 ===
2025-11-05 14:54:24,118 - __main__ - INFO - ✅ 성공 (15.13초): 42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e -> 42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_baseline_repaired.yml
2025-11-05 14:54:24,118 - __main__ - INFO - [70/100] 처리 중: f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 14:54:24,118 - __main__ - INFO - 입력 파일 경로: data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 14:54:24,118 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_baseline_repaired.yml
2025-11-05 14:54:24,118 - __main__ - INFO - === 파일 70/100 베이스라인 복구 시작 ===
2025-11-05 14:54:24,118 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 14:54:24,118 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 14:54:24,119 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 14:54:24,119 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 14:54:24,119 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 14:54:24,119 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 14:54:24,131 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 14:54:24,131 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 14:54:24,132 - main - INFO - actionlint에서 32개 오류 발견 (syntax-check 및 expression만)
2025-11-05 14:54:24,132 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 14:54:24,132 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.54초)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
We have found 60 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 204)
	- 3. Use fixed version for runs-on argument (line 14)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 481)
	- 6. Define permissions for workflows with external actions (job at line: 68)
	- 6. Define permissions for workflows with external actions (job at line: 441)
	- 6. Define permissions for workflows with external actions (job at line: 321)
	- 6. Define permissions for workflows with external actions (job at line: 204)
	- 6. Define permissions for workflows with external actions (job at line: 149)
	- 6. Define permissions for workflows with external actions (job at line: 562)
	- 6. Define permissions for workflows with external actions (job at line: 176)
	- 6. Define permissions for workflows with external actions (job at line: 361)
	- 6. Define permissions for workflows with external actions (job at line: 95)
	- 6. Define permissions for workflows with external actions (job at line: 521)
	- 6. Define permissions for workflows with external actions (job at line: 14)
	- 6. Define permissions for workflows with external actions (job at line: 401)
	- 6. Define permissions for workflows with external actions (job at line: 41)
	- 6. Define permissions for workflows with external actions (job at line: 122)
	- 6. Define permissions for workflows with external actions (job at line: 270)
	- 7. Use 'if' for upload-artifact action (line 36)
	- 8. Use commit hash instead of tags for action versions (line 209)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 310)
	- 8. Use commit hash instead of tags for action versions (line 215)
	- 8. Use commit hash instead of tags for action versions (line 276)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 521)
	- 10. Avoid jobs without timeouts (line: 122)
	- 10. Avoid jobs without timeouts (line: 321)
	- 10. Avoid jobs without timeouts (line: 562)
	- 10. Avoid jobs without timeouts (line: 95)
	- 10. Avoid jobs without timeouts (line: 401)
	- 10. Avoid jobs without timeouts (line: 14)
	- 10. Avoid jobs without timeouts (line: 270)
	- 10. Avoid jobs without timeouts (line: 481)
	- 10. Avoid jobs without timeouts (line: 361)
	- 10. Avoid jobs without timeouts (line: 68)
	- 10. Avoid jobs without timeouts (line: 176)
	- 10. Avoid jobs without timeouts (line: 441)
	- 10. Avoid jobs without timeouts (line: 41)
	- 10. Avoid jobs without timeouts (line: 204)
	- 10. Avoid jobs without timeouts (line: 149)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:277)
	- 13. Use names for run steps (lines -1:36)
	- 13. Use names for run steps (lines -1:217)
	- 13. Use names for run steps (lines -1:210)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 19. Run tests on multiple OS's (job: build-centos-8)
	- 19. Run tests on multiple OS's (job: build-ubuntu-focal)
	- 19. Run tests on multiple OS's (job: build-ubuntu-bionic)
	- 19. Run tests on multiple OS's (job: build-debian-buster)
	- 19. Run tests on multiple OS's (job: build-ubuntu-xenial)
	- 19. Run tests on multiple OS's (job: build-debian-stretch)
	- 19. Run tests on multiple OS's (job: build-centos-7)
	- 19. Run tests on multiple OS's (job: build-macos-x86_64)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
20:5: wrong indentation: expected 6 but found 4 (indentation)
47:5: wrong indentation: expected 6 but found 4 (indentation)
74:5: wrong indentation: expected 6 but found 4 (indentation)
101:5: wrong indentation: expected 6 but found 4 (indentation)
128:5: wrong indentation: expected 6 but found 4 (indentation)
155:5: wrong indentation: expected 6 but found 4 (indentation)
182:5: wrong indentation: expected 6 but found 4 (indentation)
210:5: wrong indentation: expected 6 but found 4 (indentation)
277:5: wrong indentation: expected 6 but found 4 (indentation)
308:1: trailing spaces (trailing-spaces)
319:1: trailing spaces (trailing-spaces)
328:5: wrong indentation: expected 6 but found 4 (indentation)
359:1: trailing spaces (trailing-spaces)
368:5: wrong indentation: expected 6 but found 4 (indentation)
399:1: trailing spaces (trailing-spaces)
408:5: wrong indentation: expected 6 but found 4 (indentation)
439:1: trailing spaces (trailing-spaces)
448:5: wrong indentation: expected 6 but found 4 (indentation)
479:1: trailing spaces (trailing-spaces)
488:5: wrong indentation: expected 6 but found 4 (indentation)
519:1: trailing spaces (trailing-spaces)
528:5: wrong indentation: expected 6 but found 4 (indentation)
559:1: trailing spaces (trailing-spaces)
569:5: wrong indentation: expected 6 but found 4 (indentation)
593:1: too many blank lines (1 > 0) (empty-lines)

2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 89
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 2: We have found 60 smells
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 60 smells
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 3: - 1. Avoid executing scheduled workflows on forks
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 204)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 204)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 5: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 6: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 481)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 481)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 68)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 68)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 441)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 441)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 10: - 6. Define permissions for workflows with external actions (job at line: 321)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 321)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 11: - 6. Define permissions for workflows with external actions (job at line: 204)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 204)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 12: - 6. Define permissions for workflows with external actions (job at line: 149)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 149)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 13: - 6. Define permissions for workflows with external actions (job at line: 562)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 562)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 14: - 6. Define permissions for workflows with external actions (job at line: 176)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 176)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 15: - 6. Define permissions for workflows with external actions (job at line: 361)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 361)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 16: - 6. Define permissions for workflows with external actions (job at line: 95)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 95)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 17: - 6. Define permissions for workflows with external actions (job at line: 521)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 521)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 18: - 6. Define permissions for workflows with external actions (job at line: 14)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 14)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 19: - 6. Define permissions for workflows with external actions (job at line: 401)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 401)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 20: - 6. Define permissions for workflows with external actions (job at line: 41)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 41)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 21: - 6. Define permissions for workflows with external actions (job at line: 122)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 122)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 22: - 6. Define permissions for workflows with external actions (job at line: 270)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 270)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 23: - 7. Use 'if' for upload-artifact action (line 36)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 36)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 24: - 8. Use commit hash instead of tags for action versions (line 209)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 209)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 25: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 26: - 8. Use commit hash instead of tags for action versions (line 310)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 310)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 27: - 8. Use commit hash instead of tags for action versions (line 215)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 215)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 라인 28: - 8. Use commit hash instead of tags for action versions (line 276)
2025-11-05 14:54:24,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 276)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 29: - 9. Steps should only perform a single command (line -1)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 30: - 10. Avoid jobs without timeouts (line: 521)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 521)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 31: - 10. Avoid jobs without timeouts (line: 122)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 122)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 32: - 10. Avoid jobs without timeouts (line: 321)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 321)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 33: - 10. Avoid jobs without timeouts (line: 562)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 562)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 34: - 10. Avoid jobs without timeouts (line: 95)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 95)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 35: - 10. Avoid jobs without timeouts (line: 401)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 401)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 36: - 10. Avoid jobs without timeouts (line: 14)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 14)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 37: - 10. Avoid jobs without timeouts (line: 270)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 270)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 38: - 10. Avoid jobs without timeouts (line: 481)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 481)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 39: - 10. Avoid jobs without timeouts (line: 361)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 361)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 40: - 10. Avoid jobs without timeouts (line: 68)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 68)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 41: - 10. Avoid jobs without timeouts (line: 176)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 176)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 42: - 10. Avoid jobs without timeouts (line: 441)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 441)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 43: - 10. Avoid jobs without timeouts (line: 41)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 41)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 44: - 10. Avoid jobs without timeouts (line: 204)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 204)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 45: - 10. Avoid jobs without timeouts (line: 149)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 149)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 46: - 12. Avoid workflows without comments
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 47: - 13. Use names for run steps (lines -1:277)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:277)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 48: - 13. Use names for run steps (lines -1:36)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:36)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 49: - 13. Use names for run steps (lines -1:217)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:217)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 50: - 13. Use names for run steps (lines -1:210)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:210)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 51: - 14. Avoid incorrectly formatted workflows
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 52: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 53: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 54: - 19. Run tests on multiple OS's (job: build-centos-8)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-centos-8)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 55: - 19. Run tests on multiple OS's (job: build-ubuntu-focal)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-ubuntu-focal)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 56: - 19. Run tests on multiple OS's (job: build-ubuntu-bionic)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-ubuntu-bionic)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 57: - 19. Run tests on multiple OS's (job: build-debian-buster)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-debian-buster)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 58: - 19. Run tests on multiple OS's (job: build-ubuntu-xenial)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-ubuntu-xenial)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 59: - 19. Run tests on multiple OS's (job: build-debian-stretch)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-debian-stretch)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 60: - 19. Run tests on multiple OS's (job: build-centos-7)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-centos-7)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 61: - 19. Run tests on multiple OS's (job: build-macos-x86_64)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-macos-x86_64)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 62: - 22. Avoid deploying jobs on forks
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 63: The following styling errors were found:
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 64: 20:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 65: 47:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 66: 74:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 67: 101:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 68: 128:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 69: 155:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 70: 182:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 71: 210:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 72: 277:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 73: 308:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 74: 319:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 75: 328:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 76: 359:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 77: 368:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 78: 399:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 79: 408:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 80: 439:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 81: 448:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 82: 479:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 83: 488:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 84: 519:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 85: 528:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 86: 559:1: trailing spaces (trailing-spaces)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 87: 569:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 14:54:24,673 - utils.process_runner - DEBUG - 라인 88: 593:1: too many blank lines (1 > 0) (empty-lines)
2025-11-05 14:54:24,673 - utils.process_runner - INFO - 총 19개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 14:54:24,673 - utils.process_runner - INFO - Smell detector 실행 완료: 19개 스멜 발견
2025-11-05 14:54:24,673 - main - INFO - Smell detector에서 19개 스멜 발견
2025-11-05 14:54:24,674 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 14:54:24,674 - main - DEBUG - 생성된 프롬프트:
2025-11-05 14:54:24,674 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build Test and Publish Nightly Packages

on:
  schedule:
    - cron: "0 0 * * *"
  repository_dispatch:
    types: ["nightly-build"]
  push:
    branches:
      - nightly

jobs:

  build-debian-stretch:
    runs-on: ubuntu-latest
    platform: debian
    platform_version: stretch

    steps:
    - name: Build
      uses: edgedb/edgedb-pkg/integration/linux/build/debian-stretch@master
      env:
   ...
2025-11-05 14:54:24,674 - main - INFO - 5단계: LLM API 호출
2025-11-05 14:54:24,674 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:54:24,674 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:54:24,675 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 14:59:24,694 - utils.llm_api - ERROR - Ollama API 호출 중 네트워크 오류: HTTPConnectionPool(host='115.145.178.160', port=11434): Read timed out. (read timeout=300)
2025-11-05 14:59:24,699 - utils.llm_api - WARNING - LLM API 호출 실패, 1.0초 후 재시도 (1/3)
2025-11-05 14:59:25,709 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 14:59:25,710 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 14:59:25,717 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:04:25,735 - utils.llm_api - ERROR - Ollama API 호출 중 네트워크 오류: HTTPConnectionPool(host='115.145.178.160', port=11434): Read timed out. (read timeout=300)
2025-11-05 15:04:25,740 - utils.llm_api - WARNING - LLM API 호출 실패, 2.0초 후 재시도 (2/3)
2025-11-05 15:04:27,752 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:04:27,753 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:04:27,802 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:09:27,812 - utils.llm_api - ERROR - Ollama API 호출 중 네트워크 오류: HTTPConnectionPool(host='115.145.178.160', port=11434): Read timed out. (read timeout=300)
2025-11-05 15:09:27,814 - utils.llm_api - WARNING - LLM API 호출 실패, 4.0초 후 재시도 (3/3)
2025-11-05 15:09:31,824 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:09:31,824 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:09:31,828 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:14:31,838 - utils.llm_api - ERROR - Ollama API 호출 중 네트워크 오류: HTTPConnectionPool(host='115.145.178.160', port=11434): Read timed out. (read timeout=300)
2025-11-05 15:14:31,839 - utils.llm_api - ERROR - 모든 재시도 실패, 총 4회 시도함
2025-11-05 15:14:31,839 - main - ERROR - LLM API 호출 실패
2025-11-05 15:14:31,840 - __main__ - INFO - === 파일 70/100 베이스라인 복구 완료 ===
2025-11-05 15:14:31,840 - __main__ - ERROR - ❌ 실패 (1207.72초): f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 15:14:31,842 - __main__ - INFO - [71/100] 처리 중: 29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 15:14:31,842 - __main__ - INFO - 입력 파일 경로: data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 15:14:31,842 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_baseline_repaired.yml
2025-11-05 15:14:31,842 - __main__ - INFO - === 파일 71/100 베이스라인 복구 시작 ===
2025-11-05 15:14:31,842 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:14:31,842 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:14:31,843 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 15:14:31,843 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:14:31,844 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:14:31,844 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 15:14:31,867 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 15:14:31,867 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:14:31,867 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:14:31,867 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:14:31,867 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.54초)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 6. Define permissions for workflows with external actions (job at line: 8)
	- 7. Use 'if' for upload-artifact action (line 57)
	- 8. Use commit hash instead of tags for action versions (line 56)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 8)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:34)
	- 13. Use names for run steps (lines -1:57)
	- 14. Avoid incorrectly formatted workflows
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
14:9: trailing spaces (trailing-spaces)
19:5: wrong indentation: expected 6 but found 4 (indentation)
61:58: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 19
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 8)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 8)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 5: - 7. Use 'if' for upload-artifact action (line 57)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 57)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 56)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 56)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 8)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 8)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 10: - 12. Avoid workflows without comments
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:34)
2025-11-05 15:14:32,407 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:34)
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines -1:57)
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:57)
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 라인 13: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 라인 15: The following styling errors were found:
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 라인 16: 14:9: trailing spaces (trailing-spaces)
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 라인 17: 19:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:14:32,408 - utils.process_runner - DEBUG - 라인 18: 61:58: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 15:14:32,408 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:14:32,408 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 15:14:32,408 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 15:14:32,408 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:14:32,408 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:14:32,408 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
on: [push, pull_request]

defaults:
  run:
    shell: bash

jobs:
  build:
    name: CentOS 7
    runs-on: ubuntu-latest
    container: centos:7
    options: --privileged

    env: 
      PGDATA: /tmp/pgdata

    steps:

    - name: Install
      run: |
        mkdir -p $PGDATA
        yum install -y gcc gcc-c++ make python3 postgresql-server git

    - name: Setup Postgres
      run: |
        systemctl...
2025-11-05 15:14:32,408 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:14:32,408 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:14:32,408 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:14:32,409 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:14:46,560 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:14:46,562 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:14:46,562 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:14:46,562 - main - DEBUG - 추출된 YAML:
on: [push, pull_request]

defaults:
  run:
    shell: bash

jobs:
  build:
    name: CentOS 7
    runs-on: ubuntu-latest
    container: centos:7
    env: 
      PGDATA: /tmp/pgdata

    steps:

    - name: Install
      run: |
        mkdir -p $PGDATA
        yum install -y gcc gcc-c++ make python3 postgresql-server git

    - name: Setup Postgres
      run: |
        systemctl start postgresql

    - name: Install even more
      run: |
        curl -O https://bootstrap.pypa.io/pip/3.6/get-pip.py
        python3 get-pip.py --user
        python3 -m pip install awscli cmake --upgrade --user

    - uses: actions/checkout@v2
      with:
        fetch-depth: 0

    - name: Update DuckDB submodule
      run: |
        git submodule init
        git submodule update --remote --merge

    - name: Build
      run: |
        export PATH=/github/home/.local/bin:$PATH
        make release

    - name: Make test databases
      run: |
        ./create-postgres-tables.sh

    - name: Test
      run: |
        ./duckdb/build/release/test/unittest --test-dir . "[postgres_scanner]"
        ./build/release/concurrency_test

    - uses: actions/upload-artifact@v2
      with:
        name: postgres-scanner
        path: build/release/postgres_scanner.duckdb_extension

    timeout-minutes: 60 # Add a timeout to the job
2025-11-05 15:14:46,562 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:14:46,562 - main - DEBUG - 검증할 YAML 길이: 1321 문자
2025-11-05 15:14:46,562 - main - DEBUG - YAML 시작 부분: 'on: [push, pull_request]\n\ndefaults:\n  run:\n    shell: bash\n\njobs:\n  build:\n    name: CentOS 7\n    ru'
2025-11-05 15:14:46,571 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'on': ['push', 'pull_request'], 'defaults': {'run': {'shell': 'bash'}}, 'jobs': {'build': {'name': 'CentOS 7', 'runs-on': 'ubuntu-latest', 'container': 'centos:7', 'env': {'PGDATA': '/tmp/pgdata'}, 'steps': [{'name': 'Install', 'run': 'mkdir -p $PGDATA\nyum install -y gcc gcc-c++ make python3 postgresql-server git\n'}, {'name': 'Setup Postgres', 'run': 'systemctl start postgresql\n'}, {'name': 'Install even more', 'run': 'curl -O https://bootstrap.pypa.io/pip/3.6/get-pip.py\npython3 get-pip.py --user\npython3 -m pip install awscli cmake --upgrade --user\n'}, {'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Update DuckDB submodule', 'run': 'git submodule init\ngit submodule update --remote --merge\n'}, {'name': 'Build', 'run': 'export PATH=/github/home/.local/bin:$PATH\nmake release\n'}, {'name': 'Make test databases', 'run': './create-postgres-tables.sh\n'}, {'name': 'Test', 'run': './duckdb/build/release/test/unittest --test-dir . "[postgres_scanner]"\n./build/release/concurrency_test\n'}, {'uses': 'actions/upload-artifact@v2', 'with': {'name': 'postgres-scanner', 'path': 'build/release/postgres_scanner.duckdb_extension'}}], 'timeout-minutes': 60}}}
2025-11-05 15:14:46,572 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_baseline_repaired.yml
2025-11-05 15:14:46,572 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:14:46,572 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_baseline_repaired.yml
2025-11-05 15:14:46,572 - __main__ - INFO - === 파일 71/100 베이스라인 복구 완료 ===
2025-11-05 15:14:46,572 - __main__ - INFO - ✅ 성공 (14.73초): 29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a -> 29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_baseline_repaired.yml
2025-11-05 15:14:46,572 - __main__ - INFO - [72/100] 처리 중: e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 15:14:46,572 - __main__ - INFO - 입력 파일 경로: data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 15:14:46,572 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_baseline_repaired.yml
2025-11-05 15:14:46,572 - __main__ - INFO - === 파일 72/100 베이스라인 복구 시작 ===
2025-11-05 15:14:46,572 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:14:46,572 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:14:46,572 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 15:14:46,572 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:14:46,572 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:14:46,572 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 15:14:46,578 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:14:46,578 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:14:46,578 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:14:46,578 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:14:46,578 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.26초)
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Build and Deploy Documentation

on:
  push:
    branches:
      - main
    paths:
      - 'mkdocs.yml'
      - 'docs/**'
      - '.github/workflows/update_docs.yml'

  workflow_dispatch:

jobs:
  build-and-deploy
    name: Build and Deploy
    runs-on: ubuntu-latest
    environment:
      name: cloudflare-pages
      url: https://${{ vars.CLOUDFLARE_PAGES_NAME}}.pages.dev
    steps:
      - uses: actions/checkout@v2
      - name: Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.7
      - name: Install dependencies
        run: |
          python -m pip install -r requirements.txt
      - name: Build
        run: |
          echo "{% extends \"base.html\" %}{% block analytics %}<!-- Matomo -->
            <script type=\"text/javascript\">
              var _paq = window._paq = window._paq || [];
              _paq.push(['disableCookies']);
              _paq.push(['trackPageView']);
              _paq.push(['enableLinkTracking']);
              (function() { var u='//analytics.dvratil.cz/';
                _paq.push(['setTrackerUrl', u+'matomo.php']);
                _paq.push(['setSiteId', '2']);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
              })();</script><!-- End Matomo Code -->{% endblock %}" > docs/overrides/main.html
          mkdocs build --verbose
      - name: Deploy to Cloudflare Pages
        uses: cloudflare/wrangler-action@2.0.0
        env:
          CLOUDFLARE_ACCOUNT_ID: ${{ SECRETS.CLOUDFLARE_ACCOUNT_ID }}
        with:
          apiToken: ${{ SECRETS.CLOUDFLARE_PAGES_TOKEN }}
          command: pages publish ./site --project-name ${{ vars.CLOUDFLARE_PAGES_NAME }} --commit-hash ${{ env.GITHUB_SHA }}


mapping values are not allowed here
  in "<file>", line 16, column 9
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 16)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 45)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
52:1: too many blank lines (1 > 0) (empty-lines)
16:9: syntax error: mapping values are not allowed here (syntax)

2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 92
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Build and Deploy Documentation
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 6: - main
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 7: paths:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 8: - 'mkdocs.yml'
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 9: - 'docs/**'
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 10: - '.github/workflows/update_docs.yml'
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 12: workflow_dispatch:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 14: jobs:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 15: build-and-deploy
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 16: name: Build and Deploy
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 18: environment:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 19: name: cloudflare-pages
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 20: url: https://${{ vars.CLOUDFLARE_PAGES_NAME}}.pages.dev
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 21: steps:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 22: - uses: actions/checkout@v2
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 23: - name: Setup Python
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 24: uses: actions/setup-python@v2
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 25: with:
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 26: python-version: 3.7
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 27: - name: Install dependencies
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 28: run: |
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 29: python -m pip install -r requirements.txt
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 30: - name: Build
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 31: run: |
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 32: echo "{% extends \"base.html\" %}{% block analytics %}<!-- Matomo -->
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 33: <script type=\"text/javascript\">
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 34: var _paq = window._paq = window._paq || [];
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 35: _paq.push(['disableCookies']);
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 36: _paq.push(['trackPageView']);
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 37: _paq.push(['enableLinkTracking']);
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 38: (function() { var u='//analytics.dvratil.cz/';
2025-11-05 15:14:46,843 - utils.process_runner - DEBUG - 라인 39: _paq.push(['setTrackerUrl', u+'matomo.php']);
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 40: _paq.push(['setSiteId', '2']);
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 41: var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 42: g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 43: })();</script><!-- End Matomo Code -->{% endblock %}" > docs/overrides/main.html
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 44: mkdocs build --verbose
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 45: - name: Deploy to Cloudflare Pages
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 46: uses: cloudflare/wrangler-action@2.0.0
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 47: env:
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 48: CLOUDFLARE_ACCOUNT_ID: ${{ SECRETS.CLOUDFLARE_ACCOUNT_ID }}
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 49: with:
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 50: apiToken: ${{ SECRETS.CLOUDFLARE_PAGES_TOKEN }}
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 51: command: pages publish ./site --project-name ${{ vars.CLOUDFLARE_PAGES_NAME }} --commit-hash ${{ env.GITHUB_SHA }}
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 54: mapping values are not allowed here
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 55: in "<file>", line 16, column 9
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 56: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 70: We have found 18 smells
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 71: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 72: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 73: - 8. Use commit hash instead of tags for action versions (line 45)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 45)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 74: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 75: - 12. Avoid workflows without comments
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 76: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 89: The following styling errors were found:
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 90: 52:1: too many blank lines (1 > 0) (empty-lines)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 라인 91: 16:9: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:14:46,844 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 16:9: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:14:46,844 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:14:46,844 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:14:46,844 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:14:46,844 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:14:46,845 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:14:46,845 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:14:46,845 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build and Deploy Documentation

on:
  push:
    branches:
      - main
    paths:
      - 'mkdocs.yml'
      - 'docs/**'
      - '.github/workflows/update_docs.yml'

  workflow_dispatch:

jobs:
  build-and-deploy
    name: Build and Deploy
    runs-on: ubuntu-latest
    environment:
      name: cloudflare-pages
      url: https://${{ vars.CLOUDFLARE_PAGES_NAME}}.pages.dev
    steps:
      - uses: a...
2025-11-05 15:14:46,845 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:14:46,845 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:14:46,845 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:14:46,846 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:15:07,057 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:15:07,058 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:15:07,058 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:15:07,058 - main - DEBUG - 추출된 YAML:
name: Build and Deploy Documentation

on:
  push:
    branches:
      - main
    paths:
      - 'mkdocs.yml'
      - 'docs/**'
      - '.github/workflows/update_docs.yml'

  workflow_dispatch:

jobs:
  build-and-deploy:
    name: Build and Deploy
    runs-on: ubuntu-latest
    environment:
      name: cloudflare-pages
      url: https://${{ secrets.CLOUDFLARE_PAGES_NAME }}.pages.dev
    steps:
      - uses: actions/checkout@v2
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.7
      - name: Install dependencies
        run: |
          python -m pip install -r requirements.txt
      - name: Build
        run: |
          echo "{% extends \"base.html\" %}{% block analytics %}<!-- Matomo -->
            <script type=\"text/javascript\">
              var _paq = window._paq = window._paq || [];
              _paq.push(['disableCookies']);
              _paq.push(['trackPageView']);
              _paq.push(['enableLinkTracking']);
              (function() { var u='//analytics.dvratil.cz/';
                _paq.push(['setTrackerUrl', u+'matomo.php']);
                _paq.push(['setSiteId', '2']);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
              })();</script><!-- End Matomo Code -->{% endblock %}" > docs/overrides/main.html
          mkdocs build --verbose
      - name: Deploy to Cloudflare Pages
        uses: cloudflare/wrangler-action@2.0.0
        env:
          CLOUDFLARE_ACCOUNT_ID: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
        with:
          apiToken: ${{ secrets.CLOUDFLARE_PAGES_TOKEN }}
          command: pages publish ./site --project-name ${{ secrets.CLOUDFLARE_PAGES_NAME }} --commit-hash ${{ github.sha }}
2025-11-05 15:15:07,058 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:15:07,058 - main - DEBUG - 검증할 YAML 길이: 1931 문자
2025-11-05 15:15:07,058 - main - DEBUG - YAML 시작 부분: "name: Build and Deploy Documentation\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - 'mkd"
2025-11-05 15:15:07,067 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build and Deploy Documentation', 'on': {'push': {'branches': ['main'], 'paths': ['mkdocs.yml', 'docs/**', '.github/workflows/update_docs.yml']}, 'workflow_dispatch': None}, 'jobs': {'build-and-deploy': {'name': 'Build and Deploy', 'runs-on': 'ubuntu-latest', 'environment': {'name': 'cloudflare-pages', 'url': 'https://${{ secrets.CLOUDFLARE_PAGES_NAME }}.pages.dev'}, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'token': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Setup Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': 3.7}}, {'name': 'Install dependencies', 'run': 'python -m pip install -r requirements.txt\n'}, {'name': 'Build', 'run': 'echo "{% extends \\"base.html\\" %}{% block analytics %}<!-- Matomo -->\n  <script type=\\"text/javascript\\">\n    var _paq = window._paq = window._paq || [];\n    _paq.push([\'disableCookies\']);\n    _paq.push([\'trackPageView\']);\n    _paq.push([\'enableLinkTracking\']);\n    (function() { var u=\'//analytics.dvratil.cz/\';\n      _paq.push([\'setTrackerUrl\', u+\'matomo.php\']);\n      _paq.push([\'setSiteId\', \'2\']);\n      var d=document, g=d.createElement(\'script\'), s=d.getElementsByTagName(\'script\')[0];\n      g.type=\'text/javascript\'; g.async=true; g.src=u+\'matomo.js\'; s.parentNode.insertBefore(g,s);\n    })();</script><!-- End Matomo Code -->{% endblock %}" > docs/overrides/main.html\nmkdocs build --verbose\n'}, {'name': 'Deploy to Cloudflare Pages', 'uses': 'cloudflare/wrangler-action@2.0.0', 'env': {'CLOUDFLARE_ACCOUNT_ID': '${{ secrets.CLOUDFLARE_ACCOUNT_ID }}'}, 'with': {'apiToken': '${{ secrets.CLOUDFLARE_PAGES_TOKEN }}', 'command': 'pages publish ./site --project-name ${{ secrets.CLOUDFLARE_PAGES_NAME }} --commit-hash ${{ github.sha }}'}}]}}}
2025-11-05 15:15:07,068 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_baseline_repaired.yml
2025-11-05 15:15:07,068 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:15:07,068 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_baseline_repaired.yml
2025-11-05 15:15:07,068 - __main__ - INFO - === 파일 72/100 베이스라인 복구 완료 ===
2025-11-05 15:15:07,068 - __main__ - INFO - ✅ 성공 (20.50초): e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52 -> e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_baseline_repaired.yml
2025-11-05 15:15:07,068 - __main__ - INFO - [73/100] 처리 중: 87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 15:15:07,068 - __main__ - INFO - 입력 파일 경로: data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 15:15:07,068 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_baseline_repaired.yml
2025-11-05 15:15:07,068 - __main__ - INFO - === 파일 73/100 베이스라인 복구 시작 ===
2025-11-05 15:15:07,068 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:15:07,068 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:15:07,069 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 15:15:07,069 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:15:07,069 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:15:07,069 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 15:15:07,075 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:15:07,076 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:15:07,076 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:15:07,076 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:15:07,076 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 15:15:07,398 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Create YAML on direct push to README

on:
  push:
    paths:
      - "README.md"

jobs:
  create_yamls:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo content
        uses: actions/checkout@v2 # checkout the repository content to github runner.
      - name: setup python
        uses: actions/setup-python@v2
        with:
          python-version: 3.9 #install the python needed
            - name: install dependencies
              run: pip install pyyaml
      - name: execute py script - create YAMLs # run file
        run: |
          python create_yamls.py

while parsing a block mapping
  in "<file>", line 17, column 11
expected <block end>, but found '<block sequence start>'
  in "<file>", line 18, column 13
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
13:35: too few spaces before comment: expected 2 (comments)
17:31: too few spaces before comment: expected 2 (comments)
17:32: missing starting space in comment (comments)
18:13: syntax error: expected <block end>, but found '<block sequence start>' (syntax)
20:48: too few spaces before comment: expected 2 (comments)

2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 65
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Create YAML on direct push to README
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 5: paths:
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 6: - "README.md"
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 9: create_yamls:
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-latest
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 11: steps:
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 12: - name: checkout repo content
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 13: uses: actions/checkout@v2 # checkout the repository content to github runner.
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 14: - name: setup python
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 15: uses: actions/setup-python@v2
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 17: python-version: 3.9 #install the python needed
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 18: - name: install dependencies
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 19: run: pip install pyyaml
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 20: - name: execute py script - create YAMLs # run file
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 21: run: |
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 22: python create_yamls.py
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 24: while parsing a block mapping
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 25: in "<file>", line 17, column 11
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 26: expected <block end>, but found '<block sequence start>'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 27: in "<file>", line 18, column 13
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 28: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 42: We have found 16 smells
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 15:15:07,399 - utils.process_runner - DEBUG - 라인 43: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 44: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 45: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 46: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 59: The following styling errors were found:
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 60: 13:35: too few spaces before comment: expected 2 (comments)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 61: 17:31: too few spaces before comment: expected 2 (comments)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 62: 17:32: missing starting space in comment (comments)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 63: 18:13: syntax error: expected <block end>, but found '<block sequence start>' (syntax)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 18:13: syntax error: expected <block end>, but found '<block sequence start>' (syntax)
2025-11-05 15:15:07,400 - utils.process_runner - DEBUG - 라인 64: 20:48: too few spaces before comment: expected 2 (comments)
2025-11-05 15:15:07,400 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:15:07,400 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:15:07,400 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:15:07,400 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:15:07,400 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:15:07,400 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:15:07,400 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Create YAML on direct push to README

on:
  push:
    paths:
      - "README.md"

jobs:
  create_yamls:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo content
        uses: actions/checkout@v2 # checkout the repository content to github runner.
      - name: setup python
        uses: actions/setup-python@v2
        with:
          python-version: 3.9 #install the python needed
 ...
2025-11-05 15:15:07,400 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:15:07,400 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:15:07,400 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:15:07,401 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:15:17,722 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1847
2025-11-05 15:15:17,723 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:15:17,724 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:15:17,724 - main - DEBUG - 추출된 YAML:
name: Create YAML on direct push to README

on:
  push:
    paths:
      - "README.md"

jobs:
  create_yamls:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository content
        uses: actions/checkout@v2 # checkout the repository content to github runner.
      - name: Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.9 # install the python needed
      - name: Install dependencies
        run: pip install pyyaml
      - name: Execute Python script - create YAMLs
        run: |
          python create_yamls.py
2025-11-05 15:15:17,724 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:15:17,724 - main - DEBUG - 검증할 YAML 길이: 578 문자
2025-11-05 15:15:17,724 - main - DEBUG - YAML 시작 부분: 'name: Create YAML on direct push to README\n\non:\n  push:\n    paths:\n      - "README.md"\n\njobs:\n  crea'
2025-11-05 15:15:17,729 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Create YAML on direct push to README', 'on': {'push': {'paths': ['README.md']}}, 'jobs': {'create_yamls': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout repository content', 'uses': 'actions/checkout@v2'}, {'name': 'Setup Python', 'uses': 'actions/setup-python@v2', 'with': {'python-version': 3.9}}, {'name': 'Install dependencies', 'run': 'pip install pyyaml'}, {'name': 'Execute Python script - create YAMLs', 'run': 'python create_yamls.py'}]}}}
2025-11-05 15:15:17,729 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_baseline_repaired.yml
2025-11-05 15:15:17,730 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:15:17,730 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_baseline_repaired.yml
2025-11-05 15:15:17,730 - __main__ - INFO - === 파일 73/100 베이스라인 복구 완료 ===
2025-11-05 15:15:17,730 - __main__ - INFO - ✅ 성공 (10.66초): 87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805 -> 87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_baseline_repaired.yml
2025-11-05 15:15:17,730 - __main__ - INFO - [74/100] 처리 중: eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 15:15:17,730 - __main__ - INFO - 입력 파일 경로: data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 15:15:17,731 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_baseline_repaired.yml
2025-11-05 15:15:17,731 - __main__ - INFO - === 파일 74/100 베이스라인 복구 시작 ===
2025-11-05 15:15:17,731 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:15:17,731 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:15:17,732 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 15:15:17,732 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:15:17,732 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:15:17,732 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 15:15:17,740 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:15:17,741 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:15:17,741 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:15:17,741 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:15:17,741 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
We have found 9 smells
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 101)
	- 10. Avoid jobs without timeouts (line: 71)
	- 10. Avoid jobs without timeouts (line: 15)
	- 13. Use names for run steps (lines -1:34)
	- 13. Use names for run steps (lines -1:31)
	- 22. Avoid deploying jobs on forks

2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 12
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 2: We have found 9 smells
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 9 smells
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 3: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 4: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 5: - 9. Steps should only perform a single command (line -1)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 6: - 10. Avoid jobs without timeouts (line: 101)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 101)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 7: - 10. Avoid jobs without timeouts (line: 71)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 71)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 15)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 15)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 9: - 13. Use names for run steps (lines -1:34)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:34)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:31)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:31)
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 라인 11: - 22. Avoid deploying jobs on forks
2025-11-05 15:15:18,122 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:15:18,122 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:15:18,122 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 15:15:18,122 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 15:15:18,122 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:15:18,122 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:15:18,122 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: CI

on: [pull_request, push]

env:
  ELIXIR_ASSERT_TIMEOUT: 2000
  ELIXIRC_OPTS: "--warnings-as-errors"
  ERLC_OPTS: "warnings_as_errors"
  LANG: C.UTF-8

permissions:
  contents: read

jobs:
  test_linux:
    name: Ubuntu 20.04, Erlang/OTP ${{ matrix.otp_version }}
    strategy:
      fail-fast: false
      matrix:
        include:
          - otp_version: 25.0
            otp_latest: true
       ...
2025-11-05 15:15:18,122 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:15:18,122 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:15:18,122 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:15:18,123 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:15:53,445 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:15:53,446 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:15:53,446 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:15:53,446 - main - DEBUG - 추출된 YAML:
name: CI

on: [pull_request, push]

env:
  ELIXIR_ASSERT_TIMEOUT: 2000
  ELIXIRC_OPTS: "--warnings-as-errors"
  ERLC_OPTS: "warnings_as_errors"
  LANG: C.UTF-8

permissions:
  contents: read

jobs:
  test_linux:
    name: Ubuntu 20.04, Erlang/OTP ${{ matrix.otp_version }}
    strategy:
      fail-fast: false
      matrix:
        include:
          - otp_version: '25.0'
            otp_latest: true
          - otp_version: '24.3'
          - otp_version: '24.0'
          - otp_version: 'master'
            development: true
          - otp_version: 'maint'
            development: true
    runs-on: ubuntu-20.04
    timeout-minutes: 30 # Add a timeout to avoid jobs without timeouts
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 50
      - uses: erlef/setup-beam@v1
        with:
          otp-version: ${{ matrix.otp_version }}
      - name: Compile Elixir
        run: |
          make compile
          echo "$PWD/bin" >> $GITHUB_PATH
      - name: Build info
        run: bin/elixir --version
      - name: Check format
        run: make test_formatted && echo "All Elixir source code files are properly formatted."
      - name: Run Dialyzer
        run: |
          dialyzer -pa lib/elixir/ebin --build_plt --output_plt elixir.plt --apps lib/elixir/ebin/elixir.beam lib/elixir/ebin/Elixir.Kernel.beam
          if [ "${matrix.development}" = "true" ]; then echo "Continue on error"; fi
      - name: Erlang test suite
        run: |
          make test_erlang
          if [ "${matrix.development}" = "true" ]; then echo "Continue on error"; fi
      - name: Elixir test suite
        run: |
          make test_elixir
          if [ "${matrix.development}" = "true" ]; then echo "Continue on error"; fi
      - name: Build docs (ExDoc main)
        if: ${{ matrix.otp_latest }}
        run: |
          cd ..
          git clone https://github.com/elixir-lang/ex_doc.git --depth 1
          cd ex_doc
          ../elixir/bin/mix do local.rebar --force + local.hex --force + deps.get + compile
          cd ../elixir/
          make docs
      - name: Check reproducible builds
        run: |
          rm -rf .git
          # Recompile System without .git
          cd lib/elixir && ../../bin/elixirc -o ebin lib/system.ex && cd -
          taskset 1 make check_reproducible
        if: ${{ matrix.otp_latest }}

  test_windows:
    name: Windows Server 2019, Erlang/OTP ${{ matrix.otp_version }}
    strategy:
      matrix:
        otp_version: ['24', '25']
    runs-on: windows-2019
    timeout-minutes: 30 # Add a timeout to avoid jobs without timeouts
    steps:
      - name: Configure Git
        run: git config --global core.autocrlf input
      - uses: actions/checkout@v3
        with:
          fetch-depth: 50
      - uses: erlef/setup-beam@v1
        with:
          otp-version: ${{ matrix.otp_version }}
      - name: Compile Elixir
        run: |
          Remove-Item -Recurse -Force '.git'
          make compile
      - name: Build info
        run: bin/elixir --version
      - name: Check format
        run: make test_formatted && echo "All Elixir source code files are properly formatted."
      - name: Erlang test suite
        run: |
          make --keep-going test_erlang
      - name: Elixir test suite
        run: |
          Remove-Item 'c:/Windows/System32/drivers/etc/hosts'
          make --keep-going test_elixir

  check_posix_compliant:
    name: Check POSIX-compliant
    runs-on: ubuntu-20.04
    timeout-minutes: 30 # Add a timeout to avoid jobs without timeouts
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 50
      - name: Install Shellcheck
        run: |
          sudo apt update
          sudo apt install -y shellcheck
      - name: Check POSIX-compliant
        run: |
          shellcheck -e SC2039,2086 bin/elixir && echo "bin/elixir is POSIX compliant"
          shellcheck bin/elixirc && echo "bin/elixirc is POSIX compliant"
          shellcheck bin/iex && echo "bin/iex is POSIX compliant"
2025-11-05 15:15:53,447 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:15:53,447 - main - DEBUG - 검증할 YAML 길이: 4031 문자
2025-11-05 15:15:53,447 - main - DEBUG - YAML 시작 부분: 'name: CI\n\non: [pull_request, push]\n\nenv:\n  ELIXIR_ASSERT_TIMEOUT: 2000\n  ELIXIRC_OPTS: "--warnings-a'
2025-11-05 15:15:53,461 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': ['pull_request', 'push'], 'env': {'ELIXIR_ASSERT_TIMEOUT': 2000, 'ELIXIRC_OPTS': '--warnings-as-errors', 'ERLC_OPTS': 'warnings_as_errors', 'LANG': 'C.UTF-8'}, 'permissions': {'contents': 'read'}, 'jobs': {'test_linux': {'name': 'Ubuntu 20.04, Erlang/OTP ${{ matrix.otp_version }}', 'strategy': {'fail-fast': False, 'matrix': {'include': [{'otp_version': '25.0', 'otp_latest': True}, {'otp_version': '24.3'}, {'otp_version': '24.0'}, {'otp_version': 'master', 'development': True}, {'otp_version': 'maint', 'development': True}]}}, 'runs-on': 'ubuntu-20.04', 'timeout-minutes': 30, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 50}}, {'uses': 'erlef/setup-beam@v1', 'with': {'otp-version': '${{ matrix.otp_version }}'}}, {'name': 'Compile Elixir', 'run': 'make compile\necho "$PWD/bin" >> $GITHUB_PATH\n'}, {'name': 'Build info', 'run': 'bin/elixir --version'}, {'name': 'Check format', 'run': 'make test_formatted && echo "All Elixir source code files are properly formatted."'}, {'name': 'Run Dialyzer', 'run': 'dialyzer -pa lib/elixir/ebin --build_plt --output_plt elixir.plt --apps lib/elixir/ebin/elixir.beam lib/elixir/ebin/Elixir.Kernel.beam\nif [ "${matrix.development}" = "true" ]; then echo "Continue on error"; fi\n'}, {'name': 'Erlang test suite', 'run': 'make test_erlang\nif [ "${matrix.development}" = "true" ]; then echo "Continue on error"; fi\n'}, {'name': 'Elixir test suite', 'run': 'make test_elixir\nif [ "${matrix.development}" = "true" ]; then echo "Continue on error"; fi\n'}, {'name': 'Build docs (ExDoc main)', 'if': '${{ matrix.otp_latest }}', 'run': 'cd ..\ngit clone https://github.com/elixir-lang/ex_doc.git --depth 1\ncd ex_doc\n../elixir/bin/mix do local.rebar --force + local.hex --force + deps.get + compile\ncd ../elixir/\nmake docs\n'}, {'name': 'Check reproducible builds', 'run': 'rm -rf .git\n# Recompile System without .git\ncd lib/elixir && ../../bin/elixirc -o ebin lib/system.ex && cd -\ntaskset 1 make check_reproducible\n', 'if': '${{ matrix.otp_latest }}'}]}, 'test_windows': {'name': 'Windows Server 2019, Erlang/OTP ${{ matrix.otp_version }}', 'strategy': {'matrix': {'otp_version': ['24', '25']}}, 'runs-on': 'windows-2019', 'timeout-minutes': 30, 'steps': [{'name': 'Configure Git', 'run': 'git config --global core.autocrlf input'}, {'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 50}}, {'uses': 'erlef/setup-beam@v1', 'with': {'otp-version': '${{ matrix.otp_version }}'}}, {'name': 'Compile Elixir', 'run': "Remove-Item -Recurse -Force '.git'\nmake compile\n"}, {'name': 'Build info', 'run': 'bin/elixir --version'}, {'name': 'Check format', 'run': 'make test_formatted && echo "All Elixir source code files are properly formatted."'}, {'name': 'Erlang test suite', 'run': 'make --keep-going test_erlang\n'}, {'name': 'Elixir test suite', 'run': "Remove-Item 'c:/Windows/System32/drivers/etc/hosts'\nmake --keep-going test_elixir\n"}]}, 'check_posix_compliant': {'name': 'Check POSIX-compliant', 'runs-on': 'ubuntu-20.04', 'timeout-minutes': 30, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 50}}, {'name': 'Install Shellcheck', 'run': 'sudo apt update\nsudo apt install -y shellcheck\n'}, {'name': 'Check POSIX-compliant', 'run': 'shellcheck -e SC2039,2086 bin/elixir && echo "bin/elixir is POSIX compliant"\nshellcheck bin/elixirc && echo "bin/elixirc is POSIX compliant"\nshellcheck bin/iex && echo "bin/iex is POSIX compliant"'}]}}}
2025-11-05 15:15:53,462 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_baseline_repaired.yml
2025-11-05 15:15:53,462 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:15:53,462 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_baseline_repaired.yml
2025-11-05 15:15:53,462 - __main__ - INFO - === 파일 74/100 베이스라인 복구 완료 ===
2025-11-05 15:15:53,462 - __main__ - INFO - ✅ 성공 (35.73초): eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520 -> eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_baseline_repaired.yml
2025-11-05 15:15:53,463 - __main__ - INFO - [75/100] 처리 중: da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 15:15:53,463 - __main__ - INFO - 입력 파일 경로: data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 15:15:53,463 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_baseline_repaired.yml
2025-11-05 15:15:53,463 - __main__ - INFO - === 파일 75/100 베이스라인 복구 시작 ===
2025-11-05 15:15:53,463 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:15:53,463 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:15:53,463 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 15:15:53,463 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:15:53,463 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:15:53,464 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 15:15:53,468 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 15:15:53,468 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:15:53,469 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:15:53,469 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:15:53,469 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.26초)
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: C/C++ CI

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
      with:
	      submodules: true
    - name: Setup Ruby
      uses: ruby/setup-ruby@v1.66.0
      with:
        ruby-version: 3.0.0
    - name: make
      run: make
    - name: make check
      run: make check

while scanning for the next token
found character '\t' that cannot start any token
  in "<file>", line 17, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
5:16: too many spaces inside brackets (brackets)
5:23: too many spaces inside brackets (brackets)
7:16: too many spaces inside brackets (brackets)
7:23: too many spaces inside brackets (brackets)
15:5: wrong indentation: expected 6 but found 4 (indentation)
17:1: syntax error: found character '\t' that cannot start any token (syntax)

2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 69
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: C/C++ CI
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 5: branches: [ master ]
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 6: pull_request:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 7: branches: [ master ]
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 10: build:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v2
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 17: submodules: true
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 18: - name: Setup Ruby
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 19: uses: ruby/setup-ruby@v1.66.0
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 21: ruby-version: 3.0.0
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 22: - name: make
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 23: run: make
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 24: - name: make check
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 25: run: make check
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 27: while scanning for the next token
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 28: found character '\t' that cannot start any token
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 29: in "<file>", line 17, column 1
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 30: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,730 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 44: We have found 17 smells
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 45: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 46: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 47: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 48: - 12. Avoid workflows without comments
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 49: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 62: The following styling errors were found:
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 63: 5:16: too many spaces inside brackets (brackets)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 64: 5:23: too many spaces inside brackets (brackets)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 65: 7:16: too many spaces inside brackets (brackets)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 66: 7:23: too many spaces inside brackets (brackets)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 67: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 라인 68: 17:1: syntax error: found character '\t' that cannot start any token (syntax)
2025-11-05 15:15:53,731 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 17:1: syntax error: found character '\t' that cannot start any token (syntax)
2025-11-05 15:15:53,731 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:15:53,731 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:15:53,731 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:15:53,731 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:15:53,731 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:15:53,731 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:15:53,731 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: C/C++ CI

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
      with:
	      submodules: true
    - name: Setup Ruby
      uses: ruby/setup-ruby@v1.66.0
      with:
        ruby-version: 3.0.0
    - name: make
      run: make
    - name: make check
      run: make check

```

**Issu...
2025-11-05 15:15:53,731 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:15:53,731 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:15:53,731 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:15:53,732 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:16:03,478 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1588
2025-11-05 15:16:03,479 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:16:03,479 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:16:03,479 - main - DEBUG - 추출된 YAML:
name: C/C++ CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
      with:
        submodules: true
    - name: Setup Ruby
      uses: ruby/setup-ruby@v1
      with:
        ruby-version: '3.0'
    - name: Make
      run: make
    - name: Make Check
      run: make check
2025-11-05 15:16:03,479 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:16:03,479 - main - DEBUG - 검증할 YAML 길이: 386 문자
2025-11-05 15:16:03,479 - main - DEBUG - YAML 시작 부분: 'name: C/C++ CI\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  b'
2025-11-05 15:16:03,485 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'C/C++ CI', 'on': {'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2', 'with': {'submodules': True}}, {'name': 'Setup Ruby', 'uses': 'ruby/setup-ruby@v1', 'with': {'ruby-version': '3.0'}}, {'name': 'Make', 'run': 'make'}, {'name': 'Make Check', 'run': 'make check'}]}}}
2025-11-05 15:16:03,486 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_baseline_repaired.yml
2025-11-05 15:16:03,486 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:16:03,486 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_baseline_repaired.yml
2025-11-05 15:16:03,486 - __main__ - INFO - === 파일 75/100 베이스라인 복구 완료 ===
2025-11-05 15:16:03,486 - __main__ - INFO - ✅ 성공 (10.02초): da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec -> da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_baseline_repaired.yml
2025-11-05 15:16:03,486 - __main__ - INFO - [76/100] 처리 중: 2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 15:16:03,486 - __main__ - INFO - 입력 파일 경로: data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 15:16:03,486 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_baseline_repaired.yml
2025-11-05 15:16:03,487 - __main__ - INFO - === 파일 76/100 베이스라인 복구 시작 ===
2025-11-05 15:16:03,487 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:16:03,487 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:16:03,487 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 15:16:03,487 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:16:03,487 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:16:03,488 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 15:16:03,493 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:16:03,493 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:16:03,494 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:16:03,494 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:16:03,494 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.30초)
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Rust

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

env:
  CARGO_TERM_COLOR: always

jobs:
  linux_build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Linux
      run: cargo build --verbose
  windows_build:

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Windows
      run: cargo build --verbose
  linux_test:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build 
      run: cargo build
    - name: Setup dotnet
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: '8.0.x'
    - name: Check ILASM
      run: ilasm --version
    - name: Run cargo tests
      run: cargo test --verbose ::stable
  linux_test_c:

    runs-on: ubuntu-latest
    env:
     C_MODE: 1
    steps:
    - uses: actions/checkout@v3
    - name: Build 
      run: cargo build
    - name: Run cargo tests
      run: cargo test --verbose add::




mapping values are not allowed here
  in "<file>", line 55, column 37
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 22)
	- 3. Use fixed version for runs-on argument (line 14)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
5:16: too many spaces inside brackets (brackets)
5:23: too many spaces inside brackets (brackets)
7:16: too many spaces inside brackets (brackets)
7:23: too many spaces inside brackets (brackets)
18:5: wrong indentation: expected 6 but found 4 (indentation)
26:5: wrong indentation: expected 6 but found 4 (indentation)
34:5: wrong indentation: expected 6 but found 4 (indentation)
35:18: trailing spaces (trailing-spaces)
49:6: wrong indentation: expected 6 but found 5 (indentation)
51:5: wrong indentation: expected 6 but found 4 (indentation)
52:18: trailing spaces (trailing-spaces)
58:1: too many blank lines (3 > 0) (empty-lines)
55:37: syntax error: mapping values are not allowed here (syntax)

2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 109
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Rust
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 5: branches: [ "main" ]
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 6: pull_request:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 7: branches: [ "main" ]
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 9: env:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 10: CARGO_TERM_COLOR: always
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 13: linux_build:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 15: runs-on: ubuntu-latest
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 17: steps:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 18: - uses: actions/checkout@v3
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 19: - name: Build on Linux
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 20: run: cargo build --verbose
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 21: windows_build:
2025-11-05 15:16:03,793 - utils.process_runner - DEBUG - 라인 23: runs-on: windows-latest
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 25: steps:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 26: - uses: actions/checkout@v3
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 27: - name: Build on Windows
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 28: run: cargo build --verbose
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 29: linux_test:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 31: runs-on: ubuntu-latest
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 33: steps:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 34: - uses: actions/checkout@v3
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 35: - name: Build
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 36: run: cargo build
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 37: - name: Setup dotnet
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 38: uses: actions/setup-dotnet@v3
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 39: with:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 40: dotnet-version: '8.0.x'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 41: - name: Check ILASM
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 42: run: ilasm --version
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 43: - name: Run cargo tests
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 44: run: cargo test --verbose ::stable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 45: linux_test_c:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 47: runs-on: ubuntu-latest
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 48: env:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 49: C_MODE: 1
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 50: steps:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 51: - uses: actions/checkout@v3
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 52: - name: Build
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 53: run: cargo build
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 54: - name: Run cargo tests
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 55: run: cargo test --verbose add::
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 60: mapping values are not allowed here
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 61: in "<file>", line 55, column 37
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 62: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 76: We have found 18 smells
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 77: - 3. Use fixed version for runs-on argument (line 22)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 22)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 78: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 79: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 80: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 81: - 12. Avoid workflows without comments
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 82: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 93: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 95: The following styling errors were found:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 96: 5:16: too many spaces inside brackets (brackets)
2025-11-05 15:16:03,794 - utils.process_runner - DEBUG - 라인 97: 5:23: too many spaces inside brackets (brackets)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 98: 7:16: too many spaces inside brackets (brackets)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 99: 7:23: too many spaces inside brackets (brackets)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 100: 18:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 101: 26:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 102: 34:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 103: 35:18: trailing spaces (trailing-spaces)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 104: 49:6: wrong indentation: expected 6 but found 5 (indentation)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 105: 51:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 106: 52:18: trailing spaces (trailing-spaces)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 107: 58:1: too many blank lines (3 > 0) (empty-lines)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 라인 108: 55:37: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:16:03,795 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 55:37: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:16:03,795 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:16:03,795 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:16:03,795 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:16:03,795 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:16:03,795 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:16:03,795 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:16:03,795 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Rust

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

env:
  CARGO_TERM_COLOR: always

jobs:
  linux_build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Linux
      run: cargo build --verbose
  windows_build:

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Windows
      run: ...
2025-11-05 15:16:03,795 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:16:03,795 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:16:03,795 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:16:03,796 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:16:15,524 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1819
2025-11-05 15:16:15,525 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:16:15,525 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:16:15,526 - main - DEBUG - 추출된 YAML:
name: Rust

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

env:
  CARGO_TERM_COLOR: always

jobs:
  linux_build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Linux
      run: cargo build --verbose

  windows_build:

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Windows
      run: cargo build --verbose

  linux_test:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build
      run: cargo build
    - name: Setup dotnet
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: '8.0.x'
    - name: Check ILASM
      run: ilasm --version
    - name: Run cargo tests
      run: cargo test --verbose ::stable

  linux_test_c:

    runs-on: ubuntu-latest
    env:
      C_MODE: 1

    steps:
    - uses: actions/checkout@v3
    - name: Build
      run: cargo build
    - name: Run cargo tests
      run: cargo test --verbose add
2025-11-05 15:16:15,526 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:16:15,526 - main - DEBUG - 검증할 YAML 길이: 1001 문자
2025-11-05 15:16:15,526 - main - DEBUG - YAML 시작 부분: 'name: Rust\n\non:\n  push:\n    branches: [ "main" ]\n  pull_request:\n    branches: [ "main" ]\n\nenv:\n  CA'
2025-11-05 15:16:15,535 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Rust', 'on': {'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'env': {'CARGO_TERM_COLOR': 'always'}, 'jobs': {'linux_build': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Build on Linux', 'run': 'cargo build --verbose'}]}, 'windows_build': {'runs-on': 'windows-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Build on Windows', 'run': 'cargo build --verbose'}]}, 'linux_test': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Build', 'run': 'cargo build'}, {'name': 'Setup dotnet', 'uses': 'actions/setup-dotnet@v3', 'with': {'dotnet-version': '8.0.x'}}, {'name': 'Check ILASM', 'run': 'ilasm --version'}, {'name': 'Run cargo tests', 'run': 'cargo test --verbose ::stable'}]}, 'linux_test_c': {'runs-on': 'ubuntu-latest', 'env': {'C_MODE': 1}, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Build', 'run': 'cargo build'}, {'name': 'Run cargo tests', 'run': 'cargo test --verbose add'}]}}}
2025-11-05 15:16:15,536 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_baseline_repaired.yml
2025-11-05 15:16:15,536 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:16:15,536 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_baseline_repaired.yml
2025-11-05 15:16:15,536 - __main__ - INFO - === 파일 76/100 베이스라인 복구 완료 ===
2025-11-05 15:16:15,536 - __main__ - INFO - ✅ 성공 (12.05초): 2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266 -> 2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_baseline_repaired.yml
2025-11-05 15:16:15,536 - __main__ - INFO - [77/100] 처리 중: 56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 15:16:15,536 - __main__ - INFO - 입력 파일 경로: data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 15:16:15,536 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_baseline_repaired.yml
2025-11-05 15:16:15,536 - __main__ - INFO - === 파일 77/100 베이스라인 복구 시작 ===
2025-11-05 15:16:15,536 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:16:15,536 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:16:15,537 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 15:16:15,537 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:16:15,537 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:16:15,537 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 15:16:15,542 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 15:16:15,542 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:16:15,542 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:16:15,542 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:16:15,542 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.36초)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
We have found 24 smells
	- 3. Use fixed version for runs-on argument (line 7)
	- 6. Define permissions for workflows with external actions (job at line: 25)
	- 6. Define permissions for workflows with external actions (job at line: 82)
	- 6. Define permissions for workflows with external actions (job at line: 6)
	- 6. Define permissions for workflows with external actions (job at line: 40)
	- 8. Use commit hash instead of tags for action versions (line 99)
	- 8. Use commit hash instead of tags for action versions (line 68)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 8. Use commit hash instead of tags for action versions (line 61)
	- 8. Use commit hash instead of tags for action versions (line 10)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 10. Avoid jobs without timeouts (line: 6)
	- 10. Avoid jobs without timeouts (line: 25)
	- 10. Avoid jobs without timeouts (line: 40)
	- 10. Avoid jobs without timeouts (line: 82)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines 17:17)
	- 15. Use permissions whenever using Github Token (job at line 40)
	- 19. Run tests on multiple OS's (job: build)
	- 19. Run tests on multiple OS's (job: test)
	- 22. Avoid deploying jobs on forks

2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 27
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 2: We have found 24 smells
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 24 smells
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 7)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 7)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 25)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 25)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 82)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 82)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 6)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 6)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 40)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 40)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 99)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 99)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 68)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 68)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 61)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 61)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 10)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 10)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 15:16:15,903 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 15: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 16: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 17: - 10. Avoid jobs without timeouts (line: 6)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 6)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 18: - 10. Avoid jobs without timeouts (line: 25)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 25)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 19: - 10. Avoid jobs without timeouts (line: 40)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 40)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 20: - 10. Avoid jobs without timeouts (line: 82)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 82)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 21: - 12. Avoid workflows without comments
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 22: - 13. Use names for run steps (lines 17:17)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 17:17)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 23: - 15. Use permissions whenever using Github Token (job at line 40)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 40)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 24: - 19. Run tests on multiple OS's (job: build)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 25: - 19. Run tests on multiple OS's (job: test)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test)
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 라인 26: - 22. Avoid deploying jobs on forks
2025-11-05 15:16:15,904 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:16:15,904 - utils.process_runner - INFO - 총 5개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:16:15,904 - utils.process_runner - INFO - Smell detector 실행 완료: 5개 스멜 발견
2025-11-05 15:16:15,904 - main - INFO - Smell detector에서 5개 스멜 발견
2025-11-05 15:16:15,904 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:16:15,904 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:16:15,904 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build

on: push

jobs:
  lint:
    name: Backend Lint
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          cache: true
          go-version-file: go.mod
      - run: go generate
      - name: Lint
        uses: golangci/golangci-lint-action@v3
        with:
          args...
2025-11-05 15:16:15,904 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:16:15,904 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:16:15,904 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:16:15,905 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:16:45,771 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:16:45,772 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:16:45,773 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:16:45,773 - main - DEBUG - 추출된 YAML:
name: Build

on:
  push:
    branches:
      - main

jobs:
  lint:
    name: Backend Lint
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          cache: true
          go-version-file: go.mod
      - run: go generate
      - name: Lint
        uses: golangci/golangci-lint-action@v3
        with:
          args: --timeout=5m
          skip-build-cache: true
          skip-pkg-cache: true

  test:
    name: Backend Test
    runs-on: ubuntu-latest
    timeout-minutes: 10
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          cache: true
          go-version-file: go.mod
      - run: go generate
      - name: Test
        run: go test ./...

  build:
    name: Build Image
    runs-on: ubuntu-latest
    needs: [lint, test]
    timeout-minutes: 10
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Docker meta
        id: meta
        uses: docker/metadata-action@v4
        with:
          images: |
            ghcr.io/gabe565/ascii-telnet-go
          tags: |
            type=raw,priority=1000,value=latest,enable=${{ github.ref == format('refs/heads/{0}', 'main') }}
            type=ref,event=branch
            type=sha
      - name: Set up QEMU
        uses: docker/setup-qemu-action@v2
      - name: Set up Buildx
        uses: docker/setup-buildx-action@v2
      - name: Login to GitHub Container Registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
          permissions: read:packages write:packages
      - name: Build and Push
        id: docker_build
        uses: docker/build-push-action@v3
        with:
          context: .
          pull: true
          push: true
          platforms: linux/amd64,linux/arm/v6,linux/arm/v7,linux/arm64/v8
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          build-args: |
            FONTAWESOME_NPM_AUTH_TOKEN=${{ secrets.FONTAWESOME_NPM_AUTH_TOKEN }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

  deploy-prod:
    name: Deploy Production
    runs-on: ubuntu-latest
    needs: build
    if: github.ref == 'refs/heads/main'
    environment:
      name: prod
      concurrency: prod
    timeout-minutes: 10
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          repository: gabe565/fleet-infra
          token: ${{ secrets.PAT }}
      - id: vars
        name: Build deployment vars
        run: |
          echo "tag=sha-${GITHUB_SHA:0:7}" >> $GITHUB_OUTPUT
      - name: Bump version
        uses: clevyr/yampl-action@v1
        with:
          file: apps/tennant/ascii-telnet/helmrelease.yaml
          values: |
            tag=${{ steps.vars.outputs.tag }}
          commit_message: ":arrow_up: [${{ github.event.repository.name }}] Bump version to ${{ steps.vars.outputs.tag }}"
2025-11-05 15:16:45,773 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:16:45,773 - main - DEBUG - 검증할 YAML 길이: 3164 문자
2025-11-05 15:16:45,773 - main - DEBUG - YAML 시작 부분: 'name: Build\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  lint:\n    name: Backend Lint\n    runs-o'
2025-11-05 15:16:45,789 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build', 'on': {'push': {'branches': ['main']}}, 'jobs': {'lint': {'name': 'Backend Lint', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3'}, {'name': 'Set up Go', 'uses': 'actions/setup-go@v3', 'with': {'cache': True, 'go-version-file': 'go.mod'}}, {'run': 'go generate'}, {'name': 'Lint', 'uses': 'golangci/golangci-lint-action@v3', 'with': {'args': '--timeout=5m', 'skip-build-cache': True, 'skip-pkg-cache': True}}]}, 'test': {'name': 'Backend Test', 'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3'}, {'name': 'Set up Go', 'uses': 'actions/setup-go@v3', 'with': {'cache': True, 'go-version-file': 'go.mod'}}, {'run': 'go generate'}, {'name': 'Test', 'run': 'go test ./...'}]}, 'build': {'name': 'Build Image', 'runs-on': 'ubuntu-latest', 'needs': ['lint', 'test'], 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Docker meta', 'id': 'meta', 'uses': 'docker/metadata-action@v4', 'with': {'images': 'ghcr.io/gabe565/ascii-telnet-go\n', 'tags': "type=raw,priority=1000,value=latest,enable=${{ github.ref == format('refs/heads/{0}', 'main') }}\ntype=ref,event=branch\ntype=sha\n"}}, {'name': 'Set up QEMU', 'uses': 'docker/setup-qemu-action@v2'}, {'name': 'Set up Buildx', 'uses': 'docker/setup-buildx-action@v2'}, {'name': 'Login to GitHub Container Registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}', 'permissions': 'read:packages write:packages'}}, {'name': 'Build and Push', 'id': 'docker_build', 'uses': 'docker/build-push-action@v3', 'with': {'context': '.', 'pull': True, 'push': True, 'platforms': 'linux/amd64,linux/arm/v6,linux/arm/v7,linux/arm64/v8', 'tags': '${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'build-args': 'FONTAWESOME_NPM_AUTH_TOKEN=${{ secrets.FONTAWESOME_NPM_AUTH_TOKEN }}\n', 'cache-from': 'type=gha', 'cache-to': 'type=gha,mode=max'}}]}, 'deploy-prod': {'name': 'Deploy Production', 'runs-on': 'ubuntu-latest', 'needs': 'build', 'if': "github.ref == 'refs/heads/main'", 'environment': {'name': 'prod', 'concurrency': 'prod'}, 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3', 'with': {'repository': 'gabe565/fleet-infra', 'token': '${{ secrets.PAT }}'}}, {'id': 'vars', 'name': 'Build deployment vars', 'run': 'echo "tag=sha-${GITHUB_SHA:0:7}" >> $GITHUB_OUTPUT\n'}, {'name': 'Bump version', 'uses': 'clevyr/yampl-action@v1', 'with': {'file': 'apps/tennant/ascii-telnet/helmrelease.yaml', 'values': 'tag=${{ steps.vars.outputs.tag }}\n', 'commit_message': ':arrow_up: [${{ github.event.repository.name }}] Bump version to ${{ steps.vars.outputs.tag }}'}}]}}}
2025-11-05 15:16:45,789 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_baseline_repaired.yml
2025-11-05 15:16:45,789 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:16:45,789 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_baseline_repaired.yml
2025-11-05 15:16:45,789 - __main__ - INFO - === 파일 77/100 베이스라인 복구 완료 ===
2025-11-05 15:16:45,789 - __main__ - INFO - ✅ 성공 (30.25초): 56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98 -> 56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_baseline_repaired.yml
2025-11-05 15:16:45,790 - __main__ - INFO - [78/100] 처리 중: 01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:16:45,790 - __main__ - INFO - 입력 파일 경로: data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:16:45,790 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_baseline_repaired.yml
2025-11-05 15:16:45,790 - __main__ - INFO - === 파일 78/100 베이스라인 복구 시작 ===
2025-11-05 15:16:45,790 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:16:45,790 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:16:45,790 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:16:45,790 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:16:45,790 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:16:45,790 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:16:45,813 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 15:16:45,813 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:16:45,813 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:16:45,813 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:16:45,813 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Publish

on:
  push:
    tags:
      - '*'
  workflow_dispatch:

jobs:
  analyze-tags:
    runs-on: ubuntu-latest
    outputs:
      previous-tag: ${{ steps.previoustag.outputs.tag }}
    steps:
      - uses: actions/checkout@v2.3.3
        with:
          fetch-depth: 0
      #▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼#
      - name: Get previous tag
        id: previoustag
        uses: "WyriHaximus/github-action-get-previous-tag@v1"
      #▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲#

  publish:
    name: Publish for ${{ matrix.job.target }}
    needs: analyze-tags
    runs-on: ${{ matrix.job.os }}
    strategy:
      matrix:
        rust: [stable]
        job:
          - os: ubuntu-latest
            os-name: linux
            target: x86_64-unknown-linux-gnu
            architecture: x86_64
            artifact_name: qsv*
            use-cross: false
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach,python
          - os: ubuntu-latest
            os-name: linux
            target: x86_64-unknown-linux-musl
            architecture: x86_64
            artifact_name: qsv*
            use-cross: false
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach,python            
          - os: ubuntu-latest
            os-name: linux
            target: i686-unknown-linux-gnu
            architecture: i686
            artifact_name: qsv*
            use-cross: true
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach
          - os: windows-latest
            os-name: windows
            target: x86_64-pc-windows-msvc
            architecture: x86_64
            artifact_name: qsv*.exe
            use-cross: false
            strip: false
            addl-build-args: --features=apply,generate,lua,python
          - os: windows-latest
            os-name: windows
            target: i686-pc-windows-msvc
            architecture: i686
            artifact_name: qsv*.exe
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua
          - os: windows-latest
            os-name: windows
            target: x86_64-pc-windows-gnu
            architecture: x86_64
            artifact_name: qsv*.exe
            use-cross: false
            strip: false
            addl-build-args: --features=apply,generate,lua,python
          - os: macos-latest
            os-name: macos
            target: x86_64-apple-darwin
            architecture: x86_64
            artifact_name: qsv*
            use-cross: false
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach,python
          - os: macos-latest
            os-name: macos
            target: aarch64-apple-darwin
            architecture: aarch64
            artifact_name: qsv*
            build-prep: true
            use-cross: true
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach
          - os: ubuntu-latest
            os-name: linux
            target: aarch64-unknown-linux-gnu
            architecture: aarch64
            artifact_name: qsv*
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua,foreach
          - os: ubuntu-latest
            os-name: linux
            target: arm-unknown-linux-gnueabihf
            architecture: arm
            artifact_name: qsv*
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua,foreach
          - os: ubuntu-latest
            os-name: linux
            target: arm-unknown-linux-musleabihf
            architecture: arm
            artifact_name: qsv*
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua,foreach

    steps:
    - name: Set binary zip file name
      env:
        binary_zip: qsv-${{ needs.analyze-tags.outputs.previous-tag }}-${{ matrix.job.target }}.zip
      run: echo "binary zip: ${{ binary_zip }}"
    - name: Installing Rust toolchain
      uses: actions-rs/toolchain@v1
      with:
        toolchain: ${{ matrix.rust }}
        profile: minimal
        target: ${{ matrix.job.target }}
        override: true
    - name: Checkout repository
      uses: actions/checkout@v2
      with:
        submodules: recursive
        ref: ${{ needs.analyze-tags.outputs.previous-tag }}
    - uses: actions/setup-python@v2
      with:
        python-version: '3.8'
    - name: build prep for aarch64-apple-darwin
      if: ${{ matrix.job.build-prep }}
      run: |
        sudo xcode-select -s "/Applications/Xcode_12.5.1.app"
        sudo rm -Rf /Library/Developer/CommandLineTools/SDKs/*
    - name: Set rust strip environment variable
      run: |
        echo "CARGO_BUILD_RUSTFLAG='-C strip'" >> $GITHUB_ENV
    - name: Cargo build
      uses: actions-rs/cargo@v1
      with:
        command: build
        use-cross: ${{ matrix.job.use-cross }}
        toolchain: ${{ matrix.rust }}
        args: --release --locked --target ${{ matrix.job.target }} ${{ matrix.job.addl-build-args }}
    - name: strip binary on *nix environments
      if: ${{ matrix.job.strip }}
      run: |
        rm target/${{ matrix.job.target }}/release/*.d
        strip target/${{ matrix.job.target }}/release/${{ matrix.job.artifact_name }}
    - name: Copy binaries to working dir
      shell: bash
      run: |
        mkdir qsv-${{ needs.analyze-tags.outputs.previous-tag }}
        cp target/${{ matrix.job.target }}/release/${{ matrix.job.artifact_name }} qsv-${{ needs.analyze-tags.outputs.previous-tag }}        
    - name: zip up binaries
      run: 7z a -tzip ${{ binary_zip }} ./qsv-${{ needs.analyze-tags.outputs.previous-tag }}/${{ matrix.job.artifact_name }} -mx=9 -mmt=on -mpass=7
    - name: Upload zipped binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        file: ${{ binary_zip }}
        asset_name: ${{ binary_zip }}
        overwrite: true
        tag: ${{ needs.analyze-tags.outputs.previous-tag }}    
 
mapping values are not allowed here
  in "<file>", line 126, column 28
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 21 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 127)
	- 8. Use commit hash instead of tags for action versions (line 134)
	- 8. Use commit hash instead of tags for action versions (line 138)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 169)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 150)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
18:8: missing starting space in comment (comments)
22:8: missing starting space in comment (comments)
22:7: comment not indented like content (comments-indentation)
47:74: trailing spaces (trailing-spaces)
123:5: wrong indentation: expected 6 but found 4 (indentation)
126:28: syntax error: mapping values are not allowed here (syntax)
176:60: trailing spaces (trailing-spaces)
177:2: no new line character at the end of file (new-line-at-end-of-file)
177:1: trailing spaces (trailing-spaces)

2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 226
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Publish
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 5: tags:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 6: - '*'
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 10: analyze-tags:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 12: outputs:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 13: previous-tag: ${{ steps.previoustag.outputs.tag }}
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v2.3.3
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 17: fetch-depth: 0
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 18: #▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼#
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 19: - name: Get previous tag
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 20: id: previoustag
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 21: uses: "WyriHaximus/github-action-get-previous-tag@v1"
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 22: #▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲#
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 24: publish:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 25: name: Publish for ${{ matrix.job.target }}
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 26: needs: analyze-tags
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 27: runs-on: ${{ matrix.job.os }}
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 28: strategy:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 29: matrix:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 30: rust: [stable]
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 31: job:
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 32: - os: ubuntu-latest
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 33: os-name: linux
2025-11-05 15:16:46,305 - utils.process_runner - DEBUG - 라인 34: target: x86_64-unknown-linux-gnu
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 35: architecture: x86_64
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 36: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 37: use-cross: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 38: strip: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 39: addl-build-args: --features=apply,generate,lua,foreach,python
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 40: - os: ubuntu-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 41: os-name: linux
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 42: target: x86_64-unknown-linux-musl
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 43: architecture: x86_64
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 44: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 45: use-cross: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 46: strip: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 47: addl-build-args: --features=apply,generate,lua,foreach,python
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 48: - os: ubuntu-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 49: os-name: linux
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 50: target: i686-unknown-linux-gnu
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 51: architecture: i686
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 52: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 53: use-cross: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 54: strip: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 55: addl-build-args: --features=apply,generate,lua,foreach
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 56: - os: windows-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 57: os-name: windows
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 58: target: x86_64-pc-windows-msvc
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 59: architecture: x86_64
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 60: artifact_name: qsv*.exe
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 61: use-cross: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 62: strip: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 63: addl-build-args: --features=apply,generate,lua,python
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 64: - os: windows-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 65: os-name: windows
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 66: target: i686-pc-windows-msvc
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 67: architecture: i686
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 68: artifact_name: qsv*.exe
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 69: use-cross: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 70: strip: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 71: addl-build-args: --features=apply,generate,lua
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 72: - os: windows-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 73: os-name: windows
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 74: target: x86_64-pc-windows-gnu
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 75: architecture: x86_64
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 76: artifact_name: qsv*.exe
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 77: use-cross: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 78: strip: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 79: addl-build-args: --features=apply,generate,lua,python
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 80: - os: macos-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 81: os-name: macos
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 82: target: x86_64-apple-darwin
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 83: architecture: x86_64
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 84: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 85: use-cross: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 86: strip: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 87: addl-build-args: --features=apply,generate,lua,foreach,python
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 88: - os: macos-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 89: os-name: macos
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 90: target: aarch64-apple-darwin
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 91: architecture: aarch64
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 92: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 93: build-prep: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 94: use-cross: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 95: strip: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 96: addl-build-args: --features=apply,generate,lua,foreach
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 97: - os: ubuntu-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 98: os-name: linux
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 99: target: aarch64-unknown-linux-gnu
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 100: architecture: aarch64
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 101: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 102: use-cross: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 103: strip: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 104: addl-build-args: --features=apply,generate,lua,foreach
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 105: - os: ubuntu-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 106: os-name: linux
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 107: target: arm-unknown-linux-gnueabihf
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 108: architecture: arm
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 109: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 110: use-cross: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 111: strip: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 112: addl-build-args: --features=apply,generate,lua,foreach
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 113: - os: ubuntu-latest
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 114: os-name: linux
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 115: target: arm-unknown-linux-musleabihf
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 116: architecture: arm
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 117: artifact_name: qsv*
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 118: use-cross: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 119: strip: false
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 120: addl-build-args: --features=apply,generate,lua,foreach
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 122: steps:
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 123: - name: Set binary zip file name
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 124: env:
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 125: binary_zip: qsv-${{ needs.analyze-tags.outputs.previous-tag }}-${{ matrix.job.target }}.zip
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 126: run: echo "binary zip: ${{ binary_zip }}"
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 127: - name: Installing Rust toolchain
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 128: uses: actions-rs/toolchain@v1
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 129: with:
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 130: toolchain: ${{ matrix.rust }}
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 131: profile: minimal
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 132: target: ${{ matrix.job.target }}
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 133: override: true
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 134: - name: Checkout repository
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 135: uses: actions/checkout@v2
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 136: with:
2025-11-05 15:16:46,306 - utils.process_runner - DEBUG - 라인 137: submodules: recursive
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 138: ref: ${{ needs.analyze-tags.outputs.previous-tag }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 139: - uses: actions/setup-python@v2
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 140: with:
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 141: python-version: '3.8'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 142: - name: build prep for aarch64-apple-darwin
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 143: if: ${{ matrix.job.build-prep }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 144: run: |
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 145: sudo xcode-select -s "/Applications/Xcode_12.5.1.app"
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 146: sudo rm -Rf /Library/Developer/CommandLineTools/SDKs/*
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 147: - name: Set rust strip environment variable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 148: run: |
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 149: echo "CARGO_BUILD_RUSTFLAG='-C strip'" >> $GITHUB_ENV
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 150: - name: Cargo build
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 151: uses: actions-rs/cargo@v1
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 152: with:
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 153: command: build
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 154: use-cross: ${{ matrix.job.use-cross }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 155: toolchain: ${{ matrix.rust }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 156: args: --release --locked --target ${{ matrix.job.target }} ${{ matrix.job.addl-build-args }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 157: - name: strip binary on *nix environments
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 158: if: ${{ matrix.job.strip }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 159: run: |
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 160: rm target/${{ matrix.job.target }}/release/*.d
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 161: strip target/${{ matrix.job.target }}/release/${{ matrix.job.artifact_name }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 162: - name: Copy binaries to working dir
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 163: shell: bash
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 164: run: |
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 165: mkdir qsv-${{ needs.analyze-tags.outputs.previous-tag }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 166: cp target/${{ matrix.job.target }}/release/${{ matrix.job.artifact_name }} qsv-${{ needs.analyze-tags.outputs.previous-tag }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 167: - name: zip up binaries
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 168: run: 7z a -tzip ${{ binary_zip }} ./qsv-${{ needs.analyze-tags.outputs.previous-tag }}/${{ matrix.job.artifact_name }} -mx=9 -mmt=on -mpass=7
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 169: - name: Upload zipped binaries to release
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 170: uses: svenstaro/upload-release-action@v2
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 171: with:
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 172: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 173: file: ${{ binary_zip }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 174: asset_name: ${{ binary_zip }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 175: overwrite: true
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 176: tag: ${{ needs.analyze-tags.outputs.previous-tag }}
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 178: mapping values are not allowed here
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 179: in "<file>", line 126, column 28
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 180: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 182: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 184: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 185: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 186: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 187: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 188: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 189: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 190: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 191: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 192: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 193: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 194: We have found 21 smells
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 21 smells
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 195: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 196: - 8. Use commit hash instead of tags for action versions (line 127)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 127)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 197: - 8. Use commit hash instead of tags for action versions (line 134)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 134)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 198: - 8. Use commit hash instead of tags for action versions (line 138)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 138)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 199: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 200: - 8. Use commit hash instead of tags for action versions (line 169)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 169)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 201: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 202: - 8. Use commit hash instead of tags for action versions (line 150)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 150)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 203: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 204: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 205: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 206: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 207: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 208: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:16:46,307 - utils.process_runner - DEBUG - 라인 209: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 210: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 211: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 212: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 213: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 214: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 215: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 216: The following styling errors were found:
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 217: 18:8: missing starting space in comment (comments)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 218: 22:8: missing starting space in comment (comments)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 219: 22:7: comment not indented like content (comments-indentation)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 220: 47:74: trailing spaces (trailing-spaces)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 221: 123:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 222: 126:28: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 126:28: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 223: 176:60: trailing spaces (trailing-spaces)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 224: 177:2: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 15:16:46,308 - utils.process_runner - DEBUG - 라인 225: 177:1: trailing spaces (trailing-spaces)
2025-11-05 15:16:46,308 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:16:46,308 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:16:46,308 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:16:46,308 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:16:46,308 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:16:46,308 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:16:46,308 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Publish

on:
  push:
    tags:
      - '*'
  workflow_dispatch:

jobs:
  analyze-tags:
    runs-on: ubuntu-latest
    outputs:
      previous-tag: ${{ steps.previoustag.outputs.tag }}
    steps:
      - uses: actions/checkout@v2.3.3
        with:
          fetch-depth: 0
      #▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼#
      - name: Get previous tag
        id: previoustag
        u...
2025-11-05 15:16:46,308 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:16:46,308 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:16:46,308 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:16:46,309 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:17:35,805 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:17:35,806 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:17:35,806 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:17:35,807 - main - DEBUG - 추출된 YAML:
name: Publish

on:
  push:
    tags:
      - '*'
  workflow_dispatch:

jobs:
  analyze-tags:
    runs-on: ubuntu-latest
    outputs:
      previous-tag: ${{ steps.previoustag.outputs.tag }}
    steps:
      - uses: actions/checkout@v2.3.3
        with:
          fetch-depth: 0
      - name: Get previous tag
        id: previoustag
        uses: WyriHaximus/github-action-get-previous-tag@v1

  publish:
    name: Publish for ${{ matrix.job.target }}
    needs: analyze-tags
    runs-on: ${{ matrix.job.os }}
    strategy:
      matrix:
        rust: [stable]
        job:
          - os: ubuntu-latest
            os-name: linux
            target: x86_64-unknown-linux-gnu
            architecture: x86_64
            artifact_name: qsv*
            use-cross: false
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach,python
          - os: ubuntu-latest
            os-name: linux
            target: x86_64-unknown-linux-musl
            architecture: x86_64
            artifact_name: qsv*
            use-cross: false
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach,python            
          - os: ubuntu-latest
            os-name: linux
            target: i686-unknown-linux-gnu
            architecture: i686
            artifact_name: qsv*
            use-cross: true
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach
          - os: windows-latest
            os-name: windows
            target: x86_64-pc-windows-msvc
            architecture: x86_64
            artifact_name: qsv*.exe
            use-cross: false
            strip: false
            addl-build-args: --features=apply,generate,lua,python
          - os: windows-latest
            os-name: windows
            target: i686-pc-windows-msvc
            architecture: i686
            artifact_name: qsv*.exe
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua
          - os: windows-latest
            os-name: windows
            target: x86_64-pc-windows-gnu
            architecture: x86_64
            artifact_name: qsv*.exe
            use-cross: false
            strip: false
            addl-build-args: --features=apply,generate,lua,python
          - os: macos-latest
            os-name: macos
            target: x86_64-apple-darwin
            architecture: x86_64
            artifact_name: qsv*
            use-cross: false
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach,python
          - os: macos-latest
            os-name: macos
            target: aarch64-apple-darwin
            architecture: aarch64
            artifact_name: qsv*
            build-prep: true
            use-cross: true
            strip: true
            addl-build-args: --features=apply,generate,lua,foreach
          - os: ubuntu-latest
            os-name: linux
            target: aarch64-unknown-linux-gnu
            architecture: aarch64
            artifact_name: qsv*
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua,foreach
          - os: ubuntu-latest
            os-name: linux
            target: arm-unknown-linux-gnueabihf
            architecture: arm
            artifact_name: qsv*
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua,foreach
          - os: ubuntu-latest
            os-name: linux
            target: arm-unknown-linux-musleabihf
            architecture: arm
            artifact_name: qsv*
            use-cross: true
            strip: false
            addl-build-args: --features=apply,generate,lua,foreach

    steps:
      - name: Set binary zip file name
        env:
          binary_zip: "qsv-${{ needs.analyze-tags.outputs.previous-tag }}-${{ matrix.job.target }}.zip"
        run: echo "binary zip: ${{ binary_zip }}"
      - name: Installing Rust toolchain
        uses: actions-rs/toolchain@v1
        with:
          toolchain: ${{ matrix.rust }}
          profile: minimal
          target: ${{ matrix.job.target }}
          override: true
      - name: Checkout repository
        uses: actions/checkout@v2
        with:
          submodules: recursive
          ref: ${{ needs.analyze-tags.outputs.previous-tag }}
      - uses: actions/setup-python@v2
        with:
          python-version: '3.8'
      - name: build prep for aarch64-apple-darwin
        if: ${{ matrix.job.build-prep }}
        run: |
          sudo xcode-select -s "/Applications/Xcode_12.5.1.app"
          sudo rm -Rf /Library/Developer/CommandLineTools/SDKs/*
      - name: Set rust strip environment variable
        run: |
          echo "CARGO_BUILD_RUSTFLAG='-C strip'" >> $GITHUB_ENV
      - name: Cargo build
        uses: actions-rs/cargo@v1
        with:
          command: build
          use-cross: ${{ matrix.job.use-cross }}
          toolchain: ${{ matrix.rust }}
          args: --release --locked --target ${{ matrix.job.target }} ${{ matrix.job.addl-build-args }}
      - name: strip binary on *nix environments
        if: ${{ matrix.job.strip }}
        run: |
          rm target/${{ matrix.job.target }}/release/*.d
          strip target/${{ matrix.job.target }}/release/${{ matrix.job.artifact_name }}
      - name: Copy binaries to working dir
        shell: bash
        run: |
          mkdir qsv-${{ needs.analyze-tags.outputs.previous-tag }}
          cp target/${{ matrix.job.target }}/release/${{ matrix.job.artifact_name }} qsv-${{ needs.analyze-tags.outputs.previous-tag }}
      - name: zip up binaries
        run: 7z a -tzip ${{ binary_zip }} ./qsv-${{ needs.analyze-tags.outputs.previous-tag }}/${{ matrix.job.artifact_name }} -mx=9 -mmt=on -mpass=7
      - name: Upload zipped binaries to release
        uses: svenstaro/upload-release-action@v2
        with:
          repo_token: ${{ secrets.GITHUB_TOKEN }}
          file: ${{ binary_zip }}
          asset_name: ${{ binary_zip }}
          overwrite: true
          tag: ${{ needs.analyze-tags.outputs.previous-tag }}
2025-11-05 15:17:35,807 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:17:35,807 - main - DEBUG - 검증할 YAML 길이: 6170 문자
2025-11-05 15:17:35,807 - main - DEBUG - YAML 시작 부분: "name: Publish\n\non:\n  push:\n    tags:\n      - '*'\n  workflow_dispatch:\n\njobs:\n  analyze-tags:\n    run"
2025-11-05 15:17:35,817 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 124, column 30:
            run: echo "binary zip: ${{ binary_zip }}"
                                 ^
2025-11-05 15:17:35,817 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 15:17:35,817 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 15:17:35,818 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_baseline_repaired.yml
2025-11-05 15:17:35,818 - __main__ - INFO - === 파일 78/100 베이스라인 복구 완료 ===
2025-11-05 15:17:35,818 - __main__ - ERROR - ❌ 실패 (50.03초): 01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 15:17:35,818 - __main__ - INFO - [79/100] 처리 중: 93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 15:17:35,818 - __main__ - INFO - 입력 파일 경로: data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 15:17:35,818 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_baseline_repaired.yml
2025-11-05 15:17:35,818 - __main__ - INFO - === 파일 79/100 베이스라인 복구 시작 ===
2025-11-05 15:17:35,818 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:17:35,818 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:17:35,818 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 15:17:35,818 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:17:35,819 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:17:35,819 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 15:17:35,825 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:17:35,825 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:17:35,825 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:17:35,825 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:17:35,825 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.30초)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
We have found 10 smells
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 8)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 8)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
28:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 15
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 2: We have found 10 smells
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 10 smells
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 3: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 8)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 8)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 7: - 9. Steps should only perform a single command (line -1)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 8)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 8)
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 9: - 12. Avoid workflows without comments
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 10: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 11: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 12: - 22. Avoid deploying jobs on forks
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 13: The following styling errors were found:
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:17:36,127 - utils.process_runner - DEBUG - 라인 14: 28:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:17:36,127 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:17:36,127 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 15:17:36,127 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 15:17:36,128 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:17:36,128 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:17:36,128 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
on:
  push:
    branches:
      - release

name: Release
jobs:
  checks:
    name: run
    runs-on: self-hosted
    services:
      consul:
        image: consul:latest
        ports:
          - 8500
      zookeeper:
        image: zookeeper:latest
        ports:
          - 2181
      etcd:
        image: quay.io/coreos/etcd:latest
        env:
          ETCD_LISTEN_CLIENT_URLS: http://0.0.0.0:2379
   ...
2025-11-05 15:17:36,128 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:17:36,128 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:17:36,128 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:17:36,129 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:17:58,254 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:17:58,255 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:17:58,255 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:17:58,255 - main - DEBUG - 추출된 YAML:
on:
  push:
    branches:
      - release

name: Release
jobs:
  checks:
    name: run
    runs-on: ubuntu-latest # Use a supported runner environment
    services:
      consul:
        image: consul:latest
        ports:
          - 8500
      zookeeper:
        image: zookeeper:latest
        ports:
          - 2181
      etcd:
        image: quay.io/coreos/etcd:latest
        env:
          ETCD_LISTEN_CLIENT_URLS: http://0.0.0.0:2379
          ETCD_ADVERTISE_CLIENT_URLS: http://0.0.0.0:2379
        ports:
          - 2379
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
        with:
          fetch-depth: 0 # Fetch all history to avoid issues

      - name: Log in to registry
        uses: azure/docker-login@v1
        with:
          username: ${{ secrets.DOCKER_USER }}
          password: ${{ secrets.DOCKER_TOKEN }}

      - name: Install bazelisk
        run: |
          curl -LO "https://github.com/bazelbuild/bazelisk/releases/download/v1.1.0/bazelisk-linux-amd64"
          mkdir -p "${GITHUB_WORKSPACE}/bin/"
          mv bazelisk-linux-amd64 "${GITHUB_WORKSPACE}/bin/bazel"
          chmod +x "${GITHUB_WORKSPACE}/bin/bazel"

      - name: Test all
        uses: ngalaiko/bazel-action/1.2.1@master
        with:
          args: test //...

      - name: Release to GitHub
        env:
          DEPLOY_GITHUB_TOKEN: ${{ secrets.DEPLOY_GITHUB_TOKEN }}
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //:deploy-github -- ${{ github.sha }}

      - name: Release `protoconf` to Docker Hub
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //docker:protoconf_release

      - name: Release `agent` to Docker Hub
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //docker:agent_release

      - name: Release `server` to Docker Hub
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //docker:server_release

    timeout-minutes: 60 # Set a timeout for the job

    if: github.event.pull_request == null || github.event.pull_request.merged == true # Only run on push events or merged pull requests
2025-11-05 15:17:58,255 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:17:58,255 - main - DEBUG - 검증할 YAML 길이: 2087 문자
2025-11-05 15:17:58,255 - main - DEBUG - YAML 시작 부분: 'on:\n  push:\n    branches:\n      - release\n\nname: Release\njobs:\n  checks:\n    name: run\n    runs-on: '
2025-11-05 15:17:58,267 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'on': {'push': {'branches': ['release']}}, 'name': 'Release', 'jobs': {'checks': {'name': 'run', 'runs-on': 'ubuntu-latest', 'services': {'consul': {'image': 'consul:latest', 'ports': [8500]}, 'zookeeper': {'image': 'zookeeper:latest', 'ports': [2181]}, 'etcd': {'image': 'quay.io/coreos/etcd:latest', 'env': {'ETCD_LISTEN_CLIENT_URLS': 'http://0.0.0.0:2379', 'ETCD_ADVERTISE_CLIENT_URLS': 'http://0.0.0.0:2379'}, 'ports': [2379]}}, 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Log in to registry', 'uses': 'azure/docker-login@v1', 'with': {'username': '${{ secrets.DOCKER_USER }}', 'password': '${{ secrets.DOCKER_TOKEN }}'}}, {'name': 'Install bazelisk', 'run': 'curl -LO "https://github.com/bazelbuild/bazelisk/releases/download/v1.1.0/bazelisk-linux-amd64"\nmkdir -p "${GITHUB_WORKSPACE}/bin/"\nmv bazelisk-linux-amd64 "${GITHUB_WORKSPACE}/bin/bazel"\nchmod +x "${GITHUB_WORKSPACE}/bin/bazel"\n'}, {'name': 'Test all', 'uses': 'ngalaiko/bazel-action/1.2.1@master', 'with': {'args': 'test //...'}}, {'name': 'Release to GitHub', 'env': {'DEPLOY_GITHUB_TOKEN': '${{ secrets.DEPLOY_GITHUB_TOKEN }}'}, 'run': '"${GITHUB_WORKSPACE}/bin/bazel" run //:deploy-github -- ${{ github.sha }}\n'}, {'name': 'Release `protoconf` to Docker Hub', 'run': '"${GITHUB_WORKSPACE}/bin/bazel" run //docker:protoconf_release\n'}, {'name': 'Release `agent` to Docker Hub', 'run': '"${GITHUB_WORKSPACE}/bin/bazel" run //docker:agent_release\n'}, {'name': 'Release `server` to Docker Hub', 'run': '"${GITHUB_WORKSPACE}/bin/bazel" run //docker:server_release\n'}], 'timeout-minutes': 60, 'if': 'github.event.pull_request == null || github.event.pull_request.merged == true'}}}
2025-11-05 15:17:58,268 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_baseline_repaired.yml
2025-11-05 15:17:58,268 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:17:58,268 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_baseline_repaired.yml
2025-11-05 15:17:58,268 - __main__ - INFO - === 파일 79/100 베이스라인 복구 완료 ===
2025-11-05 15:17:58,268 - __main__ - INFO - ✅ 성공 (22.45초): 93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb -> 93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_baseline_repaired.yml
2025-11-05 15:17:58,268 - __main__ - INFO - [80/100] 처리 중: e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 15:17:58,268 - __main__ - INFO - 입력 파일 경로: data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 15:17:58,268 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_baseline_repaired.yml
2025-11-05 15:17:58,268 - __main__ - INFO - === 파일 80/100 베이스라인 복구 시작 ===
2025-11-05 15:17:58,268 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:17:58,269 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:17:58,269 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 15:17:58,269 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:17:58,269 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:17:58,269 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 15:17:58,276 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:17:58,276 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:17:58,276 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:17:58,276 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:17:58,276 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 13 smells
	- 3. Use fixed version for runs-on argument (line 22)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 13. Use names for run steps (lines -1:29)
	- 13. Use names for run steps (lines 38:38)
	- 13. Use names for run steps (lines 41:41)
	- 13. Use names for run steps (lines 28:28)
	- 13. Use names for run steps (lines -1:-1)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
27:73: too few spaces before comment: expected 2 (comments)

2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 19
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 3: We have found 13 smells
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 22)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 22)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 6: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 8: - 13. Use names for run steps (lines -1:29)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:29)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 9: - 13. Use names for run steps (lines 38:38)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 38:38)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines 41:41)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 41:41)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines 28:28)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 28:28)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines -1:-1)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:-1)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 13: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 14: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 16: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:17:58,560 - utils.process_runner - DEBUG - 라인 17: The following styling errors were found:
2025-11-05 15:17:58,561 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:17:58,561 - utils.process_runner - DEBUG - 라인 18: 27:73: too few spaces before comment: expected 2 (comments)
2025-11-05 15:17:58,561 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:17:58,561 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 15:17:58,561 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 15:17:58,561 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:17:58,561 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:17:58,561 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: release

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

env:
  # 7 GiB by default on GitHub, setting to 6 GiB
  NODE_OPTIONS: --max-old-space-size=6144

permissions:
  contents: read

jobs:
  release-pr:
    permissions:
      id-token: write
      pull-requests: write
    runs-on: ubuntu-latest
    timeout-minutes: 20

    steps:
      - uses: actions/checkout@8...
2025-11-05 15:17:58,561 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:17:58,561 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:17:58,561 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:17:58,562 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:18:17,932 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:18:17,932 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:18:17,932 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:18:17,933 - main - DEBUG - 추출된 YAML:
name: release

on:
  push:
    branches:
      - main
    if: |
      !contains(github.event.head_commit.message, '[skip-release]')
  pull_request:
    branches:
      - main

env:
  # 7 GiB by default on GitHub, setting to 6 GiB
  NODE_OPTIONS: --max-old-space-size=6144

permissions:
  contents: read

jobs:
  release-pr:
    permissions:
      id-token: write
      pull-requests: write
    runs-on: ubuntu-latest
    timeout-minutes: 20
    if: github.event_name == 'push' || (github.event_name == 'pull_request' && github.event.pull_request.merged)

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Enable corepack
        run: corepack enable

      - name: Setup Node.js
        uses: actions/setup-node@v3.7.0
        with:
          node-version: 18
          cache: "pnpm"

      - name: Install dependencies
        run: pnpm install

      - name: Build Stub
        run: pnpm build:stub

      - name: Build
        run: pnpm build:ci

      - name: Release Edge
        if: github.event_name == 'push' && !contains(github.event.head_commit.message, '[skip-release]')
        run: ./scripts/release-edge.sh pr-${{ github.event.issue.number }}
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_AUTH_TOKEN }}
          NPM_CONFIG_PROVENANCE: true
2025-11-05 15:18:17,933 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:18:17,933 - main - DEBUG - 검증할 YAML 길이: 1302 문자
2025-11-05 15:18:17,933 - main - DEBUG - YAML 시작 부분: 'name: release\n\non:\n  push:\n    branches:\n      - main\n    if: |\n      !contains(github.event.head_co'
2025-11-05 15:18:17,944 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'release', 'on': {'push': {'branches': ['main'], 'if': "!contains(github.event.head_commit.message, '[skip-release]')\n"}, 'pull_request': {'branches': ['main']}}, 'env': {'NODE_OPTIONS': '--max-old-space-size=6144'}, 'permissions': {'contents': 'read'}, 'jobs': {'release-pr': {'permissions': {'id-token': 'write', 'pull-requests': 'write'}, 'runs-on': 'ubuntu-latest', 'timeout-minutes': 20, 'if': "github.event_name == 'push' || (github.event_name == 'pull_request' && github.event.pull_request.merged)", 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3'}, {'name': 'Enable corepack', 'run': 'corepack enable'}, {'name': 'Setup Node.js', 'uses': 'actions/setup-node@v3.7.0', 'with': {'node-version': 18, 'cache': 'pnpm'}}, {'name': 'Install dependencies', 'run': 'pnpm install'}, {'name': 'Build Stub', 'run': 'pnpm build:stub'}, {'name': 'Build', 'run': 'pnpm build:ci'}, {'name': 'Release Edge', 'if': "github.event_name == 'push' && !contains(github.event.head_commit.message, '[skip-release]')", 'run': './scripts/release-edge.sh pr-${{ github.event.issue.number }}', 'env': {'NODE_AUTH_TOKEN': '${{ secrets.NPM_AUTH_TOKEN }}', 'NPM_CONFIG_PROVENANCE': True}}]}}}
2025-11-05 15:18:17,944 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_baseline_repaired.yml
2025-11-05 15:18:17,944 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:18:17,944 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_baseline_repaired.yml
2025-11-05 15:18:17,944 - __main__ - INFO - === 파일 80/100 베이스라인 복구 완료 ===
2025-11-05 15:18:17,945 - __main__ - INFO - ✅ 성공 (19.68초): e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca -> e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_baseline_repaired.yml
2025-11-05 15:18:17,945 - __main__ - INFO - [81/100] 처리 중: 38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 15:18:17,945 - __main__ - INFO - 입력 파일 경로: data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 15:18:17,945 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_baseline_repaired.yml
2025-11-05 15:18:17,945 - __main__ - INFO - === 파일 81/100 베이스라인 복구 시작 ===
2025-11-05 15:18:17,945 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:18:17,945 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:18:17,946 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 15:18:17,946 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:18:17,946 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:18:17,946 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 15:18:17,952 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:18:17,952 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:18:17,952 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:18:17,952 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:18:17,953 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Test

on:
  push:
    branches:
      - '*'
    tags-ignore:
      - 'v*'
  pull_request:

jobs:
  test:
    strategy:
      matrix:
        # setup different OS and targets
        include:
#          - name: ubuntu_16_04-x86_64
#            os: ubuntu-16.04
#            TARGET_CPU: x86-64

          - name: ubuntu_18_04-x86_64
            os: ubuntu-18.04
            TARGET_CPU: x86-64

          - name: ubuntu_22_04-x86_64
             os: ubuntu-22.04
             TARGET_CPU: x86-64

          # - name: osx_11_0-x86_64
          #   os: macos-11.0
          #   TARGET_CPU: x86-64

          - name: osx_10_11-x86_64
            os: macos-10.15
            TARGET_CPU: nehalem

          - name: win-x86_64
            os: windows-2019
            TARGET_CPU: x86-64

          - name: ubuntu_18_04-x86_64-haswell
            os: ubuntu-18.04
            TARGET_CPU: haswell

          - name: win-x86_64-haswell
            os: windows-2019
            TARGET_CPU: haswell

    runs-on: ${{matrix.os}}
    steps:
      - name: Checkout code
        uses: actions/checkout@master
      ### BUILD CACHE ###
      # NB: We install gnu-tar because BSD tar is buggy on Github's macos machines. https://github.com/actions/cache/issues/403
      - name: Install GNU tar (Macos)
        if: ${{contains( matrix.os, 'macos' )}}
        run: |
          brew install gnu-tar
          echo PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH" >> $GITHUB_ENV

      ### Cargo Cache for Build Artifacts ###
      - name: Cache cargo
        uses: actions/cache@v2
        with:
          path: |
            ~/.cargo/registry
            ~/.cargo/git
            target
          key: ${{ runner.os }}-${{matrix.name}}-cargo-${{ hashFiles('**/Cargo.lock') }}

      ### Install Nasm for MacOS ###
      - name: Install nasm
        run: brew install nasm
        if: ${{contains( matrix.os, 'macos' )}}

      ### Install Nasm for Windows ###
      - name: Install nasm
        run: choco install nasm
        if: ${{contains( matrix.os, 'windows' )}}

      ### Fallback in case Nasm install fails ###
      - name: Install nasm
        run: |
          curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x64.exe
          .\nasminst.exe /S
        if: ${{contains( matrix.os, 'windows' ) && failure()}}

      ### Set Path for nasm install ###
      - name: Set Path
        run: |
          echo "C:\Program Files\NASM" >> $GITHUB_PATH
          echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
        if: ${{contains( matrix.os, 'windows' )}}
        shell: bash

      ### Install Nasm for Ubuntu ###
      - name: Install nasm
        run: sudo apt install nasm
        if: ${{contains( matrix.os, 'ubuntu' )}}

      ### Check Build ###
      - name: Check Build
        run: cargo check --all

      ### Test Code ###
      - name: Test Build
        run: cargo test --all
        env:
          RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}

      ### Build the code ###
      - name: Build Release
        run: cargo build --all
        shell: bash
        env:
          RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}

  test_win32:
    runs-on: windows-2019
    steps:
      - name: Checkout code
        uses: actions/checkout@master

      ### Install Nasm with fallback to S3 ###
      - name: Install nasm
        run: choco install nasm
      - name: Install nasm
        run: |
          curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x86.exe
          .\nasminst.exe /S
        if: ${{failure()}}

      - name: Set Path
        run: |
          echo "C:\Program Files\NASM" >> $GITHUB_PATH
          echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
        shell: bash

      ### Cargo cache for Build artifacts ###
      - name: Cache cargo
        uses: actions/cache@v2
        with:
          path: |
            ~/.cargo/registry
            ~/.cargo/git
            target
          key: ${{ runner.os }}-windows-test-32-cargo-${{ hashFiles('**/Cargo.lock') }}
      - name: Install latest 32bit target
        uses: actions-rs/toolchain@v1
        with:
          toolchain: stable
          override: true
          components: rustfmt, clippy
          target: i686-pc-windows-msvc

      ### check and test build ###
      - name: Check Build
        run: cargo check --all --target=i686-pc-windows-msvc
      - name: Test Build
        run: cargo test --all --release --target=i686-pc-windows-msvc

mapping values are not allowed here
  in "<file>", line 26, column 16
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 8. Use commit hash instead of tags for action versions (line 148)
	- 8. Use commit hash instead of tags for action versions (line 62)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
17:1: comment not indented like content (comments-indentation)
26:16: syntax error: mapping values are not allowed here (syntax)

2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 197
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Test
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 6: - '*'
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 7: tags-ignore:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 8: - 'v*'
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 9: pull_request:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 12: test:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 13: strategy:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 14: matrix:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 15: # setup different OS and targets
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 16: include:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 17: #          - name: ubuntu_16_04-x86_64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 18: #            os: ubuntu-16.04
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 19: #            TARGET_CPU: x86-64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 21: - name: ubuntu_18_04-x86_64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 22: os: ubuntu-18.04
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 23: TARGET_CPU: x86-64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 25: - name: ubuntu_22_04-x86_64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 26: os: ubuntu-22.04
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 27: TARGET_CPU: x86-64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 29: # - name: osx_11_0-x86_64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 30: #   os: macos-11.0
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 31: #   TARGET_CPU: x86-64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 33: - name: osx_10_11-x86_64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 34: os: macos-10.15
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 35: TARGET_CPU: nehalem
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 37: - name: win-x86_64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 38: os: windows-2019
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 39: TARGET_CPU: x86-64
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 41: - name: ubuntu_18_04-x86_64-haswell
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 42: os: ubuntu-18.04
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 43: TARGET_CPU: haswell
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 45: - name: win-x86_64-haswell
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 46: os: windows-2019
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 47: TARGET_CPU: haswell
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 49: runs-on: ${{matrix.os}}
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 50: steps:
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 51: - name: Checkout code
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 52: uses: actions/checkout@master
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 53: ### BUILD CACHE ###
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 54: # NB: We install gnu-tar because BSD tar is buggy on Github's macos machines. https://github.com/actions/cache/issues/403
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 55: - name: Install GNU tar (Macos)
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 56: if: ${{contains( matrix.os, 'macos' )}}
2025-11-05 15:18:18,237 - utils.process_runner - DEBUG - 라인 57: run: |
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 58: brew install gnu-tar
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 59: echo PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH" >> $GITHUB_ENV
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 61: ### Cargo Cache for Build Artifacts ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 62: - name: Cache cargo
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 63: uses: actions/cache@v2
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 64: with:
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 65: path: |
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 66: ~/.cargo/registry
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 67: ~/.cargo/git
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 68: target
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 69: key: ${{ runner.os }}-${{matrix.name}}-cargo-${{ hashFiles('**/Cargo.lock') }}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 71: ### Install Nasm for MacOS ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 72: - name: Install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 73: run: brew install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 74: if: ${{contains( matrix.os, 'macos' )}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 76: ### Install Nasm for Windows ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 77: - name: Install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 78: run: choco install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 79: if: ${{contains( matrix.os, 'windows' )}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 81: ### Fallback in case Nasm install fails ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 82: - name: Install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 83: run: |
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 84: curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x64.exe
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 85: .\nasminst.exe /S
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 86: if: ${{contains( matrix.os, 'windows' ) && failure()}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 88: ### Set Path for nasm install ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 89: - name: Set Path
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 90: run: |
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 91: echo "C:\Program Files\NASM" >> $GITHUB_PATH
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 92: echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 93: if: ${{contains( matrix.os, 'windows' )}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 94: shell: bash
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 96: ### Install Nasm for Ubuntu ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 97: - name: Install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 98: run: sudo apt install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 99: if: ${{contains( matrix.os, 'ubuntu' )}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 101: ### Check Build ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 102: - name: Check Build
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 103: run: cargo check --all
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 105: ### Test Code ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 106: - name: Test Build
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 107: run: cargo test --all
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 108: env:
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 109: RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 111: ### Build the code ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 112: - name: Build Release
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 113: run: cargo build --all
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 114: shell: bash
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 115: env:
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 116: RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 118: test_win32:
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 119: runs-on: windows-2019
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 120: steps:
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 121: - name: Checkout code
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 122: uses: actions/checkout@master
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 124: ### Install Nasm with fallback to S3 ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 125: - name: Install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 126: run: choco install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 127: - name: Install nasm
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 128: run: |
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 129: curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x86.exe
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 130: .\nasminst.exe /S
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 131: if: ${{failure()}}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 133: - name: Set Path
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 134: run: |
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 135: echo "C:\Program Files\NASM" >> $GITHUB_PATH
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 136: echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 137: shell: bash
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 139: ### Cargo cache for Build artifacts ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 140: - name: Cache cargo
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 141: uses: actions/cache@v2
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 142: with:
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 143: path: |
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 144: ~/.cargo/registry
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 145: ~/.cargo/git
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 146: target
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 147: key: ${{ runner.os }}-windows-test-32-cargo-${{ hashFiles('**/Cargo.lock') }}
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 148: - name: Install latest 32bit target
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 149: uses: actions-rs/toolchain@v1
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 150: with:
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 151: toolchain: stable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 152: override: true
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 153: components: rustfmt, clippy
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 154: target: i686-pc-windows-msvc
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 156: ### check and test build ###
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 157: - name: Check Build
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 158: run: cargo check --all --target=i686-pc-windows-msvc
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 159: - name: Test Build
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 160: run: cargo test --all --release --target=i686-pc-windows-msvc
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 162: mapping values are not allowed here
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 163: in "<file>", line 26, column 16
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 164: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 165: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 166: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 167: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 168: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 169: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 170: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 171: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 라인 172: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,238 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 173: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 174: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 178: We have found 15 smells
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 179: - 8. Use commit hash instead of tags for action versions (line 148)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 148)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 180: - 8. Use commit hash instead of tags for action versions (line 62)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 62)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 181: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 184: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 185: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 186: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 187: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 188: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 189: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 190: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 191: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 192: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 193: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 194: The following styling errors were found:
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 195: 17:1: comment not indented like content (comments-indentation)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 라인 196: 26:16: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:18:18,239 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 26:16: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:18:18,239 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:18:18,239 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:18:18,239 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:18:18,239 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:18:18,239 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:18:18,239 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:18:18,239 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Test

on:
  push:
    branches:
      - '*'
    tags-ignore:
      - 'v*'
  pull_request:

jobs:
  test:
    strategy:
      matrix:
        # setup different OS and targets
        include:
#          - name: ubuntu_16_04-x86_64
#            os: ubuntu-16.04
#            TARGET_CPU: x86-64

          - name: ubuntu_18_04-x86_64
            os: ubuntu-18.04
            TARGET_CPU: x86-64

         ...
2025-11-05 15:18:18,239 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:18:18,239 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:18:18,239 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:18:18,240 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:18:57,766 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:18:57,767 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:18:57,768 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:18:57,768 - main - DEBUG - 추출된 YAML:
name: Test

on:
  push:
    branches:
      - '*'
    tags-ignore:
      - 'v*'
  pull_request:

jobs:
  test:
    strategy:
      matrix:
        # setup different OS and targets
        include:
          - name: ubuntu_18_04-x86_64
            os: ubuntu-18.04
            TARGET_CPU: x86-64

          - name: ubuntu_22_04-x86_64
            os: ubuntu-22.04
            TARGET_CPU: x86-64

          - name: osx_10_11-x86_64
            os: macos-10.15
            TARGET_CPU: nehalem

          - name: win-x86_64
            os: windows-2019
            TARGET_CPU: x86-64

          - name: ubuntu_18_04-x86_64-haswell
            os: ubuntu-18.04
            TARGET_CPU: haswell

          - name: win-x86_64-haswell
            os: windows-2019
            TARGET_CPU: haswell

    runs-on: ${{matrix.os}}
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      ### BUILD CACHE ###
      # NB: We install gnu-tar because BSD tar is buggy on Github's macos machines. https://github.com/actions/cache/issues/403
      - name: Install GNU tar (Macos)
        if: ${{contains( matrix.os, 'macos' )}}
        run: |
          brew install gnu-tar
          echo PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH" >> $GITHUB_ENV

      ### Cargo Cache for Build Artifacts ###
      - name: Cache cargo
        uses: actions/cache@v2
        with:
          path: |
            ~/.cargo/registry
            ~/.cargo/git
            target
          key: ${{ runner.os }}-${{matrix.name}}-cargo-${{ hashFiles('**/Cargo.lock') }}

      ### Install Nasm for MacOS ###
      - name: Install nasm
        run: brew install nasm
        if: ${{contains( matrix.os, 'macos' )}}

      ### Install Nasm for Windows ###
      - name: Install nasm
        run: choco install nasm
        if: ${{contains( matrix.os, 'windows' )}}

      ### Fallback in case Nasm install fails ###
      - name: Install nasm
        run: |
          curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x64.exe
          .\nasminst.exe /S
        if: ${{contains( matrix.os, 'windows' ) && failure()}}

      ### Set Path for nasm install ###
      - name: Set Path
        run: |
          echo "C:\Program Files\NASM" >> $GITHUB_PATH
          echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
        if: ${{contains( matrix.os, 'windows' )}}
        shell: bash

      ### Install Nasm for Ubuntu ###
      - name: Install nasm
        run: sudo apt install nasm
        if: ${{contains( matrix.os, 'ubuntu' )}}

      ### Check Build ###
      - name: Check Build
        run: cargo check --all

      ### Test Code ###
      - name: Test Build
        run: cargo test --all
        env:
          RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}

      ### Build the code ###
      - name: Build Release
        run: cargo build --all
        shell: bash
        env:
          RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}

  test_win32:
    runs-on: windows-2019
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      ### Install Nasm with fallback to S3 ###
      - name: Install nasm
        run: choco install nasm
      - name: Install nasm
        run: |
          curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x86.exe
          .\nasminst.exe /S
        if: ${{failure()}}

      - name: Set Path
        run: |
          echo "C:\Program Files\NASM" >> $GITHUB_PATH
          echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
        shell: bash

      ### Cargo cache for Build artifacts ###
      - name: Cache cargo
        uses: actions/cache@v2
        with:
          path: |
            ~/.cargo/registry
            ~/.cargo/git
            target
          key: ${{ runner.os }}-windows-test-32-cargo-${{ hashFiles('**/Cargo.lock') }}
      - name: Install latest 32bit target
        uses: actions-rs/toolchain@v1
        with:
          toolchain: stable
          override: true
          components: rustfmt, clippy
          target: i686-pc-windows-msvc

      ### check and test build ###
      - name: Check Build
        run: cargo check --all --target=i686-pc-windows-msvc
      - name: Test Build
        run: cargo test --all --release --target=i686-pc-windows-msvc
2025-11-05 15:18:57,768 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:18:57,768 - main - DEBUG - 검증할 YAML 길이: 4347 문자
2025-11-05 15:18:57,768 - main - DEBUG - YAML 시작 부분: "name: Test\n\non:\n  push:\n    branches:\n      - '*'\n    tags-ignore:\n      - 'v*'\n  pull_request:\n\njob"
2025-11-05 15:18:57,784 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Test', 'on': {'push': {'branches': ['*'], 'tags-ignore': ['v*']}, 'pull_request': None}, 'jobs': {'test': {'strategy': {'matrix': {'include': [{'name': 'ubuntu_18_04-x86_64', 'os': 'ubuntu-18.04', 'TARGET_CPU': 'x86-64'}, {'name': 'ubuntu_22_04-x86_64', 'os': 'ubuntu-22.04', 'TARGET_CPU': 'x86-64'}, {'name': 'osx_10_11-x86_64', 'os': 'macos-10.15', 'TARGET_CPU': 'nehalem'}, {'name': 'win-x86_64', 'os': 'windows-2019', 'TARGET_CPU': 'x86-64'}, {'name': 'ubuntu_18_04-x86_64-haswell', 'os': 'ubuntu-18.04', 'TARGET_CPU': 'haswell'}, {'name': 'win-x86_64-haswell', 'os': 'windows-2019', 'TARGET_CPU': 'haswell'}]}}, 'runs-on': '${{matrix.os}}', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Install GNU tar (Macos)', 'if': "${{contains( matrix.os, 'macos' )}}", 'run': 'brew install gnu-tar\necho PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH" >> $GITHUB_ENV\n'}, {'name': 'Cache cargo', 'uses': 'actions/cache@v2', 'with': {'path': '~/.cargo/registry\n~/.cargo/git\ntarget\n', 'key': "${{ runner.os }}-${{matrix.name}}-cargo-${{ hashFiles('**/Cargo.lock') }}"}}, {'name': 'Install nasm', 'run': 'brew install nasm', 'if': "${{contains( matrix.os, 'macos' )}}"}, {'name': 'Install nasm', 'run': 'choco install nasm', 'if': "${{contains( matrix.os, 'windows' )}}"}, {'name': 'Install nasm', 'run': 'curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x64.exe\n.\\nasminst.exe /S\n', 'if': "${{contains( matrix.os, 'windows' ) && failure()}}"}, {'name': 'Set Path', 'run': 'echo "C:\\Program Files\\NASM" >> $GITHUB_PATH\necho "C:\\Program Files (x86)\\NASM" >> $GITHUB_PATH\n', 'if': "${{contains( matrix.os, 'windows' )}}", 'shell': 'bash'}, {'name': 'Install nasm', 'run': 'sudo apt install nasm', 'if': "${{contains( matrix.os, 'ubuntu' )}}"}, {'name': 'Check Build', 'run': 'cargo check --all'}, {'name': 'Test Build', 'run': 'cargo test --all', 'env': {'RUSTFLAGS': '-C target-cpu=${{matrix.TARGET_CPU}}'}}, {'name': 'Build Release', 'run': 'cargo build --all', 'shell': 'bash', 'env': {'RUSTFLAGS': '-C target-cpu=${{matrix.TARGET_CPU}}'}}]}, 'test_win32': {'runs-on': 'windows-2019', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Install nasm', 'run': 'choco install nasm'}, {'name': 'Install nasm', 'run': 'curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x86.exe\n.\\nasminst.exe /S\n', 'if': '${{failure()}}'}, {'name': 'Set Path', 'run': 'echo "C:\\Program Files\\NASM" >> $GITHUB_PATH\necho "C:\\Program Files (x86)\\NASM" >> $GITHUB_PATH\n', 'shell': 'bash'}, {'name': 'Cache cargo', 'uses': 'actions/cache@v2', 'with': {'path': '~/.cargo/registry\n~/.cargo/git\ntarget\n', 'key': "${{ runner.os }}-windows-test-32-cargo-${{ hashFiles('**/Cargo.lock') }}"}}, {'name': 'Install latest 32bit target', 'uses': 'actions-rs/toolchain@v1', 'with': {'toolchain': 'stable', 'override': True, 'components': 'rustfmt, clippy', 'target': 'i686-pc-windows-msvc'}}, {'name': 'Check Build', 'run': 'cargo check --all --target=i686-pc-windows-msvc'}, {'name': 'Test Build', 'run': 'cargo test --all --release --target=i686-pc-windows-msvc'}]}}}
2025-11-05 15:18:57,785 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_baseline_repaired.yml
2025-11-05 15:18:57,785 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:18:57,785 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_baseline_repaired.yml
2025-11-05 15:18:57,785 - __main__ - INFO - === 파일 81/100 베이스라인 복구 완료 ===
2025-11-05 15:18:57,785 - __main__ - INFO - ✅ 성공 (39.84초): 38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0 -> 38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_baseline_repaired.yml
2025-11-05 15:18:57,785 - __main__ - INFO - [82/100] 처리 중: de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 15:18:57,786 - __main__ - INFO - 입력 파일 경로: data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 15:18:57,786 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_baseline_repaired.yml
2025-11-05 15:18:57,786 - __main__ - INFO - === 파일 82/100 베이스라인 복구 시작 ===
2025-11-05 15:18:57,786 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:18:57,786 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:18:57,786 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 15:18:57,786 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:18:57,786 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:18:57,787 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 15:18:57,798 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:18:57,799 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:18:57,799 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:18:57,799 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:18:57,799 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.36초)
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Swift

on: [push, pull_request, workflow_dispatch]

env:
  SPOTIFY_SWIFT_TESTING_CLIENT_ID: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_ID }}
  SPOTIFY_SWIFT_TESTING_CLIENT_SECRET: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_SECRET }}
  SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL: ${{ secrets.SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL }}

jobs:

  test_macOS:
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v2
    - name: Build macOS
      run: |
        python3 enable_testing.py true
        swift build --build-tests
    - name: Run tests macOS
      run: |
        swift test --filter "\
        AuthorizationScopesTests|\
        CodingAuthInfoTests|\
        CodingAuthorizationCodeFlowManagerTests|\
        CodingAuthorizationCodeFlowPKCEManagerTests|\
        CodingClientCredentialsFlowManagerTests|\
        CodingCurrentlyPlayingContextTests|\
        CodingPlaybackRequestTests|\
        CodingSpotifyUserTests|\
        CodingTimeReferenceTests|\
        CodingTrackAttributesTests|\
        CursorPagingObjectPlayHistoryCodingTests|\
        ExampleContentTests|\
        SpotifyAPIClientCredentialsFlowAlbumsTests|\
        SpotifyAPIClientCredentialsFlowArtistTests|\
        SpotifyAPIClientCredentialsFlowBrowseTests|\
        SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
        SpotifyAPIClientCredentialsFlowEpisodeTests|\
        SpotifyAPIClientCredentialsFlowErrorTests|\
        SpotifyAPIClientCredentialsFlowFollowTests|\
        SpotifyAPIClientCredentialsFlowProxyFollowTests|\
        SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
        SpotifyAPIClientCredentialsFlowMarketTests|\
        SpotifyAPIClientCredentialsFlowPlaylistsTests|\
        SpotifyAPIClientCredentialsFlowProxyArtistTests|\
        SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
        SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
        SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
        SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
        SpotifyAPIClientCredentialsFlowSearchTests|\
        SpotifyAPIClientCredentialsFlowShowTests|\
        SpotifyAPIClientCredentialsFlowTrackTests|\
        SpotifyAPIClientCredentialsFlowUserProfileTests|\
        SpotifyIdentifierTests|\
        SpotifyPlayerErrorCodingTests|\
        RepeatModeTests\
        "

  test_linux:
    strategy:
      max-parallel: 1
      fail-fast: false
      matrix:
          image: ["swift:5.4", "swift:5.5"]

    runs-on: ubuntu-latest
    container: ${{ matrix.image }}
    steps:
    - uses: actions/checkout@v2
    
    - name: Build ${{ matrix.image }}
      run: |
        apt-get update && apt-get install -y python3
        python3 enable_testing.py true
        swift build --build-tests

    - name: Run tests ${{ matrix.image }}
      run: |
        swift test --filter "\
        AuthorizationScopesTests|\
        CodingAuthInfoTests|\
        CodingAuthorizationCodeFlowManagerTests|\
        CodingAuthorizationCodeFlowPKCEManagerTests|\
        CodingClientCredentialsFlowManagerTests|\
        CodingCurrentlyPlayingContextTests|\
        CodingPlaybackRequestTests|\
        CodingSpotifyUserTests|\
        CodingTimeReferenceTests|\
        CodingTrackAttributesTests|\
        CursorPagingObjectPlayHistoryCodingTests|\
        ExampleContentTests|\
        SpotifyAPIClientCredentialsFlowAlbumsTests|\
        SpotifyAPIClientCredentialsFlowArtistTests|\
        SpotifyAPIClientCredentialsFlowBrowseTests|\
        SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
        SpotifyAPIClientCredentialsFlowEpisodeTests|\
        SpotifyAPIClientCredentialsFlowErrorTests|\
        SpotifyAPIClientCredentialsFlowFollowTests|\
        SpotifyAPIClientCredentialsFlowProxyFollowTests|\
        SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
        SpotifyAPIClientCredentialsFlowMarketTests|\
        SpotifyAPIClientCredentialsFlowPlaylistsTests|\
        SpotifyAPIClientCredentialsFlowProxyArtistTests|\
        SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
        SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
        SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
        SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
        SpotifyAPIClientCredentialsFlowSearchTests|\
        SpotifyAPIClientCredentialsFlowShowTests|\
        SpotifyAPIClientCredentialsFlowTrackTests|\
        SpotifyAPIClientCredentialsFlowUserProfileTests|\
        SpotifyIdentifierTests|\
        SpotifyPlayerErrorCodingTests|\
        RepeatModeTests\
        "

  test_linux:
    strategy:
      max-parallel: 1
      fail-fast: false
      matrix:
          image: ["swift:5.3"]

    runs-on: ubuntu-latest
    container: ${{ matrix.image }}
    steps:
    - uses: actions/checkout@v2
    
    - name: Build ${{ matrix.image }}
      run: |
        apt-get update && apt-get install -y python3
        python3 enable_testing.py true
        
        touch Tests/LinuxMain.swift
        echo 'import XCTest

        import SpotifyAPIMainTests
        
        var tests = [XCTestCaseEntry]()
        tests += SpotifyAPIMainTests.__allTests()
        
        XCTMain(tests)' >> Tests/LinuxMain.swift

        swift build --build-tests
    - name: Run tests ${{ matrix.image }}
      run: |
        swift test --filter "\
        AuthorizationScopesTests|\
        CodingAuthInfoTests|\
        CodingAuthorizationCodeFlowManagerTests|\
        CodingAuthorizationCodeFlowPKCEManagerTests|\
        CodingClientCredentialsFlowManagerTests|\
        CodingCurrentlyPlayingContextTests|\
        CodingPlaybackRequestTests|\
        CodingSpotifyUserTests|\
        CodingTimeReferenceTests|\
        CodingTrackAttributesTests|\
        CursorPagingObjectPlayHistoryCodingTests|\
        ExampleContentTests|\
        SpotifyAPIClientCredentialsFlowAlbumsTests|\
        SpotifyAPIClientCredentialsFlowArtistTests|\
        SpotifyAPIClientCredentialsFlowBrowseTests|\
        SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
        SpotifyAPIClientCredentialsFlowEpisodeTests|\
        SpotifyAPIClientCredentialsFlowErrorTests|\
        SpotifyAPIClientCredentialsFlowFollowTests|\
        SpotifyAPIClientCredentialsFlowProxyFollowTests|\
        SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
        SpotifyAPIClientCredentialsFlowMarketTests|\
        SpotifyAPIClientCredentialsFlowPlaylistsTests|\
        SpotifyAPIClientCredentialsFlowProxyArtistTests|\
        SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
        SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
        SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
        SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
        SpotifyAPIClientCredentialsFlowSearchTests|\
        SpotifyAPIClientCredentialsFlowShowTests|\
        SpotifyAPIClientCredentialsFlowTrackTests|\
        SpotifyAPIClientCredentialsFlowUserProfileTests|\
        SpotifyIdentifierTests|\
        SpotifyPlayerErrorCodingTests|\
        RepeatModeTests\
        "
  
  test_other_platforms:
    strategy:
      max-parallel: 1
      fail-fast: false
      matrix:
        platform: ["platform=iOS Simulator,name=iPhone 12,OS=14.4", "platform=tvOS Simulator,name=Apple TV,OS=14.3"]
      
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v2
    - name: configure environment variables
      run: ./set_credentials.sh
    - name: Build ${{ matrix.platform }}
      run: |
        python3 enable_testing.py true
        env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
        -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
        -derivedDataPath "$PWD/.derivedData" \
        -scheme "SpotifyAPI-Package" \
        -destination "${{ matrix.platform }}" \
        build
    - name: test ${{ matrix.platform }}
      run: |
        env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
        -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
        -derivedDataPath "$PWD/.derivedData" \
        -scheme "SpotifyAPI-Package" \
        -destination "${{ matrix.platform }}" \
        test \
        -only-testing "SpotifyAPIMainTests/AuthorizationScopesTests" \
        -only-testing "SpotifyAPIMainTests/CodingAuthInfoTests" \
        -only-testing "SpotifyAPIMainTests/CodingAuthorizationCodeFlowManagerTests" \
        -only-testing "SpotifyAPIMainTests/CodingAuthorizationCodeFlowPKCEManagerTests" \
        -only-testing "SpotifyAPIMainTests/CodingClientCredentialsFlowManagerTests" \
        -only-testing "SpotifyAPIMainTests/CodingCurrentlyPlayingContextTests" \
        -only-testing "SpotifyAPIMainTests/CodingPlaybackRequestTests" \
        -only-testing "SpotifyAPIMainTests/CodingSpotifyUserTests" \
        -only-testing "SpotifyAPIMainTests/CodingTimeReferenceTests" \
        -only-testing "SpotifyAPIMainTests/CodingTrackAttributesTests" \
        -only-testing "SpotifyAPIMainTests/CursorPagingObjectPlayHistoryCodingTests" \
        -only-testing "SpotifyAPIMainTests/ExampleContentTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowAlbumsTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowArtistTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowBrowseTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowClientAuthorizationTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowEpisodeTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowErrorTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowFollowTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowInsufficientScopeTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowMarketTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowPlaylistsTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyArtistTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyAuthorizationTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowSearchTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowShowTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowTrackTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowUserProfileTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyIdentifierTests" \
        -only-testing "SpotifyAPIMainTests/SpotifyPlayerErrorCodingTests" \
        -only-testing "SpotifyAPIMainTests/RepeatModeTests"
        
  build_watch_os_mac_catalyst:
    strategy:
      matrix:
        platform: ["platform=watchOS Simulator,name=Apple Watch Series 6 - 44mm,OS=7.2", "platform=macOS,variant=Mac Catalyst"]
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v2
    - name: build ${{ matrix.platform }}
      run: |
        env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
        -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
        -derivedDataPath "$PWD/.derivedData" build \
        -scheme "SpotifyAPI" \
        -destination "${{ matrix.platform }}"

  build_spotify_api_server:
    runs-on: ubuntu-latest
    steps:
    - name: build
      run: |
        git clone https://github.com/Peter-Schorn/SpotifyAPIServer.git
        cd SpotifyAPIServer
        swift package edit SpotifyAPI --revision $GITHUB_SHA
        swift build -Xswiftc -warnings-as-errors
      

while constructing a mapping
  in "<file>", line 12, column 3
found duplicate key "test_linux" with value "{'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'image': ['swift:5.3']}}, 'runs-on': 'ubuntu-latest', 'container': '${{ matrix.image }}', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build ${{ matrix.image }}', 'run': "apt-get update && apt-get install -y python3\npython3 enable_testing.py true\n\ntouch Tests/LinuxMain.swift\necho 'import XCTest\n\nimport SpotifyAPIMainTests\n\nvar tests = [XCTestCaseEntry]()\ntests += SpotifyAPIMainTests.__allTests()\n\nXCTMain(tests)' >> Tests/LinuxMain.swift\n\nswift build --build-tests\n"}, {'name': 'Run tests ${{ matrix.image }}', 'run': 'swift test --filter "\\\nAuthorizationScopesTests|\\\nCodingAuthInfoTests|\\\nCodingAuthorizationCodeFlowManagerTests|\\\nCodingAuthorizationCodeFlowPKCEManagerTests|\\\nCodingClientCredentialsFlowManagerTests|\\\nCodingCurrentlyPlayingContextTests|\\\nCodingPlaybackRequestTests|\\\nCodingSpotifyUserTests|\\\nCodingTimeReferenceTests|\\\nCodingTrackAttributesTests|\\\nCursorPagingObjectPlayHistoryCodingTests|\\\nExampleContentTests|\\\nSpotifyAPIClientCredentialsFlowAlbumsTests|\\\nSpotifyAPIClientCredentialsFlowArtistTests|\\\nSpotifyAPIClientCredentialsFlowBrowseTests|\\\nSpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowEpisodeTests|\\\nSpotifyAPIClientCredentialsFlowErrorTests|\\\nSpotifyAPIClientCredentialsFlowFollowTests|\\\nSpotifyAPIClientCredentialsFlowProxyFollowTests|\\\nSpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowMarketTests|\\\nSpotifyAPIClientCredentialsFlowPlaylistsTests|\\\nSpotifyAPIClientCredentialsFlowProxyArtistTests|\\\nSpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowSearchTests|\\\nSpotifyAPIClientCredentialsFlowShowTests|\\\nSpotifyAPIClientCredentialsFlowTrackTests|\\\nSpotifyAPIClientCredentialsFlowUserProfileTests|\\\nSpotifyIdentifierTests|\\\nSpotifyPlayerErrorCodingTests|\\\nRepeatModeTests\\\n"\n'}]}" (original value: "{'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'image': ['swift:5.4', 'swift:5.5']}}, 'runs-on': 'ubuntu-latest', 'container': '${{ matrix.image }}', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build ${{ matrix.image }}', 'run': 'apt-get update && apt-get install -y python3\npython3 enable_testing.py true\nswift build --build-tests\n'}, {'name': 'Run tests ${{ matrix.image }}', 'run': 'swift test --filter "\\\nAuthorizationScopesTests|\\\nCodingAuthInfoTests|\\\nCodingAuthorizationCodeFlowManagerTests|\\\nCodingAuthorizationCodeFlowPKCEManagerTests|\\\nCodingClientCredentialsFlowManagerTests|\\\nCodingCurrentlyPlayingContextTests|\\\nCodingPlaybackRequestTests|\\\nCodingSpotifyUserTests|\\\nCodingTimeReferenceTests|\\\nCodingTrackAttributesTests|\\\nCursorPagingObjectPlayHistoryCodingTests|\\\nExampleContentTests|\\\nSpotifyAPIClientCredentialsFlowAlbumsTests|\\\nSpotifyAPIClientCredentialsFlowArtistTests|\\\nSpotifyAPIClientCredentialsFlowBrowseTests|\\\nSpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowEpisodeTests|\\\nSpotifyAPIClientCredentialsFlowErrorTests|\\\nSpotifyAPIClientCredentialsFlowFollowTests|\\\nSpotifyAPIClientCredentialsFlowProxyFollowTests|\\\nSpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowMarketTests|\\\nSpotifyAPIClientCredentialsFlowPlaylistsTests|\\\nSpotifyAPIClientCredentialsFlowProxyArtistTests|\\\nSpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowSearchTests|\\\nSpotifyAPIClientCredentialsFlowShowTests|\\\nSpotifyAPIClientCredentialsFlowTrackTests|\\\nSpotifyAPIClientCredentialsFlowUserProfileTests|\\\nSpotifyIdentifierTests|\\\nSpotifyPlayerErrorCodingTests|\\\nRepeatModeTests\\\n"\n'}]}")
  in "<file>", line 118, column 3

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 66)
	- 3. Use fixed version for runs-on argument (line 12)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
15:5: wrong indentation: expected 6 but found 4 (indentation)
65:11: wrong indentation: expected 8 but found 10 (indentation)
70:5: wrong indentation: expected 6 but found 4 (indentation)
71:1: trailing spaces (trailing-spaces)
118:3: duplication of key "test_linux" in mapping (key-duplicates)
123:11: wrong indentation: expected 8 but found 10 (indentation)
128:5: wrong indentation: expected 6 but found 4 (indentation)
129:1: trailing spaces (trailing-spaces)
134:1: trailing spaces (trailing-spaces)
139:1: trailing spaces (trailing-spaces)
142:1: trailing spaces (trailing-spaces)
185:1: trailing spaces (trailing-spaces)
192:1: trailing spaces (trailing-spaces)
195:5: wrong indentation: expected 6 but found 4 (indentation)
249:1: trailing spaces (trailing-spaces)
256:5: wrong indentation: expected 6 but found 4 (indentation)
268:5: wrong indentation: expected 6 but found 4 (indentation)
274:1: trailing spaces (trailing-spaces)

2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 335
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Swift
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 3: on: [push, pull_request, workflow_dispatch]
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 5: env:
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 6: SPOTIFY_SWIFT_TESTING_CLIENT_ID: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_ID }}
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 7: SPOTIFY_SWIFT_TESTING_CLIENT_SECRET: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_SECRET }}
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 8: SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL: ${{ secrets.SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL }}
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 12: test_macOS:
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 13: runs-on: macos-latest
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v2
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 16: - name: Build macOS
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 17: run: |
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 18: python3 enable_testing.py true
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 19: swift build --build-tests
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 20: - name: Run tests macOS
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 21: run: |
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 22: swift test --filter "\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 23: AuthorizationScopesTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 24: CodingAuthInfoTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 25: CodingAuthorizationCodeFlowManagerTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 26: CodingAuthorizationCodeFlowPKCEManagerTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 27: CodingClientCredentialsFlowManagerTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 28: CodingCurrentlyPlayingContextTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 29: CodingPlaybackRequestTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 30: CodingSpotifyUserTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 31: CodingTimeReferenceTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 32: CodingTrackAttributesTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 33: CursorPagingObjectPlayHistoryCodingTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 34: ExampleContentTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 35: SpotifyAPIClientCredentialsFlowAlbumsTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 36: SpotifyAPIClientCredentialsFlowArtistTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 37: SpotifyAPIClientCredentialsFlowBrowseTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 38: SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 39: SpotifyAPIClientCredentialsFlowEpisodeTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 40: SpotifyAPIClientCredentialsFlowErrorTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 41: SpotifyAPIClientCredentialsFlowFollowTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 42: SpotifyAPIClientCredentialsFlowProxyFollowTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 43: SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 44: SpotifyAPIClientCredentialsFlowMarketTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 45: SpotifyAPIClientCredentialsFlowPlaylistsTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 46: SpotifyAPIClientCredentialsFlowProxyArtistTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 47: SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 48: SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
2025-11-05 15:18:58,162 - utils.process_runner - DEBUG - 라인 49: SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 50: SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 51: SpotifyAPIClientCredentialsFlowSearchTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 52: SpotifyAPIClientCredentialsFlowShowTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 53: SpotifyAPIClientCredentialsFlowTrackTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 54: SpotifyAPIClientCredentialsFlowUserProfileTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 55: SpotifyIdentifierTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 56: SpotifyPlayerErrorCodingTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 57: RepeatModeTests\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 58: "
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 60: test_linux:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 61: strategy:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 62: max-parallel: 1
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 63: fail-fast: false
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 64: matrix:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 65: image: ["swift:5.4", "swift:5.5"]
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 67: runs-on: ubuntu-latest
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 68: container: ${{ matrix.image }}
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 69: steps:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 70: - uses: actions/checkout@v2
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 72: - name: Build ${{ matrix.image }}
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 73: run: |
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 74: apt-get update && apt-get install -y python3
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 75: python3 enable_testing.py true
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 76: swift build --build-tests
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 78: - name: Run tests ${{ matrix.image }}
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 79: run: |
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 80: swift test --filter "\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 81: AuthorizationScopesTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 82: CodingAuthInfoTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 83: CodingAuthorizationCodeFlowManagerTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 84: CodingAuthorizationCodeFlowPKCEManagerTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 85: CodingClientCredentialsFlowManagerTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 86: CodingCurrentlyPlayingContextTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 87: CodingPlaybackRequestTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 88: CodingSpotifyUserTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 89: CodingTimeReferenceTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 90: CodingTrackAttributesTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 91: CursorPagingObjectPlayHistoryCodingTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 92: ExampleContentTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 93: SpotifyAPIClientCredentialsFlowAlbumsTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 94: SpotifyAPIClientCredentialsFlowArtistTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 95: SpotifyAPIClientCredentialsFlowBrowseTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 96: SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 97: SpotifyAPIClientCredentialsFlowEpisodeTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 98: SpotifyAPIClientCredentialsFlowErrorTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 99: SpotifyAPIClientCredentialsFlowFollowTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 100: SpotifyAPIClientCredentialsFlowProxyFollowTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 101: SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 102: SpotifyAPIClientCredentialsFlowMarketTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 103: SpotifyAPIClientCredentialsFlowPlaylistsTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 104: SpotifyAPIClientCredentialsFlowProxyArtistTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 105: SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 106: SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 107: SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 108: SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 109: SpotifyAPIClientCredentialsFlowSearchTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 110: SpotifyAPIClientCredentialsFlowShowTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 111: SpotifyAPIClientCredentialsFlowTrackTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 112: SpotifyAPIClientCredentialsFlowUserProfileTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 113: SpotifyIdentifierTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 114: SpotifyPlayerErrorCodingTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 115: RepeatModeTests\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 116: "
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 118: test_linux:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 119: strategy:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 120: max-parallel: 1
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 121: fail-fast: false
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 122: matrix:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 123: image: ["swift:5.3"]
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 125: runs-on: ubuntu-latest
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 126: container: ${{ matrix.image }}
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 127: steps:
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 128: - uses: actions/checkout@v2
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 130: - name: Build ${{ matrix.image }}
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 131: run: |
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 132: apt-get update && apt-get install -y python3
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 133: python3 enable_testing.py true
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 135: touch Tests/LinuxMain.swift
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 136: echo 'import XCTest
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 138: import SpotifyAPIMainTests
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 140: var tests = [XCTestCaseEntry]()
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 141: tests += SpotifyAPIMainTests.__allTests()
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 143: XCTMain(tests)' >> Tests/LinuxMain.swift
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 145: swift build --build-tests
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 146: - name: Run tests ${{ matrix.image }}
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 147: run: |
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 148: swift test --filter "\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 149: AuthorizationScopesTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 150: CodingAuthInfoTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 151: CodingAuthorizationCodeFlowManagerTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 152: CodingAuthorizationCodeFlowPKCEManagerTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 153: CodingClientCredentialsFlowManagerTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 154: CodingCurrentlyPlayingContextTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 155: CodingPlaybackRequestTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 156: CodingSpotifyUserTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 157: CodingTimeReferenceTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 158: CodingTrackAttributesTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 159: CursorPagingObjectPlayHistoryCodingTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 160: ExampleContentTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 161: SpotifyAPIClientCredentialsFlowAlbumsTests|\
2025-11-05 15:18:58,163 - utils.process_runner - DEBUG - 라인 162: SpotifyAPIClientCredentialsFlowArtistTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 163: SpotifyAPIClientCredentialsFlowBrowseTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 164: SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 165: SpotifyAPIClientCredentialsFlowEpisodeTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 166: SpotifyAPIClientCredentialsFlowErrorTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 167: SpotifyAPIClientCredentialsFlowFollowTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 168: SpotifyAPIClientCredentialsFlowProxyFollowTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 169: SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 170: SpotifyAPIClientCredentialsFlowMarketTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 171: SpotifyAPIClientCredentialsFlowPlaylistsTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 172: SpotifyAPIClientCredentialsFlowProxyArtistTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 173: SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 174: SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 175: SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 176: SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 177: SpotifyAPIClientCredentialsFlowSearchTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 178: SpotifyAPIClientCredentialsFlowShowTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 179: SpotifyAPIClientCredentialsFlowTrackTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 180: SpotifyAPIClientCredentialsFlowUserProfileTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 181: SpotifyIdentifierTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 182: SpotifyPlayerErrorCodingTests|\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 183: RepeatModeTests\
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 184: "
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 186: test_other_platforms:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 187: strategy:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 188: max-parallel: 1
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 189: fail-fast: false
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 190: matrix:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 191: platform: ["platform=iOS Simulator,name=iPhone 12,OS=14.4", "platform=tvOS Simulator,name=Apple TV,OS=14.3"]
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 193: runs-on: macos-latest
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 194: steps:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 195: - uses: actions/checkout@v2
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 196: - name: configure environment variables
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 197: run: ./set_credentials.sh
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 198: - name: Build ${{ matrix.platform }}
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 199: run: |
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 200: python3 enable_testing.py true
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 201: env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 202: -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 203: -derivedDataPath "$PWD/.derivedData" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 204: -scheme "SpotifyAPI-Package" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 205: -destination "${{ matrix.platform }}" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 206: build
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 207: - name: test ${{ matrix.platform }}
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 208: run: |
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 209: env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 210: -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 211: -derivedDataPath "$PWD/.derivedData" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 212: -scheme "SpotifyAPI-Package" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 213: -destination "${{ matrix.platform }}" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 214: test \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 215: -only-testing "SpotifyAPIMainTests/AuthorizationScopesTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 216: -only-testing "SpotifyAPIMainTests/CodingAuthInfoTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 217: -only-testing "SpotifyAPIMainTests/CodingAuthorizationCodeFlowManagerTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 218: -only-testing "SpotifyAPIMainTests/CodingAuthorizationCodeFlowPKCEManagerTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 219: -only-testing "SpotifyAPIMainTests/CodingClientCredentialsFlowManagerTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 220: -only-testing "SpotifyAPIMainTests/CodingCurrentlyPlayingContextTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 221: -only-testing "SpotifyAPIMainTests/CodingPlaybackRequestTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 222: -only-testing "SpotifyAPIMainTests/CodingSpotifyUserTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 223: -only-testing "SpotifyAPIMainTests/CodingTimeReferenceTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 224: -only-testing "SpotifyAPIMainTests/CodingTrackAttributesTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 225: -only-testing "SpotifyAPIMainTests/CursorPagingObjectPlayHistoryCodingTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 226: -only-testing "SpotifyAPIMainTests/ExampleContentTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 227: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowAlbumsTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 228: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowArtistTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 229: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowBrowseTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 230: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowClientAuthorizationTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 231: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowEpisodeTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 232: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowErrorTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 233: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowFollowTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 234: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowInsufficientScopeTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 235: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowMarketTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 236: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowPlaylistsTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 237: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyArtistTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 238: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyAuthorizationTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 239: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 240: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 241: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 242: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowSearchTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 243: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowShowTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 244: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowTrackTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 245: -only-testing "SpotifyAPIMainTests/SpotifyAPIClientCredentialsFlowUserProfileTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 246: -only-testing "SpotifyAPIMainTests/SpotifyIdentifierTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 247: -only-testing "SpotifyAPIMainTests/SpotifyPlayerErrorCodingTests" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 248: -only-testing "SpotifyAPIMainTests/RepeatModeTests"
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 250: build_watch_os_mac_catalyst:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 251: strategy:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 252: matrix:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 253: platform: ["platform=watchOS Simulator,name=Apple Watch Series 6 - 44mm,OS=7.2", "platform=macOS,variant=Mac Catalyst"]
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 254: runs-on: macos-latest
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 255: steps:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 256: - uses: actions/checkout@v2
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 257: - name: build ${{ matrix.platform }}
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 258: run: |
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 259: env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 260: -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 261: -derivedDataPath "$PWD/.derivedData" build \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 262: -scheme "SpotifyAPI" \
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 263: -destination "${{ matrix.platform }}"
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 265: build_spotify_api_server:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 266: runs-on: ubuntu-latest
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 267: steps:
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 268: - name: build
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 269: run: |
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 270: git clone https://github.com/Peter-Schorn/SpotifyAPIServer.git
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 271: cd SpotifyAPIServer
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 272: swift package edit SpotifyAPI --revision $GITHUB_SHA
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 273: swift build -Xswiftc -warnings-as-errors
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 276: while constructing a mapping
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 277: in "<file>", line 12, column 3
2025-11-05 15:18:58,164 - utils.process_runner - DEBUG - 라인 278: found duplicate key "test_linux" with value "{'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'image': ['swift:5.3']}}, 'runs-on': 'ubuntu-latest', 'container': '${{ matrix.image }}', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build ${{ matrix.image }}', 'run': "apt-get update && apt-get install -y python3\npython3 enable_testing.py true\n\ntouch Tests/LinuxMain.swift\necho 'import XCTest\n\nimport SpotifyAPIMainTests\n\nvar tests = [XCTestCaseEntry]()\ntests += SpotifyAPIMainTests.__allTests()\n\nXCTMain(tests)' >> Tests/LinuxMain.swift\n\nswift build --build-tests\n"}, {'name': 'Run tests ${{ matrix.image }}', 'run': 'swift test --filter "\\\nAuthorizationScopesTests|\\\nCodingAuthInfoTests|\\\nCodingAuthorizationCodeFlowManagerTests|\\\nCodingAuthorizationCodeFlowPKCEManagerTests|\\\nCodingClientCredentialsFlowManagerTests|\\\nCodingCurrentlyPlayingContextTests|\\\nCodingPlaybackRequestTests|\\\nCodingSpotifyUserTests|\\\nCodingTimeReferenceTests|\\\nCodingTrackAttributesTests|\\\nCursorPagingObjectPlayHistoryCodingTests|\\\nExampleContentTests|\\\nSpotifyAPIClientCredentialsFlowAlbumsTests|\\\nSpotifyAPIClientCredentialsFlowArtistTests|\\\nSpotifyAPIClientCredentialsFlowBrowseTests|\\\nSpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowEpisodeTests|\\\nSpotifyAPIClientCredentialsFlowErrorTests|\\\nSpotifyAPIClientCredentialsFlowFollowTests|\\\nSpotifyAPIClientCredentialsFlowProxyFollowTests|\\\nSpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowMarketTests|\\\nSpotifyAPIClientCredentialsFlowPlaylistsTests|\\\nSpotifyAPIClientCredentialsFlowProxyArtistTests|\\\nSpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowSearchTests|\\\nSpotifyAPIClientCredentialsFlowShowTests|\\\nSpotifyAPIClientCredentialsFlowTrackTests|\\\nSpotifyAPIClientCredentialsFlowUserProfileTests|\\\nSpotifyIdentifierTests|\\\nSpotifyPlayerErrorCodingTests|\\\nRepeatModeTests\\\n"\n'}]}" (original value: "{'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'image': ['swift:5.4', 'swift:5.5']}}, 'runs-on': 'ubuntu-latest', 'container': '${{ matrix.image }}', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build ${{ matrix.image }}', 'run': 'apt-get update && apt-get install -y python3\npython3 enable_testing.py true\nswift build --build-tests\n'}, {'name': 'Run tests ${{ matrix.image }}', 'run': 'swift test --filter "\\\nAuthorizationScopesTests|\\\nCodingAuthInfoTests|\\\nCodingAuthorizationCodeFlowManagerTests|\\\nCodingAuthorizationCodeFlowPKCEManagerTests|\\\nCodingClientCredentialsFlowManagerTests|\\\nCodingCurrentlyPlayingContextTests|\\\nCodingPlaybackRequestTests|\\\nCodingSpotifyUserTests|\\\nCodingTimeReferenceTests|\\\nCodingTrackAttributesTests|\\\nCursorPagingObjectPlayHistoryCodingTests|\\\nExampleContentTests|\\\nSpotifyAPIClientCredentialsFlowAlbumsTests|\\\nSpotifyAPIClientCredentialsFlowArtistTests|\\\nSpotifyAPIClientCredentialsFlowBrowseTests|\\\nSpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowEpisodeTests|\\\nSpotifyAPIClientCredentialsFlowErrorTests|\\\nSpotifyAPIClientCredentialsFlowFollowTests|\\\nSpotifyAPIClientCredentialsFlowProxyFollowTests|\\\nSpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowMarketTests|\\\nSpotifyAPIClientCredentialsFlowPlaylistsTests|\\\nSpotifyAPIClientCredentialsFlowProxyArtistTests|\\\nSpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowSearchTests|\\\nSpotifyAPIClientCredentialsFlowShowTests|\\\nSpotifyAPIClientCredentialsFlowTrackTests|\\\nSpotifyAPIClientCredentialsFlowUserProfileTests|\\\nSpotifyIdentifierTests|\\\nSpotifyPlayerErrorCodingTests|\\\nRepeatModeTests\\\n"\n'}]}")
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): found duplicate key "test_linux" with value "{'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'image': ['swift:5.3']}}, 'runs-on': 'ubuntu-latest', 'container': '${{ matrix.image }}', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build ${{ matrix.image }}', 'run': "apt-get update && apt-get install -y python3\npython3 enable_testing.py true\n\ntouch Tests/LinuxMain.swift\necho 'import XCTest\n\nimport SpotifyAPIMainTests\n\nvar tests = [XCTestCaseEntry]()\ntests += SpotifyAPIMainTests.__allTests()\n\nXCTMain(tests)' >> Tests/LinuxMain.swift\n\nswift build --build-tests\n"}, {'name': 'Run tests ${{ matrix.image }}', 'run': 'swift test --filter "\\\nAuthorizationScopesTests|\\\nCodingAuthInfoTests|\\\nCodingAuthorizationCodeFlowManagerTests|\\\nCodingAuthorizationCodeFlowPKCEManagerTests|\\\nCodingClientCredentialsFlowManagerTests|\\\nCodingCurrentlyPlayingContextTests|\\\nCodingPlaybackRequestTests|\\\nCodingSpotifyUserTests|\\\nCodingTimeReferenceTests|\\\nCodingTrackAttributesTests|\\\nCursorPagingObjectPlayHistoryCodingTests|\\\nExampleContentTests|\\\nSpotifyAPIClientCredentialsFlowAlbumsTests|\\\nSpotifyAPIClientCredentialsFlowArtistTests|\\\nSpotifyAPIClientCredentialsFlowBrowseTests|\\\nSpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowEpisodeTests|\\\nSpotifyAPIClientCredentialsFlowErrorTests|\\\nSpotifyAPIClientCredentialsFlowFollowTests|\\\nSpotifyAPIClientCredentialsFlowProxyFollowTests|\\\nSpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowMarketTests|\\\nSpotifyAPIClientCredentialsFlowPlaylistsTests|\\\nSpotifyAPIClientCredentialsFlowProxyArtistTests|\\\nSpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowSearchTests|\\\nSpotifyAPIClientCredentialsFlowShowTests|\\\nSpotifyAPIClientCredentialsFlowTrackTests|\\\nSpotifyAPIClientCredentialsFlowUserProfileTests|\\\nSpotifyIdentifierTests|\\\nSpotifyPlayerErrorCodingTests|\\\nRepeatModeTests\\\n"\n'}]}" (original value: "{'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'image': ['swift:5.4', 'swift:5.5']}}, 'runs-on': 'ubuntu-latest', 'container': '${{ matrix.image }}', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build ${{ matrix.image }}', 'run': 'apt-get update && apt-get install -y python3\npython3 enable_testing.py true\nswift build --build-tests\n'}, {'name': 'Run tests ${{ matrix.image }}', 'run': 'swift test --filter "\\\nAuthorizationScopesTests|\\\nCodingAuthInfoTests|\\\nCodingAuthorizationCodeFlowManagerTests|\\\nCodingAuthorizationCodeFlowPKCEManagerTests|\\\nCodingClientCredentialsFlowManagerTests|\\\nCodingCurrentlyPlayingContextTests|\\\nCodingPlaybackRequestTests|\\\nCodingSpotifyUserTests|\\\nCodingTimeReferenceTests|\\\nCodingTrackAttributesTests|\\\nCursorPagingObjectPlayHistoryCodingTests|\\\nExampleContentTests|\\\nSpotifyAPIClientCredentialsFlowAlbumsTests|\\\nSpotifyAPIClientCredentialsFlowArtistTests|\\\nSpotifyAPIClientCredentialsFlowBrowseTests|\\\nSpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowEpisodeTests|\\\nSpotifyAPIClientCredentialsFlowErrorTests|\\\nSpotifyAPIClientCredentialsFlowFollowTests|\\\nSpotifyAPIClientCredentialsFlowProxyFollowTests|\\\nSpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowMarketTests|\\\nSpotifyAPIClientCredentialsFlowPlaylistsTests|\\\nSpotifyAPIClientCredentialsFlowProxyArtistTests|\\\nSpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\nSpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\nSpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\nSpotifyAPIClientCredentialsFlowSearchTests|\\\nSpotifyAPIClientCredentialsFlowShowTests|\\\nSpotifyAPIClientCredentialsFlowTrackTests|\\\nSpotifyAPIClientCredentialsFlowUserProfileTests|\\\nSpotifyIdentifierTests|\\\nSpotifyPlayerErrorCodingTests|\\\nRepeatModeTests\\\n"\n'}]}")
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 279: in "<file>", line 118, column 3
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 281: To suppress this check see:
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 282: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 284: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 285: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 286: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 287: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 288: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 289: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 290: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 291: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 292: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 293: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 294: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 295: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 296: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 297: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 298: We have found 17 smells
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 299: - 3. Use fixed version for runs-on argument (line 66)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 66)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 300: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 301: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 302: - 12. Avoid workflows without comments
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 303: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 304: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 305: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 306: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 307: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 308: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 309: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 310: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 311: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 312: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 313: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 314: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 315: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 316: The following styling errors were found:
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 317: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 318: 65:11: wrong indentation: expected 8 but found 10 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 319: 70:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 320: 71:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 321: 118:3: duplication of key "test_linux" in mapping (key-duplicates)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 322: 123:11: wrong indentation: expected 8 but found 10 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 323: 128:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 324: 129:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 325: 134:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 326: 139:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 327: 142:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 328: 185:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 329: 192:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 330: 195:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 331: 249:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 332: 256:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 333: 268:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:18:58,165 - utils.process_runner - DEBUG - 라인 334: 274:1: trailing spaces (trailing-spaces)
2025-11-05 15:18:58,165 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:18:58,165 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:18:58,165 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:18:58,165 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:18:58,165 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:18:58,166 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:18:58,166 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Swift

on: [push, pull_request, workflow_dispatch]

env:
  SPOTIFY_SWIFT_TESTING_CLIENT_ID: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_ID }}
  SPOTIFY_SWIFT_TESTING_CLIENT_SECRET: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_SECRET }}
  SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL: ${{ secrets.SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL }}

jobs:

  test_macOS:
    runs-on: macos-latest
    steps:
    - use...
2025-11-05 15:18:58,166 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:18:58,166 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:18:58,166 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:18:58,167 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:19:48,588 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:19:48,589 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:19:48,589 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:19:48,589 - main - DEBUG - 추출된 YAML:
name: Swift

on: [push, pull_request, workflow_dispatch]

env:
  SPOTIFY_SWIFT_TESTING_CLIENT_ID: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_ID }}
  SPOTIFY_SWIFT_TESTING_CLIENT_SECRET: ${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_SECRET }}
  SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL: ${{ secrets.SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL }}

jobs:

  test_macOS:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build macOS
        run: |
          python3 enable_testing.py true
          swift build --build-tests
      - name: Run tests macOS
        run: |
          swift test --filter "\
            AuthorizationScopesTests|\
            CodingAuthInfoTests|\
            CodingAuthorizationCodeFlowManagerTests|\
            CodingAuthorizationCodeFlowPKCEManagerTests|\
            CodingClientCredentialsFlowManagerTests|\
            CodingCurrentlyPlayingContextTests|\
            CodingPlaybackRequestTests|\
            CodingSpotifyUserTests|\
            CodingTimeReferenceTests|\
            CodingTrackAttributesTests|\
            CursorPagingObjectPlayHistoryCodingTests|\
            ExampleContentTests|\
            SpotifyAPIClientCredentialsFlowAlbumsTests|\
            SpotifyAPIClientCredentialsFlowArtistTests|\
            SpotifyAPIClientCredentialsFlowBrowseTests|\
            SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
            SpotifyAPIClientCredentialsFlowEpisodeTests|\
            SpotifyAPIClientCredentialsFlowErrorTests|\
            SpotifyAPIClientCredentialsFlowFollowTests|\
            SpotifyAPIClientCredentialsFlowProxyFollowTests|\
            SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
            SpotifyAPIClientCredentialsFlowMarketTests|\
            SpotifyAPIClientCredentialsFlowPlaylistsTests|\
            SpotifyAPIClientCredentialsFlowProxyArtistTests|\
            SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
            SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
            SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
            SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
            SpotifyAPIClientCredentialsFlowSearchTests|\
            SpotifyAPIClientCredentialsFlowShowTests|\
            SpotifyAPIClientCredentialsFlowTrackTests|\
            SpotifyAPIClientCredentialsFlowUserProfileTests|\
            SpotifyIdentifierTests|\
            SpotifyPlayerErrorCodingTests|\
            RepeatModeTests\
          "

  test_linux:
    strategy:
      max-parallel: 1
      fail-fast: false
      matrix:
        image: ["swift:5.4", "swift:5.5"]

    runs-on: ubuntu-latest
    container: ${{ matrix.image }}
    steps:
      - uses: actions/checkout@v2
      - name: Build ${{ matrix.image }}
        run: |
          apt-get update && apt-get install -y python3
          python3 enable_testing.py true
          swift build --build-tests

      - name: Run tests ${{ matrix.image }}
        run: |
          swift test --filter "\
            AuthorizationScopesTests|\
            CodingAuthInfoTests|\
            CodingAuthorizationCodeFlowManagerTests|\
            CodingAuthorizationCodeFlowPKCEManagerTests|\
            CodingClientCredentialsFlowManagerTests|\
            CodingCurrentlyPlayingContextTests|\
            CodingPlaybackRequestTests|\
            CodingSpotifyUserTests|\
            CodingTimeReferenceTests|\
            CodingTrackAttributesTests|\
            CursorPagingObjectPlayHistoryCodingTests|\
            ExampleContentTests|\
            SpotifyAPIClientCredentialsFlowAlbumsTests|\
            SpotifyAPIClientCredentialsFlowArtistTests|\
            SpotifyAPIClientCredentialsFlowBrowseTests|\
            SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\
            SpotifyAPIClientCredentialsFlowEpisodeTests|\
            SpotifyAPIClientCredentialsFlowErrorTests|\
            SpotifyAPIClientCredentialsFlowFollowTests|\
            SpotifyAPIClientCredentialsFlowProxyFollowTests|\
            SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\
            SpotifyAPIClientCredentialsFlowMarketTests|\
            SpotifyAPIClientCredentialsFlowPlaylistsTests|\
            SpotifyAPIClientCredentialsFlowProxyArtistTests|\
            SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\
            SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\
            SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\
            SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\
            SpotifyAPIClientCredentialsFlowSearchTests|\
            SpotifyAPIClientCredentialsFlowShowTests|\
            SpotifyAPIClientCredentialsFlowTrackTests|\
            SpotifyAPIClientCredentialsFlowUserProfileTests|\
            SpotifyIdentifierTests|\
            SpotifyPlayerErrorCodingTests|\
            RepeatModeTests\
          "

  test_other_platforms:
    strategy:
      max-parallel: 1
      fail-fast: false
      matrix:
        platform: ["platform=iOS Simulator,name=iPhone 12,OS=14.4", "platform=tvOS Simulator,name=Apple TV,OS=14.3"]

    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: configure environment variables
        run: ./set_credentials.sh
      - name: Build ${{ matrix.platform }}
        run: |
          python3 enable_testing.py true
          env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
            -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
            -derivedDataPath "$PWD/.derivedData" \
            -scheme "SpotifyAPI-Package" \
            -destination "${{ matrix.platform }}" \
            build
      - name: test ${{ matrix.platform }}
        run: |
          env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
            -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
            -derivedDataPath "$PWD/.derivedData" \
            -scheme "SpotifyAPI-Package" \
            -destination "${{ matrix.platform }}" \
            test

  build_watch_os_mac_catalyst:
    strategy:
      matrix:
        platform: ["platform=watchOS Simulator,name=Apple Watch Series 6 - 44mm,OS=7.2", "platform=macOS,variant=Mac Catalyst"]

    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: build ${{ matrix.platform }}
        run: |
          env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \
            -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \
            -derivedDataPath "$PWD/.derivedData" build \
            -scheme "SpotifyAPI" \
            -destination "${{ matrix.platform }}"

  build_spotify_api_server:
    runs-on: ubuntu-latest
    steps:
      - name: build
        run: |
          git clone https://github.com/Peter-Schorn/SpotifyAPIServer.git
          cd SpotifyAPIServer
          swift package edit SpotifyAPI --revision $GITHUB_SHA
          swift build -Xswiftc -warnings-as-errors
2025-11-05 15:19:48,589 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:19:48,589 - main - DEBUG - 검증할 YAML 길이: 7039 문자
2025-11-05 15:19:48,589 - main - DEBUG - YAML 시작 부분: 'name: Swift\n\non: [push, pull_request, workflow_dispatch]\n\nenv:\n  SPOTIFY_SWIFT_TESTING_CLIENT_ID: ${'
2025-11-05 15:19:48,605 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Swift', 'on': ['push', 'pull_request', 'workflow_dispatch'], 'env': {'SPOTIFY_SWIFT_TESTING_CLIENT_ID': '${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_ID }}', 'SPOTIFY_SWIFT_TESTING_CLIENT_SECRET': '${{ secrets.SPOTIFY_SWIFT_TESTING_CLIENT_SECRET }}', 'SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL': '${{ secrets.SPOTIFY_CLIENT_CREDENTIALS_FLOW_TOKENS_URL }}'}, 'jobs': {'test_macOS': {'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build macOS', 'run': 'python3 enable_testing.py true\nswift build --build-tests\n'}, {'name': 'Run tests macOS', 'run': 'swift test --filter "\\\n  AuthorizationScopesTests|\\\n  CodingAuthInfoTests|\\\n  CodingAuthorizationCodeFlowManagerTests|\\\n  CodingAuthorizationCodeFlowPKCEManagerTests|\\\n  CodingClientCredentialsFlowManagerTests|\\\n  CodingCurrentlyPlayingContextTests|\\\n  CodingPlaybackRequestTests|\\\n  CodingSpotifyUserTests|\\\n  CodingTimeReferenceTests|\\\n  CodingTrackAttributesTests|\\\n  CursorPagingObjectPlayHistoryCodingTests|\\\n  ExampleContentTests|\\\n  SpotifyAPIClientCredentialsFlowAlbumsTests|\\\n  SpotifyAPIClientCredentialsFlowArtistTests|\\\n  SpotifyAPIClientCredentialsFlowBrowseTests|\\\n  SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\n  SpotifyAPIClientCredentialsFlowEpisodeTests|\\\n  SpotifyAPIClientCredentialsFlowErrorTests|\\\n  SpotifyAPIClientCredentialsFlowFollowTests|\\\n  SpotifyAPIClientCredentialsFlowProxyFollowTests|\\\n  SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\n  SpotifyAPIClientCredentialsFlowMarketTests|\\\n  SpotifyAPIClientCredentialsFlowPlaylistsTests|\\\n  SpotifyAPIClientCredentialsFlowProxyArtistTests|\\\n  SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\n  SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\n  SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\n  SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\n  SpotifyAPIClientCredentialsFlowSearchTests|\\\n  SpotifyAPIClientCredentialsFlowShowTests|\\\n  SpotifyAPIClientCredentialsFlowTrackTests|\\\n  SpotifyAPIClientCredentialsFlowUserProfileTests|\\\n  SpotifyIdentifierTests|\\\n  SpotifyPlayerErrorCodingTests|\\\n  RepeatModeTests\\\n"\n'}]}, 'test_linux': {'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'image': ['swift:5.4', 'swift:5.5']}}, 'runs-on': 'ubuntu-latest', 'container': '${{ matrix.image }}', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Build ${{ matrix.image }}', 'run': 'apt-get update && apt-get install -y python3\npython3 enable_testing.py true\nswift build --build-tests\n'}, {'name': 'Run tests ${{ matrix.image }}', 'run': 'swift test --filter "\\\n  AuthorizationScopesTests|\\\n  CodingAuthInfoTests|\\\n  CodingAuthorizationCodeFlowManagerTests|\\\n  CodingAuthorizationCodeFlowPKCEManagerTests|\\\n  CodingClientCredentialsFlowManagerTests|\\\n  CodingCurrentlyPlayingContextTests|\\\n  CodingPlaybackRequestTests|\\\n  CodingSpotifyUserTests|\\\n  CodingTimeReferenceTests|\\\n  CodingTrackAttributesTests|\\\n  CursorPagingObjectPlayHistoryCodingTests|\\\n  ExampleContentTests|\\\n  SpotifyAPIClientCredentialsFlowAlbumsTests|\\\n  SpotifyAPIClientCredentialsFlowArtistTests|\\\n  SpotifyAPIClientCredentialsFlowBrowseTests|\\\n  SpotifyAPIClientCredentialsFlowClientAuthorizationTests|\\\n  SpotifyAPIClientCredentialsFlowEpisodeTests|\\\n  SpotifyAPIClientCredentialsFlowErrorTests|\\\n  SpotifyAPIClientCredentialsFlowFollowTests|\\\n  SpotifyAPIClientCredentialsFlowProxyFollowTests|\\\n  SpotifyAPIClientCredentialsFlowInsufficientScopeTests|\\\n  SpotifyAPIClientCredentialsFlowMarketTests|\\\n  SpotifyAPIClientCredentialsFlowPlaylistsTests|\\\n  SpotifyAPIClientCredentialsFlowProxyArtistTests|\\\n  SpotifyAPIClientCredentialsFlowProxyAuthorizationTests|\\\n  SpotifyAPIClientCredentialsFlowProxyInsufficientScopeTests|\\\n  SpotifyAPIClientCredentialsFlowProxyRefreshTokensConcurrentTests|\\\n  SpotifyAPIClientCredentialsFlowRefreshTokensConcurrentTests|\\\n  SpotifyAPIClientCredentialsFlowSearchTests|\\\n  SpotifyAPIClientCredentialsFlowShowTests|\\\n  SpotifyAPIClientCredentialsFlowTrackTests|\\\n  SpotifyAPIClientCredentialsFlowUserProfileTests|\\\n  SpotifyIdentifierTests|\\\n  SpotifyPlayerErrorCodingTests|\\\n  RepeatModeTests\\\n"\n'}]}, 'test_other_platforms': {'strategy': {'max-parallel': 1, 'fail-fast': False, 'matrix': {'platform': ['platform=iOS Simulator,name=iPhone 12,OS=14.4', 'platform=tvOS Simulator,name=Apple TV,OS=14.3']}}, 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'configure environment variables', 'run': './set_credentials.sh'}, {'name': 'Build ${{ matrix.platform }}', 'run': 'python3 enable_testing.py true\nenv DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \\\n  -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \\\n  -derivedDataPath "$PWD/.derivedData" \\\n  -scheme "SpotifyAPI-Package" \\\n  -destination "${{ matrix.platform }}" \\\n  build\n'}, {'name': 'test ${{ matrix.platform }}', 'run': 'env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \\\n  -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \\\n  -derivedDataPath "$PWD/.derivedData" \\\n  -scheme "SpotifyAPI-Package" \\\n  -destination "${{ matrix.platform }}" \\\n  test\n'}]}, 'build_watch_os_mac_catalyst': {'strategy': {'matrix': {'platform': ['platform=watchOS Simulator,name=Apple Watch Series 6 - 44mm,OS=7.2', 'platform=macOS,variant=Mac Catalyst']}}, 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'build ${{ matrix.platform }}', 'run': 'env DEVELOPER_DIR="/Applications/Xcode_12.4.app" xcrun xcodebuild \\\n  -IDEClonedSourcePackagesDirPathOverride="$PWD/.dependencies" \\\n  -derivedDataPath "$PWD/.derivedData" build \\\n  -scheme "SpotifyAPI" \\\n  -destination "${{ matrix.platform }}"\n'}]}, 'build_spotify_api_server': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'build', 'run': 'git clone https://github.com/Peter-Schorn/SpotifyAPIServer.git\ncd SpotifyAPIServer\nswift package edit SpotifyAPI --revision $GITHUB_SHA\nswift build -Xswiftc -warnings-as-errors'}]}}}
2025-11-05 15:19:48,606 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_baseline_repaired.yml
2025-11-05 15:19:48,606 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:19:48,606 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_baseline_repaired.yml
2025-11-05 15:19:48,606 - __main__ - INFO - === 파일 82/100 베이스라인 복구 완료 ===
2025-11-05 15:19:48,606 - __main__ - INFO - ✅ 성공 (50.82초): de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e -> de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_baseline_repaired.yml
2025-11-05 15:19:48,606 - __main__ - INFO - [83/100] 처리 중: 63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 15:19:48,606 - __main__ - INFO - 입력 파일 경로: data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 15:19:48,606 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_baseline_repaired.yml
2025-11-05 15:19:48,606 - __main__ - INFO - === 파일 83/100 베이스라인 복구 시작 ===
2025-11-05 15:19:48,606 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:19:48,606 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:19:48,607 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 15:19:48,607 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:19:48,607 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:19:48,607 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 15:19:48,613 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:19:48,613 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:19:48,613 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:19:48,613 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:19:48,613 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.36초)
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Update progress

on:
  push:
    branches:
      - master
    paths-ignore:
      - '*.md'
      - '**/*.md'
  pull_request_target:
    paths-ignore:
      - '.github/workflows/**'
      - '*.md'
      - '**/*.md'
  workflow_dispatch:

jobs:
  build-and-test:
    strategy:
      matrix:
        version: ["us"]
    # build-and-test cannot work if the repository owner is not Xeeynamo
    # due to the missing secrets to clone the game's data repository
    if: github.repository == 'Xeeynamo/sotn-decomp'
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
    steps:
      - name: Install requirements
        run: sudo apt-get install gcc-mipsel-linux-gnu
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Build binaries
        run: make -j build
      - name: Check if they match
        run: make check
      - name: Remove clutter from build folder
        run: rm -rf build/asm build/src
      - name: Export build folder
        if: github.ref == 'refs/heads/master' && github.event_name == 'push'
        uses: actions/upload-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
  update-progress:
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    runs-on: ubuntu-latest
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone asset repository
        uses: actions/checkout@v3
        with:
          ref: 'gh-report'
          path: 'gh-report'
      - name: Set-up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - name: Generate progress report
        run: |
            mkdir -p gh-report/assets
            python tools/report_progress.py DRA.BIN 630 src/dra > gh-report/assets/progress-dra.json
            python tools/report_progress.py RIC.BIN 155 src/ric > gh-report/assets/progress-ric.json
            python tools/report_progress.py CEN.BIN 128 src/st/cen > gh-report/assets/progress-cen.json
            python tools/report_progress.py DRE.BIN 136 src/st/dre > gh-report/assets/progress-dre.json
            python tools/report_progress.py MAD.BIN 116 src/st/mad > gh-report/assets/progress-mad.json
            python tools/report_progress.py NO3.BIN 210 src/st/no3 > gh-report/assets/progress-no3.json
            python tools/report_progress.py NP3.BIN 214 src/st/np3 > gh-report/assets/progress-np3.json
            python tools/report_progress.py NZ0.BIN 184 src/st/nz0 > gh-report/assets/progress-nz0.json
            python tools/report_progress.py SEL.BIN 164 src/st/sel > gh-report/assets/progress-sel.json
            python tools/report_progress.py ST0.BIN 160 src/st/st0 > gh-report/assets/progress-st0.json
            python tools/report_progress.py WRP.BIN 110 src/st/wrp > gh-report/assets/progress-wrp.json
            python tools/report_progress.py RWRP.BIN 110 src/st/rwrp > gh-report/assets/progress-rwrp.json
            python tools/report_progress.py TT_000.BIN 27 src/servant/tt_000 > gh-report/assets/progress-tt_000.json
      - name: Commit report
        run: |
            git config --global user.name 'GitHub Action' 
            git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
            git add -A
            git commit -m 'Update progress' || true
            git push
        working-directory: gh-report
  generate-progress-report:
    strategy:
      matrix:
        version: ["us"]
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    needs: build-and-test
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
      FROGRESS_API_BASE_URL: ${{ secrets.FROGRESS_API_BASE_URL }}
      FROGRESS_API_BASE_URL: ${{ secrets.FROGRESS_API_SECRET }}
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Obtain built binaries
        uses: actions/download-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
      - name: Generate and send progress report
        run: python3 tools/progress.py --version us
  generate-duplicates-report:
    strategy:
      matrix:
        version: ["us"]
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    needs: build-and-test
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Obtain built binaries
        uses: actions/download-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
      - name: Clone asset repository
        uses: actions/checkout@v3
        with:
          ref: 'gh-duplicates'
          path: 'gh-duplicates'
      - name: Set-up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - name: Install secondary pre-requirements
        run: pip3 install -r tools/requirements-python.txt
      - name: Generate duplicates report
        run: python3 tools/find_duplicates.py -a
      - name: Rename output file into something more meaningful
        run: mv *_all_matches.txt gh-duplicates/duplicates.txt
      - name: Commit all reports
        run: |
            git config --global user.name 'GitHub Action' 
            git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
            git add -A
            git commit -m 'Update duplicates' || true
            git push
        working-directory: gh-duplicates

while constructing a mapping
  in "<file>", line 113, column 7
found duplicate key "FROGRESS_API_BASE_URL" with value "${{ secrets.FROGRESS_API_SECRET }}" (original value: "${{ secrets.FROGRESS_API_BASE_URL }}")
  in "<file>", line 115, column 7

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 24)
	- 8. Use commit hash instead of tags for action versions (line 77)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 8. Use commit hash instead of tags for action versions (line 138)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
99:58: trailing spaces (trailing-spaces)
115:7: duplication of key "FROGRESS_API_BASE_URL" in mapping (key-duplicates)
198:58: trailing spaces (trailing-spaces)

2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 250
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Update progress
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 6: - master
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 7: paths-ignore:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 8: - '*.md'
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 9: - '**/*.md'
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 10: pull_request_target:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 11: paths-ignore:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 12: - '.github/workflows/**'
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 13: - '*.md'
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 14: - '**/*.md'
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 15: workflow_dispatch:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 17: jobs:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 18: build-and-test:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 19: strategy:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 20: matrix:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 21: version: ["us"]
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 22: # build-and-test cannot work if the repository owner is not Xeeynamo
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 23: # due to the missing secrets to clone the game's data repository
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 24: if: github.repository == 'Xeeynamo/sotn-decomp'
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 25: runs-on: ubuntu-latest
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 26: env:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 27: VERSION: ${{ matrix.version }}
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 28: steps:
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 29: - name: Install requirements
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 30: run: sudo apt-get install gcc-mipsel-linux-gnu
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 31: - name: Clone main repository
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 32: uses: actions/checkout@v3
2025-11-05 15:19:48,971 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 34: submodules: false
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 35: - name: Clone dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 36: uses: actions/checkout@v3
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 38: repository: xeeynamo/sotn-decomp-dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 39: ref: ${{ matrix.version }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 40: token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 41: path: 'disks/dependencies'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 42: - name: Setting up dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 43: working-directory: disks
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 44: run: |
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 45: cat dependencies/* > dependencies.tar.gz
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 46: tar -xf dependencies.tar.gz
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 47: mv *.cue sotn.${{ matrix.version }}.cue
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 48: - name: Extract dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 49: run: make extract_disk
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 50: - name: Split game data
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 51: run: make -j extract
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 52: - name: Build binaries
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 53: run: make -j build
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 54: - name: Check if they match
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 55: run: make check
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 56: - name: Remove clutter from build folder
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 57: run: rm -rf build/asm build/src
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 58: - name: Export build folder
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 59: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 60: uses: actions/upload-artifact@v3
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 61: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 62: name: build_${{ matrix.version }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 63: path: build/${{ matrix.version }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 64: update-progress:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 65: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 66: runs-on: ubuntu-latest
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 67: steps:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 68: - name: Clone main repository
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 69: uses: actions/checkout@v3
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 70: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 71: submodules: false
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 72: - name: Clone asset repository
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 73: uses: actions/checkout@v3
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 74: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 75: ref: 'gh-report'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 76: path: 'gh-report'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 77: - name: Set-up Python
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 78: uses: actions/setup-python@v4
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 79: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 80: python-version: '3.x'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 81: - name: Generate progress report
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 82: run: |
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 83: mkdir -p gh-report/assets
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 84: python tools/report_progress.py DRA.BIN 630 src/dra > gh-report/assets/progress-dra.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 85: python tools/report_progress.py RIC.BIN 155 src/ric > gh-report/assets/progress-ric.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 86: python tools/report_progress.py CEN.BIN 128 src/st/cen > gh-report/assets/progress-cen.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 87: python tools/report_progress.py DRE.BIN 136 src/st/dre > gh-report/assets/progress-dre.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 88: python tools/report_progress.py MAD.BIN 116 src/st/mad > gh-report/assets/progress-mad.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 89: python tools/report_progress.py NO3.BIN 210 src/st/no3 > gh-report/assets/progress-no3.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 90: python tools/report_progress.py NP3.BIN 214 src/st/np3 > gh-report/assets/progress-np3.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 91: python tools/report_progress.py NZ0.BIN 184 src/st/nz0 > gh-report/assets/progress-nz0.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 92: python tools/report_progress.py SEL.BIN 164 src/st/sel > gh-report/assets/progress-sel.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 93: python tools/report_progress.py ST0.BIN 160 src/st/st0 > gh-report/assets/progress-st0.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 94: python tools/report_progress.py WRP.BIN 110 src/st/wrp > gh-report/assets/progress-wrp.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 95: python tools/report_progress.py RWRP.BIN 110 src/st/rwrp > gh-report/assets/progress-rwrp.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 96: python tools/report_progress.py TT_000.BIN 27 src/servant/tt_000 > gh-report/assets/progress-tt_000.json
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 97: - name: Commit report
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 98: run: |
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 99: git config --global user.name 'GitHub Action'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 100: git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 101: git add -A
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 102: git commit -m 'Update progress' || true
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 103: git push
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 104: working-directory: gh-report
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 105: generate-progress-report:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 106: strategy:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 107: matrix:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 108: version: ["us"]
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 109: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 110: needs: build-and-test
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 111: runs-on: ubuntu-latest
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 112: env:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 113: VERSION: ${{ matrix.version }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 114: FROGRESS_API_BASE_URL: ${{ secrets.FROGRESS_API_BASE_URL }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 115: FROGRESS_API_BASE_URL: ${{ secrets.FROGRESS_API_SECRET }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 116: steps:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 117: - name: Clone main repository
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 118: uses: actions/checkout@v3
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 119: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 120: submodules: false
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 121: - name: Clone dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 122: uses: actions/checkout@v3
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 123: with:
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 124: repository: xeeynamo/sotn-decomp-dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 125: ref: ${{ matrix.version }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 126: token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 127: path: 'disks/dependencies'
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 128: - name: Setting up dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 129: working-directory: disks
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 130: run: |
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 131: cat dependencies/* > dependencies.tar.gz
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 132: tar -xf dependencies.tar.gz
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 133: mv *.cue sotn.${{ matrix.version }}.cue
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 134: - name: Extract dependencies
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 135: run: make extract_disk
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 136: - name: Split game data
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 137: run: make -j extract
2025-11-05 15:19:48,972 - utils.process_runner - DEBUG - 라인 138: - name: Obtain built binaries
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 139: uses: actions/download-artifact@v3
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 140: with:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 141: name: build_${{ matrix.version }}
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 142: path: build/${{ matrix.version }}
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 143: - name: Generate and send progress report
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 144: run: python3 tools/progress.py --version us
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 145: generate-duplicates-report:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 146: strategy:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 147: matrix:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 148: version: ["us"]
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 149: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 150: needs: build-and-test
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 151: runs-on: ubuntu-latest
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 152: env:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 153: VERSION: ${{ matrix.version }}
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 154: steps:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 155: - name: Clone main repository
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 156: uses: actions/checkout@v3
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 157: with:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 158: submodules: false
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 159: - name: Clone dependencies
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 160: uses: actions/checkout@v3
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 161: with:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 162: repository: xeeynamo/sotn-decomp-dependencies
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 163: ref: ${{ matrix.version }}
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 164: token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 165: path: 'disks/dependencies'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 166: - name: Setting up dependencies
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 167: working-directory: disks
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 168: run: |
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 169: cat dependencies/* > dependencies.tar.gz
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 170: tar -xf dependencies.tar.gz
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 171: mv *.cue sotn.${{ matrix.version }}.cue
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 172: - name: Extract dependencies
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 173: run: make extract_disk
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 174: - name: Split game data
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 175: run: make -j extract
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 176: - name: Obtain built binaries
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 177: uses: actions/download-artifact@v3
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 178: with:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 179: name: build_${{ matrix.version }}
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 180: path: build/${{ matrix.version }}
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 181: - name: Clone asset repository
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 182: uses: actions/checkout@v3
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 183: with:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 184: ref: 'gh-duplicates'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 185: path: 'gh-duplicates'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 186: - name: Set-up Python
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 187: uses: actions/setup-python@v4
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 188: with:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 189: python-version: '3.x'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 190: - name: Install secondary pre-requirements
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 191: run: pip3 install -r tools/requirements-python.txt
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 192: - name: Generate duplicates report
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 193: run: python3 tools/find_duplicates.py -a
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 194: - name: Rename output file into something more meaningful
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 195: run: mv *_all_matches.txt gh-duplicates/duplicates.txt
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 196: - name: Commit all reports
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 197: run: |
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 198: git config --global user.name 'GitHub Action'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 199: git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 200: git add -A
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 201: git commit -m 'Update duplicates' || true
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 202: git push
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 203: working-directory: gh-duplicates
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 205: while constructing a mapping
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 206: in "<file>", line 113, column 7
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 207: found duplicate key "FROGRESS_API_BASE_URL" with value "${{ secrets.FROGRESS_API_SECRET }}" (original value: "${{ secrets.FROGRESS_API_BASE_URL }}")
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 208: in "<file>", line 115, column 7
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 210: To suppress this check see:
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 211: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 213: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 214: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 215: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 216: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 217: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 218: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 219: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 220: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 221: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 222: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 223: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 224: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 225: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 226: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 227: We have found 18 smells
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 228: - 3. Use fixed version for runs-on argument (line 24)
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 24)
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 229: - 8. Use commit hash instead of tags for action versions (line 77)
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 77)
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 230: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 15:19:48,973 - utils.process_runner - DEBUG - 라인 231: - 8. Use commit hash instead of tags for action versions (line 138)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 138)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 232: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 233: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 234: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 235: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 236: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 237: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 238: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 239: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 240: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 241: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 242: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 243: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 244: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 245: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 246: The following styling errors were found:
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 247: 99:58: trailing spaces (trailing-spaces)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 248: 115:7: duplication of key "FROGRESS_API_BASE_URL" in mapping (key-duplicates)
2025-11-05 15:19:48,974 - utils.process_runner - DEBUG - 라인 249: 198:58: trailing spaces (trailing-spaces)
2025-11-05 15:19:48,974 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:19:48,974 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:19:48,974 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:19:48,974 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:19:48,974 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:19:48,974 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:19:48,974 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Update progress

on:
  push:
    branches:
      - master
    paths-ignore:
      - '*.md'
      - '**/*.md'
  pull_request_target:
    paths-ignore:
      - '.github/workflows/**'
      - '*.md'
      - '**/*.md'
  workflow_dispatch:

jobs:
  build-and-test:
    strategy:
      matrix:
        version: ["us"]
    # build-and-test cannot work if the repository owner is not Xeeynamo
    # due to the...
2025-11-05 15:19:48,974 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:19:48,974 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:19:48,974 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:19:48,975 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:20:47,079 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:20:47,079 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:20:47,080 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:20:47,080 - main - DEBUG - 추출된 YAML:
name: Update progress

on:
  push:
    branches:
      - master
    paths-ignore:
      - '*.md'
      - '**/*.md'
  pull_request_target:
    paths-ignore:
      - '.github/workflows/**'
      - '*.md'
      - '**/*.md'
  workflow_dispatch:

jobs:
  build-and-test:
    strategy:
      matrix:
        version: ["us"]
    # build-and-test cannot work if the repository owner is not Xeeynamo
    # due to the missing secrets to clone the game's data repository
    if: github.repository == 'Xeeynamo/sotn-decomp'
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
    steps:
      - name: Install requirements
        run: sudo apt-get install gcc-mipsel-linux-gnu
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Build binaries
        run: make -j build
      - name: Check if they match
        run: make check
      - name: Remove clutter from build folder
        run: rm -rf build/asm build/src
      - name: Export build folder
        if: github.ref == 'refs/heads/master' && github.event_name == 'push'
        uses: actions/upload-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
  update-progress:
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    runs-on: ubuntu-latest
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone asset repository
        uses: actions/checkout@v3
        with:
          ref: 'gh-report'
          path: 'gh-report'
      - name: Set-up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - name: Generate progress report
        run: |
            mkdir -p gh-report/assets
            python tools/report_progress.py DRA.BIN 630 src/dra > gh-report/assets/progress-dra.json
            python tools/report_progress.py RIC.BIN 155 src/ric > gh-report/assets/progress-ric.json
            python tools/report_progress.py CEN.BIN 128 src/st/cen > gh-report/assets/progress-cen.json
            python tools/report_progress.py DRE.BIN 136 src/st/dre > gh-report/assets/progress-dre.json
            python tools/report_progress.py MAD.BIN 116 src/st/mad > gh-report/assets/progress-mad.json
            python tools/report_progress.py NO3.BIN 210 src/st/no3 > gh-report/assets/progress-no3.json
            python tools/report_progress.py NP3.BIN 214 src/st/np3 > gh-report/assets/progress-np3.json
            python tools/report_progress.py NZ0.BIN 184 src/st/nz0 > gh-report/assets/progress-nz0.json
            python tools/report_progress.py SEL.BIN 164 src/st/sel > gh-report/assets/progress-sel.json
            python tools/report_progress.py ST0.BIN 160 src/st/st0 > gh-report/assets/progress-st0.json
            python tools/report_progress.py WRP.BIN 110 src/st/wrp > gh-report/assets/progress-wrp.json
            python tools/report_progress.py RWRP.BIN 110 src/st/rwrp > gh-report/assets/progress-rwrp.json
            python tools/report_progress.py TT_000.BIN 27 src/servant/tt_000 > gh-report/assets/progress-tt_000.json
      - name: Commit report
        run: |
            git config --global user.name 'GitHub Action' 
            git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
            git add -A
            git commit -m 'Update progress' || true
            git push
        working-directory: gh-report
  generate-progress-report:
    strategy:
      matrix:
        version: ["us"]
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    needs: build-and-test
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
      FROGRESS_API_BASE_URL: ${{ secrets.FROGRESS_API_BASE_URL }}
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Obtain built binaries
        uses: actions/download-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
      - name: Generate and send progress report
        run: python3 tools/progress.py --version us
  generate-duplicates-report:
    strategy:
      matrix:
        version: ["us"]
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    needs: build-and-test
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Obtain built binaries
        uses: actions/download-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
      - name: Clone asset repository
        uses: actions/checkout@v3
        with:
          ref: 'gh-duplicates'
          path: 'gh-duplicates'
      - name: Set-up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - name: Install secondary pre-requirements
        run: pip3 install -r tools/requirements-python.txt
      - name: Generate duplicates report
        run: python3 tools/find_duplicates.py -a
      - name: Rename output file into something more meaningful
        run: mv *_all_matches.txt gh-duplicates/duplicates.txt
      - name: Commit all reports
        run: |
            git config --global user.name 'GitHub Action' 
            git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
            git add -A
            git commit -m 'Update duplicates' || true
            git push
        working-directory: gh-duplicates
2025-11-05 15:20:47,080 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:20:47,080 - main - DEBUG - 검증할 YAML 길이: 7613 문자
2025-11-05 15:20:47,080 - main - DEBUG - YAML 시작 부분: "name: Update progress\n\non:\n  push:\n    branches:\n      - master\n    paths-ignore:\n      - '*.md'\n   "
2025-11-05 15:20:47,102 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Update progress', 'on': {'push': {'branches': ['master'], 'paths-ignore': ['*.md', '**/*.md']}, 'pull_request_target': {'paths-ignore': ['.github/workflows/**', '*.md', '**/*.md']}, 'workflow_dispatch': None}, 'jobs': {'build-and-test': {'strategy': {'matrix': {'version': ['us']}}, 'if': "github.repository == 'Xeeynamo/sotn-decomp'", 'runs-on': 'ubuntu-latest', 'env': {'VERSION': '${{ matrix.version }}'}, 'steps': [{'name': 'Install requirements', 'run': 'sudo apt-get install gcc-mipsel-linux-gnu'}, {'name': 'Clone main repository', 'uses': 'actions/checkout@v3', 'with': {'submodules': False}}, {'name': 'Clone dependencies', 'uses': 'actions/checkout@v3', 'with': {'repository': 'xeeynamo/sotn-decomp-dependencies', 'ref': '${{ matrix.version }}', 'token': '${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}', 'path': 'disks/dependencies'}}, {'name': 'Setting up dependencies', 'working-directory': 'disks', 'run': 'cat dependencies/* > dependencies.tar.gz\ntar -xf dependencies.tar.gz\nmv *.cue sotn.${{ matrix.version }}.cue\n'}, {'name': 'Extract dependencies', 'run': 'make extract_disk'}, {'name': 'Split game data', 'run': 'make -j extract'}, {'name': 'Build binaries', 'run': 'make -j build'}, {'name': 'Check if they match', 'run': 'make check'}, {'name': 'Remove clutter from build folder', 'run': 'rm -rf build/asm build/src'}, {'name': 'Export build folder', 'if': "github.ref == 'refs/heads/master' && github.event_name == 'push'", 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'build_${{ matrix.version }}', 'path': 'build/${{ matrix.version }}'}}]}, 'update-progress': {'if': "github.ref == 'refs/heads/master' && github.event_name == 'push'", 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Clone main repository', 'uses': 'actions/checkout@v3', 'with': {'submodules': False}}, {'name': 'Clone asset repository', 'uses': 'actions/checkout@v3', 'with': {'ref': 'gh-report', 'path': 'gh-report'}}, {'name': 'Set-up Python', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '3.x'}}, {'name': 'Generate progress report', 'run': 'mkdir -p gh-report/assets\npython tools/report_progress.py DRA.BIN 630 src/dra > gh-report/assets/progress-dra.json\npython tools/report_progress.py RIC.BIN 155 src/ric > gh-report/assets/progress-ric.json\npython tools/report_progress.py CEN.BIN 128 src/st/cen > gh-report/assets/progress-cen.json\npython tools/report_progress.py DRE.BIN 136 src/st/dre > gh-report/assets/progress-dre.json\npython tools/report_progress.py MAD.BIN 116 src/st/mad > gh-report/assets/progress-mad.json\npython tools/report_progress.py NO3.BIN 210 src/st/no3 > gh-report/assets/progress-no3.json\npython tools/report_progress.py NP3.BIN 214 src/st/np3 > gh-report/assets/progress-np3.json\npython tools/report_progress.py NZ0.BIN 184 src/st/nz0 > gh-report/assets/progress-nz0.json\npython tools/report_progress.py SEL.BIN 164 src/st/sel > gh-report/assets/progress-sel.json\npython tools/report_progress.py ST0.BIN 160 src/st/st0 > gh-report/assets/progress-st0.json\npython tools/report_progress.py WRP.BIN 110 src/st/wrp > gh-report/assets/progress-wrp.json\npython tools/report_progress.py RWRP.BIN 110 src/st/rwrp > gh-report/assets/progress-rwrp.json\npython tools/report_progress.py TT_000.BIN 27 src/servant/tt_000 > gh-report/assets/progress-tt_000.json\n'}, {'name': 'Commit report', 'run': "git config --global user.name 'GitHub Action' \ngit config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'\ngit add -A\ngit commit -m 'Update progress' || true\ngit push\n", 'working-directory': 'gh-report'}]}, 'generate-progress-report': {'strategy': {'matrix': {'version': ['us']}}, 'if': "github.ref == 'refs/heads/master' && github.event_name == 'push'", 'needs': 'build-and-test', 'runs-on': 'ubuntu-latest', 'env': {'VERSION': '${{ matrix.version }}', 'FROGRESS_API_BASE_URL': '${{ secrets.FROGRESS_API_BASE_URL }}'}, 'steps': [{'name': 'Clone main repository', 'uses': 'actions/checkout@v3', 'with': {'submodules': False}}, {'name': 'Clone dependencies', 'uses': 'actions/checkout@v3', 'with': {'repository': 'xeeynamo/sotn-decomp-dependencies', 'ref': '${{ matrix.version }}', 'token': '${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}', 'path': 'disks/dependencies'}}, {'name': 'Setting up dependencies', 'working-directory': 'disks', 'run': 'cat dependencies/* > dependencies.tar.gz\ntar -xf dependencies.tar.gz\nmv *.cue sotn.${{ matrix.version }}.cue\n'}, {'name': 'Extract dependencies', 'run': 'make extract_disk'}, {'name': 'Split game data', 'run': 'make -j extract'}, {'name': 'Obtain built binaries', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'build_${{ matrix.version }}', 'path': 'build/${{ matrix.version }}'}}, {'name': 'Generate and send progress report', 'run': 'python3 tools/progress.py --version us'}]}, 'generate-duplicates-report': {'strategy': {'matrix': {'version': ['us']}}, 'if': "github.ref == 'refs/heads/master' && github.event_name == 'push'", 'needs': 'build-and-test', 'runs-on': 'ubuntu-latest', 'env': {'VERSION': '${{ matrix.version }}'}, 'steps': [{'name': 'Clone main repository', 'uses': 'actions/checkout@v3', 'with': {'submodules': False}}, {'name': 'Clone dependencies', 'uses': 'actions/checkout@v3', 'with': {'repository': 'xeeynamo/sotn-decomp-dependencies', 'ref': '${{ matrix.version }}', 'token': '${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}', 'path': 'disks/dependencies'}}, {'name': 'Setting up dependencies', 'working-directory': 'disks', 'run': 'cat dependencies/* > dependencies.tar.gz\ntar -xf dependencies.tar.gz\nmv *.cue sotn.${{ matrix.version }}.cue\n'}, {'name': 'Extract dependencies', 'run': 'make extract_disk'}, {'name': 'Split game data', 'run': 'make -j extract'}, {'name': 'Obtain built binaries', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'build_${{ matrix.version }}', 'path': 'build/${{ matrix.version }}'}}, {'name': 'Clone asset repository', 'uses': 'actions/checkout@v3', 'with': {'ref': 'gh-duplicates', 'path': 'gh-duplicates'}}, {'name': 'Set-up Python', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '3.x'}}, {'name': 'Install secondary pre-requirements', 'run': 'pip3 install -r tools/requirements-python.txt'}, {'name': 'Generate duplicates report', 'run': 'python3 tools/find_duplicates.py -a'}, {'name': 'Rename output file into something more meaningful', 'run': 'mv *_all_matches.txt gh-duplicates/duplicates.txt'}, {'name': 'Commit all reports', 'run': "git config --global user.name 'GitHub Action' \ngit config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'\ngit add -A\ngit commit -m 'Update duplicates' || true\ngit push\n", 'working-directory': 'gh-duplicates'}]}}}
2025-11-05 15:20:47,102 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_baseline_repaired.yml
2025-11-05 15:20:47,102 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:20:47,102 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_baseline_repaired.yml
2025-11-05 15:20:47,103 - __main__ - INFO - === 파일 83/100 베이스라인 복구 완료 ===
2025-11-05 15:20:47,103 - __main__ - INFO - ✅ 성공 (58.50초): 63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d -> 63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_baseline_repaired.yml
2025-11-05 15:20:47,103 - __main__ - INFO - [84/100] 처리 중: 4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 15:20:47,103 - __main__ - INFO - 입력 파일 경로: data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 15:20:47,103 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_baseline_repaired.yml
2025-11-05 15:20:47,103 - __main__ - INFO - === 파일 84/100 베이스라인 복구 시작 ===
2025-11-05 15:20:47,103 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:20:47,103 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:20:47,103 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 15:20:47,103 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:20:47,104 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:20:47,104 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 15:20:47,126 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 15:20:47,127 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:20:47,127 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:20:47,127 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:20:47,127 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
YAML parsing error in external_actions_must_have_permissions_workflow: 'str' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'str' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'str' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'str' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'str' object has no attribute 'keys'
YAML parsing error in multi_line_steps: 'str' object has no attribute 'keys'
YAML parsing error in installing_packages_without_version: 'str' object has no attribute 'keys'
YAML parsing error in use_cache_from_setup: 'str' object has no attribute 'keys'
We have found 14 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 11)
	- 10. Avoid jobs without timeouts (line: 10)
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 10)
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
24:46: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 27
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in external_actions_must_have_permissions_workflow: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in pull_based_actions_on_fork: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 4: YAML parsing error in use_name_for_step: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 5: YAML parsing error in use_name_for_step: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 6: YAML parsing error in upload_artifact_must_have_if: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in multi_line_steps: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in installing_packages_without_version: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in use_cache_from_setup: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'str' object has no attribute 'keys'
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 10: We have found 14 smells
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 11: - 1. Avoid executing scheduled workflows on forks
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 12: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 13: - 10. Avoid jobs without timeouts (line: 10)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 10)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 14: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 15: - 15. Use permissions whenever using Github Token (job at line 10)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 10)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 16: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 17: - 22. Avoid deploying jobs on forks
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 18: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 19: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 20: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 21: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 22: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 24: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 25: The following styling errors were found:
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:20:47,570 - utils.process_runner - DEBUG - 라인 26: 24:46: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 15:20:47,570 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:20:47,570 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 15:20:47,570 - main - INFO - Smell detector에서 3개 스멜 발견
2025-11-05 15:20:47,570 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:20:47,570 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:20:47,571 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Protobuf Janitor

on:
  schedule:
    # Run daily at 10 AM UTC (2 AM PDT)
    - cron: 0 10 * * *
  workflow_dispatch:

jobs:
  stale-prs:
    name: Close Stale Copybara PRs
    runs-on: ubuntu-latest
    steps:
      run: |
        set -ex
        STALE_PRS=$(gh pr list --author "app/copybara-service" --limit 500 \
            --json "number" --search "updated:<=$(date --date="-7 day" +%F)" \
     ...
2025-11-05 15:20:47,571 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:20:47,571 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:20:47,571 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:20:47,572 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:21:00,941 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:21:00,941 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:21:00,942 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:21:00,942 - main - DEBUG - 추출된 YAML:
name: Protobuf Janitor

on:
  schedule:
    # Run daily at 10 AM UTC (2 AM PDT)
    - cron: 0 10 * * *
  workflow_dispatch:

jobs:
  stale-prs:
    name: Close Stale Copybara PRs
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up GitHub Token
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          echo "Using GitHub Token for authentication"

      - name: List stale PRs
        run: |
          set -ex
          STALE_PRS=$(gh pr list --author "app/copybara-service" --limit 500 \
            --json "number" --search "updated:<=$(date --date="-7 day" +%F)" \
          | jq ".[].number")
          echo "Found stale PRs: $STALE_PRS"

      - name: Close stale PRs
        run: |
          for pr in $(echo "$STALE_PRS"); do
            echo "Closing #$pr..."
            gh pr close --comment "Auto-closing Copybara pull request" --delete-branch "$pr"
          done

    timeout-minutes: 10 # Add a timeout to prevent the job from running indefinitely

permissions:
  contents: read # Allow access to repository contents for GitHub Token
2025-11-05 15:21:00,942 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:21:00,942 - main - DEBUG - 검증할 YAML 길이: 1145 문자
2025-11-05 15:21:00,942 - main - DEBUG - YAML 시작 부분: 'name: Protobuf Janitor\n\non:\n  schedule:\n    # Run daily at 10 AM UTC (2 AM PDT)\n    - cron: 0 10 * *'
2025-11-05 15:21:00,949 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Protobuf Janitor', 'on': {'schedule': [{'cron': '0 10 * * *'}], 'workflow_dispatch': None}, 'jobs': {'stale-prs': {'name': 'Close Stale Copybara PRs', 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v3'}, {'name': 'Set up GitHub Token', 'env': {'GH_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'run': 'echo "Using GitHub Token for authentication"\n'}, {'name': 'List stale PRs', 'run': 'set -ex\nSTALE_PRS=$(gh pr list --author "app/copybara-service" --limit 500 \\\n  --json "number" --search "updated:<=$(date --date="-7 day" +%F)" \\\n| jq ".[].number")\necho "Found stale PRs: $STALE_PRS"\n'}, {'name': 'Close stale PRs', 'run': 'for pr in $(echo "$STALE_PRS"); do\n  echo "Closing #$pr..."\n  gh pr close --comment "Auto-closing Copybara pull request" --delete-branch "$pr"\ndone\n'}], 'timeout-minutes': 10}}, 'permissions': {'contents': 'read'}}
2025-11-05 15:21:00,949 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_baseline_repaired.yml
2025-11-05 15:21:00,950 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:21:00,950 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_baseline_repaired.yml
2025-11-05 15:21:00,950 - __main__ - INFO - === 파일 84/100 베이스라인 복구 완료 ===
2025-11-05 15:21:00,950 - __main__ - INFO - ✅ 성공 (13.85초): 4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312 -> 4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_baseline_repaired.yml
2025-11-05 15:21:00,950 - __main__ - INFO - [85/100] 처리 중: 261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 15:21:00,950 - __main__ - INFO - 입력 파일 경로: data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 15:21:00,951 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_baseline_repaired.yml
2025-11-05 15:21:00,951 - __main__ - INFO - === 파일 85/100 베이스라인 복구 시작 ===
2025-11-05 15:21:00,951 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:21:00,951 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:21:00,951 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 15:21:00,951 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:21:00,952 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:21:00,952 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 15:21:00,958 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:21:00,958 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:21:00,959 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:21:00,959 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:21:00,959 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 15:21:01,285 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 15:21:01,285 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Coveralls

on:
  workflow_run:
    workflows: [Linux]
    types:
      - completed

jobs:
  finish:
    defaults:
      run:
        shell: bash
    runs-on: ubuntu-latest

    steps:
      - name: 'Download artifacts'
        uses: actions/github-script@v3.1.0
        with:
          script: |
            var artifacts = await github.actions.listWorkflowRunArtifacts({
               owner: context.repo.owner,
               repo: context.repo.repo,
               run_id: ${{github.event.workflow_run.id}},
            });
            var matchArtifacts = artifacts.data.artifacts;
            matchArtifacts.forEach(artifact => {
              var download = await github.actions.downloadArtifact({
                 owner: context.repo.owner,
                 repo: context.repo.repo,
                 artifact_id: artifact.id,
                 archive_format: 'zip',
              });
              var fs = require('fs');
              fs.writeFileSync('${{github.workspace}}/' + artifact.name + '.zip', Buffer.from(download.data));
            });
      - run: |
          unzip *.zip

    - name: Generate Coverage
      run: |
        lcov --directory . --capture --output-file coverage.info
        lcov --remove coverage.info \
          '*/install/include/*' \
          '*/msys64/mingw32/*' \
          '*/msys64/mingw64/*' \
          '*/src/*_unittest.cc' \
          '*/src/googletest.h' \
          '*/src/mock-log.h' \
          '/usr/*' \
          --output-file coverage.info

        readarray -t build_dirs < <(ls -d build*/)

        for file in src/glog/*.h.in; do
          name=$(basename ${file})
          name_we=${name%.h.in}

          for build_dir in ${build_dirs[@]}; do
            sed -i "s|${build_dir%/}/glog/${name_we}.h\$|${file}|g" coverage.info
          done
        done

        lcov --list coverage.info

      - name: Upload Coverage to Coveralls
        uses: coverallsapp/github-action@master
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          path-to-lcov: ./coverage.info

while parsing a block mapping
  in "<file>", line 11, column 5
expected <block end>, but found '-'
  in "<file>", line 40, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
40:5: syntax error: expected <block end>, but found '-' (syntax)

2025-11-05 15:21:01,285 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:21:01,285 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 109
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Coveralls
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 4: workflow_run:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 5: workflows: [Linux]
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 6: types:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 7: - completed
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 10: finish:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 11: defaults:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 12: run:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 13: shell: bash
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 16: steps:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 17: - name: 'Download artifacts'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 18: uses: actions/github-script@v3.1.0
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 19: with:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 20: script: |
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 21: var artifacts = await github.actions.listWorkflowRunArtifacts({
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 22: owner: context.repo.owner,
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 23: repo: context.repo.repo,
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 24: run_id: ${{github.event.workflow_run.id}},
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 25: });
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 26: var matchArtifacts = artifacts.data.artifacts;
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 27: matchArtifacts.forEach(artifact => {
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 28: var download = await github.actions.downloadArtifact({
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 29: owner: context.repo.owner,
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 30: repo: context.repo.repo,
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 31: artifact_id: artifact.id,
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 32: archive_format: 'zip',
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 33: });
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 34: var fs = require('fs');
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 35: fs.writeFileSync('${{github.workspace}}/' + artifact.name + '.zip', Buffer.from(download.data));
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 36: });
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 37: - run: |
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 38: unzip *.zip
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 40: - name: Generate Coverage
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 41: run: |
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 42: lcov --directory . --capture --output-file coverage.info
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 43: lcov --remove coverage.info \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 44: '*/install/include/*' \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 45: '*/msys64/mingw32/*' \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 46: '*/msys64/mingw64/*' \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 47: '*/src/*_unittest.cc' \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 48: '*/src/googletest.h' \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 49: '*/src/mock-log.h' \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 50: '/usr/*' \
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 51: --output-file coverage.info
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 53: readarray -t build_dirs < <(ls -d build*/)
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 55: for file in src/glog/*.h.in; do
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 56: name=$(basename ${file})
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 57: name_we=${name%.h.in}
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 59: for build_dir in ${build_dirs[@]}; do
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 60: sed -i "s|${build_dir%/}/glog/${name_we}.h\$|${file}|g" coverage.info
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 61: done
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 62: done
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 64: lcov --list coverage.info
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 66: - name: Upload Coverage to Coveralls
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 67: uses: coverallsapp/github-action@master
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 68: with:
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 69: github-token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 70: path-to-lcov: ./coverage.info
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 72: while parsing a block mapping
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 73: in "<file>", line 11, column 5
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 74: expected <block end>, but found '-'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 75: in "<file>", line 40, column 5
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 76: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 90: We have found 16 smells
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 15:21:01,286 - utils.process_runner - DEBUG - 라인 91: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 92: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 93: - 12. Avoid workflows without comments
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 94: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 97: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 107: The following styling errors were found:
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 라인 108: 40:5: syntax error: expected <block end>, but found '-' (syntax)
2025-11-05 15:21:01,287 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 40:5: syntax error: expected <block end>, but found '-' (syntax)
2025-11-05 15:21:01,287 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:21:01,287 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:21:01,287 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:21:01,287 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:21:01,287 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:21:01,287 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:21:01,287 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Coveralls

on:
  workflow_run:
    workflows: [Linux]
    types:
      - completed

jobs:
  finish:
    defaults:
      run:
        shell: bash
    runs-on: ubuntu-latest

    steps:
      - name: 'Download artifacts'
        uses: actions/github-script@v3.1.0
        with:
          script: |
            var artifacts = await github.actions.listWorkflowRunArtifacts({
               owner: context...
2025-11-05 15:21:01,287 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:21:01,287 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:21:01,287 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:21:01,288 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:21:21,831 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:21:21,832 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:21:21,832 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:21:21,832 - main - DEBUG - 추출된 YAML:
name: Coveralls

on:
  workflow_run:
    workflows: [Linux]
    types:
      - completed

jobs:
  finish:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Download artifacts
        uses: actions/github-script@v3.1.0
        with:
          script: |
            const { Octokit } = require('@octokit/octokit');
            const octokit = new Octokit({
              auth: context.github.token,
            });

            async function downloadArtifact(artifactId) {
              const response = await octokit.actions.downloadArtifact({
                owner: context.repo.owner,
                repo: context.repo.repo,
                artifact_id: artifactId,
                archive_format: 'zip',
              });
              return response.data;
            }

            const artifactsResponse = await octokit.actions.listWorkflowRunArtifacts({
              owner: context.repo.owner,
              repo: context.repo.repo,
              run_id: github.event.workflow_run.id,
            });

            const matchArtifacts = artifactsResponse.data.artifacts;
            for (const artifact of matchArtifacts) {
              const download = await downloadArtifact(artifact.id);
              const fs = require('fs');
              fs.writeFileSync(`${github.workspace}/${artifact.name}.zip`, Buffer.from(download));
            }

      - name: Unzip artifacts
        run: |
          unzip *.zip

      - name: Generate Coverage
        run: |
          lcov --directory . --capture --output-file coverage.info
          lcov --remove coverage.info \
            '*/install/include/*' \
            '*/msys64/mingw32/*' \
            '*/msys64/mingw64/*' \
            '*/src/*_unittest.cc' \
            '*/src/googletest.h' \
            '*/src/mock-log.h' \
            '/usr/*' \
            --output-file coverage.info

          readarray -t build_dirs < <(ls -d build*)

          for file in src/glog/*.h.in; do
            name=$(basename ${file})
            name_we=${name%.h.in}

            for build_dir in "${build_dirs[@]}"; do
              sed -i "s|${build_dir%/}/glog/${name_we}.h\$|${file}|g" coverage.info
            done
          done

          lcov --list coverage.info

      - name: Upload Coverage to Coveralls
        uses: coverallsapp/github-action@master
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          path-to-lcov: ./coverage.info
2025-11-05 15:21:21,833 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:21:21,833 - main - DEBUG - 검증할 YAML 길이: 2487 문자
2025-11-05 15:21:21,833 - main - DEBUG - YAML 시작 부분: 'name: Coveralls\n\non:\n  workflow_run:\n    workflows: [Linux]\n    types:\n      - completed\n\njobs:\n  fi'
2025-11-05 15:21:21,842 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Coveralls', 'on': {'workflow_run': {'workflows': ['Linux'], 'types': ['completed']}}, 'jobs': {'finish': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Download artifacts', 'uses': 'actions/github-script@v3.1.0', 'with': {'script': "const { Octokit } = require('@octokit/octokit');\nconst octokit = new Octokit({\n  auth: context.github.token,\n});\n\nasync function downloadArtifact(artifactId) {\n  const response = await octokit.actions.downloadArtifact({\n    owner: context.repo.owner,\n    repo: context.repo.repo,\n    artifact_id: artifactId,\n    archive_format: 'zip',\n  });\n  return response.data;\n}\n\nconst artifactsResponse = await octokit.actions.listWorkflowRunArtifacts({\n  owner: context.repo.owner,\n  repo: context.repo.repo,\n  run_id: github.event.workflow_run.id,\n});\n\nconst matchArtifacts = artifactsResponse.data.artifacts;\nfor (const artifact of matchArtifacts) {\n  const download = await downloadArtifact(artifact.id);\n  const fs = require('fs');\n  fs.writeFileSync(`${github.workspace}/${artifact.name}.zip`, Buffer.from(download));\n}\n"}}, {'name': 'Unzip artifacts', 'run': 'unzip *.zip\n'}, {'name': 'Generate Coverage', 'run': 'lcov --directory . --capture --output-file coverage.info\nlcov --remove coverage.info \\\n  \'*/install/include/*\' \\\n  \'*/msys64/mingw32/*\' \\\n  \'*/msys64/mingw64/*\' \\\n  \'*/src/*_unittest.cc\' \\\n  \'*/src/googletest.h\' \\\n  \'*/src/mock-log.h\' \\\n  \'/usr/*\' \\\n  --output-file coverage.info\n\nreadarray -t build_dirs < <(ls -d build*)\n\nfor file in src/glog/*.h.in; do\n  name=$(basename ${file})\n  name_we=${name%.h.in}\n\n  for build_dir in "${build_dirs[@]}"; do\n    sed -i "s|${build_dir%/}/glog/${name_we}.h\\$|${file}|g" coverage.info\n  done\ndone\n\nlcov --list coverage.info\n'}, {'name': 'Upload Coverage to Coveralls', 'uses': 'coverallsapp/github-action@master', 'with': {'github-token': '${{ secrets.GITHUB_TOKEN }}', 'path-to-lcov': './coverage.info'}}]}}}
2025-11-05 15:21:21,842 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_baseline_repaired.yml
2025-11-05 15:21:21,842 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:21:21,842 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_baseline_repaired.yml
2025-11-05 15:21:21,842 - __main__ - INFO - === 파일 85/100 베이스라인 복구 완료 ===
2025-11-05 15:21:21,842 - __main__ - INFO - ✅ 성공 (20.89초): 261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135 -> 261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_baseline_repaired.yml
2025-11-05 15:21:21,843 - __main__ - INFO - [86/100] 처리 중: 6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 15:21:21,843 - __main__ - INFO - 입력 파일 경로: data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 15:21:21,843 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_baseline_repaired.yml
2025-11-05 15:21:21,843 - __main__ - INFO - === 파일 86/100 베이스라인 복구 시작 ===
2025-11-05 15:21:21,843 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:21:21,843 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:21:21,843 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 15:21:21,843 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:21:21,843 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:21:21,843 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 15:21:21,861 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 15:21:21,861 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:21:21,861 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:21:21,861 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:21:21,861 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
We have found 32 smells
	- 3. Use fixed version for runs-on argument (line 64)
	- 3. Use fixed version for runs-on argument (line 40)
	- 3. Use fixed version for runs-on argument (line 19)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 7. Use 'if' for upload-artifact action (line 135)
	- 8. Use commit hash instead of tags for action versions (line 219)
	- 8. Use commit hash instead of tags for action versions (line 134)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 195)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 54)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 140)
	- 10. Avoid jobs without timeouts (line: 183)
	- 10. Avoid jobs without timeouts (line: 209)
	- 10. Avoid jobs without timeouts (line: 59)
	- 10. Avoid jobs without timeouts (line: 15)
	- 10. Avoid jobs without timeouts (line: 83)
	- 10. Avoid jobs without timeouts (line: 35)
	- 10. Avoid jobs without timeouts (line: 105)
	- 13. Use names for run steps (lines 22:22)
	- 13. Use names for run steps (lines -1:22)
	- 13. Use names for run steps (lines -1:23)
	- 13. Use names for run steps (lines -1:220)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 18. Avoid installing packages without version (line -1)
	- 19. Run tests on multiple OS's (job: release-test)
	- 19. Run tests on multiple OS's (job: homebrew-test)
	- 19. Run tests on multiple OS's (job: macapp-test)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
11:5: wrong indentation: expected 6 but found 4 (indentation)
167:64: trailing spaces (trailing-spaces)
226:33: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 39
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 2: We have found 32 smells
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 32 smells
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 64)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 64)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 40)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 40)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 5: - 3. Use fixed version for runs-on argument (line 19)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 19)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 6: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 7: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 8: - 7. Use 'if' for upload-artifact action (line 135)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 135)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 219)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 219)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 134)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 134)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 195)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 195)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 15:21:22,297 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 54)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 54)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 15: - 9. Steps should only perform a single command (line -1)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 140)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 140)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 17: - 10. Avoid jobs without timeouts (line: 183)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 183)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 18: - 10. Avoid jobs without timeouts (line: 209)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 209)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 19: - 10. Avoid jobs without timeouts (line: 59)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 59)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 20: - 10. Avoid jobs without timeouts (line: 15)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 15)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 21: - 10. Avoid jobs without timeouts (line: 83)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 83)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 22: - 10. Avoid jobs without timeouts (line: 35)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 35)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 23: - 10. Avoid jobs without timeouts (line: 105)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 105)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 24: - 13. Use names for run steps (lines 22:22)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 22:22)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 25: - 13. Use names for run steps (lines -1:22)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:22)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 26: - 13. Use names for run steps (lines -1:23)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:23)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 27: - 13. Use names for run steps (lines -1:220)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:220)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 28: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 29: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 30: - 18. Avoid installing packages without version (line -1)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 31: - 19. Run tests on multiple OS's (job: release-test)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: release-test)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 32: - 19. Run tests on multiple OS's (job: homebrew-test)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: homebrew-test)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 33: - 19. Run tests on multiple OS's (job: macapp-test)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: macapp-test)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 34: - 22. Avoid deploying jobs on forks
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 35: The following styling errors were found:
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 36: 11:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 37: 167:64: trailing spaces (trailing-spaces)
2025-11-05 15:21:22,298 - utils.process_runner - DEBUG - 라인 38: 226:33: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 15:21:22,298 - utils.process_runner - INFO - 총 11개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:21:22,298 - utils.process_runner - INFO - Smell detector 실행 완료: 11개 스멜 발견
2025-11-05 15:21:22,298 - main - INFO - Smell detector에서 11개 스멜 발견
2025-11-05 15:21:22,298 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:21:22,298 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:21:22,299 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: test-and-lint
on:
  push:
    branches:
      - unstable
      - main
  tags:
    - v*
  pull_request:
    branches:
    - main
permissions:
  contents: read
jobs:
  gotest:
    # description: "Runs `go test` against 3 operating systems."
    strategy:
      matrix:
        os: [ubuntu, macos, windows]
    runs-on: ${{ matrix.os }}-latest
    steps:
      - uses: actions/checkout@v3
      - uses: a...
2025-11-05 15:21:22,299 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:21:22,299 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:21:22,299 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:21:22,299 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:22:24,704 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:22:24,705 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:22:24,705 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:22:24,706 - main - DEBUG - 추출된 YAML:
name: test-and-lint
on:
  push:
    branches:
      - unstable
      - main
  pull_request:
    branches:
      - main
  tags:
    types: [release]
permissions:
  contents: read
jobs:
  gotest:
    strategy:
      matrix:
        os: [ubuntu, macos, windows]
    runs-on: ${{ matrix.os }}-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          go generate ./...
      - name: go-test
        run: |
          go test ./pkg/...

  golangci-darwin:
    strategy:
      matrix:
        os: [freebsd, darwin]
    runs-on: macos-latest
    env:
      GOOS: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          GOOS=darwin go install github.com/swaggo/swag/cmd/swag@v1.8.7
          GOOS=darwin go install github.com/kevinburke/go-bindata/...@latest
          GOOS=darwin go generate ./...
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v3
        with:
          version: v1.48

  golangci-linux:
    strategy:
      matrix:
        os: [linux, windows]
    runs-on: ubuntu-latest
    env:
      GOOS: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          GOOS=linux go install github.com/swaggo/swag/cmd/swag@v1.8.7
          GOOS=linux go install github.com/kevinburke/go-bindata/...@latest
          GOOS=linux go generate ./...
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v3
        with:
          version: v1.48

  homebrew-test:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          echo $PATH
          ls $(go env GOPATH)/bin
          go generate ./...
      - name: make-install
        run: |
          TMP=$(mktemp -d)
          go install github.com/davidnewhall/md2roff@v0.0.1
          make install VERSION=0.0.1 ITERATION=240 PREFIX=$TMP ETC=$TMP/etc

  macapp-test:
    outputs:
      packages: ${{ steps.release.outputs.packages }}
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: '0'
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          go generate ./...
      - name: make-signdmg
        env:
          APPLE_SIGNING_KEY: ${{ secrets.APPLE_SIGNING_KEY }}
          AC_USERNAME: ${{ secrets.AC_USERNAME }}
          AC_PASSWORD: ${{ secrets.AC_PASSWORD }}
        id: release
        run: |
          brew install mitchellh/gon/gon jq
          make signdmg
          echo "packages=$(ls release/*.dmg | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
      - name: upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: test-macos-release
          path: release

  release-test:
    outputs:
      packages: ${{ steps.release.outputs.packages }}
      allfiles: ${{ steps.release.outputs.allfiles }}
      zips: ${{ steps.release.outputs.zips }}
      version: ${{ steps.release.outputs.version }}
    runs-on: ubuntu-latest
    env:
      GPG_SIGNING_KEY: ${{ secrets.GPG_SIGNING_KEY }}
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: '0'
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          # make release will clean and generate so do not do it here.
      - name: make-release
        id: release
        run: |
          sudo apt install -y rpm fakeroot zip debsigs gnupg jq 
          sudo gem install --no-document fpm
          echo "${GPG_SIGNING_KEY}" | gpg --import -
          go install github.com/akavel/rsrc@latest
          go install github.com/davidnewhall/md2roff@v0.0.1
          make release
          echo "allfiles=$(ls release/* | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
          echo "packages=$(ls release/*.{deb,rpm} | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
          echo "zips=$(ls release/*.{gz,zip} | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
          source settings.sh ; echo "version=${VERSION}-${ITERATION}" >> $GITHUB_OUTPUT
      - name: upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: test-release
          path: release

  deploy-unstable-unstable:
    if: startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'
    strategy:
      matrix:
        files: [test-release, test-macos-release]
    needs:
      - release-test
      - macapp-test
    runs-on: ubuntu-latest
    steps:
      - name: Download release files
        uses: actions/download-artifact@v2
        with:
          name: ${{ matrix.files }}
      - name: Upload files to unstable.notifiarr.app
        run: >-
          for file in *.{zip,dmg,gz}; do
            [ -f "$file" ] || continue;
            echo "Uploading: ${file}";
            curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=@${file}";
            versionfile="${{needs.release-test.outputs.version}};filename=${file}.txt;type=text/plain";
            curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=${versionfile}";
          done

  deploy-packagecloud:
    if: startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'
    needs:
      - release-test
    runs-on: ubuntu-latest
    steps:
      - name: Upload packages to packagecloud
        uses: actions/download-artifact@v2
        with:
          name: test-release
        run: |
          curl -u ${{ secrets.PACKAGECLOUD_TOKEN }} \
            https://packagecloud.io/golift/unstable/packages.json \
            --request POST \
            --header "Content-Type: application/json" \
            --data '{"packages": ["${{ matrix.files }}"]}'
2025-11-05 15:22:24,706 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:22:24,706 - main - DEBUG - 검증할 YAML 길이: 6676 문자
2025-11-05 15:22:24,706 - main - DEBUG - YAML 시작 부분: 'name: test-and-lint\non:\n  push:\n    branches:\n      - unstable\n      - main\n  pull_request:\n    bran'
2025-11-05 15:22:24,725 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'test-and-lint', 'on': {'push': {'branches': ['unstable', 'main']}, 'pull_request': {'branches': ['main']}, 'tags': {'types': ['release']}}, 'permissions': {'contents': 'read'}, 'jobs': {'gotest': {'strategy': {'matrix': {'os': ['ubuntu', 'macos', 'windows']}}, 'runs-on': '${{ matrix.os }}-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'actions/setup-go@v3', 'with': {'go-version': 'stable'}}, {'name': 'go-generate', 'run': 'go install github.com/swaggo/swag/cmd/swag@v1.8.7\ngo install github.com/kevinburke/go-bindata/...@latest\ngo generate ./...\n'}, {'name': 'go-test', 'run': 'go test ./pkg/...\n'}]}, 'golangci-darwin': {'strategy': {'matrix': {'os': ['freebsd', 'darwin']}}, 'runs-on': 'macos-latest', 'env': {'GOOS': '${{ matrix.os }}'}, 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'actions/setup-go@v3', 'with': {'go-version': 'stable'}}, {'name': 'go-generate', 'run': 'GOOS=darwin go install github.com/swaggo/swag/cmd/swag@v1.8.7\nGOOS=darwin go install github.com/kevinburke/go-bindata/...@latest\nGOOS=darwin go generate ./...\n'}, {'name': 'golangci-lint', 'uses': 'golangci/golangci-lint-action@v3', 'with': {'version': 'v1.48'}}]}, 'golangci-linux': {'strategy': {'matrix': {'os': ['linux', 'windows']}}, 'runs-on': 'ubuntu-latest', 'env': {'GOOS': '${{ matrix.os }}'}, 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'actions/setup-go@v3', 'with': {'go-version': 'stable'}}, {'name': 'go-generate', 'run': 'GOOS=linux go install github.com/swaggo/swag/cmd/swag@v1.8.7\nGOOS=linux go install github.com/kevinburke/go-bindata/...@latest\nGOOS=linux go generate ./...\n'}, {'name': 'golangci-lint', 'uses': 'golangci/golangci-lint-action@v3', 'with': {'version': 'v1.48'}}]}, 'homebrew-test': {'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'actions/setup-go@v3', 'with': {'go-version': 'stable'}}, {'name': 'go-generate', 'run': 'go install github.com/swaggo/swag/cmd/swag@v1.8.7\ngo install github.com/kevinburke/go-bindata/...@latest\necho $PATH\nls $(go env GOPATH)/bin\ngo generate ./...\n'}, {'name': 'make-install', 'run': 'TMP=$(mktemp -d)\ngo install github.com/davidnewhall/md2roff@v0.0.1\nmake install VERSION=0.0.1 ITERATION=240 PREFIX=$TMP ETC=$TMP/etc\n'}]}, 'macapp-test': {'outputs': {'packages': '${{ steps.release.outputs.packages }}'}, 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v3', 'with': {'fetch-depth': '0'}}, {'uses': 'actions/setup-go@v3', 'with': {'go-version': 'stable'}}, {'name': 'go-generate', 'run': 'go install github.com/swaggo/swag/cmd/swag@v1.8.7\ngo install github.com/kevinburke/go-bindata/...@latest\ngo generate ./...\n'}, {'name': 'make-signdmg', 'env': {'APPLE_SIGNING_KEY': '${{ secrets.APPLE_SIGNING_KEY }}', 'AC_USERNAME': '${{ secrets.AC_USERNAME }}', 'AC_PASSWORD': '${{ secrets.AC_PASSWORD }}'}, 'id': 'release', 'run': 'brew install mitchellh/gon/gon jq\nmake signdmg\necho "packages=$(ls release/*.dmg | jq -R \'.\' | jq -sc)" >> $GITHUB_OUTPUT\n'}, {'name': 'upload artifacts', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'test-macos-release', 'path': 'release'}}]}, 'release-test': {'outputs': {'packages': '${{ steps.release.outputs.packages }}', 'allfiles': '${{ steps.release.outputs.allfiles }}', 'zips': '${{ steps.release.outputs.zips }}', 'version': '${{ steps.release.outputs.version }}'}, 'runs-on': 'ubuntu-latest', 'env': {'GPG_SIGNING_KEY': '${{ secrets.GPG_SIGNING_KEY }}'}, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'fetch-depth': '0'}}, {'uses': 'actions/setup-go@v3', 'with': {'go-version': 'stable'}}, {'name': 'go-generate', 'run': 'go install github.com/swaggo/swag/cmd/swag@v1.8.7\ngo install github.com/kevinburke/go-bindata/...@latest\n# make release will clean and generate so do not do it here.\n'}, {'name': 'make-release', 'id': 'release', 'run': 'sudo apt install -y rpm fakeroot zip debsigs gnupg jq \nsudo gem install --no-document fpm\necho "${GPG_SIGNING_KEY}" | gpg --import -\ngo install github.com/akavel/rsrc@latest\ngo install github.com/davidnewhall/md2roff@v0.0.1\nmake release\necho "allfiles=$(ls release/* | jq -R \'.\' | jq -sc)" >> $GITHUB_OUTPUT\necho "packages=$(ls release/*.{deb,rpm} | jq -R \'.\' | jq -sc)" >> $GITHUB_OUTPUT\necho "zips=$(ls release/*.{gz,zip} | jq -R \'.\' | jq -sc)" >> $GITHUB_OUTPUT\nsource settings.sh ; echo "version=${VERSION}-${ITERATION}" >> $GITHUB_OUTPUT\n'}, {'name': 'upload artifacts', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'test-release', 'path': 'release'}}]}, 'deploy-unstable-unstable': {'if': "startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'", 'strategy': {'matrix': {'files': ['test-release', 'test-macos-release']}}, 'needs': ['release-test', 'macapp-test'], 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Download release files', 'uses': 'actions/download-artifact@v2', 'with': {'name': '${{ matrix.files }}'}}, {'name': 'Upload files to unstable.notifiarr.app', 'run': 'for file in *.{zip,dmg,gz}; do\n  [ -f "$file" ] || continue;\n  echo "Uploading: ${file}";\n  curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=@${file}";\n  versionfile="${{needs.release-test.outputs.version}};filename=${file}.txt;type=text/plain";\n  curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=${versionfile}";\ndone'}]}, 'deploy-packagecloud': {'if': "startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'", 'needs': ['release-test'], 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Upload packages to packagecloud', 'uses': 'actions/download-artifact@v2', 'with': {'name': 'test-release'}, 'run': 'curl -u ${{ secrets.PACKAGECLOUD_TOKEN }} \\\n  https://packagecloud.io/golift/unstable/packages.json \\\n  --request POST \\\n  --header "Content-Type: application/json" \\\n  --data \'{"packages": ["${{ matrix.files }}"]}\''}]}}}
2025-11-05 15:22:24,726 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_baseline_repaired.yml
2025-11-05 15:22:24,726 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:22:24,726 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_baseline_repaired.yml
2025-11-05 15:22:24,726 - __main__ - INFO - === 파일 86/100 베이스라인 복구 완료 ===
2025-11-05 15:22:24,726 - __main__ - INFO - ✅ 성공 (62.88초): 6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba -> 6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_baseline_repaired.yml
2025-11-05 15:22:24,726 - __main__ - INFO - [87/100] 처리 중: b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 15:22:24,726 - __main__ - INFO - 입력 파일 경로: data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 15:22:24,726 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_baseline_repaired.yml
2025-11-05 15:22:24,726 - __main__ - INFO - === 파일 87/100 베이스라인 복구 시작 ===
2025-11-05 15:22:24,726 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:22:24,726 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:22:24,727 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 15:22:24,727 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:22:24,727 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:22:24,727 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 15:22:24,733 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:22:24,733 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:22:24,733 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:22:24,733 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:22:24,733 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.29초)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
We have found 9 smells
	- 2. Prevent running issue/PR actions on forks line 17:17
	- 3. Use fixed version for runs-on argument (line 11)
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 10. Avoid jobs without timeouts (line: 11)
	- 13. Use names for run steps (lines 17:17)
	- 13. Use names for run steps (lines -1:14)
	- 14. Avoid incorrectly formatted workflows
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
5:17: trailing spaces (trailing-spaces)
7:1: trailing spaces (trailing-spaces)
8:24: trailing spaces (trailing-spaces)
9:21: trailing spaces (trailing-spaces)
16:10: wrong indentation: expected 10 but found 9 (indentation)

2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 18
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 2: We have found 9 smells
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 9 smells
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line 17:17
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line 17:17
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 7: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 8: - 13. Use names for run steps (lines 17:17)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 17:17)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 9: - 13. Use names for run steps (lines -1:14)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:14)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 10: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 11: - 22. Avoid deploying jobs on forks
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 12: The following styling errors were found:
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 13: 5:17: trailing spaces (trailing-spaces)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 14: 7:1: trailing spaces (trailing-spaces)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 15: 8:24: trailing spaces (trailing-spaces)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 16: 9:21: trailing spaces (trailing-spaces)
2025-11-05 15:22:25,024 - utils.process_runner - DEBUG - 라인 17: 16:10: wrong indentation: expected 10 but found 9 (indentation)
2025-11-05 15:22:25,024 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:22:25,024 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 15:22:25,024 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 15:22:25,024 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:22:25,024 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:22:25,024 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# To get a Slack Webhook URL, follow instruction here: https://api.slack.com/messaging/webhooks

name: "Notification regarding New Pull Request via Slack"
on:
  issue_comment: 
    - created
  
#  pull_request_target: 
#    types: [opened] 
jobs:
  notifyViaSlack:
    runs-on: ubuntu-latest
    steps:
      - uses: denolib/setup-deno@v2
        with:
         deno-version: v1.x
      - run: deno run --al...
2025-11-05 15:22:25,025 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:22:25,025 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:22:25,025 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:22:25,025 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:22:33,876 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1570
2025-11-05 15:22:33,876 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:22:33,876 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:22:33,876 - main - DEBUG - 추출된 YAML:
name: "Notification regarding New Pull Request via Slack"
on:
  pull_request_target:
    types: [opened]
jobs:
  notifyViaSlack:
    runs-on: ubuntu-latest
    timeout-minutes: 10 # Add a timeout to avoid jobs without timeouts
    steps:
      - uses: denolib/setup-deno@v2
        with:
          deno-version: v1.x
      - run: |
          deno run --allow-net https://deno.land/x/cicd/notify-via-slack.ts \
            ${{ secrets.SLACK_WEBHOOK_URL }} \
            ${{ github.repository }} \
            "Pull Request Created - ${github.event.pull_request.html_url}"
2025-11-05 15:22:33,876 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:22:33,877 - main - DEBUG - 검증할 YAML 길이: 570 문자
2025-11-05 15:22:33,877 - main - DEBUG - YAML 시작 부분: 'name: "Notification regarding New Pull Request via Slack"\non:\n  pull_request_target:\n    types: [ope'
2025-11-05 15:22:33,880 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Notification regarding New Pull Request via Slack', 'on': {'pull_request_target': {'types': ['opened']}}, 'jobs': {'notifyViaSlack': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'uses': 'denolib/setup-deno@v2', 'with': {'deno-version': 'v1.x'}}, {'run': 'deno run --allow-net https://deno.land/x/cicd/notify-via-slack.ts \\\n  ${{ secrets.SLACK_WEBHOOK_URL }} \\\n  ${{ github.repository }} \\\n  "Pull Request Created - ${github.event.pull_request.html_url}"'}]}}}
2025-11-05 15:22:33,882 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_baseline_repaired.yml
2025-11-05 15:22:33,882 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:22:33,882 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_baseline_repaired.yml
2025-11-05 15:22:33,882 - __main__ - INFO - === 파일 87/100 베이스라인 복구 완료 ===
2025-11-05 15:22:33,882 - __main__ - INFO - ✅ 성공 (9.16초): b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e -> b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_baseline_repaired.yml
2025-11-05 15:22:33,882 - __main__ - INFO - [88/100] 처리 중: 978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 15:22:33,882 - __main__ - INFO - 입력 파일 경로: data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 15:22:33,882 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_baseline_repaired.yml
2025-11-05 15:22:33,882 - __main__ - INFO - === 파일 88/100 베이스라인 복구 시작 ===
2025-11-05 15:22:33,883 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:22:33,883 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:22:33,883 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 15:22:33,883 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:22:33,883 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:22:33,884 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 15:22:33,891 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:22:33,891 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:22:33,891 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:22:33,891 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:22:33,891 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: BibLaTeX CI

env:
  TLURL: http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
  BIBERURL: https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/Linux/biber-linux_x86_64.tar.gz
  
# Controls when the action will run. 
on:
#  schedule:
#   - cron: "0 2 * * *"

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
       - name: Set ENV
         run: |
           echo "TEXDIR=$RUNNER_WORKSPACE/texlive/2020" >> $GITHUB_ENV
           echo "TEXMFLOCAL=$RUNNER_WORKSPACE/texlive/texmf-local" >> $GITHUB_ENV
           echo "TEXMFSYSVAR=$RUNNER_WORKSPACE/texlive/2020/texmf-var" >> $GITHUB_ENV
           echo "TEXMFSYSCONFIG=$RUNNER_WORKSPACE/texlive/2020/texmf-config" >> $GITHUB_ENV                                            

       - name: Create TL install Profile
         run: |
           echo "selected_scheme scheme-medium
             TEXDIR $RUNNER_WORKSPACE/texlive/2020
             TEXMFLOCAL $RUNNER_WORKSPACE/texlive/texmf-local
             TEXMFSYSCONFIG $RUNNER_WORKSPACE/texlive/2020/texmf-config
             TEXMFSYSVAR $RUNNER_WORKSPACE/texlive/2020/texmf-var" > $RUNNER_WORKSPACE/tl.profile
    
       - name: Install TeXLive
         run: |
           echo Downloading and compiling in [$PWD] from [$TLURL]

           mkdir tl
           wget -nc $TLURL
           tar -xf $(basename $TLURL) --strip-components=1 --directory=tl

           pushd tl
           perl install-tl -profile $RUNNER_WORKSPACE/tl.profile
           popd

       - name: Set ENV
         run: |
           echo "$RUNNER_WORKSPACE/biblatex/biber" >> $GITHUB_PATH
           echo "$RUNNER_WORKSPACE/texlive/2020/bin/x86_64-linux" >> $GITHUB_PATH

       - name: Update TeXLive packages
         run: |
           tlmgr update --self --all

       - name: Get DEV biber
         run: |
           mkdir biber
           pushd biber
           wget -nc $BIBERURL
           tar -xf $(basename $BIBERURL)
           popd
           biber -v

      - name: Checkout
        uses: actions/checkout@v2

       - name: Install biblatex
         run: |
           obuild/build.sh install 1 $RUNNER_WORKSPACE/texlive/texmf-local
           kpsewhich biblatex.sty

while parsing a block mapping
  in "<file>", line 17, column 5
expected <block end>, but found '<block sequence start>'
  in "<file>", line 64, column 7
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 16)
	- 8. Use commit hash instead of tags for action versions (line 64)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
6:1: trailing spaces (trailing-spaces)
7:37: trailing spaces (trailing-spaces)
9:1: comment not indented like content (comments-indentation)
19:8: wrong indentation: expected 6 but found 7 (indentation)
24:92: trailing spaces (trailing-spaces)
33:1: trailing spaces (trailing-spaces)
64:7: syntax error: expected <block end>, but found '<block sequence start>' (syntax)
67:8: wrong indentation: expected 8 but found 7 (indentation)

2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 115
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: BibLaTeX CI
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 3: env:
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 4: TLURL: http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 5: BIBERURL: https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/Linux/biber-linux_x86_64.tar.gz
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 7: # Controls when the action will run.
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 8: on:
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 9: #  schedule:
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 10: #   - cron: "0 2 * * *"
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 12: # Allows you to run this workflow manually from the Actions tab
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 13: workflow_dispatch:
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 16: test:
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 18: steps:
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 19: - name: Set ENV
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 20: run: |
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 21: echo "TEXDIR=$RUNNER_WORKSPACE/texlive/2020" >> $GITHUB_ENV
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 22: echo "TEXMFLOCAL=$RUNNER_WORKSPACE/texlive/texmf-local" >> $GITHUB_ENV
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 23: echo "TEXMFSYSVAR=$RUNNER_WORKSPACE/texlive/2020/texmf-var" >> $GITHUB_ENV
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 24: echo "TEXMFSYSCONFIG=$RUNNER_WORKSPACE/texlive/2020/texmf-config" >> $GITHUB_ENV
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 26: - name: Create TL install Profile
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 27: run: |
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 28: echo "selected_scheme scheme-medium
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 29: TEXDIR $RUNNER_WORKSPACE/texlive/2020
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 30: TEXMFLOCAL $RUNNER_WORKSPACE/texlive/texmf-local
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 31: TEXMFSYSCONFIG $RUNNER_WORKSPACE/texlive/2020/texmf-config
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 32: TEXMFSYSVAR $RUNNER_WORKSPACE/texlive/2020/texmf-var" > $RUNNER_WORKSPACE/tl.profile
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 34: - name: Install TeXLive
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 35: run: |
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 36: echo Downloading and compiling in [$PWD] from [$TLURL]
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 38: mkdir tl
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 39: wget -nc $TLURL
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 40: tar -xf $(basename $TLURL) --strip-components=1 --directory=tl
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 42: pushd tl
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 43: perl install-tl -profile $RUNNER_WORKSPACE/tl.profile
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 44: popd
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 46: - name: Set ENV
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 47: run: |
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 48: echo "$RUNNER_WORKSPACE/biblatex/biber" >> $GITHUB_PATH
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 49: echo "$RUNNER_WORKSPACE/texlive/2020/bin/x86_64-linux" >> $GITHUB_PATH
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 51: - name: Update TeXLive packages
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 52: run: |
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 53: tlmgr update --self --all
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 55: - name: Get DEV biber
2025-11-05 15:22:34,168 - utils.process_runner - DEBUG - 라인 56: run: |
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 57: mkdir biber
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 58: pushd biber
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 59: wget -nc $BIBERURL
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 60: tar -xf $(basename $BIBERURL)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 61: popd
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 62: biber -v
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 64: - name: Checkout
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 65: uses: actions/checkout@v2
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 67: - name: Install biblatex
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 68: run: |
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 69: obuild/build.sh install 1 $RUNNER_WORKSPACE/texlive/texmf-local
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 70: kpsewhich biblatex.sty
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 72: while parsing a block mapping
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 73: in "<file>", line 17, column 5
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 74: expected <block end>, but found '<block sequence start>'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 75: in "<file>", line 64, column 7
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 76: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 90: We have found 15 smells
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 91: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 92: - 8. Use commit hash instead of tags for action versions (line 64)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 64)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 93: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 97: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 106: The following styling errors were found:
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 107: 6:1: trailing spaces (trailing-spaces)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 108: 7:37: trailing spaces (trailing-spaces)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 109: 9:1: comment not indented like content (comments-indentation)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 110: 19:8: wrong indentation: expected 6 but found 7 (indentation)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 111: 24:92: trailing spaces (trailing-spaces)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 112: 33:1: trailing spaces (trailing-spaces)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 113: 64:7: syntax error: expected <block end>, but found '<block sequence start>' (syntax)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 64:7: syntax error: expected <block end>, but found '<block sequence start>' (syntax)
2025-11-05 15:22:34,169 - utils.process_runner - DEBUG - 라인 114: 67:8: wrong indentation: expected 8 but found 7 (indentation)
2025-11-05 15:22:34,169 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:22:34,169 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:22:34,169 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:22:34,169 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:22:34,169 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:22:34,170 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:22:34,170 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: BibLaTeX CI

env:
  TLURL: http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
  BIBERURL: https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/Linux/biber-linux_x86_64.tar.gz
  
# Controls when the action will run. 
on:
#  schedule:
#   - cron: "0 2 * * *"

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jo...
2025-11-05 15:22:34,170 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:22:34,170 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:22:34,170 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:22:34,170 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:22:56,244 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:22:56,244 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:22:56,245 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:22:56,245 - main - DEBUG - 추출된 YAML:
name: BibLaTeX CI

env:
  TLURL: http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
  BIBERURL: https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/Linux/biber-linux_x86_64.tar.gz

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Set ENV
        run: |
          echo "TEXDIR=$RUNNER_WORKSPACE/texlive/2020" >> $GITHUB_ENV
          echo "TEXMFLOCAL=$RUNNER_WORKSPACE/texlive/texmf-local" >> $GITHUB_ENV
          echo "TEXMFSYSVAR=$RUNNER_WORKSPACE/texlive/2020/texmf-var" >> $GITHUB_ENV
          echo "TEXMFSYSCONFIG=$RUNNER_WORKSPACE/texlive/2020/texmf-config" >> $GITHUB_ENV

      - name: Create TL install Profile
        run: |
          echo "selected_scheme scheme-medium
            TEXDIR $RUNNER_WORKSPACE/texlive/2020
            TEXMFLOCAL $RUNNER_WORKSPACE/texlive/texmf-local
            TEXMFSYSCONFIG $RUNNER_WORKSPACE/texlive/2020/texmf-config
            TEXMFSYSVAR $RUNNER_WORKSPACE/texlive/2020/texmf-var" > $RUNNER_WORKSPACE/tl.profile

      - name: Install TeXLive
        run: |
          echo Downloading and compiling in [$PWD] from [$TLURL]
          mkdir tl
          wget -nc $TLURL
          tar -xf $(basename $TLURL) --strip-components=1 --directory=tl
          pushd tl
          perl install-tl -profile $RUNNER_WORKSPACE/tl.profile
          popd

      - name: Set PATH
        run: |
          echo "$RUNNER_WORKSPACE/biblatex/biber" >> $GITHUB_PATH
          echo "$RUNNER_WORKSPACE/texlive/2020/bin/x86_64-linux" >> $GITHUB_PATH

      - name: Update TeXLive packages
        run: |
          tlmgr update --self --all

      - name: Get DEV biber
        run: |
          mkdir biber
          pushd biber
          wget -nc $BIBERURL
          tar -xf $(basename $BIBERURL)
          popd
          biber -v

      - name: Install biblatex
        run: |
          obuild/build.sh install 1 $RUNNER_WORKSPACE/texlive/texmf-local
          kpsewhich biblatex.sty
2025-11-05 15:22:56,245 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:22:56,245 - main - DEBUG - 검증할 YAML 길이: 2063 문자
2025-11-05 15:22:56,245 - main - DEBUG - YAML 시작 부분: 'name: BibLaTeX CI\n\nenv:\n  TLURL: http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz\n'
2025-11-05 15:22:56,253 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'BibLaTeX CI', 'env': {'TLURL': 'http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz', 'BIBERURL': 'https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/Linux/biber-linux_x86_64.tar.gz'}, 'on': {'workflow_dispatch': None}, 'jobs': {'test': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v2'}, {'name': 'Set ENV', 'run': 'echo "TEXDIR=$RUNNER_WORKSPACE/texlive/2020" >> $GITHUB_ENV\necho "TEXMFLOCAL=$RUNNER_WORKSPACE/texlive/texmf-local" >> $GITHUB_ENV\necho "TEXMFSYSVAR=$RUNNER_WORKSPACE/texlive/2020/texmf-var" >> $GITHUB_ENV\necho "TEXMFSYSCONFIG=$RUNNER_WORKSPACE/texlive/2020/texmf-config" >> $GITHUB_ENV\n'}, {'name': 'Create TL install Profile', 'run': 'echo "selected_scheme scheme-medium\n  TEXDIR $RUNNER_WORKSPACE/texlive/2020\n  TEXMFLOCAL $RUNNER_WORKSPACE/texlive/texmf-local\n  TEXMFSYSCONFIG $RUNNER_WORKSPACE/texlive/2020/texmf-config\n  TEXMFSYSVAR $RUNNER_WORKSPACE/texlive/2020/texmf-var" > $RUNNER_WORKSPACE/tl.profile\n'}, {'name': 'Install TeXLive', 'run': 'echo Downloading and compiling in [$PWD] from [$TLURL]\nmkdir tl\nwget -nc $TLURL\ntar -xf $(basename $TLURL) --strip-components=1 --directory=tl\npushd tl\nperl install-tl -profile $RUNNER_WORKSPACE/tl.profile\npopd\n'}, {'name': 'Set PATH', 'run': 'echo "$RUNNER_WORKSPACE/biblatex/biber" >> $GITHUB_PATH\necho "$RUNNER_WORKSPACE/texlive/2020/bin/x86_64-linux" >> $GITHUB_PATH\n'}, {'name': 'Update TeXLive packages', 'run': 'tlmgr update --self --all\n'}, {'name': 'Get DEV biber', 'run': 'mkdir biber\npushd biber\nwget -nc $BIBERURL\ntar -xf $(basename $BIBERURL)\npopd\nbiber -v\n'}, {'name': 'Install biblatex', 'run': 'obuild/build.sh install 1 $RUNNER_WORKSPACE/texlive/texmf-local\nkpsewhich biblatex.sty'}]}}}
2025-11-05 15:22:56,253 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_baseline_repaired.yml
2025-11-05 15:22:56,253 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:22:56,253 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_baseline_repaired.yml
2025-11-05 15:22:56,254 - __main__ - INFO - === 파일 88/100 베이스라인 복구 완료 ===
2025-11-05 15:22:56,254 - __main__ - INFO - ✅ 성공 (22.37초): 978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a -> 978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_baseline_repaired.yml
2025-11-05 15:22:56,254 - __main__ - INFO - [89/100] 처리 중: ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:22:56,254 - __main__ - INFO - 입력 파일 경로: data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:22:56,254 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_baseline_repaired.yml
2025-11-05 15:22:56,254 - __main__ - INFO - === 파일 89/100 베이스라인 복구 시작 ===
2025-11-05 15:22:56,254 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:22:56,254 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:22:56,255 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:22:56,255 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:22:56,255 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:22:56,255 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:22:56,262 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:22:56,262 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:22:56,262 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:22:56,262 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:22:56,262 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:22:56,561 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.30초)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 13 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 9)
	- 6. Define permissions for workflows with external actions (job at line: 8)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 10. Avoid jobs without timeouts (line: 8)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines 13:13)
	- 13. Use names for run steps (lines -1:-1)
	- 14. Avoid incorrectly formatted workflows
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 19. Run tests on multiple OS's (job: build)
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
5:3: wrong indentation: expected 4 but found 2 (indentation)
13:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 20
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 3: We have found 13 smells
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 4: - 1. Avoid executing scheduled workflows on forks
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 5: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 8)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 8)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 8)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 8)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 9: - 12. Avoid workflows without comments
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines 13:13)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 13:13)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:-1)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:-1)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 12: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 13: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 14: - 19. Run tests on multiple OS's (job: build)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 16: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 17: The following styling errors were found:
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 18: 5:3: wrong indentation: expected 4 but found 2 (indentation)
2025-11-05 15:22:56,562 - utils.process_runner - DEBUG - 라인 19: 13:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:22:56,562 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:22:56,562 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 15:22:56,562 - main - INFO - Smell detector에서 2개 스멜 발견
2025-11-05 15:22:56,562 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:22:56,562 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:22:56,562 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: crates-index

on:
  schedule:
  - cron: "0 */12 * * *"

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - run: |
        git fetch --no-tags --prune --depth=1 origin +refs/heads/*:refs/remotes/origin/*
    - name: Download crates.io dumped database
    - run: |
        wget -v https://static.crates.io/db-dump.tar.gz -O /data/db-dump.tar.gz
    - name: Delo...
2025-11-05 15:22:56,562 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:22:56,562 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:22:56,563 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:22:56,563 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:23:10,943 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:23:10,943 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:23:10,944 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:23:10,944 - main - DEBUG - 추출된 YAML:
name: crates-index

on:
  schedule:
    - cron: "0 */12 * * *"
    # Avoid executing scheduled workflows on forks (issue 1)
    branches:
      only: main

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Fetch latest code
      run: |
        git fetch --no-tags --prune --depth=1 origin +refs/heads/*:refs/remotes/origin/*
    - name: Download crates.io dumped database
      run: |
        wget -v https://static.crates.io/db-dump.tar.gz -O /data/db-dump.tar.gz
    - name: Deploy crates index
      uses: appleboy/ssh-action@v0.3.1
      with:
        host: ${{ secrets.CRATES_INDEX_HOST }}
        username: ${{ secrets.CRATES_INDEX_USERNAME }}
        key: ${{ secrets.CRATES_INDEX_KEY }}
        script: |
          tar -xvf /data/db-dump.tar.gz -C /data/
          ./scripts/deploy-crates-index.sh
    - name: Clean up
      run: rm /data/db-dump.tar.gz

    timeout-minutes: 10
2025-11-05 15:23:10,944 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:23:10,944 - main - DEBUG - 검증할 YAML 길이: 936 문자
2025-11-05 15:23:10,944 - main - DEBUG - YAML 시작 부분: 'name: crates-index\n\non:\n  schedule:\n    - cron: "0 */12 * * *"\n    # Avoid executing scheduled workf'
2025-11-05 15:23:10,945 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block collection
  in "<unicode string>", line 5, column 5:
        - cron: "0 */12 * * *"
        ^
expected <block end>, but found '?'
  in "<unicode string>", line 7, column 5:
        branches:
        ^
2025-11-05 15:23:10,945 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 15:23:10,945 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 15:23:10,946 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_baseline_repaired.yml
2025-11-05 15:23:10,946 - __main__ - INFO - === 파일 89/100 베이스라인 복구 완료 ===
2025-11-05 15:23:10,946 - __main__ - ERROR - ❌ 실패 (14.69초): ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 15:23:10,946 - __main__ - INFO - [90/100] 처리 중: 2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 15:23:10,946 - __main__ - INFO - 입력 파일 경로: data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 15:23:10,946 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_baseline_repaired.yml
2025-11-05 15:23:10,946 - __main__ - INFO - === 파일 90/100 베이스라인 복구 시작 ===
2025-11-05 15:23:10,946 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:23:10,946 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:23:10,947 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 15:23:10,947 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:23:10,947 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:23:10,947 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 15:23:10,955 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:23:10,955 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:23:10,955 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:23:10,955 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:23:10,955 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.31초)
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
YAML parsing error in external_actions_must_have_permissions_workflow: 'uses'
YAML parsing error in pull_based_actions_on_fork: 'uses'
YAML parsing error in use_name_for_step: 'uses'
YAML parsing error in use_name_for_step: 'uses'
YAML parsing error in upload_artifact_must_have_if: 'uses'
YAML parsing error in multi_line_steps: 'uses'
YAML parsing error in run_multiple_versions: 'uses'
YAML parsing error in installing_packages_without_version: 'uses'
YAML parsing error in use_cache_from_setup: 'uses'
We have found 30 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 3. Use fixed version for runs-on argument (line 47)
	- 4. Stop running workflows when there is a newer commit in branch
	- 8. Use commit hash instead of tags for action versions (line 81)
	- 8. Use commit hash instead of tags for action versions (line 97)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 8. Use commit hash instead of tags for action versions (line 134)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 40)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 51)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 130)
	- 8. Use commit hash instead of tags for action versions (line 113)
	- 10. Avoid jobs without timeouts (line: 47)
	- 10. Avoid jobs without timeouts (line: 122)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 47)
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: windows-build)
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
155:1: too many blank lines (1 > 0) (empty-lines)

2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 44
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in external_actions_must_have_permissions_workflow: 'uses'
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'uses'
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in pull_based_actions_on_fork: 'uses'
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'uses'
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 라인 4: YAML parsing error in use_name_for_step: 'uses'
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'uses'
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 라인 5: YAML parsing error in use_name_for_step: 'uses'
2025-11-05 15:23:11,267 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 6: YAML parsing error in upload_artifact_must_have_if: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in multi_line_steps: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in run_multiple_versions: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in installing_packages_without_version: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 10: YAML parsing error in use_cache_from_setup: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'uses'
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 11: We have found 30 smells
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 30 smells
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 12: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 13: - 3. Use fixed version for runs-on argument (line 47)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 47)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 14: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 15: - 8. Use commit hash instead of tags for action versions (line 81)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 81)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 16: - 8. Use commit hash instead of tags for action versions (line 97)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 97)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 17: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 18: - 8. Use commit hash instead of tags for action versions (line 134)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 134)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 19: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 20: - 8. Use commit hash instead of tags for action versions (line 40)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 40)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 21: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 22: - 8. Use commit hash instead of tags for action versions (line 51)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 51)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 23: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 24: - 8. Use commit hash instead of tags for action versions (line 130)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 130)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 25: - 8. Use commit hash instead of tags for action versions (line 113)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 113)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 26: - 10. Avoid jobs without timeouts (line: 47)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 47)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 27: - 10. Avoid jobs without timeouts (line: 122)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 122)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 28: - 12. Avoid workflows without comments
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 29: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 30: - 15. Use permissions whenever using Github Token (job at line 47)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 47)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 31: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 32: - 19. Run tests on multiple OS's (job: windows-build)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: windows-build)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 33: - 22. Avoid deploying jobs on forks
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 34: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 35: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 36: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 37: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 38: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 39: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 40: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 41: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 42: The following styling errors were found:
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:23:11,268 - utils.process_runner - DEBUG - 라인 43: 155:1: too many blank lines (1 > 0) (empty-lines)
2025-11-05 15:23:11,268 - utils.process_runner - INFO - 총 5개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:23:11,268 - utils.process_runner - INFO - Smell detector 실행 완료: 5개 스멜 발견
2025-11-05 15:23:11,268 - main - INFO - Smell detector에서 5개 스멜 발견
2025-11-05 15:23:11,268 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:23:11,268 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:23:11,268 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Release

on:
  push:
    tags:
      - "v*"

jobs:
  windows-build:
    runs-on: windows-latest
    staeps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Install Go
        uses: actions/setup-go@v2
        with:
          go-version: '1.20'
      - name: Install pnpm
        uses: pnpm/action-setup@v2
        with:
          version: ...
2025-11-05 15:23:11,268 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:23:11,269 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:23:11,269 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:23:11,269 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:23:52,505 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:23:52,505 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:23:52,505 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:23:52,506 - main - DEBUG - 추출된 YAML:
name: Release

on:
  push:
    tags:
      - "v*"

jobs:
  windows-build:
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Install Go
        uses: actions/setup-go@v2
        with:
          go-version: '1.20'
      - name: Install pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8.6.2
      - name: Set sha
        id: sha
        run: echo "sha=$(git rev-parse --short HEAD)" >> $GITHUB_OUTPUT
      - name: Set tag
        id: tag
        run: echo "tag=$(git describe --tags `git rev-list --tags --max-count=1`)" >> $GITHUB_OUTPUT
      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2

      - name: Build UI
        run: make build-ui

      - name: Build app
        run: |
          go build -o /builds/inngest-windows-amd64 -ldflags="-s -w -X github.com/inngest/inngest/pkg/inngest/version.Version=${{ steps.tag.outputs.tag }} -X github.com/inngest/inngest/pkg/inngest/version.Hash=${{ steps.sha.outputs.sha }}" ./cmd/main.go
      - name: 'Upload Artifact'
        uses: actions/upload-artifact@v3
        with:
          name: windows-amd64
          path: ./build/inngest-windows-amd64
          retention-days: 1

  goreleaser:
    runs-on: ubuntu-latest
    needs: [windows-build]
    steps:
      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKER_USER }}
          password: ${{ secrets.DOCKER_TOKEN }}
          registry-url: https://index.docker.io/v1/
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Install Go
        uses: actions/setup-go@v2
        with:
          go-version: '1.20'
      - name: Install pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8.6.2
      - name: Set sha
        id: sha
        run: echo "sha=$(git rev-parse --short HEAD)" >> $GITHUB_OUTPUT
      - name: Set tag
        id: tag
        run: echo "tag=$(git describe --tags `git rev-list --tags --max-count=1`)" >> $GITHUB_OUTPUT
      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2

      - name: Build UI
        run: make build-ui

      - name: Build
        uses: crazy-max/ghaction-xgo@v2
        with:
          xgo_version: latest
          go_version: "1.20"
          dest: build
          prefix: inngest
          pkg: cmd
          targets: linux/arm64,linux/amd64,darwin/arm64,darwin/amd64
          v: false
          x: false
          race: false
          ldflags: -s -w -X github.com/inngest/inngest/pkg/inngest/version.Version=${{ steps.tag.outputs.tag }} -X github.com/inngest/inngest/pkg/inngest/version.Hash=${{ steps.sha.outputs.sha }}
          buildmode: default
          trimpath: true

      - name: 'Download windows artifacts'
        uses: actions/download-artifact@v3
        with:
          name: windows-amd64
          path: ./build/

      - name: 'Upload Artifact'
        uses: actions/upload-artifact@v3
        with:
          name: binaries
          path: ./build/*
          retention-days: 1

      - name: Clean UI
        run: git checkout -- .

      - name: Run GoReleaser
        uses: goreleaser/goreleaser-action@v2
        with:
          distribution: goreleaser-pro
          version: latest
          args: release --rm-dist --debug
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          GORELEASER_KEY: ${{ secrets.GORELEASER_KEY }}

  npm:
    runs-on: ubuntu-latest
    needs: [goreleaser]
    defaults:
      run:
        shell: bash
        working-directory: npm
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Set up Node/npm
        uses: actions/setup-node@v3
        with:
          node-version: 16
      - name: Install npm dependencies
        run: npm ci
      - name: Build
        run: npm run build
      - name: Release to npm
        run: |
          npm config set git-tag-version false
          npm version ${{ github.ref_name }}

          prerelease=$(echo ${{ github.ref_name }} | awk -F '-' '{print $2}' | awk -F '.' '{print $1}')
          if [ -z "$prerelease" ]; then
            npm publish --access public
          else
            npm publish --tag $prerelease --access public
          fi
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
2025-11-05 15:23:52,506 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:23:52,506 - main - DEBUG - 검증할 YAML 길이: 4506 문자
2025-11-05 15:23:52,506 - main - DEBUG - YAML 시작 부분: 'name: Release\n\non:\n  push:\n    tags:\n      - "v*"\n\njobs:\n  windows-build:\n    runs-on: windows-lates'
2025-11-05 15:23:52,524 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Release', 'on': {'push': {'tags': ['v*']}}, 'jobs': {'windows-build': {'runs-on': 'windows-latest', 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Install Go', 'uses': 'actions/setup-go@v2', 'with': {'go-version': '1.20'}}, {'name': 'Install pnpm', 'uses': 'pnpm/action-setup@v2', 'with': {'version': '8.6.2'}}, {'name': 'Set sha', 'id': 'sha', 'run': 'echo "sha=$(git rev-parse --short HEAD)" >> $GITHUB_OUTPUT'}, {'name': 'Set tag', 'id': 'tag', 'run': 'echo "tag=$(git describe --tags `git rev-list --tags --max-count=1`)" >> $GITHUB_OUTPUT'}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2'}, {'name': 'Build UI', 'run': 'make build-ui'}, {'name': 'Build app', 'run': 'go build -o /builds/inngest-windows-amd64 -ldflags="-s -w -X github.com/inngest/inngest/pkg/inngest/version.Version=${{ steps.tag.outputs.tag }} -X github.com/inngest/inngest/pkg/inngest/version.Hash=${{ steps.sha.outputs.sha }}" ./cmd/main.go\n'}, {'name': 'Upload Artifact', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'windows-amd64', 'path': './build/inngest-windows-amd64', 'retention-days': 1}}]}, 'goreleaser': {'runs-on': 'ubuntu-latest', 'needs': ['windows-build'], 'steps': [{'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKER_USER }}', 'password': '${{ secrets.DOCKER_TOKEN }}', 'registry-url': 'https://index.docker.io/v1/'}}, {'name': 'Checkout', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Install Go', 'uses': 'actions/setup-go@v2', 'with': {'go-version': '1.20'}}, {'name': 'Install pnpm', 'uses': 'pnpm/action-setup@v2', 'with': {'version': '8.6.2'}}, {'name': 'Set sha', 'id': 'sha', 'run': 'echo "sha=$(git rev-parse --short HEAD)" >> $GITHUB_OUTPUT'}, {'name': 'Set tag', 'id': 'tag', 'run': 'echo "tag=$(git describe --tags `git rev-list --tags --max-count=1`)" >> $GITHUB_OUTPUT'}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2'}, {'name': 'Build UI', 'run': 'make build-ui'}, {'name': 'Build', 'uses': 'crazy-max/ghaction-xgo@v2', 'with': {'xgo_version': 'latest', 'go_version': '1.20', 'dest': 'build', 'prefix': 'inngest', 'pkg': 'cmd', 'targets': 'linux/arm64,linux/amd64,darwin/arm64,darwin/amd64', 'v': False, 'x': False, 'race': False, 'ldflags': '-s -w -X github.com/inngest/inngest/pkg/inngest/version.Version=${{ steps.tag.outputs.tag }} -X github.com/inngest/inngest/pkg/inngest/version.Hash=${{ steps.sha.outputs.sha }}', 'buildmode': 'default', 'trimpath': True}}, {'name': 'Download windows artifacts', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'windows-amd64', 'path': './build/'}}, {'name': 'Upload Artifact', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'binaries', 'path': './build/*', 'retention-days': 1}}, {'name': 'Clean UI', 'run': 'git checkout -- .'}, {'name': 'Run GoReleaser', 'uses': 'goreleaser/goreleaser-action@v2', 'with': {'distribution': 'goreleaser-pro', 'version': 'latest', 'args': 'release --rm-dist --debug'}, 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}', 'GORELEASER_KEY': '${{ secrets.GORELEASER_KEY }}'}}]}, 'npm': {'runs-on': 'ubuntu-latest', 'needs': ['goreleaser'], 'defaults': {'run': {'shell': 'bash', 'working-directory': 'npm'}}, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Set up Node/npm', 'uses': 'actions/setup-node@v3', 'with': {'node-version': 16}}, {'name': 'Install npm dependencies', 'run': 'npm ci'}, {'name': 'Build', 'run': 'npm run build'}, {'name': 'Release to npm', 'run': 'npm config set git-tag-version false\nnpm version ${{ github.ref_name }}\n\nprerelease=$(echo ${{ github.ref_name }} | awk -F \'-\' \'{print $2}\' | awk -F \'.\' \'{print $1}\')\nif [ -z "$prerelease" ]; then\n  npm publish --access public\nelse\n  npm publish --tag $prerelease --access public\nfi\n', 'env': {'NODE_AUTH_TOKEN': '${{ secrets.NPM_TOKEN }}'}}]}}}
2025-11-05 15:23:52,524 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_baseline_repaired.yml
2025-11-05 15:23:52,525 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:23:52,525 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_baseline_repaired.yml
2025-11-05 15:23:52,525 - __main__ - INFO - === 파일 90/100 베이스라인 복구 완료 ===
2025-11-05 15:23:52,525 - __main__ - INFO - ✅ 성공 (41.58초): 2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573 -> 2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_baseline_repaired.yml
2025-11-05 15:23:52,525 - __main__ - INFO - [91/100] 처리 중: 059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 15:23:52,525 - __main__ - INFO - 입력 파일 경로: data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 15:23:52,525 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_baseline_repaired.yml
2025-11-05 15:23:52,525 - __main__ - INFO - === 파일 91/100 베이스라인 복구 시작 ===
2025-11-05 15:23:52,525 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:23:52,525 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:23:52,525 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 15:23:52,525 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:23:52,526 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:23:52,526 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 15:23:52,530 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 15:23:52,530 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:23:52,530 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:23:52,531 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:23:52,531 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
We have found 13 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 9)
	- 6. Define permissions for workflows with external actions (job at line: 9)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 9)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
5:5: wrong indentation: expected 6 but found 4 (indentation)
5:13: too many spaces after colon (colons)
7:1: trailing spaces (trailing-spaces)
12:8: wrong indentation: expected 9 but found 7 (indentation)
27:12: wrong indentation: expected 12 but found 11 (indentation)

2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 22
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 2: We have found 13 smells
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 3: - 1. Avoid executing scheduled workflows on forks
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 9)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 9)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 9: - 9. Steps should only perform a single command (line -1)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 10: - 10. Avoid jobs without timeouts (line: 9)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 9)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 11: - 12. Avoid workflows without comments
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 12: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 13: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 14: - 18. Avoid installing packages without version (line -1)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 16: The following styling errors were found:
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 17: 5:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 18: 5:13: too many spaces after colon (colons)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 19: 7:1: trailing spaces (trailing-spaces)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 20: 12:8: wrong indentation: expected 9 but found 7 (indentation)
2025-11-05 15:23:52,814 - utils.process_runner - DEBUG - 라인 21: 27:12: wrong indentation: expected 12 but found 11 (indentation)
2025-11-05 15:23:52,814 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:23:52,815 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 15:23:52,815 - main - INFO - Smell detector에서 2개 스멜 발견
2025-11-05 15:23:52,815 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:23:52,815 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:23:52,815 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Check Minecraft Version
runs-on: self-hosted
on:
   schedule:
    - cron:  '0/30 * * * *'
   workflow_dispatch:
      
jobs:
   check_mcv:
      runs-on: ubuntu-latest
      steps:
       - name: 签出储存库
         uses: actions/checkout@v4
       - name: 配置 Git 信息
         run: |
            git config --local user.email "bot@bugjump.net"
            git config --local user.name "Hilda Bot"
       - n...
2025-11-05 15:23:52,815 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:23:52,815 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:23:52,815 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:23:52,815 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:24:05,290 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:24:05,291 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:24:05,291 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:24:05,292 - main - DEBUG - 추출된 YAML:
name: Check Minecraft Version

on:
  schedule:
    - cron: '0/30 * * * *'
  workflow_dispatch:

jobs:
  check_mcv:
    runs-on: ubuntu-latest
    timeout-minutes: 10 # add a timeout to avoid jobs without timeouts
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Configure Git information
        run: |
          git config --local user.email "bot@bugjump.net"
          git config --local user.name "Hilda Bot"

      - name: Configure GPG information
        uses: crazy-max/ghaction-import-gpg@v6
        with:
          gpg_private_key: ${{ secrets.BOT_GPG_PRIVATE_KEY }}
          git_user_signingkey: true
          git_commit_gpgsign: true

      - name: Set up Python environment
        uses: actions/setup-python@v4
        with:
          python-version: 3.11

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install requests

      - name: Run update script
        run: python Actions/check_mcv.py

      - name: Commit changes
        run: |
          git add *
          git diff-index --quiet HEAD || git commit -S -m "preloaded new version"

      - name: Push changes
        run: git push
2025-11-05 15:24:05,292 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:24:05,292 - main - DEBUG - 검증할 YAML 길이: 1214 문자
2025-11-05 15:24:05,292 - main - DEBUG - YAML 시작 부분: "name: Check Minecraft Version\n\non:\n  schedule:\n    - cron: '0/30 * * * *'\n  workflow_dispatch:\n\njobs"
2025-11-05 15:24:05,301 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Check Minecraft Version', 'on': {'schedule': [{'cron': '0/30 * * * *'}], 'workflow_dispatch': None}, 'jobs': {'check_mcv': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout repository', 'uses': 'actions/checkout@v4'}, {'name': 'Configure Git information', 'run': 'git config --local user.email "bot@bugjump.net"\ngit config --local user.name "Hilda Bot"\n'}, {'name': 'Configure GPG information', 'uses': 'crazy-max/ghaction-import-gpg@v6', 'with': {'gpg_private_key': '${{ secrets.BOT_GPG_PRIVATE_KEY }}', 'git_user_signingkey': True, 'git_commit_gpgsign': True}}, {'name': 'Set up Python environment', 'uses': 'actions/setup-python@v4', 'with': {'python-version': 3.11}}, {'name': 'Install dependencies', 'run': 'python -m pip install --upgrade pip\npip install requests\n'}, {'name': 'Run update script', 'run': 'python Actions/check_mcv.py'}, {'name': 'Commit changes', 'run': 'git add *\ngit diff-index --quiet HEAD || git commit -S -m "preloaded new version"\n'}, {'name': 'Push changes', 'run': 'git push'}]}}}
2025-11-05 15:24:05,302 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_baseline_repaired.yml
2025-11-05 15:24:05,302 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:24:05,302 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_baseline_repaired.yml
2025-11-05 15:24:05,302 - __main__ - INFO - === 파일 91/100 베이스라인 복구 완료 ===
2025-11-05 15:24:05,302 - __main__ - INFO - ✅ 성공 (12.78초): 059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216 -> 059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_baseline_repaired.yml
2025-11-05 15:24:05,302 - __main__ - INFO - [92/100] 처리 중: c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 15:24:05,302 - __main__ - INFO - 입력 파일 경로: data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 15:24:05,303 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_baseline_repaired.yml
2025-11-05 15:24:05,303 - __main__ - INFO - === 파일 92/100 베이스라인 복구 시작 ===
2025-11-05 15:24:05,303 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:24:05,303 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:24:05,303 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 15:24:05,303 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:24:05,303 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:24:05,303 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 15:24:05,308 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 15:24:05,308 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:24:05,308 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:24:05,308 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:24:05,308 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: # This workflow will build a package using Maven and then publish it to GitHub packages when a release is created
# For more information see: https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#apache-maven-with-a-settings-path

name: Test and Publish Package

#on:
#  release:
#    types: [created]

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build:

    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write

    steps:
      - uses: actions/checkout@v3
      - name: Set up JDK 11
        uses: actions/setup-java@v3
        with:
          java-version: '11'
          distribution: 'adopt-hotspot'
          server-id: github # Value of the distributionManagement/repository/id field of the pom.xml
          settings-path: ${{ github.workspace }} # location for the settings.xml file

      #      - name: Run Tests
      #        run: mvn -U clean verify --file pom.xml

      - name: Build with Maven
        run: mvn --file pom.xml -U clean package -Punit-tests

      - name: Set up Apache Maven Central (Overwrite settings.xml)
        uses: actions/setup-java@v3
        with: # running setup-java again overwrites the settings.xml
          java-version: '11'
          distribution: 'adopt-hotspot'
          cache: 'maven'
          server-id: ossrh
          server-username: MAVEN_USERNAME
          server-password: MAVEN_PASSWORD
          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}
          gpg-passphrase: MAVEN_GPG_PASSPHRASE

      - name: Publish to GitHub Packages Apache Maven
        run: |
          git config --global user.email "koujalgi.amith@gmail.com"
          git config --global user.name "amithkoujalgi"
        mvn clean -Punit-tests release:clean release:prepare release:perform -B -Darguments="-DskipTests -Dgpg.passphrase=${{ secrets.GPG_PASSPHRASE }}"
        #        run: mvn clean deploy -Punit-tests -Dgpg.passphrase="${{ secrets.GPG_PASSPHRASE }}"

        env:
          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          MAVEN_PASSWORD: ${{ secrets.OSSRH_PASSWORD }}
          MAVEN_GPG_PASSPHRASE: ${{ secrets.GPG_PASSPHRASE }}
while scanning a simple key
  in "<file>", line 55, column 9
could not find expected ':'
  in "<file>", line 56, column 9
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
6:2: missing starting space in comment (comments)
12:16: too many spaces inside brackets (brackets)
12:23: too many spaces inside brackets (brackets)
30:29: too few spaces before comment: expected 2 (comments)
31:50: too few spaces before comment: expected 2 (comments)
41:15: too few spaces before comment: expected 2 (comments)
56:9: syntax error: could not find expected ':' (syntax)

2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 105
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: # This workflow will build a package using Maven and then publish it to GitHub packages when a release is created
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 2: # For more information see: https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#apache-maven-with-a-settings-path
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 4: name: Test and Publish Package
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 6: #on:
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 7: #  release:
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 8: #    types: [created]
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 10: on:
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 11: push:
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 12: branches: [ "main" ]
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 13: workflow_dispatch:
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 15:24:05,593 - utils.process_runner - DEBUG - 라인 16: build:
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 19: permissions:
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 20: contents: read
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 21: packages: write
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 23: steps:
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 24: - uses: actions/checkout@v3
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 25: - name: Set up JDK 11
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 26: uses: actions/setup-java@v3
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 27: with:
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 28: java-version: '11'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 29: distribution: 'adopt-hotspot'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 30: server-id: github # Value of the distributionManagement/repository/id field of the pom.xml
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 31: settings-path: ${{ github.workspace }} # location for the settings.xml file
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 33: #      - name: Run Tests
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 34: #        run: mvn -U clean verify --file pom.xml
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 36: - name: Build with Maven
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 37: run: mvn --file pom.xml -U clean package -Punit-tests
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 39: - name: Set up Apache Maven Central (Overwrite settings.xml)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 40: uses: actions/setup-java@v3
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 41: with: # running setup-java again overwrites the settings.xml
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 42: java-version: '11'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 43: distribution: 'adopt-hotspot'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 44: cache: 'maven'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 45: server-id: ossrh
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 46: server-username: MAVEN_USERNAME
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 47: server-password: MAVEN_PASSWORD
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 48: gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 49: gpg-passphrase: MAVEN_GPG_PASSPHRASE
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 51: - name: Publish to GitHub Packages Apache Maven
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 52: run: |
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 53: git config --global user.email "koujalgi.amith@gmail.com"
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 54: git config --global user.name "amithkoujalgi"
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 55: mvn clean -Punit-tests release:clean release:prepare release:perform -B -Darguments="-DskipTests -Dgpg.passphrase=${{ secrets.GPG_PASSPHRASE }}"
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 56: #        run: mvn clean deploy -Punit-tests -Dgpg.passphrase="${{ secrets.GPG_PASSPHRASE }}"
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 58: env:
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 59: MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 60: MAVEN_PASSWORD: ${{ secrets.OSSRH_PASSWORD }}
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 61: MAVEN_GPG_PASSPHRASE: ${{ secrets.GPG_PASSPHRASE }}
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 62: while scanning a simple key
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 63: in "<file>", line 55, column 9
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 64: could not find expected ':'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 65: in "<file>", line 56, column 9
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 66: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 80: We have found 16 smells
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 81: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 82: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 83: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 84: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:24:05,594 - utils.process_runner - DEBUG - 라인 93: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 97: The following styling errors were found:
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 98: 6:2: missing starting space in comment (comments)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 99: 12:16: too many spaces inside brackets (brackets)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 100: 12:23: too many spaces inside brackets (brackets)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 101: 30:29: too few spaces before comment: expected 2 (comments)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 102: 31:50: too few spaces before comment: expected 2 (comments)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 103: 41:15: too few spaces before comment: expected 2 (comments)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 라인 104: 56:9: syntax error: could not find expected ':' (syntax)
2025-11-05 15:24:05,595 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 56:9: syntax error: could not find expected ':' (syntax)
2025-11-05 15:24:05,595 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:24:05,595 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:24:05,595 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:24:05,595 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:24:05,595 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:24:05,595 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:24:05,595 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
# This workflow will build a package using Maven and then publish it to GitHub packages when a release is created
# For more information see: https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#apache-maven-with-a-settings-path

name: Test and Publish Package

#on:
#  release:
#    types: [created]

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build:

    runs-on:...
2025-11-05 15:24:05,595 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:24:05,595 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:24:05,595 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:24:05,596 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:24:23,126 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:24:23,126 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:24:23,127 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:24:23,127 - main - DEBUG - 추출된 YAML:
name: Test and Publish Package

on:
  push:
    branches: [ "main" ]
  workflow_dispatch:

jobs:
  build:

    runs-on: ubuntu-latest
    permissions:
      contents: read
      packages: write

    steps:
      - uses: actions/checkout@v3
      - name: Set up JDK 11
        uses: actions/setup-java@v3
        with:
          java-version: '11'
          distribution: 'adopt-hotspot'
          server-id: github # Value of the distributionManagement/repository/id field of the pom.xml
          settings-path: ${{ github.workspace }} # location for the settings.xml file

      - name: Build with Maven
        run: mvn --file pom.xml -U clean package -Punit-tests

      - name: Set up Apache Maven Central (Overwrite settings.xml)
        uses: actions/setup-java@v3
        with:
          java-version: '11'
          distribution: 'adopt-hotspot'
          cache: 'maven'
          server-id: ossrh
          server-username: ${{ secrets.OSSRH_USERNAME }}
          server-password: ${{ secrets.OSSRH_PASSWORD }}
          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}
          gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}

      - name: Publish to GitHub Packages Apache Maven
        run: |
          git config --global user.email "koujalgi.amith@gmail.com"
          git config --global user.name "amithkoujalgi"

          mvn clean -Punit-tests release:clean release:prepare release:perform -B \
            -Darguments="-DskipTests -Dgpg.passphrase=${{ secrets.GPG_PASSPHRASE }}"

        env:
          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          MAVEN_PASSWORD: ${{ secrets.OSSRH_PASSWORD }}
          MAVEN_GPG_PASSPHRASE: ${{ secrets.GPG_PASSPHRASE }}
2025-11-05 15:24:23,127 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:24:23,127 - main - DEBUG - 검증할 YAML 길이: 1686 문자
2025-11-05 15:24:23,127 - main - DEBUG - YAML 시작 부분: 'name: Test and Publish Package\n\non:\n  push:\n    branches: [ "main" ]\n  workflow_dispatch:\n\njobs:\n  b'
2025-11-05 15:24:23,138 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Test and Publish Package', 'on': {'push': {'branches': ['main']}, 'workflow_dispatch': None}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'permissions': {'contents': 'read', 'packages': 'write'}, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Set up JDK 11', 'uses': 'actions/setup-java@v3', 'with': {'java-version': '11', 'distribution': 'adopt-hotspot', 'server-id': 'github', 'settings-path': '${{ github.workspace }}'}}, {'name': 'Build with Maven', 'run': 'mvn --file pom.xml -U clean package -Punit-tests'}, {'name': 'Set up Apache Maven Central (Overwrite settings.xml)', 'uses': 'actions/setup-java@v3', 'with': {'java-version': '11', 'distribution': 'adopt-hotspot', 'cache': 'maven', 'server-id': 'ossrh', 'server-username': '${{ secrets.OSSRH_USERNAME }}', 'server-password': '${{ secrets.OSSRH_PASSWORD }}', 'gpg-private-key': '${{ secrets.GPG_PRIVATE_KEY }}', 'gpg-passphrase': '${{ secrets.GPG_PASSPHRASE }}'}}, {'name': 'Publish to GitHub Packages Apache Maven', 'run': 'git config --global user.email "koujalgi.amith@gmail.com"\ngit config --global user.name "amithkoujalgi"\n\nmvn clean -Punit-tests release:clean release:prepare release:perform -B \\\n  -Darguments="-DskipTests -Dgpg.passphrase=${{ secrets.GPG_PASSPHRASE }}"\n', 'env': {'MAVEN_USERNAME': '${{ secrets.OSSRH_USERNAME }}', 'MAVEN_PASSWORD': '${{ secrets.OSSRH_PASSWORD }}', 'MAVEN_GPG_PASSPHRASE': '${{ secrets.GPG_PASSPHRASE }}'}}]}}}
2025-11-05 15:24:23,138 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_baseline_repaired.yml
2025-11-05 15:24:23,138 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:24:23,138 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_baseline_repaired.yml
2025-11-05 15:24:23,138 - __main__ - INFO - === 파일 92/100 베이스라인 복구 완료 ===
2025-11-05 15:24:23,138 - __main__ - INFO - ✅ 성공 (17.84초): c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a -> c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_baseline_repaired.yml
2025-11-05 15:24:23,139 - __main__ - INFO - [93/100] 처리 중: c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 15:24:23,139 - __main__ - INFO - 입력 파일 경로: data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 15:24:23,139 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_baseline_repaired.yml
2025-11-05 15:24:23,139 - __main__ - INFO - === 파일 93/100 베이스라인 복구 시작 ===
2025-11-05 15:24:23,139 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:24:23,139 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:24:23,139 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 15:24:23,139 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:24:23,139 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:24:23,139 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 15:24:23,145 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:24:23,145 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:24:23,145 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:24:23,145 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:24:23,145 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.27초)
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: ---

name: CI

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]
  schedule:
    # * is a special character in YAML so you have to quote this string
    # Run at 1:00 every day
    - cron:  '0 1 * * *'

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        # These versions match the minimum and maximum versions of pip in
        # requirements.txt.
        # An empty string here represents the latest version.
        pip-version: ['==21.2.4', '']
		# The minimum version should be represented in setup.py.
        python-version: ["3.8", "3.9", "3.10", "3.11"]

    steps:
      - uses: actions/checkout@v3
      - name: "Set up Python"
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}

      - uses: actions/cache@v2
        with:
          path: ~/.cache/pip
          # This is like the example but we use ``*requirements.txt`` rather
          # than ``requirements.txt`` because we have multiple requirements
          # files.
          key: ${{ runner.os }}-pip-${{ hashFiles('**/*requirements.txt') }}
          restore-keys: |
            ${{ runner.os }}-pip-

      - name: "Install dependencies"
        run: |
          python -m pip install --upgrade 'pip ${{ matrix.pip-version }}'
          # We use '--ignore-installed' to avoid GitHub's cache which can cause
          # issues - we have seen packages from this cache be cause trouble with
          # pip-extra-reqs.
          #
          # We avoid "--upgrade" as we do version tests for the "pip" dependency.
          python -m pip install --ignore-installed --editable .[dev]
          python -m pip install flake8

      - name: "Lint"
        run: |
          flake8 *.py pip_check_reqs tests
          pip-extra-reqs pip_check_reqs
          pip-missing-reqs pip_check_reqs

      - name: "Run tests"
        run: |
          pytest -s -vvv --cov-fail-under 100 --cov=pip_check_reqs/ --cov=tests tests/ --cov-report=xml

      - name: "Upload coverage to Codecov"
        uses: "codecov/codecov-action@v3"

while scanning for the next token
found character '\t' that cannot start any token
  in "<file>", line 26, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 8. Use commit hash instead of tags for action versions (line 67)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
13:13: too many spaces after colon (colons)
26:1: syntax error: found character '\t' that cannot start any token (syntax)

2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 109
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: ---
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - 라인 3: name: CI
2025-11-05 15:24:23,414 - utils.process_runner - DEBUG - 라인 5: on:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 6: push:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 7: branches: [master]
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 8: pull_request:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 9: branches: [master]
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 10: schedule:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 11: # * is a special character in YAML so you have to quote this string
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 12: # Run at 1:00 every day
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 13: - cron:  '0 1 * * *'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 16: build:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 20: strategy:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 21: matrix:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 22: # These versions match the minimum and maximum versions of pip in
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 23: # requirements.txt.
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 24: # An empty string here represents the latest version.
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 25: pip-version: ['==21.2.4', '']
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 26: # The minimum version should be represented in setup.py.
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 27: python-version: ["3.8", "3.9", "3.10", "3.11"]
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v3
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 31: - name: "Set up Python"
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 32: uses: actions/setup-python@v4
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 34: python-version: ${{ matrix.python-version }}
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 36: - uses: actions/cache@v2
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 38: path: ~/.cache/pip
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 39: # This is like the example but we use ``*requirements.txt`` rather
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 40: # than ``requirements.txt`` because we have multiple requirements
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 41: # files.
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 42: key: ${{ runner.os }}-pip-${{ hashFiles('**/*requirements.txt') }}
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 43: restore-keys: |
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 44: ${{ runner.os }}-pip-
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 46: - name: "Install dependencies"
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 47: run: |
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 48: python -m pip install --upgrade 'pip ${{ matrix.pip-version }}'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 49: # We use '--ignore-installed' to avoid GitHub's cache which can cause
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 50: # issues - we have seen packages from this cache be cause trouble with
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 51: # pip-extra-reqs.
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 52: #
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 53: # We avoid "--upgrade" as we do version tests for the "pip" dependency.
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 54: python -m pip install --ignore-installed --editable .[dev]
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 55: python -m pip install flake8
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 57: - name: "Lint"
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 59: flake8 *.py pip_check_reqs tests
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 60: pip-extra-reqs pip_check_reqs
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 61: pip-missing-reqs pip_check_reqs
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 63: - name: "Run tests"
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 64: run: |
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 65: pytest -s -vvv --cov-fail-under 100 --cov=pip_check_reqs/ --cov=tests tests/ --cov-report=xml
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 67: - name: "Upload coverage to Codecov"
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 68: uses: "codecov/codecov-action@v3"
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 70: while scanning for the next token
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 71: found character '\t' that cannot start any token
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 72: in "<file>", line 26, column 1
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 73: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 87: We have found 18 smells
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 88: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 89: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 90: - 8. Use commit hash instead of tags for action versions (line 67)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 67)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 91: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 92: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 라인 93: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:24:23,415 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 97: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 106: The following styling errors were found:
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 107: 13:13: too many spaces after colon (colons)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 라인 108: 26:1: syntax error: found character '\t' that cannot start any token (syntax)
2025-11-05 15:24:23,416 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 26:1: syntax error: found character '\t' that cannot start any token (syntax)
2025-11-05 15:24:23,416 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:24:23,416 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:24:23,416 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:24:23,416 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:24:23,416 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:24:23,416 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:24:23,416 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
---

name: CI

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]
  schedule:
    # * is a special character in YAML so you have to quote this string
    # Run at 1:00 every day
    - cron:  '0 1 * * *'

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        # These versions match the minimum and maximum versions of pip in
        # requirements.txt.
      ...
2025-11-05 15:24:23,416 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:24:23,416 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:24:23,416 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:24:23,417 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:24:39,614 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:24:39,614 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:24:39,615 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:24:39,615 - main - DEBUG - 추출된 YAML:
---
name: CI

on:
  push:
    branches: [master]
  pull_request:
    branches: [master]
  schedule:
    - cron: '0 1 * * *'

jobs:
  build:

    runs-on: ubuntu-latest

    strategy:
      matrix:
        pip-version: ['==21.2.4', '']
        python-version: ["3.8", "3.9", "3.10", "3.11"]

    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}

      - uses: actions/cache@v2
        with:
          path: ~/.cache/pip
          key: ${{ runner.os }}-pip-${{ hashFiles('**/*requirements.txt') }}
          restore-keys: |
            ${{ runner.os }}-pip-

      - name: Install dependencies
        run: |
          python -m pip install --upgrade 'pip==${{ matrix.pip-version }}'
          python -m pip install --ignore-installed --editable .[dev]
          python -m pip install flake8

      - name: Lint
        run: |
          flake8 *.py pip_check_reqs tests
          pip-extra-reqs pip_check_reqs
          pip-missing-reqs pip_check_reqs

      - name: Run tests
        run: |
          pytest -s -vvv --cov-fail-under 100 --cov=pip_check_reqs/ --cov=tests tests/ --cov-report=xml

      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
2025-11-05 15:24:39,615 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:24:39,615 - main - DEBUG - 검증할 YAML 길이: 1302 문자
2025-11-05 15:24:39,615 - main - DEBUG - YAML 시작 부분: '---\nname: CI\n\non:\n  push:\n    branches: [master]\n  pull_request:\n    branches: [master]\n  schedule:\n'
2025-11-05 15:24:39,624 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'push': {'branches': ['master']}, 'pull_request': {'branches': ['master']}, 'schedule': [{'cron': '0 1 * * *'}]}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'strategy': {'matrix': {'pip-version': ['==21.2.4', ''], 'python-version': ['3.8', '3.9', '3.10', '3.11']}}, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Set up Python', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'uses': 'actions/cache@v2', 'with': {'path': '~/.cache/pip', 'key': "${{ runner.os }}-pip-${{ hashFiles('**/*requirements.txt') }}", 'restore-keys': '${{ runner.os }}-pip-\n'}}, {'name': 'Install dependencies', 'run': "python -m pip install --upgrade 'pip==${{ matrix.pip-version }}'\npython -m pip install --ignore-installed --editable .[dev]\npython -m pip install flake8\n"}, {'name': 'Lint', 'run': 'flake8 *.py pip_check_reqs tests\npip-extra-reqs pip_check_reqs\npip-missing-reqs pip_check_reqs\n'}, {'name': 'Run tests', 'run': 'pytest -s -vvv --cov-fail-under 100 --cov=pip_check_reqs/ --cov=tests tests/ --cov-report=xml\n'}, {'name': 'Upload coverage to Codecov', 'uses': 'codecov/codecov-action@v3'}]}}}
2025-11-05 15:24:39,624 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_baseline_repaired.yml
2025-11-05 15:24:39,624 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:24:39,624 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_baseline_repaired.yml
2025-11-05 15:24:39,624 - __main__ - INFO - === 파일 93/100 베이스라인 복구 완료 ===
2025-11-05 15:24:39,625 - __main__ - INFO - ✅ 성공 (16.49초): c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc -> c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_baseline_repaired.yml
2025-11-05 15:24:39,625 - __main__ - INFO - [94/100] 처리 중: b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 15:24:39,625 - __main__ - INFO - 입력 파일 경로: data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 15:24:39,625 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_baseline_repaired.yml
2025-11-05 15:24:39,625 - __main__ - INFO - === 파일 94/100 베이스라인 복구 시작 ===
2025-11-05 15:24:39,625 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:24:39,625 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:24:39,625 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 15:24:39,625 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:24:39,626 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:24:39,626 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 15:24:39,631 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:24:39,632 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:24:39,632 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:24:39,632 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:24:39,632 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 15:24:39,945 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.31초)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
YAML parsing error in pull_based_actions_on_fork: 'run'
We have found 26 smells
	- 3. Use fixed version for runs-on argument (line 7)
	- 3. Use fixed version for runs-on argument (line 54)
	- 3. Use fixed version for runs-on argument (line 20)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 7)
	- 8. Use commit hash instead of tags for action versions (line 45)
	- 8. Use commit hash instead of tags for action versions (line 9)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 10)
	- 10. Avoid jobs without timeouts (line: 7)
	- 13. Use names for run steps (lines 43:43)
	- 13. Use names for run steps (lines 29:29)
	- 13. Use names for run steps (lines 22:22)
	- 13. Use names for run steps (lines -1:15)
	- 13. Use names for run steps (lines 30:30)
	- 13. Use names for run steps (lines 10:10)
	- 13. Use names for run steps (lines -1:11)
	- 13. Use names for run steps (lines 28:28)
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 7)
	- 16. Avoid running CI related actions when no source code has changed
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
54:3: comment not indented like content (comments-indentation)

2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 32
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'run'
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 3: We have found 26 smells
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 26 smells
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 5: - 3. Use fixed version for runs-on argument (line 54)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 54)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 6: - 3. Use fixed version for runs-on argument (line 20)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 20)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 7: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 45)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 45)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 9)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 9)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 10)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 10)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 16: - 13. Use names for run steps (lines 43:43)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 43:43)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 17: - 13. Use names for run steps (lines 29:29)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 29:29)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 18: - 13. Use names for run steps (lines 22:22)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 22:22)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 19: - 13. Use names for run steps (lines -1:15)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:15)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 20: - 13. Use names for run steps (lines 30:30)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 30:30)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 21: - 13. Use names for run steps (lines 10:10)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 10:10)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 22: - 13. Use names for run steps (lines -1:11)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:11)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 23: - 13. Use names for run steps (lines 28:28)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 28:28)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 24: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 25: - 15. Use permissions whenever using Github Token (job at line 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 7)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 26: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 27: - 21. Use cache parameter instead of cache option
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 28: - 22. Avoid deploying jobs on forks
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 29: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 30: The following styling errors were found:
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:24:39,946 - utils.process_runner - DEBUG - 라인 31: 54:3: comment not indented like content (comments-indentation)
2025-11-05 15:24:39,946 - utils.process_runner - INFO - 총 4개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:24:39,946 - utils.process_runner - INFO - Smell detector 실행 완료: 4개 스멜 발견
2025-11-05 15:24:39,946 - main - INFO - Smell detector에서 4개 스멜 발견
2025-11-05 15:24:39,946 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:24:39,947 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:24:39,947 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Release Docker images
on:
  push:
    tags:
      - "v*"
jobs:
  docker-publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-java@v2
        with:
          java-version: 17
          distribution: adopt
      - uses: actions/cache@v1
        with:
          path: ~/.m2/repository
          key: ${{ runner.os }}-jdk-11-maven-${{ hashFiles('**/...
2025-11-05 15:24:39,947 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:24:39,947 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:24:39,947 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:24:39,947 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:25:00,660 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:25:00,660 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:25:00,661 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:25:00,661 - main - DEBUG - 추출된 YAML:
name: Release Docker images
on:
  push:
    tags:
      - "v*"
jobs:
  docker-publish:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Setup Java
        uses: actions/setup-java@v2
        with:
          java-version: '17'
          distribution: 'adopt'

      - name: Cache Maven dependencies
        uses: actions/cache@v1
        with:
          path: ~/.m2/repository
          key: ${{ runner.os }}-jdk-11-maven-${{ hashFiles('**/pom.xml') }}
          restore-keys: |
            ${{ runner.os }}-jdk-11-maven-

      - name: Set RELEASE_VERSION environment variable
        run: echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV

      - name: Login to Docker Hub
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USER }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}

      - name: Set Maven version and deploy
        run: |
          mvn versions:set -DnewVersion=${RELEASE_VERSION}
          mvn -B deploy -Pdocker -Ddocker.image.name=${{ secrets.DOCKERHUB_REPO }}

      - name: Create Github Release
        id: create_release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${RELEASE_VERSION}
          draft: false
          prerelease: false

      - name: Upload Release Asset
        id: upload-release-asset
        uses: actions/upload-release-asset@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./target/artipie-${RELEASE_VERSION}.jar
          asset_name: artipie-${RELEASE_VERSION}.jar
          asset_content_type: application/jar

      - name: Package with dependencies
        run: mvn package -DskipTests

  # Removed the commented out job as it's not being used
2025-11-05 15:25:00,661 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:25:00,661 - main - DEBUG - 검증할 YAML 길이: 1989 문자
2025-11-05 15:25:00,661 - main - DEBUG - YAML 시작 부분: 'name: Release Docker images\non:\n  push:\n    tags:\n      - "v*"\njobs:\n  docker-publish:\n    runs-on: '
2025-11-05 15:25:00,672 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Release Docker images', 'on': {'push': {'tags': ['v*']}}, 'jobs': {'docker-publish': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Setup Java', 'uses': 'actions/setup-java@v2', 'with': {'java-version': '17', 'distribution': 'adopt'}}, {'name': 'Cache Maven dependencies', 'uses': 'actions/cache@v1', 'with': {'path': '~/.m2/repository', 'key': "${{ runner.os }}-jdk-11-maven-${{ hashFiles('**/pom.xml') }}", 'restore-keys': '${{ runner.os }}-jdk-11-maven-\n'}}, {'name': 'Set RELEASE_VERSION environment variable', 'run': 'echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV'}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v1', 'with': {'username': '${{ secrets.DOCKERHUB_USER }}', 'password': '${{ secrets.DOCKERHUB_PASSWORD }}'}}, {'name': 'Set Maven version and deploy', 'run': 'mvn versions:set -DnewVersion=${RELEASE_VERSION}\nmvn -B deploy -Pdocker -Ddocker.image.name=${{ secrets.DOCKERHUB_REPO }}\n'}, {'name': 'Create Github Release', 'id': 'create_release', 'uses': 'actions/create-release@v1', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'with': {'tag_name': '${{ github.ref }}', 'release_name': 'Release ${RELEASE_VERSION}', 'draft': False, 'prerelease': False}}, {'name': 'Upload Release Asset', 'id': 'upload-release-asset', 'uses': 'actions/upload-release-asset@v1', 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}'}, 'with': {'upload_url': '${{ steps.create_release.outputs.upload_url }}', 'asset_path': './target/artipie-${RELEASE_VERSION}.jar', 'asset_name': 'artipie-${RELEASE_VERSION}.jar', 'asset_content_type': 'application/jar'}}, {'name': 'Package with dependencies', 'run': 'mvn package -DskipTests'}]}}}
2025-11-05 15:25:00,673 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_baseline_repaired.yml
2025-11-05 15:25:00,673 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:25:00,673 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_baseline_repaired.yml
2025-11-05 15:25:00,673 - __main__ - INFO - === 파일 94/100 베이스라인 복구 완료 ===
2025-11-05 15:25:00,673 - __main__ - INFO - ✅ 성공 (21.05초): b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795 -> b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_baseline_repaired.yml
2025-11-05 15:25:00,673 - __main__ - INFO - [95/100] 처리 중: 5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 15:25:00,673 - __main__ - INFO - 입력 파일 경로: data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 15:25:00,673 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_baseline_repaired.yml
2025-11-05 15:25:00,673 - __main__ - INFO - === 파일 95/100 베이스라인 복구 시작 ===
2025-11-05 15:25:00,673 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:25:00,673 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:25:00,674 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 15:25:00,674 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:25:00,674 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:25:00,674 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 15:25:00,696 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 15:25:00,697 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:25:00,697 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:25:00,697 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:25:00,697 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 15:25:01,195 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Release

permissions:
  contents: write

on:
  push:
    tags:
      - v[0-9]+.*

jobs:
  release-linux-musl-amd64:
    name: Release for Linux/amd64/musl
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
         targets: x86_64-unknown-linux-musl

    - run: cargo build --release --target x86_64-unknown-linux-musl
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/x86_64-unknown-linux-musl/dash-mpd-cli
        asset_name: dash-mpd-cli-linux-amd64


  release-linux-aarch64:
    name: Release for Linux/aarch64
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
         targets: aarch64-unknown-linux-gnu

    - run: cargo build --release --target aarch64-unknown-linux-gnu
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/aarch64-unknown-linux-gnu/dash-mpd-cli
        asset_name: dash-mpd-cli-linux-aarch64


  # TODO: generate a universal binary
  release-macos:
    name: Release for MacOS/aarch64
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
         targets: aarch64-apple-darwin

    - run: cargo build --release --target aarch64-apple-darwin
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/aarch64-apple-darwin/dash-mpd-cli
        asset_name: dash-mpd-cli-macos-aarch64


  release-windows:
    name: Release for Windows/amd64
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

      uses: msys2/setup-msys2@v2
      with:
        install: base-devel autotools mingw-w64-ucrt-x86_64-toolchain mingw-w64-ucrt-x86_64-rust mingw-w64-ucrt-x86_64-gcc

    - run: cargo build --release
      shell: msys2 {0}
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/dash-mpd-cli.exe
        asset_name: dash-mpd-cli-windows.exe


while constructing a mapping
  in "<file>", line 86, column 7
found duplicate key "uses" with value "msys2/setup-msys2@v2" (original value: "actions/checkout@v4")
  in "<file>", line 90, column 7

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 3. Use fixed version for runs-on argument (line 83)
	- 3. Use fixed version for runs-on argument (line 60)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 89)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
16:5: wrong indentation: expected 6 but found 4 (indentation)
18:10: wrong indentation: expected 8 but found 9 (indentation)
22:10: wrong indentation: expected 8 but found 9 (indentation)
25:1: trailing spaces (trailing-spaces)
39:5: wrong indentation: expected 6 but found 4 (indentation)
41:10: wrong indentation: expected 8 but found 9 (indentation)
45:10: wrong indentation: expected 8 but found 9 (indentation)
48:1: trailing spaces (trailing-spaces)
63:5: wrong indentation: expected 6 but found 4 (indentation)
65:10: wrong indentation: expected 8 but found 9 (indentation)
69:10: wrong indentation: expected 8 but found 9 (indentation)
72:1: trailing spaces (trailing-spaces)
86:5: wrong indentation: expected 6 but found 4 (indentation)
88:10: wrong indentation: expected 8 but found 9 (indentation)
90:7: duplication of key "uses" in mapping (key-duplicates)
91:7: duplication of key "with" in mapping (key-duplicates)
96:1: trailing spaces (trailing-spaces)
104:1: too many blank lines (1 > 0) (empty-lines)

2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 167
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Release
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 3: permissions:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 4: contents: write
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 7: push:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 8: tags:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 9: - v[0-9]+.*
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 12: release-linux-musl-amd64:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 13: name: Release for Linux/amd64/musl
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 16: - uses: actions/checkout@v4
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 18: fetch-depth: 0
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 20: - uses: dtolnay/rust-toolchain@stable
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 22: targets: x86_64-unknown-linux-musl
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 24: - run: cargo build --release --target x86_64-unknown-linux-musl
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 26: - name: Upload binaries to release
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 27: uses: svenstaro/upload-release-action@v2
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 28: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 29: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 30: tag: ${{ github.ref }}
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 31: file: target/release/x86_64-unknown-linux-musl/dash-mpd-cli
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 32: asset_name: dash-mpd-cli-linux-amd64
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 35: release-linux-aarch64:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 36: name: Release for Linux/aarch64
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 37: runs-on: ubuntu-latest
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 38: steps:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 39: - uses: actions/checkout@v4
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 40: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 41: fetch-depth: 0
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 43: - uses: dtolnay/rust-toolchain@stable
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 45: targets: aarch64-unknown-linux-gnu
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 47: - run: cargo build --release --target aarch64-unknown-linux-gnu
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 49: - name: Upload binaries to release
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 50: uses: svenstaro/upload-release-action@v2
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 51: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 52: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 53: tag: ${{ github.ref }}
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 54: file: target/release/aarch64-unknown-linux-gnu/dash-mpd-cli
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 55: asset_name: dash-mpd-cli-linux-aarch64
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 58: # TODO: generate a universal binary
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 59: release-macos:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 60: name: Release for MacOS/aarch64
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 61: runs-on: macos-latest
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 62: steps:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 63: - uses: actions/checkout@v4
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 64: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 65: fetch-depth: 0
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 67: - uses: dtolnay/rust-toolchain@stable
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 68: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 69: targets: aarch64-apple-darwin
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 71: - run: cargo build --release --target aarch64-apple-darwin
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 73: - name: Upload binaries to release
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 74: uses: svenstaro/upload-release-action@v2
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 75: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 76: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 77: tag: ${{ github.ref }}
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 78: file: target/release/aarch64-apple-darwin/dash-mpd-cli
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 79: asset_name: dash-mpd-cli-macos-aarch64
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 82: release-windows:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 83: name: Release for Windows/amd64
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 84: runs-on: windows-latest
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 85: steps:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 86: - uses: actions/checkout@v4
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 87: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 88: fetch-depth: 0
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 90: uses: msys2/setup-msys2@v2
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 91: with:
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 92: install: base-devel autotools mingw-w64-ucrt-x86_64-toolchain mingw-w64-ucrt-x86_64-rust mingw-w64-ucrt-x86_64-gcc
2025-11-05 15:25:01,196 - utils.process_runner - DEBUG - 라인 94: - run: cargo build --release
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 95: shell: msys2 {0}
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 97: - name: Upload binaries to release
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 98: uses: svenstaro/upload-release-action@v2
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 99: with:
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 100: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 101: tag: ${{ github.ref }}
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 102: file: target/release/dash-mpd-cli.exe
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 103: asset_name: dash-mpd-cli-windows.exe
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 106: while constructing a mapping
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 107: in "<file>", line 86, column 7
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 108: found duplicate key "uses" with value "msys2/setup-msys2@v2" (original value: "actions/checkout@v4")
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 109: in "<file>", line 90, column 7
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 111: To suppress this check see:
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 112: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 114: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 115: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 116: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 118: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 119: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 120: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 122: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 123: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 124: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 125: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 126: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 127: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 128: We have found 19 smells
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 129: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 130: - 3. Use fixed version for runs-on argument (line 83)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 83)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 131: - 3. Use fixed version for runs-on argument (line 60)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 60)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 132: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 133: - 8. Use commit hash instead of tags for action versions (line 89)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 89)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 134: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 135: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 136: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 137: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 138: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 139: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 140: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 141: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 142: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 143: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 144: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 145: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 146: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 147: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 148: The following styling errors were found:
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 149: 16:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 150: 18:10: wrong indentation: expected 8 but found 9 (indentation)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 151: 22:10: wrong indentation: expected 8 but found 9 (indentation)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 152: 25:1: trailing spaces (trailing-spaces)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 153: 39:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 154: 41:10: wrong indentation: expected 8 but found 9 (indentation)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 155: 45:10: wrong indentation: expected 8 but found 9 (indentation)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 156: 48:1: trailing spaces (trailing-spaces)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 157: 63:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:25:01,197 - utils.process_runner - DEBUG - 라인 158: 65:10: wrong indentation: expected 8 but found 9 (indentation)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 159: 69:10: wrong indentation: expected 8 but found 9 (indentation)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 160: 72:1: trailing spaces (trailing-spaces)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 161: 86:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 162: 88:10: wrong indentation: expected 8 but found 9 (indentation)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 163: 90:7: duplication of key "uses" in mapping (key-duplicates)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 164: 91:7: duplication of key "with" in mapping (key-duplicates)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 165: 96:1: trailing spaces (trailing-spaces)
2025-11-05 15:25:01,198 - utils.process_runner - DEBUG - 라인 166: 104:1: too many blank lines (1 > 0) (empty-lines)
2025-11-05 15:25:01,198 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:25:01,198 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:25:01,198 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:25:01,198 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:25:01,198 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:25:01,198 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:25:01,198 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Release

permissions:
  contents: write

on:
  push:
    tags:
      - v[0-9]+.*

jobs:
  release-linux-musl-amd64:
    name: Release for Linux/amd64/musl
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
         targets: x86_64-unknown-linux-musl

    - run: cargo build --release --targe...
2025-11-05 15:25:01,198 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:25:01,198 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:25:01,198 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:25:01,199 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:25:27,796 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:25:27,797 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:25:27,797 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:25:27,798 - main - DEBUG - 추출된 YAML:
name: Release

permissions:
  contents: write

on:
  push:
    tags:
      - v[0-9]+.*

jobs:
  release-linux-musl-amd64:
    name: Release for Linux/amd64/musl
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
        targets: x86_64-unknown-linux-musl

    - run: cargo build --release --target x86_64-unknown-linux-musl
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/x86_64-unknown-linux-musl/dash-mpd-cli
        asset_name: dash-mpd-cli-linux-amd64

  release-linux-aarch64:
    name: Release for Linux/aarch64
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
        targets: aarch64-unknown-linux-gnu

    - run: cargo build --release --target aarch64-unknown-linux-gnu
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/aarch64-unknown-linux-gnu/dash-mpd-cli
        asset_name: dash-mpd-cli-linux-aarch64

  # TODO: generate a universal binary
  release-macos:
    name: Release for MacOS/aarch64
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
        targets: aarch64-apple-darwin

    - run: cargo build --release --target aarch64-apple-darwin
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/aarch64-apple-darwin/dash-mpd-cli
        asset_name: dash-mpd-cli-macos-aarch64

  release-windows:
    name: Release for Windows/amd64
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - name: Setup MSYS2
      uses: msys2/setup-msys2@v2
      with:
        install: base-devel autotools mingw-w64-ucrt-x86_64-toolchain mingw-w64-ucrt-x86_64-rust mingw-w64-ucrt-x86_64-gcc

    - run: cargo build --release
      shell: msys2 {0}
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/dash-mpd-cli.exe
        asset_name: dash-mpd-cli-windows.exe
2025-11-05 15:25:27,798 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:25:27,798 - main - DEBUG - 검증할 YAML 길이: 2688 문자
2025-11-05 15:25:27,798 - main - DEBUG - YAML 시작 부분: 'name: Release\n\npermissions:\n  contents: write\n\non:\n  push:\n    tags:\n      - v[0-9]+.*\n\njobs:\n  rele'
2025-11-05 15:25:27,810 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Release', 'permissions': {'contents': 'write'}, 'on': {'push': {'tags': ['v[0-9]+.*']}}, 'jobs': {'release-linux-musl-amd64': {'name': 'Release for Linux/amd64/musl', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v4', 'with': {'fetch-depth': 0}}, {'uses': 'dtolnay/rust-toolchain@stable', 'with': {'targets': 'x86_64-unknown-linux-musl'}}, {'run': 'cargo build --release --target x86_64-unknown-linux-musl'}, {'name': 'Upload binaries to release', 'uses': 'svenstaro/upload-release-action@v2', 'with': {'repo_token': '${{ secrets.GITHUB_TOKEN }}', 'tag': '${{ github.ref }}', 'file': 'target/release/x86_64-unknown-linux-musl/dash-mpd-cli', 'asset_name': 'dash-mpd-cli-linux-amd64'}}]}, 'release-linux-aarch64': {'name': 'Release for Linux/aarch64', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v4', 'with': {'fetch-depth': 0}}, {'uses': 'dtolnay/rust-toolchain@stable', 'with': {'targets': 'aarch64-unknown-linux-gnu'}}, {'run': 'cargo build --release --target aarch64-unknown-linux-gnu'}, {'name': 'Upload binaries to release', 'uses': 'svenstaro/upload-release-action@v2', 'with': {'repo_token': '${{ secrets.GITHUB_TOKEN }}', 'tag': '${{ github.ref }}', 'file': 'target/release/aarch64-unknown-linux-gnu/dash-mpd-cli', 'asset_name': 'dash-mpd-cli-linux-aarch64'}}]}, 'release-macos': {'name': 'Release for MacOS/aarch64', 'runs-on': 'macos-latest', 'steps': [{'uses': 'actions/checkout@v4', 'with': {'fetch-depth': 0}}, {'uses': 'dtolnay/rust-toolchain@stable', 'with': {'targets': 'aarch64-apple-darwin'}}, {'run': 'cargo build --release --target aarch64-apple-darwin'}, {'name': 'Upload binaries to release', 'uses': 'svenstaro/upload-release-action@v2', 'with': {'repo_token': '${{ secrets.GITHUB_TOKEN }}', 'tag': '${{ github.ref }}', 'file': 'target/release/aarch64-apple-darwin/dash-mpd-cli', 'asset_name': 'dash-mpd-cli-macos-aarch64'}}]}, 'release-windows': {'name': 'Release for Windows/amd64', 'runs-on': 'windows-latest', 'steps': [{'uses': 'actions/checkout@v4', 'with': {'fetch-depth': 0}}, {'name': 'Setup MSYS2', 'uses': 'msys2/setup-msys2@v2', 'with': {'install': 'base-devel autotools mingw-w64-ucrt-x86_64-toolchain mingw-w64-ucrt-x86_64-rust mingw-w64-ucrt-x86_64-gcc'}}, {'run': 'cargo build --release', 'shell': 'msys2 {0}'}, {'name': 'Upload binaries to release', 'uses': 'svenstaro/upload-release-action@v2', 'with': {'repo_token': '${{ secrets.GITHUB_TOKEN }}', 'tag': '${{ github.ref }}', 'file': 'target/release/dash-mpd-cli.exe', 'asset_name': 'dash-mpd-cli-windows.exe'}}]}}}
2025-11-05 15:25:27,811 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_baseline_repaired.yml
2025-11-05 15:25:27,811 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:25:27,811 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_baseline_repaired.yml
2025-11-05 15:25:27,811 - __main__ - INFO - === 파일 95/100 베이스라인 복구 완료 ===
2025-11-05 15:25:27,811 - __main__ - INFO - ✅ 성공 (27.14초): 5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d -> 5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_baseline_repaired.yml
2025-11-05 15:25:27,811 - __main__ - INFO - [96/100] 처리 중: cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 15:25:27,811 - __main__ - INFO - 입력 파일 경로: data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 15:25:27,812 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_baseline_repaired.yml
2025-11-05 15:25:27,812 - __main__ - INFO - === 파일 96/100 베이스라인 복구 시작 ===
2025-11-05 15:25:27,812 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:25:27,812 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:25:27,812 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 15:25:27,812 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:25:27,812 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:25:27,813 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 15:25:27,836 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 15:25:27,836 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:25:27,836 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:25:27,836 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:25:27,836 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Automated test suite
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python 3.9
      uses: actions/setup-python@v2
      with:
        python-version: 3.9
    - name: Get poetry
      run: |
        pip install poetry
    # See pyproject.toml for details
    - name: Setup master tracked dependencies
      run: |
        git clone --recurse-submodules https://github.com/tradingstrategy-ai/eth-hentai.git ../eth-hentai
        git clone --recurse-submodules https://github.com/tradingstrategy-ai/client.git ../client
    - name: Install dependencies
      run: |
        poetry install
    - name: Run test scripts
      run: |
        poetry run pytest
      env:
        TRADING_STRATEGY_API_KEY: ${{ secrets.TRADING_STRATEGY_API_KEY }}
t

while scanning a simple key
  in "<file>", line 35, column 1
could not find expected ':'
  in "<file>", line 36, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
4:16: too many spaces inside brackets (brackets)
4:23: too many spaces inside brackets (brackets)
6:16: too many spaces inside brackets (brackets)
6:23: too many spaces inside brackets (brackets)
14:5: wrong indentation: expected 6 but found 4 (indentation)
36:1: syntax error: could not find expected ':' (syntax)

2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 79
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Automated test suite
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 3: push:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 4: branches: [ master ]
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 5: pull_request:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 6: branches: [ master ]
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 9: build:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 14: - uses: actions/checkout@v2
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 15: - name: Set up Python 3.9
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 16: uses: actions/setup-python@v2
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 18: python-version: 3.9
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 19: - name: Get poetry
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 20: run: |
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 21: pip install poetry
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 22: # See pyproject.toml for details
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 23: - name: Setup master tracked dependencies
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 24: run: |
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 25: git clone --recurse-submodules https://github.com/tradingstrategy-ai/eth-hentai.git ../eth-hentai
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 26: git clone --recurse-submodules https://github.com/tradingstrategy-ai/client.git ../client
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 27: - name: Install dependencies
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 28: run: |
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 29: poetry install
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 30: - name: Run test scripts
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 31: run: |
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 32: poetry run pytest
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 33: env:
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 34: TRADING_STRATEGY_API_KEY: ${{ secrets.TRADING_STRATEGY_API_KEY }}
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 35: t
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 37: while scanning a simple key
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 38: in "<file>", line 35, column 1
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 39: could not find expected ':'
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 40: in "<file>", line 36, column 1
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 41: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,288 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 55: We have found 16 smells
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 56: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 57: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 58: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 59: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 72: The following styling errors were found:
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 73: 4:16: too many spaces inside brackets (brackets)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 74: 4:23: too many spaces inside brackets (brackets)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 75: 6:16: too many spaces inside brackets (brackets)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 76: 6:23: too many spaces inside brackets (brackets)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 77: 14:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 라인 78: 36:1: syntax error: could not find expected ':' (syntax)
2025-11-05 15:25:28,289 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 36:1: syntax error: could not find expected ':' (syntax)
2025-11-05 15:25:28,289 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:25:28,289 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:25:28,289 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:25:28,289 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:25:28,289 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:25:28,289 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:25:28,289 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Automated test suite
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python 3.9
      uses: actions/setup-python@v2
      with:
        python-version: 3.9
    - name: Get poetry
      run: |
        pip install poetry
    # See pyproject.toml for details
    - na...
2025-11-05 15:25:28,289 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:25:28,289 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:25:28,290 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:25:28,290 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:25:38,259 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1702
2025-11-05 15:25:38,260 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:25:38,261 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:25:38,261 - main - DEBUG - 추출된 YAML:
name: Automated test suite
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python 3.9
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: Get poetry
      run: |
        pip install poetry
    # See pyproject.toml for details
    - name: Setup master tracked dependencies
      run: |
        git clone --recurse-submodules https://github.com/tradingstrategy-ai/eth-hentai.git ../eth-hentai
        git clone --recurse-submodules https://github.com/tradingstrategy-ai/client.git ../client
    - name: Install dependencies
      run: |
        poetry install
    - name: Run test scripts
      run: |
        poetry run pytest
      env:
        TRADING_STRATEGY_API_KEY: ${{ secrets.TRADING_STRATEGY_API_KEY }}
2025-11-05 15:25:38,261 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:25:38,261 - main - DEBUG - 검증할 YAML 길이: 885 문자
2025-11-05 15:25:38,261 - main - DEBUG - YAML 시작 부분: 'name: Automated test suite\non:\n  push:\n    branches: [ master ]\n  pull_request:\n    branches: [ mast'
2025-11-05 15:25:38,268 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Automated test suite', 'on': {'push': {'branches': ['master']}, 'pull_request': {'branches': ['master']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Set up Python 3.9', 'uses': 'actions/setup-python@v2', 'with': {'python-version': '3.9'}}, {'name': 'Get poetry', 'run': 'pip install poetry\n'}, {'name': 'Setup master tracked dependencies', 'run': 'git clone --recurse-submodules https://github.com/tradingstrategy-ai/eth-hentai.git ../eth-hentai\ngit clone --recurse-submodules https://github.com/tradingstrategy-ai/client.git ../client\n'}, {'name': 'Install dependencies', 'run': 'poetry install\n'}, {'name': 'Run test scripts', 'run': 'poetry run pytest\n', 'env': {'TRADING_STRATEGY_API_KEY': '${{ secrets.TRADING_STRATEGY_API_KEY }}'}}]}}}
2025-11-05 15:25:38,269 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_baseline_repaired.yml
2025-11-05 15:25:38,269 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:25:38,269 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_baseline_repaired.yml
2025-11-05 15:25:38,269 - __main__ - INFO - === 파일 96/100 베이스라인 복구 완료 ===
2025-11-05 15:25:38,269 - __main__ - INFO - ✅ 성공 (10.46초): cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8 -> cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_baseline_repaired.yml
2025-11-05 15:25:38,269 - __main__ - INFO - [97/100] 처리 중: ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 15:25:38,270 - __main__ - INFO - 입력 파일 경로: data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 15:25:38,270 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_baseline_repaired.yml
2025-11-05 15:25:38,270 - __main__ - INFO - === 파일 97/100 베이스라인 복구 시작 ===
2025-11-05 15:25:38,270 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:25:38,270 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:25:38,271 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 15:25:38,271 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:25:38,271 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:25:38,271 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 15:25:38,277 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:25:38,277 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:25:38,277 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:25:38,277 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:25:38,277 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: CI

on:
  pull_request:
  push:

jobs:
  build-and-test:
    name: build and test
    strategy:
      matrix:
        # note: we're using ubuntu-latest as a stand-in for all Linux
        # distributions. If we find we need more, we should do Docker stuff.
        os: [ubuntu-latest, macos-11] # depending on usage, maybe add macos-10.15 too
    runs-on: "${{ matrix.os }}"
    steps:
      - uses: actions/checkout@v3
      - uses: cachix/install-nix-action@v16
      - uses: cachix/cachix-action@v10
        with:
          name: nix-script
          authToken: '${{ secrets.CACHIX_AUTH_TOKEN }}'

      - run: nix build --print-build-logs

  rustfmt:
    name: rustfmt
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: cachix/install-nix-action@v16
      - uses: cachix/cachix-action@v10
        with:
          name: nix-script
          skipPush: true

      - run: nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath '*target*')

  rustfmt:
    name: clippy
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: cachix/install-nix-action@v16
      - uses: cachix/cachix-action@v10
        with:
          name: nix-script
          skipPush: true

      - run: nix develop --command cargo clippy -- --deny warnings

while constructing a mapping
  in "<file>", line 8, column 3
found duplicate key "rustfmt" with value "{'name': 'clippy', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'skipPush': True}}, {'run': 'nix develop --command cargo clippy -- --deny warnings'}]}" (original value: "{'name': 'rustfmt', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'skipPush': True}}, {'run': 'nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath \'*target*\')'}]}")
  in "<file>", line 39, column 3

To suppress this check see:
    https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys

Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 27)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
14:39: too few spaces before comment: expected 2 (comments)
39:3: duplication of key "rustfmt" in mapping (key-duplicates)

2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 95
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: CI
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 4: pull_request:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 8: build-and-test:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 9: name: build and test
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 10: strategy:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 11: matrix:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 12: # note: we're using ubuntu-latest as a stand-in for all Linux
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 13: # distributions. If we find we need more, we should do Docker stuff.
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 14: os: [ubuntu-latest, macos-11] # depending on usage, maybe add macos-10.15 too
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 15: runs-on: "${{ matrix.os }}"
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 16: steps:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 17: - uses: actions/checkout@v3
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 18: - uses: cachix/install-nix-action@v16
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 19: - uses: cachix/cachix-action@v10
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 21: name: nix-script
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 22: authToken: '${{ secrets.CACHIX_AUTH_TOKEN }}'
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 24: - run: nix build --print-build-logs
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 26: rustfmt:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 27: name: rustfmt
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 28: runs-on: ubuntu-latest
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v3
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 31: - uses: cachix/install-nix-action@v16
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 32: - uses: cachix/cachix-action@v10
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 34: name: nix-script
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 35: skipPush: true
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 37: - run: nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath '*target*')
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#run: nix develop --command rustfmt --check $(find ): -name "*.rs" -not -ipath '*target*')
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 39: rustfmt:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 40: name: clippy
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 41: runs-on: ubuntu-latest
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 42: steps:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 43: - uses: actions/checkout@v3
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 44: - uses: cachix/install-nix-action@v16
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 45: - uses: cachix/cachix-action@v10
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 46: with:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 47: name: nix-script
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 48: skipPush: true
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 50: - run: nix develop --command cargo clippy -- --deny warnings
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#unknown): run: nix develop --command cargo clippy -- --deny warnings
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 52: while constructing a mapping
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 53: in "<file>", line 8, column 3
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 54: found duplicate key "rustfmt" with value "{'name': 'clippy', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'skipPush': True}}, {'run': 'nix develop --command cargo clippy -- --deny warnings'}]}" (original value: "{'name': 'rustfmt', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'skipPush': True}}, {'run': 'nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath \'*target*\')'}]}")
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): found duplicate key "rustfmt" with value "{'name': 'clippy', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'skipPush': True}}, {'run': 'nix develop --command cargo clippy -- --deny warnings'}]}" (original value: "{'name': 'rustfmt', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'skipPush': True}}, {'run': 'nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath \'*target*\')'}]}")
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 55: in "<file>", line 39, column 3
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 57: To suppress this check see:
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 58: https://yaml.dev/doc/ruamel.yaml/api/#Duplicate_keys
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 60: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,560 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 74: We have found 17 smells
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 75: - 3. Use fixed version for runs-on argument (line 27)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 27)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 76: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 77: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 78: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 79: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 92: The following styling errors were found:
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 93: 14:39: too few spaces before comment: expected 2 (comments)
2025-11-05 15:25:38,561 - utils.process_runner - DEBUG - 라인 94: 39:3: duplication of key "rustfmt" in mapping (key-duplicates)
2025-11-05 15:25:38,561 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:25:38,561 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:25:38,561 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:25:38,561 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:25:38,561 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:25:38,561 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:25:38,561 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: CI

on:
  pull_request:
  push:

jobs:
  build-and-test:
    name: build and test
    strategy:
      matrix:
        # note: we're using ubuntu-latest as a stand-in for all Linux
        # distributions. If we find we need more, we should do Docker stuff.
        os: [ubuntu-latest, macos-11] # depending on usage, maybe add macos-10.15 too
    runs-on: "${{ matrix.os }}"
    steps:
      - uses: a...
2025-11-05 15:25:38,561 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:25:38,561 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:25:38,561 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:25:38,562 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:25:51,858 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 2004
2025-11-05 15:25:51,858 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:25:51,859 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:25:51,859 - main - DEBUG - 추출된 YAML:
name: CI

on:
  pull_request:
  push:

jobs:
  build-and-test:
    name: build and test
    strategy:
      matrix:
        # note: we're using ubuntu-latest as a stand-in for all Linux
        # distributions. If we find we need more, we should do Docker stuff.
        os: [ubuntu-latest, macos-11] # depending on usage, maybe add macos-10.15 too
    runs-on: "${{ matrix.os }}"
    steps:
      - uses: actions/checkout@v3
      - uses: cachix/install-nix-action@v16
      - uses: cachix/cachix-action@v10
        with:
          name: nix-script
          authToken: '${{ secrets.CACHIX_AUTH_TOKEN }}'

      - run: nix build --print-build-logs

  rustfmt-and-clippy:
    name: rustfmt and clippy
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: cachix/install-nix-action@v16
      - uses: cachix/cachix-action@v10
        with:
          name: nix-script
          skipPush: true

      - run: nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath '*target*')
      - run: nix develop --command cargo clippy -- --deny warnings
2025-11-05 15:25:51,859 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:25:51,859 - main - DEBUG - 검증할 YAML 길이: 1086 문자
2025-11-05 15:25:51,859 - main - DEBUG - YAML 시작 부분: 'name: CI\n\non:\n  pull_request:\n  push:\n\njobs:\n  build-and-test:\n    name: build and test\n    strategy'
2025-11-05 15:25:51,867 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'pull_request': None, 'push': None}, 'jobs': {'build-and-test': {'name': 'build and test', 'strategy': {'matrix': {'os': ['ubuntu-latest', 'macos-11']}}, 'runs-on': '${{ matrix.os }}', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'authToken': '${{ secrets.CACHIX_AUTH_TOKEN }}'}}, {'run': 'nix build --print-build-logs'}]}, 'rustfmt-and-clippy': {'name': 'rustfmt and clippy', 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v3'}, {'uses': 'cachix/install-nix-action@v16'}, {'uses': 'cachix/cachix-action@v10', 'with': {'name': 'nix-script', 'skipPush': True}}, {'run': 'nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath \'*target*\')'}, {'run': 'nix develop --command cargo clippy -- --deny warnings'}]}}}
2025-11-05 15:25:51,868 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_baseline_repaired.yml
2025-11-05 15:25:51,868 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:25:51,868 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_baseline_repaired.yml
2025-11-05 15:25:51,868 - __main__ - INFO - === 파일 97/100 베이스라인 복구 완료 ===
2025-11-05 15:25:51,868 - __main__ - INFO - ✅ 성공 (13.60초): ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98 -> ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_baseline_repaired.yml
2025-11-05 15:25:51,868 - __main__ - INFO - [98/100] 처리 중: 330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 15:25:51,868 - __main__ - INFO - 입력 파일 경로: data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 15:25:51,869 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_baseline_repaired.yml
2025-11-05 15:25:51,869 - __main__ - INFO - === 파일 98/100 베이스라인 복구 시작 ===
2025-11-05 15:25:51,869 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:25:51,869 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:25:51,869 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 15:25:51,869 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:25:51,870 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:25:51,870 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 15:25:51,874 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 15:25:51,874 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:25:51,874 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:25:51,874 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:25:51,875 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 15:25:52,144 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.27초)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Update translation files

on: [workflow_dispatch]

jobs:
  build-linux:
    strategy:
      fail-fast: false

    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3
        with:
          submodules: true

      - name: Install Qt
        uses: jurplel/install-qt-action@v3
        with:
          version: '6.4.2'

      - name: Run lupdate
        run: lupdate src/NotepadNext.pro

      - name: Commit translation changes
        uses: stefanzweifel/git-auto-commit-action@v4
          with:
            commit_message: Update translation files
            file_pattern: 'i18n/*.ts'
mapping values are not allowed here
  in "<file>", line 28, column 15
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
28:15: syntax error: mapping values are not allowed here (syntax)

2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 68
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Update translation files
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 3: on: [workflow_dispatch]
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 5: jobs:
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 6: build-linux:
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 7: strategy:
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 8: fail-fast: false
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-latest
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 12: steps:
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 13: - name: Checkout Repository
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 14: uses: actions/checkout@v3
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 15: with:
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 16: submodules: true
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 18: - name: Install Qt
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 19: uses: jurplel/install-qt-action@v3
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 21: version: '6.4.2'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 23: - name: Run lupdate
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 24: run: lupdate src/NotepadNext.pro
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 26: - name: Commit translation changes
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 27: uses: stefanzweifel/git-auto-commit-action@v4
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 28: with:
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 29: commit_message: Update translation files
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 30: file_pattern: 'i18n/*.ts'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 31: mapping values are not allowed here
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 32: in "<file>", line 28, column 15
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 33: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 47: We have found 18 smells
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 48: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 49: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 50: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 51: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 52: - 12. Avoid workflows without comments
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 53: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:52,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 66: The following styling errors were found:
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 라인 67: 28:15: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:25:52,146 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 28:15: syntax error: mapping values are not allowed here (syntax)
2025-11-05 15:25:52,146 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:25:52,146 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:25:52,146 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:25:52,146 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:25:52,146 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:25:52,146 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:25:52,146 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Update translation files

on: [workflow_dispatch]

jobs:
  build-linux:
    strategy:
      fail-fast: false

    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3
        with:
          submodules: true

      - name: Install Qt
        uses: jurplel/install-qt-action@v3
        with:
          version: '6.4.2'

      - name: Run lupdate
      ...
2025-11-05 15:25:52,146 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:25:52,146 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:25:52,146 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:25:52,147 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:26:02,296 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1765
2025-11-05 15:26:02,297 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:26:02,297 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:26:02,297 - main - DEBUG - 추출된 YAML:
name: Update translation files

on:
  workflow_dispatch:

jobs:
  build-linux:
    runs-on: ubuntu-latest
    strategy:
      fail-fast: false

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3
        with:
          submodules: true

      - name: Install Qt
        uses: jurplel/install-qt-action@v3
        with:
          version: '6.4.2'

      - name: Run lupdate
        run: |
          lupdate src/NotepadNext.pro

      - name: Commit translation changes
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: Update translation files
          file_pattern: 'i18n/*.ts'
2025-11-05 15:26:02,297 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:26:02,297 - main - DEBUG - 검증할 YAML 길이: 650 문자
2025-11-05 15:26:02,297 - main - DEBUG - YAML 시작 부분: 'name: Update translation files\n\non:\n  workflow_dispatch:\n\njobs:\n  build-linux:\n    runs-on: ubuntu-l'
2025-11-05 15:26:02,304 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Update translation files', 'on': {'workflow_dispatch': None}, 'jobs': {'build-linux': {'runs-on': 'ubuntu-latest', 'strategy': {'fail-fast': False}, 'steps': [{'name': 'Checkout Repository', 'uses': 'actions/checkout@v3', 'with': {'submodules': True}}, {'name': 'Install Qt', 'uses': 'jurplel/install-qt-action@v3', 'with': {'version': '6.4.2'}}, {'name': 'Run lupdate', 'run': 'lupdate src/NotepadNext.pro\n'}, {'name': 'Commit translation changes', 'uses': 'stefanzweifel/git-auto-commit-action@v4', 'with': {'commit_message': 'Update translation files', 'file_pattern': 'i18n/*.ts'}}]}}}
2025-11-05 15:26:02,304 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_baseline_repaired.yml
2025-11-05 15:26:02,304 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:26:02,304 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_baseline_repaired.yml
2025-11-05 15:26:02,304 - __main__ - INFO - === 파일 98/100 베이스라인 복구 완료 ===
2025-11-05 15:26:02,305 - __main__ - INFO - ✅ 성공 (10.44초): 330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8 -> 330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_baseline_repaired.yml
2025-11-05 15:26:02,305 - __main__ - INFO - [99/100] 처리 중: 1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 15:26:02,305 - __main__ - INFO - 입력 파일 경로: data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 15:26:02,305 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_baseline_repaired.yml
2025-11-05 15:26:02,305 - __main__ - INFO - === 파일 99/100 베이스라인 복구 시작 ===
2025-11-05 15:26:02,305 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:26:02,305 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:26:02,306 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 15:26:02,306 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:26:02,306 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:26:02,306 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 15:26:02,313 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 15:26:02,313 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:26:02,313 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:26:02,313 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:26:02,313 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Extension scripts

on:
  push:
    branches: [ "master" ]
    paths:
      - versions.txt
  pull_request_target:
    branches: [ "master" ]

env:
  CPM_SOURCE_CACHE: ${{ github.workspace }}/cpm_modules

jobs:
  approve:
    runs-on: ubuntu-latest

    steps:
      - name: Approve
        run: echo For security reasons, all pull requests need to be approved first before running any automated CI.

  extscripts:

    name: Extension scripts

    strategy:
      matrix:
        pgver: [ 16, 15, 14, 13 ]
        os: [ { name: ubuntu, image: warp-ubuntu-latest-x64-4x, arch: x86-64 }, { name: macos, image: warp-macos-14-arm64-6x, arch: arm } ]
        build_type: [ Release ]
        exclude:
        - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
            pgver: 15
        - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
            pgver: 14
        - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
            pgver: 13
      fail-fast: false

    env:
      AWS_ACCESS_KEY_ID: ${{ secrets.CI_AWS_ACCESS_KEY_ID }}
      AWS_SECRET_ACCESS_KEY: ${{ secrets.CI_AWS_SECRET_ACCESS_KEY }}
      # public domain for downloading extensions and index.json file
      OMNIGRES_INDEX_DOMAIN: "index.omnigres.com"
      # only accessible in tailnet
      OMNIGRES_INDEX_HOST: omnigres-index
      MATRIX_COMBINATION: ${{ matrix.pgver }}/${{ matrix.build_type }}/${{ matrix.os.name }}-${{ matrix.os.arch }}
      # omnigres bucket for storing extension tar files
      OMNIGRES_S3_BUCKET: omnigres-ext-semver

    runs-on: ${{ matrix.os.image }}

    needs: [ approve ] # Require the first step to finish
    environment: ${{ (github.event_name == 'push' || contains(fromJSON(vars.AUTO_APPROVED_CONTRIBUTORS), github.event.pull_request.user.login) || contains(fromJSON('["OWNER", "MEMBER"]'), github.event.pull_request.author_association)) && 'master' || 'Integrate Pull Request' }}

    steps:

      - uses: actions/checkout@v3
        if: github.event_name == 'push'
        with:
          fetch-depth: all

      - uses: actions/checkout@v3
        if: github.event_name != 'push'
        with:
          ref: ${{ github.event.pull_request.head.sha }}
          fetch-depth: all

      # This is done to address the problem on macOS where .pg built in a directory of one
      # GitHub Action runner won't work when restored in another one since dylds have install_name pointing
      # to the original location. We include the hash of their path into the cache name.
      - name: Get path hash
        if: matrix.os.name == 'macos'
        run: |
          echo "PATH_SUFFIX=-$(pwd | sha256sum | awk '{print $1}')" >> $GITHUB_ENV

      # On other systems, make it explicitly empty
      - name: Get path hash
        if: matrix.os.name != 'macos'
        run: |
          echo "PATH_SUFFIX=" >> $GITHUB_ENV

      - uses: actions/cache@v3
        with:
          path: .pg
          key: ${{ matrix.os.image }}-pg-${{ matrix.pgver }}-${{ matrix.build_type }}-${{ hashFiles('cmake/FindPostgreSQL.cmake') }}${{ env.PATH_SUFFIX }}

      - uses: actions/cache@v3
        with:
          path: ${{github.workspace}}/build/_deps
          key: ${{ github.workflow }}-cpm-modules-${{ hashFiles('extensions/**/CMakeLists.txt', '*/CMakeLists.txt', 'cmake/*.cmake') }}

      - name: Configure
        # Configure CMake in a 'build' subdirectory. `CMAKE_BUILD_TYPE` is only required if you are using a single-configuration generator such as make.
        # See https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html?highlight=cmake_build_type
        run: cmake -B ${{ github.workspace }}/build -DCMAKE_BUILD_TYPE=${{ matrix.build_type }} -DPGVER=${{ matrix.pgver }}

      - name: Build
        run: cmake --build ${{github.workspace}}/build --parallel --config ${{matrix.build_type}}

      - name: Package extensions
        run: cmake --build ${{github.workspace}}/build --parallel --target package_extensions

      - name: Get modified directories
        if: ${{ github.event_name }} != 'push'
        id: modified-dirs
        uses: tj-actions/changed-files@v42
        with:
          base_sha: ${{ github.event.pull_request.base.sha }}
          dir_names: true
          escape_json: false
          json: true
          files_ignore: |
            **/*.md
            **/*.txt
            **/*.yml

      - name: Prepare extension files for s3 upload
        id: new_ext_releases
        working-directory: ${{ github.workspace }}/build
        run: |
          S3_FILES_DIR=packaged/s3
          mkdir -p $S3_FILES_DIR
          
          # directory to sync with s3 bucket
          S3_FILES_UPLOAD_DIR=$S3_FILES_DIR/output
          mkdir -p $S3_FILES_UPLOAD_DIR
          
          index_contents=$(curl --fail-with-body https://${{ env.OMNIGRES_INDEX_DOMAIN }}/${{ env.MATRIX_COMBINATION }}/index.json | jq .)
          
          echo "index_contents: $index_contents"
          
          # used for generating upgrade scripts later
          echo $index_contents > $S3_FILES_DIR/index.json
          
          format_version=$(echo $index_contents | jq ".format_version")
          if [ $format_version != 1 ]; then
            echo "unrecognised format_version: \"$format_version\", make changes to this workflow to work with newer format_version" && exit 1
          fi
          
          # used to check whether any releases were created
          new_ext_releases=""
          
          if [ ${{ github.event_name }} = push ]; then
            # last commit before the push
            git show ${{ github.event.before }}:../versions.txt > old_versions.txt
          else
            # last commit of target branch of PR
            git show ${{ github.event.pull_request.base.sha }}:../versions.txt > old_versions.txt
          fi
          
          while read -r line; do
            # extension artifact format: name=1.2.2#dep1=1.0.1,dep2=2.3.1
            ext_name_with_version=$(echo $line | cut -d "#" -f 1)
            ext_name=$(echo $ext_name_with_version | cut -d "=" -f 1)
            ext_ver=$(echo $ext_name_with_version | cut -d "=" -f 2)
          
            if [ $ext_ver = unreleased ]; then
              if [ $(echo $index_contents | jq ".extensions.$ext_name") != null ]; then
                echo "$ext_name has already been released, can't go back to unreleased" && exit 1
              fi
              echo "skipping $ext_name because version is unreleased"
              continue
            fi
          
            commit_sha=$(echo $index_contents | jq ".extensions.$ext_name.\"$ext_ver\"")
          
            # prepare extension release only if 
            # 1. release is not yet uploaded (commit_sha is null), it may have been already uploaded in case this workflow is rerun
            # 2. release version is different between versions.txt and old_versions.txt
            if [ $commit_sha = null ] && [ "$(egrep "^$ext_name=" old_versions.txt)" != "$(egrep "^$ext_name=" ../versions.txt)" ]; then
          
              # extension specific directory
              EXTENSION_DIR=$S3_FILES_DIR/$ext_name
              mkdir $EXTENSION_DIR
          
              cp packaged/extension/{$ext_name--$ext_ver.sql,$ext_name--$ext_ver.control,$ext_name.control} $EXTENSION_DIR/
          
              if [ -f packaged/$ext_name--$ext_ver.so ]; then
                  mkdir $EXTENSION_DIR/lib
                  cp packaged/$ext_name--$ext_ver.so $EXTENSION_DIR/lib/
              fi
          
              if [ -z $new_ext_releases ]; then
                new_ext_releases+="$ext_name=$ext_ver"
              else
                new_ext_releases+="&$ext_name=$ext_ver"
              fi
          
              # generate upgrade scripts only if there are existing releases of an extension
              if [ $(echo $index_contents | jq ".extensions.$ext_name | length") -gt 0 ]; then
                export TMPDIR=$RUNNER_TEMP
                export BUILD_TYPE=${{ matrix.build_type }}
                export DEST_DIR=_migrations
                mkdir -p $DEST_DIR
                export PG_CONFIG=$(find ../.pg -name pg_config -type f \( -perm -u=x -o -perm -g=x -o -perm -o=x \) | grep -v src | head -n 1)
                echo "Using $PG_CONFIG"
                ../generate-upgrades.sh $S3_FILES_DIR/index.json $ext_name $ext_ver || exit 1
          
                # generate-upgrades.sh places the generated upgrade files in $DEST_DIR
                cp $DEST_DIR/packaged/$ext_name--*.sql $EXTENSION_DIR/
              fi
          
              # store artifacts.txt containing only released versions
              cat artifacts.txt | grep -v unreleased > $EXTENSION_DIR/artifacts.txt
              tar -C $EXTENSION_DIR -zcvf "$S3_FILES_UPLOAD_DIR/$ext_name--$ext_ver.tar.gz" .
          
              source venv/bin/activate  
              # populate dependency files of the extension in DESTINATION_DIR
              DESTINATION_DIR=$EXTENSION_DIR \
              TMPDIR=$RUNNER_TEMP \
              python ../tools/package_extension_with_dependencies.py $EXTENSION_DIR/artifacts.txt $ext_name $ext_ver
          
              tar -C $EXTENSION_DIR -zcvf "$S3_FILES_UPLOAD_DIR/$ext_name--$ext_ver-with-dependencies.tar.gz" .
          
            else
              # check if version is bumped for extension file changes
              if [ ${{ github.event_name }} != 'push' ]; then
                modified_dirs='${{ steps.modified-dirs.outputs.all_modified_files }}'
                # check if extensions/$ext_name is a modified dir
                if [ $(echo $modified_dirs | jq "[.[] | test(\"^extensions/$ext_name$\")] | any") = true ] || [ $(echo $modified_dirs | jq "[.[] | test(\"^extensions/$ext_name/\")] | any") = true ]; then
                  echo "some files belonging to $ext_name are modified and $ext_ver is an already released version," \
                       "please change the version to create new release" && exit 1
                fi
                # check if extensions/<some-ext>/migrate/$ext_name is a modified dir
                if [ $(echo $modified_dirs | jq "any(endswith(\"migrate/$ext_name\"))") = true ]; then
                  echo "some files belonging to $ext_name are modified and $ext_ver is an already released version," \
                       "please change the version to create new release" && exit 1
                fi
              fi
            fi
          done < artifacts.txt
          
          echo "S3_FILES_UPLOAD_DIR=$S3_FILES_UPLOAD_DIR" >> "$GITHUB_OUTPUT"
          
          # this will be the post body for creating new extension versions in omnigres-index after s3 upload
          echo "POST_BODY=$new_ext_releases" >> "$GITHUB_OUTPUT"

      - name: Tailscale
        uses: omnigres/tailscale-github-action@acfb679296986fae0eba66aadc3a9b40edfb287b #tailscale/github-action@v2
        with:
          oauth-client-id: ${{ secrets.TS_OAUTH_CLIENT_ID }}
          oauth-secret: ${{ secrets.TS_OAUTH_SECRET }}
          tags: tag:ci

      - name: Pretend to sync back to S3
        working-directory: ${{ github.workspace }}/build
        if: github.event_name != 'push'
        run: |
          POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
          
          if [ -z "$POST_BODY" ]; then
            echo "no new extension versions were released"
          else
            S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
            aws s3 sync --dryrun $S3_FILES_UPLOAD_DIR  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
          fi

      - name: Sync back to S3
        working-directory: ${{ github.workspace }}/build
        if: github.event_name == 'push'
        run: |
          POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
          
          if [ -z "$POST_BODY" ]; then
            echo "no new extension versions were released"
          else
            S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
            aws s3 sync "$S3_FILES_UPLOAD_DIR"  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
          
            # update omnigres-index with new extension version releases after s3 upload
            curl --fail-with-body -d "$POST_BODY" http://${{ env.OMNIGRES_INDEX_HOST }}/${{ env.MATRIX_COMBINATION }}/extensions?commit_sha=${{ github.sha }}
          fi

while parsing a block mapping
  in "<file>", line 32, column 11
expected <block end>, but found '<block mapping start>'
  in "<file>", line 33, column 13
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 106)
	- 8. Use commit hash instead of tags for action versions (line 82)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
5:16: too many spaces inside brackets (brackets)
5:25: too many spaces inside brackets (brackets)
9:16: too many spaces inside brackets (brackets)
9:25: too many spaces inside brackets (brackets)
28:17: too many spaces inside brackets (brackets)
28:32: too many spaces inside brackets (brackets)
29:14: too many spaces inside brackets (brackets)
29:16: too many spaces inside braces (braces)
29:77: too many spaces inside braces (braces)
29:82: too many spaces inside braces (braces)
29:136: too many spaces inside braces (braces)
29:138: too many spaces inside brackets (brackets)
30:22: too many spaces inside brackets (brackets)
30:30: too many spaces inside brackets (brackets)
32:9: wrong indentation: expected 10 but found 8 (indentation)
32:16: too many spaces inside braces (braces)
32:70: too many spaces inside braces (braces)
33:13: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
34:16: too many spaces inside braces (braces)
34:70: too many spaces inside braces (braces)
35:13: wrong indentation: expected 10 but found 12 (indentation)
36:16: too many spaces inside braces (braces)
36:70: too many spaces inside braces (braces)
37:13: wrong indentation: expected 10 but found 12 (indentation)
53:13: too many spaces inside brackets (brackets)
53:21: too many spaces inside brackets (brackets)
53:24: too few spaces before comment: expected 2 (comments)
124:1: trailing spaces (trailing-spaces)
128:1: trailing spaces (trailing-spaces)
130:1: trailing spaces (trailing-spaces)
132:1: trailing spaces (trailing-spaces)
135:1: trailing spaces (trailing-spaces)
140:1: trailing spaces (trailing-spaces)
143:1: trailing spaces (trailing-spaces)
151:1: trailing spaces (trailing-spaces)
157:1: trailing spaces (trailing-spaces)
165:1: trailing spaces (trailing-spaces)
167:1: trailing spaces (trailing-spaces)
168:48: trailing spaces (trailing-spaces)
172:1: trailing spaces (trailing-spaces)
176:1: trailing spaces (trailing-spaces)
178:1: trailing spaces (trailing-spaces)
183:1: trailing spaces (trailing-spaces)
189:1: trailing spaces (trailing-spaces)
199:1: trailing spaces (trailing-spaces)
203:1: trailing spaces (trailing-spaces)
207:1: trailing spaces (trailing-spaces)
208:39: trailing spaces (trailing-spaces)
213:1: trailing spaces (trailing-spaces)
215:1: trailing spaces (trailing-spaces)
233:1: trailing spaces (trailing-spaces)
235:1: trailing spaces (trailing-spaces)
240:89: too few spaces before comment: expected 2 (comments)
240:90: missing starting space in comment (comments)
251:1: trailing spaces (trailing-spaces)
264:1: trailing spaces (trailing-spaces)
270:1: trailing spaces (trailing-spaces)

2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 369
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Extension scripts
2025-11-05 15:26:02,638 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 5: branches: [ "master" ]
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 6: paths:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 7: - versions.txt
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 8: pull_request_target:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 9: branches: [ "master" ]
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 11: env:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 12: CPM_SOURCE_CACHE: ${{ github.workspace }}/cpm_modules
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 14: jobs:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 15: approve:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 16: runs-on: ubuntu-latest
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 18: steps:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 19: - name: Approve
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 20: run: echo For security reasons, all pull requests need to be approved first before running any automated CI.
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 22: extscripts:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 24: name: Extension scripts
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 26: strategy:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 27: matrix:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 28: pgver: [ 16, 15, 14, 13 ]
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 29: os: [ { name: ubuntu, image: warp-ubuntu-latest-x64-4x, arch: x86-64 }, { name: macos, image: warp-macos-14-arm64-6x, arch: arm } ]
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 30: build_type: [ Release ]
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 31: exclude:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 32: - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 33: pgver: 15
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 34: - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 35: pgver: 14
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 36: - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 37: pgver: 13
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 38: fail-fast: false
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 40: env:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 41: AWS_ACCESS_KEY_ID: ${{ secrets.CI_AWS_ACCESS_KEY_ID }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 42: AWS_SECRET_ACCESS_KEY: ${{ secrets.CI_AWS_SECRET_ACCESS_KEY }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 43: # public domain for downloading extensions and index.json file
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 44: OMNIGRES_INDEX_DOMAIN: "index.omnigres.com"
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 45: # only accessible in tailnet
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 46: OMNIGRES_INDEX_HOST: omnigres-index
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 47: MATRIX_COMBINATION: ${{ matrix.pgver }}/${{ matrix.build_type }}/${{ matrix.os.name }}-${{ matrix.os.arch }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 48: # omnigres bucket for storing extension tar files
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 49: OMNIGRES_S3_BUCKET: omnigres-ext-semver
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 51: runs-on: ${{ matrix.os.image }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 53: needs: [ approve ] # Require the first step to finish
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 54: environment: ${{ (github.event_name == 'push' || contains(fromJSON(vars.AUTO_APPROVED_CONTRIBUTORS), github.event.pull_request.user.login) || contains(fromJSON('["OWNER", "MEMBER"]'), github.event.pull_request.author_association)) && 'master' || 'Integrate Pull Request' }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 56: steps:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 58: - uses: actions/checkout@v3
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 59: if: github.event_name == 'push'
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 60: with:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 61: fetch-depth: all
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 63: - uses: actions/checkout@v3
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 64: if: github.event_name != 'push'
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 65: with:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 66: ref: ${{ github.event.pull_request.head.sha }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 67: fetch-depth: all
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 69: # This is done to address the problem on macOS where .pg built in a directory of one
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 70: # GitHub Action runner won't work when restored in another one since dylds have install_name pointing
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 71: # to the original location. We include the hash of their path into the cache name.
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 72: - name: Get path hash
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 73: if: matrix.os.name == 'macos'
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 74: run: |
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 75: echo "PATH_SUFFIX=-$(pwd | sha256sum | awk '{print $1}')" >> $GITHUB_ENV
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 77: # On other systems, make it explicitly empty
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 78: - name: Get path hash
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 79: if: matrix.os.name != 'macos'
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 80: run: |
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 81: echo "PATH_SUFFIX=" >> $GITHUB_ENV
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 83: - uses: actions/cache@v3
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 84: with:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 85: path: .pg
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 86: key: ${{ matrix.os.image }}-pg-${{ matrix.pgver }}-${{ matrix.build_type }}-${{ hashFiles('cmake/FindPostgreSQL.cmake') }}${{ env.PATH_SUFFIX }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 88: - uses: actions/cache@v3
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 89: with:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 90: path: ${{github.workspace}}/build/_deps
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 91: key: ${{ github.workflow }}-cpm-modules-${{ hashFiles('extensions/**/CMakeLists.txt', '*/CMakeLists.txt', 'cmake/*.cmake') }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 93: - name: Configure
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 94: # Configure CMake in a 'build' subdirectory. `CMAKE_BUILD_TYPE` is only required if you are using a single-configuration generator such as make.
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 95: # See https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html?highlight=cmake_build_type
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 96: run: cmake -B ${{ github.workspace }}/build -DCMAKE_BUILD_TYPE=${{ matrix.build_type }} -DPGVER=${{ matrix.pgver }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 98: - name: Build
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 99: run: cmake --build ${{github.workspace}}/build --parallel --config ${{matrix.build_type}}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 101: - name: Package extensions
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 102: run: cmake --build ${{github.workspace}}/build --parallel --target package_extensions
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 104: - name: Get modified directories
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 105: if: ${{ github.event_name }} != 'push'
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 106: id: modified-dirs
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 107: uses: tj-actions/changed-files@v42
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 108: with:
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 109: base_sha: ${{ github.event.pull_request.base.sha }}
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 110: dir_names: true
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 111: escape_json: false
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 112: json: true
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 113: files_ignore: |
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 114: **/*.md
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 115: **/*.txt
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 116: **/*.yml
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 118: - name: Prepare extension files for s3 upload
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 119: id: new_ext_releases
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 120: working-directory: ${{ github.workspace }}/build
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 121: run: |
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 122: S3_FILES_DIR=packaged/s3
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 123: mkdir -p $S3_FILES_DIR
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 125: # directory to sync with s3 bucket
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 126: S3_FILES_UPLOAD_DIR=$S3_FILES_DIR/output
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 127: mkdir -p $S3_FILES_UPLOAD_DIR
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 129: index_contents=$(curl --fail-with-body https://${{ env.OMNIGRES_INDEX_DOMAIN }}/${{ env.MATRIX_COMBINATION }}/index.json | jq .)
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 131: echo "index_contents: $index_contents"
2025-11-05 15:26:02,639 - utils.process_runner - DEBUG - 라인 133: # used for generating upgrade scripts later
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 134: echo $index_contents > $S3_FILES_DIR/index.json
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 136: format_version=$(echo $index_contents | jq ".format_version")
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 137: if [ $format_version != 1 ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 138: echo "unrecognised format_version: \"$format_version\", make changes to this workflow to work with newer format_version" && exit 1
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 139: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 141: # used to check whether any releases were created
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 142: new_ext_releases=""
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 144: if [ ${{ github.event_name }} = push ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 145: # last commit before the push
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 146: git show ${{ github.event.before }}:../versions.txt > old_versions.txt
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 147: else
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 148: # last commit of target branch of PR
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 149: git show ${{ github.event.pull_request.base.sha }}:../versions.txt > old_versions.txt
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 150: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 152: while read -r line; do
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 153: # extension artifact format: name=1.2.2#dep1=1.0.1,dep2=2.3.1
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 154: ext_name_with_version=$(echo $line | cut -d "#" -f 1)
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 155: ext_name=$(echo $ext_name_with_version | cut -d "=" -f 1)
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 156: ext_ver=$(echo $ext_name_with_version | cut -d "=" -f 2)
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 158: if [ $ext_ver = unreleased ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 159: if [ $(echo $index_contents | jq ".extensions.$ext_name") != null ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 160: echo "$ext_name has already been released, can't go back to unreleased" && exit 1
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 161: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 162: echo "skipping $ext_name because version is unreleased"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 163: continue
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 164: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 166: commit_sha=$(echo $index_contents | jq ".extensions.$ext_name.\"$ext_ver\"")
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 168: # prepare extension release only if
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 169: # 1. release is not yet uploaded (commit_sha is null), it may have been already uploaded in case this workflow is rerun
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 170: # 2. release version is different between versions.txt and old_versions.txt
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 171: if [ $commit_sha = null ] && [ "$(egrep "^$ext_name=" old_versions.txt)" != "$(egrep "^$ext_name=" ../versions.txt)" ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 173: # extension specific directory
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 174: EXTENSION_DIR=$S3_FILES_DIR/$ext_name
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 175: mkdir $EXTENSION_DIR
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 177: cp packaged/extension/{$ext_name--$ext_ver.sql,$ext_name--$ext_ver.control,$ext_name.control} $EXTENSION_DIR/
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 179: if [ -f packaged/$ext_name--$ext_ver.so ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 180: mkdir $EXTENSION_DIR/lib
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 181: cp packaged/$ext_name--$ext_ver.so $EXTENSION_DIR/lib/
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 182: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 184: if [ -z $new_ext_releases ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 185: new_ext_releases+="$ext_name=$ext_ver"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 186: else
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 187: new_ext_releases+="&$ext_name=$ext_ver"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 188: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 190: # generate upgrade scripts only if there are existing releases of an extension
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 191: if [ $(echo $index_contents | jq ".extensions.$ext_name | length") -gt 0 ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 192: export TMPDIR=$RUNNER_TEMP
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 193: export BUILD_TYPE=${{ matrix.build_type }}
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 194: export DEST_DIR=_migrations
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 195: mkdir -p $DEST_DIR
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 196: export PG_CONFIG=$(find ../.pg -name pg_config -type f \( -perm -u=x -o -perm -g=x -o -perm -o=x \) | grep -v src | head -n 1)
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 197: echo "Using $PG_CONFIG"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 198: ../generate-upgrades.sh $S3_FILES_DIR/index.json $ext_name $ext_ver || exit 1
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 200: # generate-upgrades.sh places the generated upgrade files in $DEST_DIR
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 201: cp $DEST_DIR/packaged/$ext_name--*.sql $EXTENSION_DIR/
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 202: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 204: # store artifacts.txt containing only released versions
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 205: cat artifacts.txt | grep -v unreleased > $EXTENSION_DIR/artifacts.txt
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 206: tar -C $EXTENSION_DIR -zcvf "$S3_FILES_UPLOAD_DIR/$ext_name--$ext_ver.tar.gz" .
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 208: source venv/bin/activate
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 209: # populate dependency files of the extension in DESTINATION_DIR
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 210: DESTINATION_DIR=$EXTENSION_DIR \
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 211: TMPDIR=$RUNNER_TEMP \
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 212: python ../tools/package_extension_with_dependencies.py $EXTENSION_DIR/artifacts.txt $ext_name $ext_ver
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 214: tar -C $EXTENSION_DIR -zcvf "$S3_FILES_UPLOAD_DIR/$ext_name--$ext_ver-with-dependencies.tar.gz" .
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 216: else
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 217: # check if version is bumped for extension file changes
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 218: if [ ${{ github.event_name }} != 'push' ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 219: modified_dirs='${{ steps.modified-dirs.outputs.all_modified_files }}'
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 220: # check if extensions/$ext_name is a modified dir
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 221: if [ $(echo $modified_dirs | jq "[.[] | test(\"^extensions/$ext_name$\")] | any") = true ] || [ $(echo $modified_dirs | jq "[.[] | test(\"^extensions/$ext_name/\")] | any") = true ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 222: echo "some files belonging to $ext_name are modified and $ext_ver is an already released version," \
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 223: "please change the version to create new release" && exit 1
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 224: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 225: # check if extensions/<some-ext>/migrate/$ext_name is a modified dir
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 226: if [ $(echo $modified_dirs | jq "any(endswith(\"migrate/$ext_name\"))") = true ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 227: echo "some files belonging to $ext_name are modified and $ext_ver is an already released version," \
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 228: "please change the version to create new release" && exit 1
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 229: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 230: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 231: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 232: done < artifacts.txt
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 234: echo "S3_FILES_UPLOAD_DIR=$S3_FILES_UPLOAD_DIR" >> "$GITHUB_OUTPUT"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 236: # this will be the post body for creating new extension versions in omnigres-index after s3 upload
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 237: echo "POST_BODY=$new_ext_releases" >> "$GITHUB_OUTPUT"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 239: - name: Tailscale
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 240: uses: omnigres/tailscale-github-action@acfb679296986fae0eba66aadc3a9b40edfb287b #tailscale/github-action@v2
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 241: with:
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 242: oauth-client-id: ${{ secrets.TS_OAUTH_CLIENT_ID }}
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 243: oauth-secret: ${{ secrets.TS_OAUTH_SECRET }}
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 244: tags: tag:ci
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 246: - name: Pretend to sync back to S3
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 247: working-directory: ${{ github.workspace }}/build
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 248: if: github.event_name != 'push'
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 249: run: |
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 250: POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 252: if [ -z "$POST_BODY" ]; then
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 253: echo "no new extension versions were released"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 254: else
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 255: S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 256: aws s3 sync --dryrun $S3_FILES_UPLOAD_DIR  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 257: fi
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 259: - name: Sync back to S3
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 260: working-directory: ${{ github.workspace }}/build
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 261: if: github.event_name == 'push'
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 262: run: |
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 263: POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
2025-11-05 15:26:02,640 - utils.process_runner - DEBUG - 라인 265: if [ -z "$POST_BODY" ]; then
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 266: echo "no new extension versions were released"
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 267: else
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 268: S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 269: aws s3 sync "$S3_FILES_UPLOAD_DIR"  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 271: # update omnigres-index with new extension version releases after s3 upload
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 272: curl --fail-with-body -d "$POST_BODY" http://${{ env.OMNIGRES_INDEX_HOST }}/${{ env.MATRIX_COMBINATION }}/extensions?commit_sha=${{ github.sha }}
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 273: fi
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 275: while parsing a block mapping
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 276: in "<file>", line 32, column 11
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 277: expected <block end>, but found '<block mapping start>'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 278: in "<file>", line 33, column 13
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 279: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 280: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 281: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 282: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 283: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 284: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 285: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 286: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 287: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 288: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 289: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 290: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 291: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 292: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 293: We have found 17 smells
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 294: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 295: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 296: - 8. Use commit hash instead of tags for action versions (line 106)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 106)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 297: - 8. Use commit hash instead of tags for action versions (line 82)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 82)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 298: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 299: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 300: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 301: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 302: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 303: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 304: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 305: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 306: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 307: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 308: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 309: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 310: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 311: The following styling errors were found:
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 312: 5:16: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 313: 5:25: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 314: 9:16: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 315: 9:25: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 316: 28:17: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 317: 28:32: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 318: 29:14: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 319: 29:16: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 320: 29:77: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 321: 29:82: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 322: 29:136: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 323: 29:138: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 324: 30:22: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 325: 30:30: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 326: 32:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 327: 32:16: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 328: 32:70: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 329: 33:13: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 33:13: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 330: 34:16: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 331: 34:70: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 332: 35:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 333: 36:16: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 334: 36:70: too many spaces inside braces (braces)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 335: 37:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 336: 53:13: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,641 - utils.process_runner - DEBUG - 라인 337: 53:21: too many spaces inside brackets (brackets)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 338: 53:24: too few spaces before comment: expected 2 (comments)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 339: 124:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 340: 128:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 341: 130:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 342: 132:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 343: 135:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 344: 140:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 345: 143:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 346: 151:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 347: 157:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 348: 165:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 349: 167:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 350: 168:48: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 351: 172:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 352: 176:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 353: 178:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 354: 183:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 355: 189:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 356: 199:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 357: 203:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 358: 207:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 359: 208:39: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 360: 213:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 361: 215:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 362: 233:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 363: 235:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 364: 240:89: too few spaces before comment: expected 2 (comments)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 365: 240:90: missing starting space in comment (comments)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 366: 251:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 367: 264:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - DEBUG - 라인 368: 270:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:02,642 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:26:02,642 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 15:26:02,642 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 15:26:02,642 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 15:26:02,642 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:26:02,642 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:26:02,642 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Extension scripts

on:
  push:
    branches: [ "master" ]
    paths:
      - versions.txt
  pull_request_target:
    branches: [ "master" ]

env:
  CPM_SOURCE_CACHE: ${{ github.workspace }}/cpm_modules

jobs:
  approve:
    runs-on: ubuntu-latest

    steps:
      - name: Approve
        run: echo For security reasons, all pull requests need to be approved first before running any automated CI.

  ...
2025-11-05 15:26:02,642 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:26:02,642 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:26:02,642 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:26:02,643 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:26:45,007 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:26:45,009 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:26:45,010 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:26:45,010 - main - DEBUG - 추출된 YAML:
name: Extension scripts

on:
  push:
    branches: [ "master" ]
    paths:
      - versions.txt
  pull_request_target:
    branches: [ "master" ]

env:
  CPM_SOURCE_CACHE: ${{ github.workspace }}/cpm_modules

jobs:
  approve:
    runs-on: ubuntu-latest

    steps:
      - name: Approve
        run: echo For security reasons, all pull requests need to be approved first before running any automated CI.

  extscripts:

    name: Extension scripts

    strategy:
      matrix:
        pgver: [ 16, 15, 14, 13 ]
        os: [
          { name: ubuntu, image: warp-ubuntu-latest-x64-4x, arch: x86-64 },
          { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
        ]
        build_type: [ Release ]

    env:
      AWS_ACCESS_KEY_ID: ${{ secrets.CI_AWS_ACCESS_KEY_ID }}
      AWS_SECRET_ACCESS_KEY: ${{ secrets.CI_AWS_SECRET_ACCESS_KEY }}
      OMNIGRES_INDEX_DOMAIN: "index.omnigres.com"
      OMNIGRES_INDEX_HOST: omnigres-index
      MATRIX_COMBINATION: ${{ matrix.pgver }}/${{ matrix.build_type }}/${{ matrix.os.name }}-${{ matrix.os.arch }}
      OMNIGRES_S3_BUCKET: omnigres-ext-semver

    runs-on: ${{ matrix.os.image }}

    needs: [ approve ] # Require the first step to finish
    environment: ${{ (github.event_name == 'push' || contains(fromJSON(vars.AUTO_APPROVED_CONTRIBUTORS), github.event.pull_request.user.login) || contains(fromJSON('["OWNER", "MEMBER"]'), github.event.pull_request.author_association)) && 'master' || 'Integrate Pull Request' }}

    steps:

      - uses: actions/checkout@v3
        if: github.event_name == 'push'
        with:
          fetch-depth: all

      - uses: actions/checkout@v3
        if: github.event_name != 'push'
        with:
          ref: ${{ github.event.pull_request.head.sha }}
          fetch-depth: all

      # This is done to address the problem on macOS where .pg built in a directory of one
      # GitHub Action runner won't work when restored in another one since dylds have install_name pointing
      # to the original location. We include the hash of their path into the cache name.
      - name: Get path hash
        if: matrix.os.name == 'macos'
        run: |
          echo "PATH_SUFFIX=-$(pwd | sha256sum | awk '{print $1}')" >> $GITHUB_ENV

      # On other systems, make it explicitly empty
      - name: Get path hash
        if: matrix.os.name != 'macos'
        run: |
          echo "PATH_SUFFIX=" >> $GITHUB_ENV

      - uses: actions/cache@v3
        with:
          path: .pg
          key: ${{ matrix.os.image }}-pg-${{ matrix.pgver }}-${{ matrix.build_type }}-${{ hashFiles('cmake/FindPostgreSQL.cmake') }}${{ env.PATH_SUFFIX }}

      - uses: actions/cache@v3
        with:
          path: ${{github.workspace}}/build/_deps
          key: ${{ github.workflow }}-cpm-modules-${{ hashFiles('extensions/**/CMakeLists.txt', '*/CMakeLists.txt', 'cmake/*.cmake') }}

      - name: Configure
        # Configure CMake in a 'build' subdirectory. `CMAKE_BUILD_TYPE` is only required if you are using a single-configuration generator such as make.
        # See https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html?highlight=cmake_build_type
        run: cmake -B ${{ github.workspace }}/build -DCMAKE_BUILD_TYPE=${{ matrix.build_type }} -DPGVER=${{ matrix.pgver }}

      - name: Build
        run: cmake --build ${{github.workspace}}/build --parallel --config ${{matrix.build_type}}

      - name: Package extensions
        run: cmake --build ${{github.workspace}}/build --target package

      - name: Tailscale
        uses: omnigres/tailscale-github-action@acfb679296986fae0eba66aadc3a9b40edfb287b #tailscale/github-action@v2
        with:
          oauth-client-id: ${{ secrets.TS_OAUTH_CLIENT_ID }}
          oauth-secret: ${{ secrets.TS_OAUTH_SECRET }}
          tags: tag:ci

      - name: Sync back to S3
        working-directory: ${{ github.workspace }}/build
        if: github.event_name == 'push'
        run: |
          POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
          S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
          aws s3 sync "$S3_FILES_UPLOAD_DIR"  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
          curl --fail-with-body -d "$POST_BODY" http://${{ env.OMNIGRES_INDEX_HOST }}/${{ env.MATRIX_COMBINATION }}/extensions?commit_sha=${{ github.sha }}
2025-11-05 15:26:45,010 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:26:45,010 - main - DEBUG - 검증할 YAML 길이: 4381 문자
2025-11-05 15:26:45,010 - main - DEBUG - YAML 시작 부분: 'name: Extension scripts\n\non:\n  push:\n    branches: [ "master" ]\n    paths:\n      - versions.txt\n  pu'
2025-11-05 15:26:45,028 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Extension scripts', 'on': {'push': {'branches': ['master'], 'paths': ['versions.txt']}, 'pull_request_target': {'branches': ['master']}}, 'env': {'CPM_SOURCE_CACHE': '${{ github.workspace }}/cpm_modules'}, 'jobs': {'approve': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Approve', 'run': 'echo For security reasons, all pull requests need to be approved first before running any automated CI.'}]}, 'extscripts': {'name': 'Extension scripts', 'strategy': {'matrix': {'pgver': [16, 15, 14, 13], 'os': [{'name': 'ubuntu', 'image': 'warp-ubuntu-latest-x64-4x', 'arch': 'x86-64'}, {'name': 'macos', 'image': 'warp-macos-14-arm64-6x', 'arch': 'arm'}], 'build_type': ['Release']}}, 'env': {'AWS_ACCESS_KEY_ID': '${{ secrets.CI_AWS_ACCESS_KEY_ID }}', 'AWS_SECRET_ACCESS_KEY': '${{ secrets.CI_AWS_SECRET_ACCESS_KEY }}', 'OMNIGRES_INDEX_DOMAIN': 'index.omnigres.com', 'OMNIGRES_INDEX_HOST': 'omnigres-index', 'MATRIX_COMBINATION': '${{ matrix.pgver }}/${{ matrix.build_type }}/${{ matrix.os.name }}-${{ matrix.os.arch }}', 'OMNIGRES_S3_BUCKET': 'omnigres-ext-semver'}, 'runs-on': '${{ matrix.os.image }}', 'needs': ['approve'], 'environment': '${{ (github.event_name == \'push\' || contains(fromJSON(vars.AUTO_APPROVED_CONTRIBUTORS), github.event.pull_request.user.login) || contains(fromJSON(\'["OWNER", "MEMBER"]\'), github.event.pull_request.author_association)) && \'master\' || \'Integrate Pull Request\' }}', 'steps': [{'uses': 'actions/checkout@v3', 'if': "github.event_name == 'push'", 'with': {'fetch-depth': 'all'}}, {'uses': 'actions/checkout@v3', 'if': "github.event_name != 'push'", 'with': {'ref': '${{ github.event.pull_request.head.sha }}', 'fetch-depth': 'all'}}, {'name': 'Get path hash', 'if': "matrix.os.name == 'macos'", 'run': 'echo "PATH_SUFFIX=-$(pwd | sha256sum | awk \'{print $1}\')" >> $GITHUB_ENV\n'}, {'name': 'Get path hash', 'if': "matrix.os.name != 'macos'", 'run': 'echo "PATH_SUFFIX=" >> $GITHUB_ENV\n'}, {'uses': 'actions/cache@v3', 'with': {'path': '.pg', 'key': "${{ matrix.os.image }}-pg-${{ matrix.pgver }}-${{ matrix.build_type }}-${{ hashFiles('cmake/FindPostgreSQL.cmake') }}${{ env.PATH_SUFFIX }}"}}, {'uses': 'actions/cache@v3', 'with': {'path': '${{github.workspace}}/build/_deps', 'key': "${{ github.workflow }}-cpm-modules-${{ hashFiles('extensions/**/CMakeLists.txt', '*/CMakeLists.txt', 'cmake/*.cmake') }}"}}, {'name': 'Configure', 'run': 'cmake -B ${{ github.workspace }}/build -DCMAKE_BUILD_TYPE=${{ matrix.build_type }} -DPGVER=${{ matrix.pgver }}'}, {'name': 'Build', 'run': 'cmake --build ${{github.workspace}}/build --parallel --config ${{matrix.build_type}}'}, {'name': 'Package extensions', 'run': 'cmake --build ${{github.workspace}}/build --target package'}, {'name': 'Tailscale', 'uses': 'omnigres/tailscale-github-action@acfb679296986fae0eba66aadc3a9b40edfb287b', 'with': {'oauth-client-id': '${{ secrets.TS_OAUTH_CLIENT_ID }}', 'oauth-secret': '${{ secrets.TS_OAUTH_SECRET }}', 'tags': 'tag:ci'}}, {'name': 'Sync back to S3', 'working-directory': '${{ github.workspace }}/build', 'if': "github.event_name == 'push'", 'run': 'POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"\nS3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"\naws s3 sync "$S3_FILES_UPLOAD_DIR"  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"\ncurl --fail-with-body -d "$POST_BODY" http://${{ env.OMNIGRES_INDEX_HOST }}/${{ env.MATRIX_COMBINATION }}/extensions?commit_sha=${{ github.sha }}'}]}}}
2025-11-05 15:26:45,029 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_baseline_repaired.yml
2025-11-05 15:26:45,029 - main - INFO - Baseline 모드 복구 완료
2025-11-05 15:26:45,029 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_baseline_repaired.yml
2025-11-05 15:26:45,030 - __main__ - INFO - === 파일 99/100 베이스라인 복구 완료 ===
2025-11-05 15:26:45,030 - __main__ - INFO - ✅ 성공 (42.72초): 1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c -> 1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_baseline_repaired.yml
2025-11-05 15:26:45,030 - __main__ - INFO - [100/100] 처리 중: 9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:26:45,030 - __main__ - INFO - 입력 파일 경로: data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:26:45,030 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_baseline_repaired.yml
2025-11-05 15:26:45,030 - __main__ - INFO - === 파일 100/100 베이스라인 복구 시작 ===
2025-11-05 15:26:45,030 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 15:26:45,030 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 15:26:45,031 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:26:45,031 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 15:26:45,031 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 15:26:45,031 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:26:45,054 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 15:26:45,054 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 15:26:45,054 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 15:26:45,054 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 15:26:45,054 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.53초)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 6. Define permissions for workflows with external actions (job at line: 55)
	- 6. Define permissions for workflows with external actions (job at line: 14)
	- 6. Define permissions for workflows with external actions (job at line: 97)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 106)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 14)
	- 10. Avoid jobs without timeouts (line: 55)
	- 10. Avoid jobs without timeouts (line: 97)
	- 11. Avoid uploading artifacts on forks (line -1:38) for job build_linux
	- 11. Avoid uploading artifacts on forks (line -1:38) for job build_macos
	- 13. Use names for run steps (lines -1:22)
	- 14. Avoid incorrectly formatted workflows
	- 18. Avoid installing packages without version (line -1)
	- 19. Run tests on multiple OS's (job: build_linux)
	- 19. Run tests on multiple OS's (job: build_macos)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
18:5: wrong indentation: expected 6 but found 4 (indentation)
32:1: trailing spaces (trailing-spaces)
59:5: wrong indentation: expected 6 but found 4 (indentation)
99:5: wrong indentation: expected 6 but found 4 (indentation)
106:5: wrong indentation: expected 6 but found 4 (indentation)

2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 29
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 2: We have found 20 smells
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 55)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 55)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 14)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 14)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 97)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 97)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 106)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 106)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 11: - 9. Steps should only perform a single command (line -1)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 12: - 10. Avoid jobs without timeouts (line: 14)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 14)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 13: - 10. Avoid jobs without timeouts (line: 55)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 55)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 97)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 97)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 15: - 11. Avoid uploading artifacts on forks (line -1:38) for job build_linux
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 스멜 감지 (#11): Avoid uploading artifacts on forks (line -1:38) for job build_linux
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 16: - 11. Avoid uploading artifacts on forks (line -1:38) for job build_macos
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 스멜 감지 (#11): Avoid uploading artifacts on forks (line -1:38) for job build_macos
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 17: - 13. Use names for run steps (lines -1:22)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:22)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 18: - 14. Avoid incorrectly formatted workflows
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 19: - 18. Avoid installing packages without version (line -1)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 20: - 19. Run tests on multiple OS's (job: build_linux)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build_linux)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 21: - 19. Run tests on multiple OS's (job: build_macos)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build_macos)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 22: - 22. Avoid deploying jobs on forks
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 23: The following styling errors were found:
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 24: 18:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 25: 32:1: trailing spaces (trailing-spaces)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 26: 59:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 27: 99:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:26:45,584 - utils.process_runner - DEBUG - 라인 28: 106:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 15:26:45,584 - utils.process_runner - INFO - 총 5개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 15:26:45,585 - utils.process_runner - INFO - Smell detector 실행 완료: 5개 스멜 발견
2025-11-05 15:26:45,585 - main - INFO - Smell detector에서 5개 스멜 발견
2025-11-05 15:26:45,585 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 15:26:45,585 - main - DEBUG - 생성된 프롬프트:
2025-11-05 15:26:45,585 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Release Build

on:
  workflow_dispatch:
    inputs:
      release_id:
        description: 'Release id to upload artifacts to'
        default: ''
      python_package_version:
        description: 'Version to use for creating the Python package'
        default: ''

jobs:
  build_linux:
    name: Manylinux Build
    runs-on: ubuntu-latest
    steps:
    - name: Get torch-mlir
      uses: actions/c...
2025-11-05 15:26:45,585 - main - INFO - 5단계: LLM API 호출
2025-11-05 15:26:45,585 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 15:26:45,585 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 15:26:45,586 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 15:27:17,569 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 15:27:17,570 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 15:27:17,571 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 15:27:17,571 - main - DEBUG - 추출된 YAML:
name: Release Build

on:
  workflow_dispatch:
    inputs:
      release_id:
        description: 'Release id to upload artifacts to'
        default: ''
      python_package_version:
        description: 'Version to use for creating the Python package'
        default: ''

jobs:
  build_linux:
    name: Manylinux Build
    runs-on: ubuntu-latest
    steps:
    - name: Get torch-mlir
      uses: actions/checkout@v2
      with:
        submodules: 'true'
    - uses: ./.github/actions/setup-build
      with:
        cache-suffix: ''
    - name: Build Python wheels and smoke test.
      run: |
        cd $GITHUB_WORKSPACE
        python -m pip install wheel
        TM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}
        printf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version
        ./build_tools/python_deploy/build_linux_packages.sh

    # If we were given a release_id, then upload the package we just built
    # to the github releases page.
    - name: Upload Release Assets (if requested)
      if: github.event.inputs.release_id != ''
      id: upload-release-assets
      uses: dwenegar/upload-release-assets@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}
        assets_path: ./build_tools/python_deploy/wheelhouse/torch*.whl

    # Publishing is necessary to make the release visible to `pip`
    # on the github releases page.
    - name: Publish Release (if requested)
      if: github.event.inputs.release_id != ''
      id: publish-release
      uses: eregon/publish-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}

  build_macos:
    name: MacOS Build
    runs-on: macos-12
    steps:
    - name: Get torch-mlir
      uses: actions/checkout@v2
      with:
        submodules: 'true'
    - uses: ./.github/actions/setup-build
      with:
        cache-suffix: ''
    - name: Build Python wheels and smoke test.
      run: |
        cd $GITHUB_WORKSPACE
        python -m pip install wheel
        TM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}
        printf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version
        sudo ./build_tools/python_deploy/install_macos_deps.sh
        TORCH_MLIR_PYTHON_VERSIONS="3.10" ./build_tools/python_deploy/build_macos_packages.sh

    # If we were given a release_id, then upload the package we just built
    # to the github releases page.
    - name: Upload Release Assets (if requested)
      if: github.event.inputs.release_id != ''
      id: upload-release-assets
      uses: dwenegar/upload-release-assets@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}
        assets_path: ./build_tools/python_deploy/wheelhouse/torch*.whl

    # Publishing is necessary to make the release visible to `pip`
    # on the github releases page.
    - name: Publish Release (if requested)
      if: github.event.inputs.release_id != ''
      id: publish-release
      uses: eregon/publish-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}

  publish_releases:
    needs:
      - build_linux
      - build_macos

    # Publish even if one of the builds failed
    if: ${{ always() }}

    timeout-minutes: 10
    steps:
    - name: Invoke Publish Releases Page
      uses: benc-uk/workflow-dispatch@v1
      with:
        workflow: Publish releases page
        token: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
        ref: "${{ env.tag_name }}"
2025-11-05 15:27:17,571 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 15:27:17,571 - main - DEBUG - 검증할 YAML 길이: 3827 문자
2025-11-05 15:27:17,571 - main - DEBUG - YAML 시작 부분: "name: Release Build\n\non:\n  workflow_dispatch:\n    inputs:\n      release_id:\n        description: 'Re"
2025-11-05 15:27:17,584 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Release Build', 'on': {'workflow_dispatch': {'inputs': {'release_id': {'description': 'Release id to upload artifacts to', 'default': ''}, 'python_package_version': {'description': 'Version to use for creating the Python package', 'default': ''}}}}, 'jobs': {'build_linux': {'name': 'Manylinux Build', 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Get torch-mlir', 'uses': 'actions/checkout@v2', 'with': {'submodules': 'true'}}, {'uses': './.github/actions/setup-build', 'with': {'cache-suffix': ''}}, {'name': 'Build Python wheels and smoke test.', 'run': 'cd $GITHUB_WORKSPACE\npython -m pip install wheel\nTM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}\nprintf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version\n./build_tools/python_deploy/build_linux_packages.sh\n'}, {'name': 'Upload Release Assets (if requested)', 'if': "github.event.inputs.release_id != ''", 'id': 'upload-release-assets', 'uses': 'dwenegar/upload-release-assets@v1', 'env': {'GITHUB_TOKEN': '${{ secrets.WORKFLOW_INVOCATION_TOKEN }}'}, 'with': {'release_id': '${{ github.event.inputs.release_id }}', 'assets_path': './build_tools/python_deploy/wheelhouse/torch*.whl'}}, {'name': 'Publish Release (if requested)', 'if': "github.event.inputs.release_id != ''", 'id': 'publish-release', 'uses': 'eregon/publish-release@v1', 'env': {'GITHUB_TOKEN': '${{ secrets.WORKFLOW_INVOCATION_TOKEN }}'}, 'with': {'release_id': '${{ github.event.inputs.release_id }}'}}]}, 'build_macos': {'name': 'MacOS Build', 'runs-on': 'macos-12', 'steps': [{'name': 'Get torch-mlir', 'uses': 'actions/checkout@v2', 'with': {'submodules': 'true'}}, {'uses': './.github/actions/setup-build', 'with': {'cache-suffix': ''}}, {'name': 'Build Python wheels and smoke test.', 'run': 'cd $GITHUB_WORKSPACE\npython -m pip install wheel\nTM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}\nprintf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version\nsudo ./build_tools/python_deploy/install_macos_deps.sh\nTORCH_MLIR_PYTHON_VERSIONS="3.10" ./build_tools/python_deploy/build_macos_packages.sh\n'}, {'name': 'Upload Release Assets (if requested)', 'if': "github.event.inputs.release_id != ''", 'id': 'upload-release-assets', 'uses': 'dwenegar/upload-release-assets@v1', 'env': {'GITHUB_TOKEN': '${{ secrets.WORKFLOW_INVOCATION_TOKEN }}'}, 'with': {'release_id': '${{ github.event.inputs.release_id }}', 'assets_path': './build_tools/python_deploy/wheelhouse/torch*.whl'}}, {'name': 'Publish Release (if requested)', 'if': "github.event.inputs.release_id != ''", 'id': 'publish-release', 'uses': 'eregon/publish-release@v1', 'env': {'GITHUB_TOKEN': '${{ secrets.WORKFLOW_INVOCATION_TOKEN }}'}, 'with': {'release_id': '${{ github.event.inputs.release_id }}'}}]}, 'publish_releases': {'needs': ['build_linux', 'build_macos'], 'if': '${{ always() }}', 'timeout-minutes': 10, 'steps': [{'name': 'Invoke Publish Releases Page', 'uses': 'benc-uk/workflow-dispatch@v1', 'with': {'workflow': 'Publish releases page', 'token': '${{ secrets.WORKFLOW_INVOCATION_TOKEN }}', 'ref': '${{ env.tag_name }}'}}]}}}
2025-11-05 15:27:17,584 - main - ERROR - 수정된 YAML이 유효하지 않음
2025-11-05 15:27:17,584 - main - ERROR - 검증 오류: ["Job 'publish_releases' missing 'runs-on'"]
2025-11-05 15:27:17,584 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_baseline_repaired.yml
2025-11-05 15:27:17,584 - __main__ - INFO - === 파일 100/100 베이스라인 복구 완료 ===
2025-11-05 15:27:17,584 - __main__ - ERROR - ❌ 실패 (32.55초): 9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-05 15:27:17,586 - __main__ - INFO - ============================================================
2025-11-05 15:27:17,586 - __main__ - INFO - 베이스라인 자동 복구 완료!
2025-11-05 15:27:17,586 - __main__ - INFO - 총 처리 시간: 3927.7초
2025-11-05 15:27:17,586 - __main__ - INFO - 총 파일: 100
2025-11-05 15:27:17,586 - __main__ - INFO - 성공: 87 (87.0%)
2025-11-05 15:27:17,586 - __main__ - INFO - 실패: 13
2025-11-05 15:27:17,586 - __main__ - INFO - 평균 처리 시간: 39.28초/파일
2025-11-05 15:27:17,586 - __main__ - INFO - 출력 파일 위치: llama3.1_8b/data_repair_baseline
2025-11-05 15:27:17,586 - __main__ - INFO - INFO 로그 파일: logs/llama3_info.log
2025-11-05 15:27:17,586 - __main__ - INFO - DEBUG 로그 파일: logs/llama3_debug.log
2025-11-05 15:27:17,586 - __main__ - INFO - ============================================================
2025-11-05 21:07:13,310 - __main__ - INFO - 2단계 자동 복구 시작: 5개 파일
2025-11-05 21:07:13,310 - __main__ - INFO - 입력 디렉토리: data_original
2025-11-05 21:07:13,310 - __main__ - INFO - 출력 디렉토리: llama3.1_8b/data_repair_two_phase
2025-11-05 21:07:13,310 - __main__ - INFO - 프롬프트 모드: Simple (2단계 복구)
2025-11-05 21:07:13,310 - __main__ - INFO - [1/5] 처리 중: 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:07:13,310 - __main__ - INFO - 입력 파일 경로: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:07:13,310 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_two_phase_repaired.yml
2025-11-05 21:07:13,310 - __main__ - INFO - === 파일 1/5 2단계 복구 시작 ===
2025-11-05 21:07:13,310 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:07:13,310 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:07:13,311 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:07:13,311 - main - INFO - 파일 크기: 2692 문자
2025-11-05 21:07:13,311 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:07:13,311 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:07:13,311 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:07:13,311 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:07:13,333 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:07:13,333 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:07:13,333 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:07:13,333 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:07:13,333 - main - INFO -   오류 1: could not parse as YAML: yaml: line 35: did not find expected key
2025-11-05 21:07:13,333 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:07:13,333 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:07:13,334 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:07:13,334 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:07:13,340 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:07:40,128 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:07:40,130 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:07:40,131 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:07:40,132 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2693 문자
2025-11-05 21:07:40,133 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:07:40,133 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:07:40,133 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:07:40,134 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:07:40,134 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:07:40,695 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.56초)
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis-validator-addresses:
        required: true
        type: string
      kava-version-filepath:
        required: true
        type: string
    secrets:
      DEV_WALLET_MNEMONIC:
        required: true

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo from master
        uses: actions/checkout@v3
        with:
          ref: master
      - name: checkout version of kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
        env:
          KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: build kava binary
        run: make install
      - name: checkout go evm tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: install go evm tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: checkout kava bridge repo for deploying evm contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: install nodeJS
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "install ERC20 contract deployment dependencies"
        run: "npm install"
        working-directory: kava-bridge/contract
      - name: compile default erc20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 30)
	- 8. Use commit hash instead of tags for action versions (line 68)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 43)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 127
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 2: name: Seed Chain
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 5: workflow_call:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 7: chain-api-url:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 9: type: string
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 10: chain-id:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 11: required: true
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 12: type: string
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 13: seed-script-filename:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 14: required: true
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 15: type: string
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 16: erc20-deployer-network-name:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 17: required: true
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 18: type: string
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 19: genesis-validator-addresses:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 20: required: true
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 21: type: string
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 22: kava-version-filepath:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 23: required: true
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 24: type: string
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 25: secrets:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 26: DEV_WALLET_MNEMONIC:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 27: required: true
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 29: jobs:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 30: seed-chain-state:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 31: runs-on: ubuntu-latest
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 32: steps:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 33: - name: checkout repo from master
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 34: uses: actions/checkout@v3
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 36: ref: master
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 37: - name: checkout version of kava used by network
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 38: run: |
2025-11-05 21:07:40,696 - utils.process_runner - DEBUG - 라인 39: git pull -p
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 40: git checkout $(cat ${KAVA_VERSION_FILEPATH})
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 41: env:
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 42: KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 43: - name: Set up Go
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 44: uses: actions/setup-go@v3
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 46: go-version: "1.19"
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 47: check-latest: true
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 48: cache: true
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 49: - name: build kava binary
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 50: run: make install
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 51: - name: checkout go evm tools repo
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 52: uses: actions/checkout@v3
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 53: with:
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 54: repository: ethereum/go-ethereum
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 55: path: go-ethereum
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 56: ref: v1.10.26
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 57: - name: install go evm tools
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 59: make
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 60: make devtools
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 61: working-directory: go-ethereum
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 62: - name: checkout kava bridge repo for deploying evm contracts
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 63: uses: actions/checkout@v3
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 64: with:
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 65: repository: Kava-Labs/kava-bridge
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 66: path: kava-bridge
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 67: ref: main
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 68: - name: install nodeJS
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 69: uses: actions/setup-node@v3
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 70: with:
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 71: cache: npm
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 72: node-version: 18
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 73: cache-dependency-path: kava-bridge/contract/package.json
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 74: - name: "install ERC20 contract deployment dependencies"
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 75: run: "npm install"
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 76: working-directory: kava-bridge/contract
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 77: - name: compile default erc20 contracts
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 78: run: make compile-contracts
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 79: working-directory: kava-bridge
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 80: - name: run seed scripts
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 81: run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 82: working-directory: kava-bridge/contract
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 83: env:
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 84: CHAIN_API_URL: ${{ inputs.chain-api-url }}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 85: CHAIN_ID: ${{ inputs.chain-id }}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 86: DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 87: SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 88: ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 89: GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 90: mapping values are not allowed here
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 91: in "<file>", line 2, column 5
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 92: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 104: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 105: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 106: We have found 18 smells
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 107: - 3. Use fixed version for runs-on argument (line 30)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 30)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 108: - 8. Use commit hash instead of tags for action versions (line 68)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 68)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 109: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 라인 111: - 12. Avoid workflows without comments
2025-11-05 21:07:40,697 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 112: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 125: The following styling errors were found:
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 라인 126: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:07:40,698 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:07:40,698 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:07:40,698 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:07:40,698 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:07:40,698 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:07:40,698 - main - DEBUG - 임시 파일 삭제: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:07:40,698 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:07:40,698 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Seed Chain
        ^
2025-11-05 21:07:40,698 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:07:40,699 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:07:40,699 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_two_phase_repaired.yml
2025-11-05 21:07:40,699 - __main__ - INFO - === 파일 1/5 2단계 복구 완료 ===
2025-11-05 21:07:40,699 - __main__ - ERROR - ❌ 실패 (27.39초): 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:07:40,699 - __main__ - INFO - [2/5] 처리 중: 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:07:40,699 - __main__ - INFO - 입력 파일 경로: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:07:40,699 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_two_phase_repaired.yml
2025-11-05 21:07:40,699 - __main__ - INFO - === 파일 2/5 2단계 복구 시작 ===
2025-11-05 21:07:40,699 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:07:40,699 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:07:40,700 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:07:40,700 - main - INFO - 파일 크기: 4982 문자
2025-11-05 21:07:40,700 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:07:40,700 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:07:40,700 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:07:40,700 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:07:40,717 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:07:40,717 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:07:40,717 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:07:40,718 - main - INFO - actionlint 오류 3개 발견
2025-11-05 21:07:40,718 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:07:40,718 - main - INFO -   오류 2: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:07:40,718 - main - INFO -   오류 3: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:07:40,718 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:07:40,718 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:07:40,718 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:07:40,718 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:07:40,719 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:08:18,889 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:08:18,890 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:08:18,891 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:08:18,891 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4828 문자
2025-11-05 21:08:18,891 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:08:18,891 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:08:18,891 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:08:18,891 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:08:18,892 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:08:19,446 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.55초)
2025-11-05 21:08:19,446 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push Frontend images
        uses: docker/build-push-action@v4
        with:
          file: docker/frontend.Dockerfile
          context: .
          push: true
          tags: frontend-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-backend:
    runs-on: ubuntu-latest
    name: Build Backend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/api.Dockerfile
          context: .
          push: true
          tags: api-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-omni:
    runs-on: ubuntu-latest
    name: Build Omni
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/omni.Dockerfile
          context: .
          push: true
          tags: omni-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 21 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 129)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:08:19,446 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:08:19,446 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:08:19,446 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 220
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 2: name: Build Containers
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 5: workflow_call:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 7: tag:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 9: type: string
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 10: secrets:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 11: DOCKERHUB_USERNAME:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 12: required: true
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 13: DOCKERHUB_TOKEN:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 14: required: true
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 16: jobs:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 17: build-frontend:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 19: name: Build Frontend
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 21: - name: Checkout
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 22: uses: actions/checkout@v3
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 24: - name: Set up QEMU
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 25: id: qemu
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 26: uses: docker/setup-qemu-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 27: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 28: image: tonistiigi/binfmt:latest
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 29: platforms: all
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 31: - name: Set up Docker Buildx
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 32: id: buildx
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 33: uses: docker/setup-buildx-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 35: install: true
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 37: - name: Login to Docker Hub
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 38: uses: docker/login-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 39: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 40: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 41: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 43: - name: Log in to the Container registry
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 44: uses: docker/login-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 46: registry: ghcr.io
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 47: username: ${{ github.actor }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 48: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 50: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 51: id: meta
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 52: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 53: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 54: images: hkotel/mealie
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 55: reference: ${{ github.repository }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 57: - name: Build and push Frontend images
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 58: uses: docker/build-push-action@v4
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 60: file: docker/frontend.Dockerfile
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 61: context: .
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 62: push: true
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 63: tags: frontend-${{ steps.meta.outputs.tags }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 64: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 65: platforms:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 66: - linux/amd64
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 67: - linux/arm64
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 69: build-backend:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 70: runs-on: ubuntu-latest
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 71: name: Build Backend
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 72: steps:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 73: - name: Checkout
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 74: uses: actions/checkout@v3
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 76: - name: Set up QEMU
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 77: id: qemu
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 78: uses: docker/setup-qemu-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 79: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 80: image: tonistiigi/binfmt:latest
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 81: platforms: all
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 83: - name: Set up Docker Buildx
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 84: id: buildx
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 85: uses: docker/setup-buildx-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 86: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 87: install: true
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 89: - name: Login to Docker Hub
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 90: uses: docker/login-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 91: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 92: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 93: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 95: - name: Override __init__.py
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 96: run: |
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 97: echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 99: - name: Log in to the Container registry
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 100: uses: docker/login-action@v2
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 101: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 102: registry: ghcr.io
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 103: username: ${{ github.actor }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 104: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 106: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 107: id: meta
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 108: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 109: with:
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 110: images: hkotel/mealie
2025-11-05 21:08:19,447 - utils.process_runner - DEBUG - 라인 111: reference: ${{ github.repository }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 113: - name: Build and push API images
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 114: uses: docker/build-push-action@v4
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 115: with:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 116: file: docker/api.Dockerfile
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 117: context: .
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 118: push: true
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 119: tags: api-${{ steps.meta.outputs.tags }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 120: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 121: platforms:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 122: - linux/amd64
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 123: - linux/arm64
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 125: build-omni:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 126: runs-on: ubuntu-latest
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 127: name: Build Omni
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 128: steps:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 129: - name: Checkout
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 130: uses: actions/checkout@v2
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 132: - name: Set up QEMU
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 133: id: qemu
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 134: uses: docker/setup-qemu-action@v2
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 135: with:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 136: image: tonistiigi/binfmt:latest
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 137: platforms: all
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 139: - name: Set up Docker Buildx
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 140: id: buildx
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 141: uses: docker/setup-buildx-action@v2
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 142: with:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 143: install: true
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 145: - name: Login to Docker Hub
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 146: uses: docker/login-action@v2
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 147: with:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 148: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 149: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 151: - name: Override __init__.py
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 152: run: |
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 153: echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 155: - name: Log in to the Container registry
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 156: uses: docker/login-action@v2
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 157: with:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 158: registry: ghcr.io
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 159: username: ${{ github.actor }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 160: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 162: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 163: id: meta
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 164: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 165: with:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 166: images: hkotel/mealie
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 167: reference: ${{ github.repository }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 169: - name: Build and push API images
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 170: uses: docker/build-push-action@v4
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 171: with:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 172: file: docker/omni.Dockerfile
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 173: context: .
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 174: push: true
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 175: tags: omni-${{ steps.meta.outputs.tags }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 176: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 177: platforms:
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 178: - linux/amd64
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 179: - linux/arm64
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 180: mapping values are not allowed here
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 181: in "<file>", line 2, column 5
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 182: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 184: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 185: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 186: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 187: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 188: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 189: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 190: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 191: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 192: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 193: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 194: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 195: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 196: We have found 21 smells
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 21 smells
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 197: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 198: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 199: - 8. Use commit hash instead of tags for action versions (line 129)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 129)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 200: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 201: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 202: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 203: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 204: - 12. Avoid workflows without comments
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:08:19,448 - utils.process_runner - DEBUG - 라인 205: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 206: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 207: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 208: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 209: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 210: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 211: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 212: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 213: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 214: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 215: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 216: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 217: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 218: The following styling errors were found:
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 라인 219: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:08:19,449 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:08:19,449 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:08:19,449 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:08:19,449 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:08:19,449 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:08:19,449 - main - DEBUG - 임시 파일 삭제: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:08:19,449 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:08:19,449 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build Containers
        ^
2025-11-05 21:08:19,449 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:08:19,449 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:08:19,450 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_two_phase_repaired.yml
2025-11-05 21:08:19,450 - __main__ - INFO - === 파일 2/5 2단계 복구 완료 ===
2025-11-05 21:08:19,450 - __main__ - ERROR - ❌ 실패 (38.75초): 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:08:19,450 - __main__ - INFO - [3/5] 처리 중: a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:08:19,450 - __main__ - INFO - 입력 파일 경로: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:08:19,450 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_two_phase_repaired.yml
2025-11-05 21:08:19,450 - __main__ - INFO - === 파일 3/5 2단계 복구 시작 ===
2025-11-05 21:08:19,450 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:08:19,450 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:08:19,451 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:08:19,451 - main - INFO - 파일 크기: 1695 문자
2025-11-05 21:08:19,451 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:08:19,451 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:08:19,451 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:08:19,451 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:08:19,468 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:08:19,469 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:08:19,469 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:08:19,469 - main - INFO - actionlint 오류 2개 발견
2025-11-05 21:08:19,469 - main - INFO -   오류 1: expected "inputs" key for "workflow_dispatch" section but got "customSnap"
2025-11-05 21:08:19,469 - main - INFO -   오류 2: property "customsnap" is not defined in object type {}
2025-11-05 21:08:19,469 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:08:19,469 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:08:19,469 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:08:19,469 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:08:19,471 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:08:34,031 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:08:34,032 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:08:34,033 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:08:34,033 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1704 문자
2025-11-05 21:08:34,033 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:08:34,033 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:08:34,035 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:08:34,035 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:08:34,035 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:08:34,571 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.54초)
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
      customSnap:
        description: 'Custom Snapshot Name'
        required: false
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
      OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
      SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
      SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
      SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
      COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
      GODEBUG: x509sha1=1
    steps:
      - name: Setup JDK
        uses: actions/setup-java@v4
        with:
          java-version: '8'
          distribution: 'adopt'
      - name: Setup GO
        uses: actions/setup-go@v4
        with:
          go-version: '1.21.4'
      - name: Install Nats Server
        run: |
          cd $GITHUB_WORKSPACE
          git clone https://github.com/nats-io/nats-server.git
          cd nats-server
          go get
          go build main.go
          mkdir -p ~/.local/bin
          cp main ~/.local/bin/nats-server
          cd ..
          rm -rf nats-server
          nats-server -v
      - name: Check out code
        uses: actions/checkout@v4
      - name: Build and Test
        run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
      - name: Verify Javadoc
        if: ${{ success() }}
        run: ./gradlew javadoc
      - name: Publish Branch Snapshot
        if: ${{ success() }}
        run: ./gradlew -i publishToSonatype
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 95
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 2: name: Build a Branch Specific Snapshot
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 5: workflow_dispatch:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 7: customSnap:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 8: description: 'Custom Snapshot Name'
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 9: required: false
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 10: type: string
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 13: build:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 15: env:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 16: BUILD_EVENT: ${{ github.event_name }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 17: BRANCH_REF_NAME: ${{ github.ref_name }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 18: CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 19: OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 20: OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 21: SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 22: SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 23: SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 24: COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 25: GODEBUG: x509sha1=1
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 26: steps:
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 27: - name: Setup JDK
2025-11-05 21:08:34,572 - utils.process_runner - DEBUG - 라인 28: uses: actions/setup-java@v4
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 29: with:
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 30: java-version: '8'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 31: distribution: 'adopt'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 32: - name: Setup GO
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 33: uses: actions/setup-go@v4
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 35: go-version: '1.21.4'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 36: - name: Install Nats Server
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 37: run: |
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 38: cd $GITHUB_WORKSPACE
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 39: git clone https://github.com/nats-io/nats-server.git
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 40: cd nats-server
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 41: go get
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 42: go build main.go
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 43: mkdir -p ~/.local/bin
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 44: cp main ~/.local/bin/nats-server
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 45: cd ..
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 46: rm -rf nats-server
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 47: nats-server -v
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 48: - name: Check out code
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 49: uses: actions/checkout@v4
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 50: - name: Build and Test
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 51: run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 52: - name: Verify Javadoc
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 53: if: ${{ success() }}
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 54: run: ./gradlew javadoc
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 55: - name: Publish Branch Snapshot
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 56: if: ${{ success() }}
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 57: run: ./gradlew -i publishToSonatype
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 58: mapping values are not allowed here
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 59: in "<file>", line 2, column 5
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 60: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 라인 74: We have found 18 smells
2025-11-05 21:08:34,573 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 75: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 76: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 77: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 78: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 79: - 12. Avoid workflows without comments
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 80: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:08:34,574 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 93: The following styling errors were found:
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 라인 94: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:08:34,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:08:34,576 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:08:34,576 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:08:34,576 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:08:34,577 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:08:34,579 - main - DEBUG - 임시 파일 삭제: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:08:34,579 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:08:34,579 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build a Branch Specific Snapshot
        ^
2025-11-05 21:08:34,579 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:08:34,579 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:08:34,581 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_two_phase_repaired.yml
2025-11-05 21:08:34,581 - __main__ - INFO - === 파일 3/5 2단계 복구 완료 ===
2025-11-05 21:08:34,581 - __main__ - ERROR - ❌ 실패 (15.13초): a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:08:34,581 - __main__ - INFO - [4/5] 처리 중: 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:08:34,581 - __main__ - INFO - 입력 파일 경로: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:08:34,581 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:08:34,581 - __main__ - INFO - === 파일 4/5 2단계 복구 시작 ===
2025-11-05 21:08:34,581 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:08:34,581 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:08:34,583 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:08:34,583 - main - INFO - 파일 크기: 1457 문자
2025-11-05 21:08:34,583 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:08:34,583 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:08:34,584 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:08:34,584 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:08:34,605 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:08:34,605 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:08:34,605 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:08:34,605 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:08:34,605 - main - INFO -   오류 1: could not parse as YAML: yaml: line 49: found a tab character where an indentation space is expected
2025-11-05 21:08:34,605 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:08:34,605 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:08:34,605 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:08:34,605 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:08:34,606 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:08:46,899 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 2028
2025-11-05 21:08:46,901 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:08:46,902 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:08:46,902 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1504 문자
2025-11-05 21:08:46,902 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:08:46,903 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:08:46,903 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:08:46,903 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:08:46,903 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
We have found 13 smells
	- 3. Use fixed version for runs-on argument (line 23)
	- 6. Define permissions for workflows with external actions (job at line: 21)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 21)
	- 13. Use names for run steps (lines -1:27)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
13:16: too many spaces inside brackets (brackets)
13:42: too many spaces inside brackets (brackets)
15:5: wrong indentation: expected 6 but found 4 (indentation)
51:49: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 21
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 2: We have found 13 smells
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 23)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 23)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 21)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 21)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 21)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 21)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:27)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:27)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: build)
2025-11-05 21:08:47,396 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 13: - 20. Run CI on multiple language versions (job: build)
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 14: - 21. Use cache parameter instead of cache option
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 16: The following styling errors were found:
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 17: 13:16: too many spaces inside brackets (brackets)
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 18: 13:42: too many spaces inside brackets (brackets)
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 19: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 21:08:47,397 - utils.process_runner - DEBUG - 라인 20: 51:49: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:08:47,397 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:08:47,397 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 21:08:47,397 - main - INFO - 스멜 1개 발견
2025-11-05 21:08:47,397 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 21)
2025-11-05 21:08:47,397 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:08:47,397 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:08:47,397 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:08:47,397 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:08:47,398 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:09:03,683 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:09:03,685 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:09:03,686 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:09:03,686 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1614 문자
2025-11-05 21:09:03,687 - main - DEBUG - 임시 파일 삭제: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:09:03,687 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:09:03,699 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Deploy to Maven Central', 'on': {'workflow_run': {'workflows': ['CI Build'], 'branches': ['master', 'v20.12', 'v14.1.1.0'], 'types': ['completed']}}, 'env': {'MAVEN_OPTS': '-Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3'}, 'jobs': {'build': {'if': "${{ github.event.workflow_run.conclusion == 'success' }}", 'timeout-minutes': 30, 'runs-on': 'ubuntu-latest', 'steps': [{'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Set up Java 11', 'uses': 'actions/setup-java@v1', 'with': {'java-version': '11'}}, {'name': 'Cache Maven packages', 'uses': 'actions/cache@v1', 'with': {'path': '~/.m2', 'key': "${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}", 'restore-keys': '${{ runner.os }}-m2'}}, {'name': 'Build with Maven', 'env': {'MAVEN_USER': '${{ secrets.MavenUser }}', 'MAVEN_PASSWORD': '${{ secrets.MavenPassword }}', 'GIT_COMMIT': '${{github.event.workflow_run.head_commit.id}}', 'HEAD_BRANCH': '${{github.event.workflow_run.head_branch}}'}, 'run': 'git checkout "${GIT_COMMIT}"\nsh tools/bin/github-deploy-snapshot.sh'}]}}}
2025-11-05 21:09:03,699 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:09:03,700 - main - INFO - 2단계 모드 복구 완료
2025-11-05 21:09:03,700 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:09:03,700 - __main__ - INFO - === 파일 4/5 2단계 복구 완료 ===
2025-11-05 21:09:03,700 - __main__ - INFO - ✅ 성공 (29.12초): 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3 -> 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:09:03,700 - __main__ - INFO - [5/5] 처리 중: ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:09:03,700 - __main__ - INFO - 입력 파일 경로: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:09:03,700 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_two_phase_repaired.yml
2025-11-05 21:09:03,700 - __main__ - INFO - === 파일 5/5 2단계 복구 시작 ===
2025-11-05 21:09:03,700 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:09:03,700 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:09:03,701 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:09:03,701 - main - INFO - 파일 크기: 5175 문자
2025-11-05 21:09:03,701 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:09:03,701 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:09:03,701 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:09:03,701 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:09:03,732 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:09:03,732 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:09:03,732 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:09:03,732 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:09:03,732 - main - INFO -   오류 1: could not parse as YAML: yaml: line 17: mapping values are not allowed in this context
2025-11-05 21:09:03,732 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:09:03,732 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:09:03,732 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:09:03,732 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:09:03,733 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:09:50,952 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:09:50,954 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:09:50,955 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:09:50,955 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 278 문자
2025-11-05 21:09:50,955 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:09:50,955 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:09:50,957 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:09:50,957 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:09:50,957 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.52초)
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: The issue was that the `tags` field in the `on.push` section had a syntax error. It should be an array of strings, not just a single string with commas separating them. I fixed this by changing it to use indentation and proper YAML syntax for arrays.

Here's the corrected line:
mapping values are not allowed here
  in "<file>", line 3, column 26
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 14 smells
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
3:26: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 37
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: The issue was that the `tags` field in the `on.push` section had a syntax error. It should be an array of strings, not just a single string with commas separating them. I fixed this by changing it to use indentation and proper YAML syntax for arrays.
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): Unable to parse yaml file: The issue was that the `tags` field in the `on.push` section had a syntax error. It should be an array of strings, not just a single string with commas separating them. I fixed this by changing it to use indentation and proper YAML syntax for arrays.
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 3: Here's the corrected line:
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 4: mapping values are not allowed here
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 5: in "<file>", line 3, column 26
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 6: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 10: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 11: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 12: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 13: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 14: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 15: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 16: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 17: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 18: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 19: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 20: We have found 14 smells
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 21: - 12. Avoid workflows without comments
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 22: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 24: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 라인 25: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:09:51,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 26: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 28: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 29: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 30: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 31: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 32: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 33: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 34: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 35: The following styling errors were found:
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 라인 36: 3:26: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:09:51,476 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:26: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:09:51,476 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:09:51,476 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:09:51,476 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:09:51,476 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:09:51,476 - main - DEBUG - 임시 파일 삭제: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:09:51,476 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:09:51,477 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 3, column 26:
    Here's the corrected line:
                             ^
2025-11-05 21:09:51,477 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:09:51,477 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:09:51,477 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_two_phase_repaired.yml
2025-11-05 21:09:51,477 - __main__ - INFO - === 파일 5/5 2단계 복구 완료 ===
2025-11-05 21:09:51,477 - __main__ - ERROR - ❌ 실패 (47.78초): ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:09:51,477 - __main__ - INFO - ============================================================
2025-11-05 21:09:51,477 - __main__ - INFO - 2단계 자동 복구 완료!
2025-11-05 21:09:51,477 - __main__ - INFO - 총 처리 시간: 158.2초
2025-11-05 21:09:51,477 - __main__ - INFO - 총 파일: 5
2025-11-05 21:09:51,477 - __main__ - INFO - 성공: 1 (20.0%)
2025-11-05 21:09:51,477 - __main__ - INFO - 실패: 4
2025-11-05 21:09:51,477 - __main__ - INFO - 평균 처리 시간: 31.63초/파일
2025-11-05 21:09:51,478 - __main__ - INFO - 출력 파일 위치: llama3.1_8b/data_repair_two_phase
2025-11-05 21:09:51,478 - __main__ - INFO - INFO 로그 파일: logs/llama3_info.log
2025-11-05 21:09:51,478 - __main__ - INFO - DEBUG 로그 파일: logs/llama3_debug.log
2025-11-05 21:09:51,478 - __main__ - INFO - ============================================================
2025-11-05 21:14:53,269 - __main__ - INFO - 베이스라인 자동 복구 시작: 3개 파일
2025-11-05 21:14:53,269 - __main__ - INFO - 입력 디렉토리: data_original
2025-11-05 21:14:53,269 - __main__ - INFO - 출력 디렉토리: llama3.1_8b/data_repair_baseline
2025-11-05 21:14:53,269 - __main__ - INFO - [1/3] 처리 중: 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:14:53,269 - __main__ - INFO - 입력 파일 경로: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:14:53,269 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 21:14:53,269 - __main__ - INFO - === 파일 1/3 베이스라인 복구 시작 ===
2025-11-05 21:14:53,269 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 21:14:53,269 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 21:14:53,269 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:14:53,269 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 21:14:53,269 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:14:53,270 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:14:53,292 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:14:53,292 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:14:53,292 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:14:53,292 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 21:14:53,292 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:14:53,823 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.53초)
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis_validator_addresses:
        required: true
        type: string
      kava_version_filepath:
        required: true
        type: string
    secrets:
      DEV_WALLET_MNEMONIC:
        required: true

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo from master
        uses: actions/checkout@v3
        with:
         ref: master
      - name: checkout version of kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
         env:
            KAVA_VERSION_FILEPATH: ${{ inputs.kava_version_filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: build kava binary
        run: make install
      - name: checkout go evm tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: install go evm tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: checkout kava bridge repo for deploying evm contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: install nodeJS
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "install ERC20 contract deployment dependencies"
        run: "npm install"
        working-directory: kava-bridge/contract
      - name: compile default erc20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis_validator_addresses }}

while parsing a block mapping
  in "<file>", line 36, column 9
expected <block end>, but found '<block mapping start>'
  in "<file>", line 40, column 10
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 67)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
35:10: wrong indentation: expected 10 but found 9 (indentation)
40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
41:13: wrong indentation: expected 11 but found 12 (indentation)

2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 131
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Seed Chain
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 4: workflow_call:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 5: inputs:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 6: chain-api-url:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 7: required: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 8: type: string
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 9: chain-id:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 10: required: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 11: type: string
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 12: seed-script-filename:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 13: required: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 14: type: string
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 15: erc20-deployer-network-name:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 16: required: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 17: type: string
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 18: genesis_validator_addresses:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 19: required: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 20: type: string
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 21: kava_version_filepath:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 22: required: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 23: type: string
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 24: secrets:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 25: DEV_WALLET_MNEMONIC:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 26: required: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 28: jobs:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 29: seed-chain-state:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-latest
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 31: steps:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 32: - name: checkout repo from master
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 33: uses: actions/checkout@v3
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 35: ref: master
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 36: - name: checkout version of kava used by network
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 37: run: |
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 38: git pull -p
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 39: git checkout $(cat ${KAVA_VERSION_FILEPATH})
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 40: env:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 41: KAVA_VERSION_FILEPATH: ${{ inputs.kava_version_filepath }}
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 42: - name: Set up Go
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 43: uses: actions/setup-go@v3
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 45: go-version: "1.19"
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 46: check-latest: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 47: cache: true
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 48: - name: build kava binary
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 49: run: make install
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 50: - name: checkout go evm tools repo
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 51: uses: actions/checkout@v3
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 52: with:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 53: repository: ethereum/go-ethereum
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 54: path: go-ethereum
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 55: ref: v1.10.26
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 56: - name: install go evm tools
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 57: run: |
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 58: make
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 59: make devtools
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 60: working-directory: go-ethereum
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 61: - name: checkout kava bridge repo for deploying evm contracts
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 62: uses: actions/checkout@v3
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 63: with:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 64: repository: Kava-Labs/kava-bridge
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 65: path: kava-bridge
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 66: ref: main
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 67: - name: install nodeJS
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 68: uses: actions/setup-node@v3
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 69: with:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 70: cache: npm
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 71: node-version: 18
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 72: cache-dependency-path: kava-bridge/contract/package.json
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 73: - name: "install ERC20 contract deployment dependencies"
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 74: run: "npm install"
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 75: working-directory: kava-bridge/contract
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 76: - name: compile default erc20 contracts
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 77: run: make compile-contracts
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 78: working-directory: kava-bridge
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 79: - name: run seed scripts
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 80: run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 81: working-directory: kava-bridge/contract
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 82: env:
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 83: CHAIN_API_URL: ${{ inputs.chain-api-url }}
2025-11-05 21:14:53,824 - utils.process_runner - DEBUG - 라인 84: CHAIN_ID: ${{ inputs.chain-id }}
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 85: DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 86: SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 87: ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 88: GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis_validator_addresses }}
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 90: while parsing a block mapping
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 91: in "<file>", line 36, column 9
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 92: expected <block end>, but found '<block mapping start>'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 93: in "<file>", line 40, column 10
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 94: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 104: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 105: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 106: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 107: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 108: We have found 18 smells
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 109: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 67)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 67)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 111: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 112: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 113: - 12. Avoid workflows without comments
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 114: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 125: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 126: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 127: The following styling errors were found:
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 128: 35:10: wrong indentation: expected 10 but found 9 (indentation)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 129: 40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 40:10: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-05 21:14:53,825 - utils.process_runner - DEBUG - 라인 130: 41:13: wrong indentation: expected 11 but found 12 (indentation)
2025-11-05 21:14:53,825 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:14:53,825 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:14:53,825 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:14:53,825 - main - INFO - Smell detector에서 0개 스멜 발견
2025-11-05 21:14:53,825 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 21:14:53,826 - main - DEBUG - 생성된 프롬프트:
2025-11-05 21:14:53,826 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis_validator_addresses:
        required: true
        type: string
 ...
2025-11-05 21:14:53,826 - main - INFO - 5단계: LLM API 호출
2025-11-05 21:14:53,826 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:14:53,826 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:14:53,833 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:15:22,785 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:15:22,788 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:15:22,788 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 21:15:22,789 - main - DEBUG - 추출된 YAML:
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis-validator-addresses:
        required: true
        type: string
      kava-version-filepath:
        required: true
        type: string

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo from master
        uses: actions/checkout@v3
        with:
          ref: master
      - name: Checkout version of Kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
        env:
          KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: Build Kava binary
        run: make install
      - name: Checkout Go EVM tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: Install Go EVM tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: Checkout Kava bridge repo for deploying EVM contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "Install ERC20 contract deployment dependencies"
        run: npm install
        working-directory: kava-bridge/contract
      - name: Compile default ERC20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: Run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
2025-11-05 21:15:22,789 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 21:15:22,789 - main - DEBUG - 검증할 YAML 길이: 2625 문자
2025-11-05 21:15:22,789 - main - DEBUG - YAML 시작 부분: 'name: Seed Chain\n\non:\n  workflow_call:\n    inputs:\n      chain-api-url:\n        required: true\n     '
2025-11-05 21:15:22,802 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Seed Chain', 'on': {'workflow_call': {'inputs': {'chain-api-url': {'required': True, 'type': 'string'}, 'chain-id': {'required': True, 'type': 'string'}, 'seed-script-filename': {'required': True, 'type': 'string'}, 'erc20-deployer-network-name': {'required': True, 'type': 'string'}, 'genesis-validator-addresses': {'required': True, 'type': 'string'}, 'kava-version-filepath': {'required': True, 'type': 'string'}}}}, 'jobs': {'seed-chain-state': {'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout repo from master', 'uses': 'actions/checkout@v3', 'with': {'ref': 'master'}}, {'name': 'Checkout version of Kava used by network', 'run': 'git pull -p\ngit checkout $(cat ${KAVA_VERSION_FILEPATH})\n', 'env': {'KAVA_VERSION_FILEPATH': '${{ inputs.kava-version-filepath }}'}}, {'name': 'Set up Go', 'uses': 'actions/setup-go@v3', 'with': {'go-version': '1.19', 'check-latest': True, 'cache': True}}, {'name': 'Build Kava binary', 'run': 'make install'}, {'name': 'Checkout Go EVM tools repo', 'uses': 'actions/checkout@v3', 'with': {'repository': 'ethereum/go-ethereum', 'path': 'go-ethereum', 'ref': 'v1.10.26'}}, {'name': 'Install Go EVM tools', 'run': 'make\nmake devtools\n', 'working-directory': 'go-ethereum'}, {'name': 'Checkout Kava bridge repo for deploying EVM contracts', 'uses': 'actions/checkout@v3', 'with': {'repository': 'Kava-Labs/kava-bridge', 'path': 'kava-bridge', 'ref': 'main'}}, {'name': 'Install Node.js', 'uses': 'actions/setup-node@v3', 'with': {'cache': 'npm', 'node-version': 18, 'cache-dependency-path': 'kava-bridge/contract/package.json'}}, {'name': 'Install ERC20 contract deployment dependencies', 'run': 'npm install', 'working-directory': 'kava-bridge/contract'}, {'name': 'Compile default ERC20 contracts', 'run': 'make compile-contracts', 'working-directory': 'kava-bridge'}, {'name': 'Run seed scripts', 'run': 'bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}', 'working-directory': 'kava-bridge/contract', 'env': {'CHAIN_API_URL': '${{ inputs.chain-api-url }}', 'CHAIN_ID': '${{ inputs.chain-id }}', 'DEV_WALLET_MNEMONIC': '${{ secrets.DEV_WALLET_MNEMONIC }}', 'SEED_SCRIPT_FILENAME': '${{ inputs.seed-script-filename }}', 'ERC20_DEPLOYER_NETWORK_NAME': '${{ inputs.erc20-deployer-network-name }}', 'GENESIS_VALIDATOR_ADDRESSES': '${{ inputs.genesis-validator-addresses }}'}}]}}}
2025-11-05 21:15:22,803 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 21:15:22,803 - main - INFO - Baseline 모드 복구 완료
2025-11-05 21:15:22,803 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 21:15:22,803 - __main__ - INFO - === 파일 1/3 베이스라인 복구 완료 ===
2025-11-05 21:15:22,803 - __main__ - INFO - ✅ 성공 (29.53초): 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32 -> 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_baseline_repaired.yml
2025-11-05 21:15:22,803 - __main__ - INFO - [2/3] 처리 중: 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:15:22,803 - __main__ - INFO - 입력 파일 경로: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:15:22,803 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 21:15:22,803 - __main__ - INFO - === 파일 2/3 베이스라인 복구 시작 ===
2025-11-05 21:15:22,803 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 21:15:22,803 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 21:15:22,804 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:15:22,804 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 21:15:22,804 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:15:22,804 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:15:22,832 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:15:22,833 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:15:22,833 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:15:22,833 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 21:15:22,833 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
We have found 22 smells
	- 2. Prevent running issue/PR actions on forks line -1:51
	- 3. Use fixed version for runs-on argument (line 16)
	- 6. Define permissions for workflows with external actions (job at line: 126)
	- 6. Define permissions for workflows with external actions (job at line: 16)
	- 6. Define permissions for workflows with external actions (job at line: 69)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 8. Use commit hash instead of tags for action versions (line 130)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 10. Avoid jobs without timeouts (line: 69)
	- 10. Avoid jobs without timeouts (line: 126)
	- 10. Avoid jobs without timeouts (line: 16)
	- 12. Avoid workflows without comments
	- 15. Use permissions whenever using Github Token (job at line 16)
	- 15. Use permissions whenever using Github Token (job at line 126)
	- 15. Use permissions whenever using Github Token (job at line 69)
	- 19. Run tests on multiple OS's (job: build-frontend)
	- 19. Run tests on multiple OS's (job: build-omni)
	- 19. Run tests on multiple OS's (job: build-backend)
	- 22. Avoid deploying jobs on forks

2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 25
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 2: We have found 22 smells
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 22 smells
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line -1:51
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:51
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 126)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 126)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 69)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 69)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 130)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 130)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 69)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 69)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 126)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 126)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 17: - 12. Avoid workflows without comments
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 18: - 15. Use permissions whenever using Github Token (job at line 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 16)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 19: - 15. Use permissions whenever using Github Token (job at line 126)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 126)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 20: - 15. Use permissions whenever using Github Token (job at line 69)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 69)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 21: - 19. Run tests on multiple OS's (job: build-frontend)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-frontend)
2025-11-05 21:15:23,337 - utils.process_runner - DEBUG - 라인 22: - 19. Run tests on multiple OS's (job: build-omni)
2025-11-05 21:15:23,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-omni)
2025-11-05 21:15:23,338 - utils.process_runner - DEBUG - 라인 23: - 19. Run tests on multiple OS's (job: build-backend)
2025-11-05 21:15:23,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-backend)
2025-11-05 21:15:23,338 - utils.process_runner - DEBUG - 라인 24: - 22. Avoid deploying jobs on forks
2025-11-05 21:15:23,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:15:23,338 - utils.process_runner - INFO - 총 6개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:15:23,338 - utils.process_runner - INFO - Smell detector 실행 완료: 6개 스멜 발견
2025-11-05 21:15:23,338 - main - INFO - Smell detector에서 6개 스멜 발견
2025-11-05 21:15:23,338 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 21:15:23,338 - main - DEBUG - 생성된 프롬프트:
2025-11-05 21:15:23,338 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qem...
2025-11-05 21:15:23,338 - main - INFO - 5단계: LLM API 호출
2025-11-05 21:15:23,338 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:15:23,338 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:15:23,340 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:16:07,302 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:16:07,304 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:16:07,305 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 21:16:07,306 - main - DEBUG - 추출된 YAML:
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push Frontend images
        uses: docker/build-push-action@v4
        with:
          file: docker/frontend.Dockerfile
          context: .
          push: true
          tags: frontend-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-backend:
    runs-on: ubuntu-latest
    name: Build Backend
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/api.Dockerfile
          context: .
          push: true
          tags: api-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-omni:
    runs-on: ubuntu-latest
    name: Build Omni
    timeout-minutes: 10 # Fix semantic smell: Avoid jobs without timeouts
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: |
            hkotel/mealie
            ghcr.io/${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/omni.Dockerfile
          context: .
          push: true
          tags: omni-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

permissions:
  contents: read # Fix semantic smell: Use permissions whenever using Github Token
2025-11-05 21:16:07,306 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 21:16:07,306 - main - DEBUG - 검증할 YAML 길이: 4994 문자
2025-11-05 21:16:07,306 - main - DEBUG - YAML 시작 부분: 'name: Build Containers\n\non:\n  workflow_call:\n    inputs:\n      tag:\n        required: true\n        t'
2025-11-05 21:16:07,324 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build Containers', 'on': {'workflow_call': {'inputs': {'tag': {'required': True, 'type': 'string'}}, 'secrets': {'DOCKERHUB_USERNAME': {'required': True}, 'DOCKERHUB_TOKEN': {'required': True}}}}, 'jobs': {'build-frontend': {'runs-on': 'ubuntu-latest', 'name': 'Build Frontend', 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push Frontend images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/frontend.Dockerfile', 'context': '.', 'push': True, 'tags': 'frontend-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'build-backend': {'runs-on': 'ubuntu-latest', 'name': 'Build Backend', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Override __init__.py', 'run': 'echo "__version__ = \\"${{ inputs.tag }}\\"" > ./mealie/__init__.py\n'}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push API images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/api.Dockerfile', 'context': '.', 'push': True, 'tags': 'api-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}, 'build-omni': {'runs-on': 'ubuntu-latest', 'name': 'Build Omni', 'timeout-minutes': 10, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3'}, {'name': 'Set up QEMU', 'id': 'qemu', 'uses': 'docker/setup-qemu-action@v2', 'with': {'image': 'tonistiigi/binfmt:latest', 'platforms': 'all'}}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2', 'with': {'install': True}}, {'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKERHUB_USERNAME }}', 'password': '${{ secrets.DOCKERHUB_TOKEN }}'}}, {'name': 'Override __init__.py', 'run': 'echo "__version__ = \\"${{ inputs.tag }}\\"" > ./mealie/__init__.py\n'}, {'name': 'Log in to the Container registry', 'uses': 'docker/login-action@v2', 'with': {'registry': 'ghcr.io', 'username': '${{ github.actor }}', 'password': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Extract metadata (tags, labels) for Docker', 'id': 'meta', 'uses': 'docker/metadata-action@v3', 'with': {'images': 'hkotel/mealie\nghcr.io/${{ github.repository }}\n'}}, {'name': 'Build and push API images', 'uses': 'docker/build-push-action@v4', 'with': {'file': 'docker/omni.Dockerfile', 'context': '.', 'push': True, 'tags': 'omni-${{ steps.meta.outputs.tags }}', 'labels': '${{ steps.meta.outputs.labels }}', 'platforms': ['linux/amd64', 'linux/arm64']}}]}}, 'permissions': {'contents': 'read'}}
2025-11-05 21:16:07,326 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 21:16:07,326 - main - INFO - Baseline 모드 복구 완료
2025-11-05 21:16:07,326 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 21:16:07,326 - __main__ - INFO - === 파일 2/3 베이스라인 복구 완료 ===
2025-11-05 21:16:07,326 - __main__ - INFO - ✅ 성공 (44.52초): 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428 -> 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_baseline_repaired.yml
2025-11-05 21:16:07,326 - __main__ - INFO - [3/3] 처리 중: a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:16:07,326 - __main__ - INFO - 입력 파일 경로: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:16:07,326 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 21:16:07,326 - __main__ - INFO - === 파일 3/3 베이스라인 복구 시작 ===
2025-11-05 21:16:07,326 - main - INFO - === Baseline 모드 시작 ===
2025-11-05 21:16:07,326 - main - INFO - 1단계: 원본 워크플로우 읽기
2025-11-05 21:16:07,327 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:16:07,327 - main - INFO - 2단계: actionlint 구문 검사 실행
2025-11-05 21:16:07,327 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:16:07,327 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:16:07,357 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:16:07,357 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:16:07,358 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:16:07,358 - main - INFO - 3단계: Smell Detector 실행
2025-11-05 21:16:07,358 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:16:07,879 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.52초)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 6. Define permissions for workflows with external actions (job at line: 12)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 47)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 12)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
58:1: too many blank lines (2 > 0) (empty-lines)

2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 17
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 12)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 12)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 47)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 47)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 10: - 12. Avoid workflows without comments
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: build)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 13: - 20. Run CI on multiple language versions (job: build)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 15: The following styling errors were found:
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:16:07,880 - utils.process_runner - DEBUG - 라인 16: 58:1: too many blank lines (2 > 0) (empty-lines)
2025-11-05 21:16:07,880 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:16:07,880 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 21:16:07,880 - main - INFO - Smell detector에서 1개 스멜 발견
2025-11-05 21:16:07,880 - main - INFO - 4단계: 통합 프롬프트 생성
2025-11-05 21:16:07,880 - main - DEBUG - 생성된 프롬프트:
2025-11-05 21:16:07,880 - main - DEBUG - Please fix the issues found in this GitHub Actions workflow.

**Original Workflow:**
```yaml
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
    customSnap:
      description: 'Custom Snapshot Name'
      required: false
      type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OS...
2025-11-05 21:16:07,880 - main - INFO - 5단계: LLM API 호출
2025-11-05 21:16:07,880 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:16:07,880 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:16:07,881 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:16:24,318 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:16:24,320 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:16:24,320 - main - INFO - 6단계: 수정된 YAML 추출
2025-11-05 21:16:24,321 - main - DEBUG - 추출된 YAML:
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
      customSnap:
        description: 'Custom Snapshot Name'
        required: false
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
      OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
      SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
      SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
      SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
      COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
      GODEBUG: x509sha1=1
    steps:
      - name: Setup JDK
        uses: actions/setup-java@v4
        with:
          java-version: '8'
          distribution: 'adopt'
      - name: Setup GO
        uses: actions/setup-go@v4
        with:
          go-version: '1.21.4'
      - name: Install Nats Server
        run: |
          cd $GITHUB_WORKSPACE
          git clone https://github.com/nats-io/nats-server.git
          cd nats-server
          go get
          go build main.go
          mkdir -p ~/.local/bin
          cp main ~/.local/bin/nats-server
          cd ..
          rm -rf nats-server
          nats-server -v
      - name: Check out code
        uses: actions/checkout@v4
      - name: Build and Test
        run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
      - name: Verify Javadoc
        if: ${{ success() }}
        run: ./gradlew javadoc
      - name: Publish Branch Snapshot
        if: ${{ success() }}
        run: ./gradlew -i publishToSonatype

timeout-minutes: 60 # Fix semantic smell by adding a timeout
2025-11-05 21:16:24,321 - main - INFO - 7단계: 결과 검증 및 저장
2025-11-05 21:16:24,321 - main - DEBUG - 검증할 YAML 길이: 1762 문자
2025-11-05 21:16:24,321 - main - DEBUG - YAML 시작 부분: 'name: Build a Branch Specific Snapshot\n\non:\n  workflow_dispatch:\n    inputs:\n      customSnap:\n     '
2025-11-05 21:16:24,332 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build a Branch Specific Snapshot', 'on': {'workflow_dispatch': {'inputs': {'customSnap': {'description': 'Custom Snapshot Name', 'required': False, 'type': 'string'}}}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'env': {'BUILD_EVENT': '${{ github.event_name }}', 'BRANCH_REF_NAME': '${{ github.ref_name }}', 'CUSTOM_SNAPSHOT_NAME': '${{ inputs.customSnap }}', 'OSSRH_USERNAME': '${{ secrets.OSSRH_USERNAME }}', 'OSSRH_PASSWORD': '${{ secrets.OSSRH_TOKEN }}', 'SIGNING_KEY_ID': '${{ secrets.SIGNING_KEY_ID }}', 'SIGNING_KEY': '${{ secrets.SIGNING_KEY }}', 'SIGNING_PASSWORD': '${{ secrets.SIGNING_PASSWORD }}', 'COVERALLS_REPO_TOKEN': '${{ secrets.COVERALLS_REPO_TOKEN }}', 'GODEBUG': 'x509sha1=1'}, 'steps': [{'name': 'Setup JDK', 'uses': 'actions/setup-java@v4', 'with': {'java-version': '8', 'distribution': 'adopt'}}, {'name': 'Setup GO', 'uses': 'actions/setup-go@v4', 'with': {'go-version': '1.21.4'}}, {'name': 'Install Nats Server', 'run': 'cd $GITHUB_WORKSPACE\ngit clone https://github.com/nats-io/nats-server.git\ncd nats-server\ngo get\ngo build main.go\nmkdir -p ~/.local/bin\ncp main ~/.local/bin/nats-server\ncd ..\nrm -rf nats-server\nnats-server -v\n'}, {'name': 'Check out code', 'uses': 'actions/checkout@v4'}, {'name': 'Build and Test', 'run': 'chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls'}, {'name': 'Verify Javadoc', 'if': '${{ success() }}', 'run': './gradlew javadoc'}, {'name': 'Publish Branch Snapshot', 'if': '${{ success() }}', 'run': './gradlew -i publishToSonatype'}]}}, 'timeout-minutes': 60}
2025-11-05 21:16:24,334 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 21:16:24,334 - main - INFO - Baseline 모드 복구 완료
2025-11-05 21:16:24,334 - main - INFO - 수정된 파일: llama3.1_8b/data_repair_baseline/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 21:16:24,334 - __main__ - INFO - === 파일 3/3 베이스라인 복구 완료 ===
2025-11-05 21:16:24,334 - __main__ - INFO - ✅ 성공 (17.01초): a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775 -> a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_baseline_repaired.yml
2025-11-05 21:16:24,335 - __main__ - INFO - ============================================================
2025-11-05 21:16:24,335 - __main__ - INFO - 베이스라인 자동 복구 완료!
2025-11-05 21:16:24,335 - __main__ - INFO - 총 처리 시간: 91.1초
2025-11-05 21:16:24,335 - __main__ - INFO - 총 파일: 3
2025-11-05 21:16:24,335 - __main__ - INFO - 성공: 3 (100.0%)
2025-11-05 21:16:24,335 - __main__ - INFO - 실패: 0
2025-11-05 21:16:24,335 - __main__ - INFO - 평균 처리 시간: 30.35초/파일
2025-11-05 21:16:24,335 - __main__ - INFO - 출력 파일 위치: llama3.1_8b/data_repair_baseline
2025-11-05 21:16:24,335 - __main__ - INFO - INFO 로그 파일: logs/llama3_info.log
2025-11-05 21:16:24,335 - __main__ - INFO - DEBUG 로그 파일: logs/llama3_debug.log
2025-11-05 21:16:24,335 - __main__ - INFO - ============================================================
2025-11-05 21:18:55,695 - __main__ - INFO - 2단계 자동 복구 시작: 100개 파일
2025-11-05 21:18:55,695 - __main__ - INFO - 입력 디렉토리: data_original
2025-11-05 21:18:55,695 - __main__ - INFO - 출력 디렉토리: llama3.1_8b/data_repair_two_phase
2025-11-05 21:18:55,695 - __main__ - INFO - 프롬프트 모드: Simple (2단계 복구)
2025-11-05 21:18:55,695 - __main__ - INFO - [1/100] 처리 중: 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:18:55,695 - __main__ - INFO - 입력 파일 경로: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:18:55,695 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_two_phase_repaired.yml
2025-11-05 21:18:55,695 - __main__ - INFO - === 파일 1/100 2단계 복구 시작 ===
2025-11-05 21:18:55,695 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:18:55,695 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:18:55,696 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:18:55,696 - main - INFO - 파일 크기: 2692 문자
2025-11-05 21:18:55,696 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:18:55,696 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:18:55,696 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:18:55,696 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:18:55,717 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:18:55,717 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:18:55,717 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:18:55,717 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:18:55,717 - main - INFO -   오류 1: could not parse as YAML: yaml: line 35: did not find expected key
2025-11-05 21:18:55,717 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:18:55,717 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:18:55,717 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:18:55,717 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:18:55,722 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:19:17,039 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:19:17,042 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:19:17,043 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:19:17,044 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2693 문자
2025-11-05 21:19:17,044 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:19:17,044 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:19:17,045 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:19:17,045 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:19:17,045 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.52초)
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis-validator-addresses:
        required: true
        type: string
      kava-version-filepath:
        required: true
        type: string
    secrets:
      DEV_WALLET_MNEMONIC:
        required: true

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo from master
        uses: actions/checkout@v3
        with:
          ref: master
      - name: checkout version of kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
        env:
          KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: build kava binary
        run: make install
      - name: checkout go evm tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: install go evm tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: checkout kava bridge repo for deploying evm contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: install nodeJS
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "install ERC20 contract deployment dependencies"
        run: "npm install"
        working-directory: kava-bridge/contract
      - name: compile default erc20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 30)
	- 8. Use commit hash instead of tags for action versions (line 43)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 68)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 127
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 2: name: Seed Chain
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 5: workflow_call:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 7: chain-api-url:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 9: type: string
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 10: chain-id:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 11: required: true
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 12: type: string
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 13: seed-script-filename:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 14: required: true
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 15: type: string
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 16: erc20-deployer-network-name:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 17: required: true
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 18: type: string
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 19: genesis-validator-addresses:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 20: required: true
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 21: type: string
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 22: kava-version-filepath:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 23: required: true
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 24: type: string
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 25: secrets:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 26: DEV_WALLET_MNEMONIC:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 27: required: true
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 29: jobs:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 30: seed-chain-state:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 31: runs-on: ubuntu-latest
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 32: steps:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 33: - name: checkout repo from master
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 34: uses: actions/checkout@v3
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 36: ref: master
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 37: - name: checkout version of kava used by network
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 38: run: |
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 39: git pull -p
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 40: git checkout $(cat ${KAVA_VERSION_FILEPATH})
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 41: env:
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 42: KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 43: - name: Set up Go
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 44: uses: actions/setup-go@v3
2025-11-05 21:19:17,566 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 46: go-version: "1.19"
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 47: check-latest: true
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 48: cache: true
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 49: - name: build kava binary
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 50: run: make install
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 51: - name: checkout go evm tools repo
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 52: uses: actions/checkout@v3
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 53: with:
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 54: repository: ethereum/go-ethereum
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 55: path: go-ethereum
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 56: ref: v1.10.26
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 57: - name: install go evm tools
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 59: make
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 60: make devtools
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 61: working-directory: go-ethereum
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 62: - name: checkout kava bridge repo for deploying evm contracts
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 63: uses: actions/checkout@v3
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 64: with:
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 65: repository: Kava-Labs/kava-bridge
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 66: path: kava-bridge
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 67: ref: main
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 68: - name: install nodeJS
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 69: uses: actions/setup-node@v3
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 70: with:
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 71: cache: npm
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 72: node-version: 18
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 73: cache-dependency-path: kava-bridge/contract/package.json
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 74: - name: "install ERC20 contract deployment dependencies"
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 75: run: "npm install"
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 76: working-directory: kava-bridge/contract
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 77: - name: compile default erc20 contracts
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 78: run: make compile-contracts
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 79: working-directory: kava-bridge
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 80: - name: run seed scripts
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 81: run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 82: working-directory: kava-bridge/contract
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 83: env:
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 84: CHAIN_API_URL: ${{ inputs.chain-api-url }}
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 85: CHAIN_ID: ${{ inputs.chain-id }}
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 86: DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 87: SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 88: ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 89: GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 90: mapping values are not allowed here
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 91: in "<file>", line 2, column 5
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 92: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 104: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 105: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 106: We have found 18 smells
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 107: - 3. Use fixed version for runs-on argument (line 30)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 30)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 108: - 8. Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 109: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 68)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 68)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 111: - 12. Avoid workflows without comments
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 112: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:19:17,567 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 125: The following styling errors were found:
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 라인 126: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:19:17,568 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:19:17,568 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:19:17,568 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:19:17,568 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:19:17,568 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:19:17,568 - main - DEBUG - 임시 파일 삭제: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:19:17,568 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:19:17,568 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Seed Chain
        ^
2025-11-05 21:19:17,568 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:19:17,568 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:19:17,569 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_two_phase_repaired.yml
2025-11-05 21:19:17,569 - __main__ - INFO - === 파일 1/100 2단계 복구 완료 ===
2025-11-05 21:19:17,569 - __main__ - ERROR - ❌ 실패 (21.87초): 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:19:17,569 - __main__ - INFO - [2/100] 처리 중: 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:19:17,569 - __main__ - INFO - 입력 파일 경로: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:19:17,570 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_two_phase_repaired.yml
2025-11-05 21:19:17,570 - __main__ - INFO - === 파일 2/100 2단계 복구 시작 ===
2025-11-05 21:19:17,570 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:19:17,570 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:19:17,570 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:19:17,570 - main - INFO - 파일 크기: 4982 문자
2025-11-05 21:19:17,570 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:19:17,570 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:19:17,570 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:19:17,570 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:19:17,588 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:19:17,588 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:19:17,588 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:19:17,588 - main - INFO - actionlint 오류 3개 발견
2025-11-05 21:19:17,588 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:19:17,588 - main - INFO -   오류 2: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:19:17,588 - main - INFO -   오류 3: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:19:17,588 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:19:17,588 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:19:17,588 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:19:17,588 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:19:17,589 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:19:56,342 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:19:56,344 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:19:56,345 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:19:56,346 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4828 문자
2025-11-05 21:19:56,346 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:19:56,346 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:19:56,347 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:19:56,347 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:19:56,347 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:19:56,788 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 21:19:56,788 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push Frontend images
        uses: docker/build-push-action@v4
        with:
          file: docker/frontend.Dockerfile
          context: .
          push: true
          tags: frontend-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-backend:
    runs-on: ubuntu-latest
    name: Build Backend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/api.Dockerfile
          context: .
          push: true
          tags: api-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-omni:
    runs-on: ubuntu-latest
    name: Build Omni
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/omni.Dockerfile
          context: .
          push: true
          tags: omni-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 21 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 129)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:19:56,788 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:19:56,788 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:19:56,788 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 220
2025-11-05 21:19:56,788 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:19:56,788 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 2: name: Build Containers
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 5: workflow_call:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 7: tag:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 9: type: string
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 10: secrets:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 11: DOCKERHUB_USERNAME:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 12: required: true
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 13: DOCKERHUB_TOKEN:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 14: required: true
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 16: jobs:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 17: build-frontend:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 19: name: Build Frontend
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 21: - name: Checkout
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 22: uses: actions/checkout@v3
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 24: - name: Set up QEMU
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 25: id: qemu
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 26: uses: docker/setup-qemu-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 27: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 28: image: tonistiigi/binfmt:latest
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 29: platforms: all
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 31: - name: Set up Docker Buildx
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 32: id: buildx
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 33: uses: docker/setup-buildx-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 35: install: true
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 37: - name: Login to Docker Hub
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 38: uses: docker/login-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 39: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 40: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 41: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 43: - name: Log in to the Container registry
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 44: uses: docker/login-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 46: registry: ghcr.io
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 47: username: ${{ github.actor }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 48: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 50: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 51: id: meta
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 52: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 53: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 54: images: hkotel/mealie
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 55: reference: ${{ github.repository }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 57: - name: Build and push Frontend images
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 58: uses: docker/build-push-action@v4
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 60: file: docker/frontend.Dockerfile
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 61: context: .
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 62: push: true
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 63: tags: frontend-${{ steps.meta.outputs.tags }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 64: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 65: platforms:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 66: - linux/amd64
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 67: - linux/arm64
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 69: build-backend:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 70: runs-on: ubuntu-latest
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 71: name: Build Backend
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 72: steps:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 73: - name: Checkout
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 74: uses: actions/checkout@v3
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 76: - name: Set up QEMU
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 77: id: qemu
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 78: uses: docker/setup-qemu-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 79: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 80: image: tonistiigi/binfmt:latest
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 81: platforms: all
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 83: - name: Set up Docker Buildx
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 84: id: buildx
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 85: uses: docker/setup-buildx-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 86: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 87: install: true
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 89: - name: Login to Docker Hub
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 90: uses: docker/login-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 91: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 92: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 93: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 95: - name: Override __init__.py
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 96: run: |
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 97: echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 99: - name: Log in to the Container registry
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 100: uses: docker/login-action@v2
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 101: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 102: registry: ghcr.io
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 103: username: ${{ github.actor }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 104: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 106: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 107: id: meta
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 108: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 109: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 110: images: hkotel/mealie
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 111: reference: ${{ github.repository }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 113: - name: Build and push API images
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 114: uses: docker/build-push-action@v4
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 115: with:
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 116: file: docker/api.Dockerfile
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 117: context: .
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 118: push: true
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 119: tags: api-${{ steps.meta.outputs.tags }}
2025-11-05 21:19:56,789 - utils.process_runner - DEBUG - 라인 120: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 121: platforms:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 122: - linux/amd64
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 123: - linux/arm64
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 125: build-omni:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 126: runs-on: ubuntu-latest
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 127: name: Build Omni
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 128: steps:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 129: - name: Checkout
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 130: uses: actions/checkout@v2
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 132: - name: Set up QEMU
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 133: id: qemu
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 134: uses: docker/setup-qemu-action@v2
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 135: with:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 136: image: tonistiigi/binfmt:latest
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 137: platforms: all
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 139: - name: Set up Docker Buildx
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 140: id: buildx
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 141: uses: docker/setup-buildx-action@v2
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 142: with:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 143: install: true
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 145: - name: Login to Docker Hub
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 146: uses: docker/login-action@v2
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 147: with:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 148: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 149: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 151: - name: Override __init__.py
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 152: run: |
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 153: echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 155: - name: Log in to the Container registry
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 156: uses: docker/login-action@v2
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 157: with:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 158: registry: ghcr.io
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 159: username: ${{ github.actor }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 160: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 162: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 163: id: meta
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 164: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 165: with:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 166: images: hkotel/mealie
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 167: reference: ${{ github.repository }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 169: - name: Build and push API images
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 170: uses: docker/build-push-action@v4
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 171: with:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 172: file: docker/omni.Dockerfile
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 173: context: .
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 174: push: true
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 175: tags: omni-${{ steps.meta.outputs.tags }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 176: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 177: platforms:
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 178: - linux/amd64
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 179: - linux/arm64
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 180: mapping values are not allowed here
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 181: in "<file>", line 2, column 5
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 182: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 184: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 185: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 186: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 187: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 188: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 189: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 190: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 191: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 192: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 193: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 194: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 195: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 196: We have found 21 smells
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 21 smells
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 197: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 198: - 8. Use commit hash instead of tags for action versions (line 129)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 129)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 199: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 200: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 201: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 202: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 203: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 204: - 12. Avoid workflows without comments
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 205: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 206: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 라인 207: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:19:56,790 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 208: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 209: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 210: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 211: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 212: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 213: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 214: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 215: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 216: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 217: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 218: The following styling errors were found:
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 라인 219: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:19:56,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:19:56,791 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:19:56,791 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:19:56,791 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:19:56,791 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:19:56,791 - main - DEBUG - 임시 파일 삭제: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:19:56,791 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:19:56,791 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build Containers
        ^
2025-11-05 21:19:56,791 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:19:56,791 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:19:56,792 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_two_phase_repaired.yml
2025-11-05 21:19:56,792 - __main__ - INFO - === 파일 2/100 2단계 복구 완료 ===
2025-11-05 21:19:56,792 - __main__ - ERROR - ❌ 실패 (39.22초): 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:19:56,792 - __main__ - INFO - [3/100] 처리 중: a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:19:56,792 - __main__ - INFO - 입력 파일 경로: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:19:56,792 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_two_phase_repaired.yml
2025-11-05 21:19:56,792 - __main__ - INFO - === 파일 3/100 2단계 복구 시작 ===
2025-11-05 21:19:56,792 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:19:56,792 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:19:56,793 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:19:56,793 - main - INFO - 파일 크기: 1695 문자
2025-11-05 21:19:56,793 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:19:56,793 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:19:56,793 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:19:56,793 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:19:56,809 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:19:56,810 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:19:56,810 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:19:56,810 - main - INFO - actionlint 오류 2개 발견
2025-11-05 21:19:56,810 - main - INFO -   오류 1: expected "inputs" key for "workflow_dispatch" section but got "customSnap"
2025-11-05 21:19:56,810 - main - INFO -   오류 2: property "customsnap" is not defined in object type {}
2025-11-05 21:19:56,810 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:19:56,810 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:19:56,810 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:19:56,810 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:19:56,811 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:20:12,089 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:20:12,093 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:20:12,094 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:20:12,095 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1704 문자
2025-11-05 21:20:12,095 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:20:12,095 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:20:12,096 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:20:12,096 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:20:12,096 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.52초)
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
      customSnap:
        description: 'Custom Snapshot Name'
        required: false
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
      OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
      SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
      SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
      SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
      COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
      GODEBUG: x509sha1=1
    steps:
      - name: Setup JDK
        uses: actions/setup-java@v4
        with:
          java-version: '8'
          distribution: 'adopt'
      - name: Setup GO
        uses: actions/setup-go@v4
        with:
          go-version: '1.21.4'
      - name: Install Nats Server
        run: |
          cd $GITHUB_WORKSPACE
          git clone https://github.com/nats-io/nats-server.git
          cd nats-server
          go get
          go build main.go
          mkdir -p ~/.local/bin
          cp main ~/.local/bin/nats-server
          cd ..
          rm -rf nats-server
          nats-server -v
      - name: Check out code
        uses: actions/checkout@v4
      - name: Build and Test
        run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
      - name: Verify Javadoc
        if: ${{ success() }}
        run: ./gradlew javadoc
      - name: Publish Branch Snapshot
        if: ${{ success() }}
        run: ./gradlew -i publishToSonatype
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 95
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 2: name: Build a Branch Specific Snapshot
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 5: workflow_dispatch:
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 7: customSnap:
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 8: description: 'Custom Snapshot Name'
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 9: required: false
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 10: type: string
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 13: build:
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 15: env:
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 16: BUILD_EVENT: ${{ github.event_name }}
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 17: BRANCH_REF_NAME: ${{ github.ref_name }}
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 18: CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
2025-11-05 21:20:12,618 - utils.process_runner - DEBUG - 라인 19: OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 20: OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 21: SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 22: SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 23: SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 24: COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 25: GODEBUG: x509sha1=1
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 26: steps:
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 27: - name: Setup JDK
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 28: uses: actions/setup-java@v4
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 29: with:
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 30: java-version: '8'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 31: distribution: 'adopt'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 32: - name: Setup GO
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 33: uses: actions/setup-go@v4
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 35: go-version: '1.21.4'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 36: - name: Install Nats Server
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 37: run: |
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 38: cd $GITHUB_WORKSPACE
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 39: git clone https://github.com/nats-io/nats-server.git
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 40: cd nats-server
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 41: go get
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 42: go build main.go
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 43: mkdir -p ~/.local/bin
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 44: cp main ~/.local/bin/nats-server
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 45: cd ..
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 46: rm -rf nats-server
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 47: nats-server -v
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 48: - name: Check out code
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 49: uses: actions/checkout@v4
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 50: - name: Build and Test
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 51: run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 52: - name: Verify Javadoc
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 53: if: ${{ success() }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 54: run: ./gradlew javadoc
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 55: - name: Publish Branch Snapshot
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 56: if: ${{ success() }}
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 57: run: ./gradlew -i publishToSonatype
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 58: mapping values are not allowed here
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 59: in "<file>", line 2, column 5
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 60: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 74: We have found 18 smells
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 75: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 76: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 77: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 78: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 79: - 12. Avoid workflows without comments
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 80: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:20:12,619 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 라인 93: The following styling errors were found:
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 라인 94: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:20:12,620 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:20:12,620 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:20:12,620 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:20:12,620 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:20:12,620 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:20:12,620 - main - DEBUG - 임시 파일 삭제: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:20:12,620 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:20:12,620 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build a Branch Specific Snapshot
        ^
2025-11-05 21:20:12,620 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:20:12,620 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:20:12,621 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_two_phase_repaired.yml
2025-11-05 21:20:12,621 - __main__ - INFO - === 파일 3/100 2단계 복구 완료 ===
2025-11-05 21:20:12,621 - __main__ - ERROR - ❌ 실패 (15.83초): a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:20:12,621 - __main__ - INFO - [4/100] 처리 중: 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:20:12,621 - __main__ - INFO - 입력 파일 경로: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:20:12,622 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:20:12,622 - __main__ - INFO - === 파일 4/100 2단계 복구 시작 ===
2025-11-05 21:20:12,622 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:20:12,622 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:20:12,622 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:20:12,622 - main - INFO - 파일 크기: 1457 문자
2025-11-05 21:20:12,622 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:20:12,622 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:20:12,622 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:20:12,622 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:20:12,639 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:20:12,639 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:20:12,639 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:20:12,639 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:20:12,639 - main - INFO -   오류 1: could not parse as YAML: yaml: line 49: found a tab character where an indentation space is expected
2025-11-05 21:20:12,639 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:20:12,639 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:20:12,639 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:20:12,639 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:20:12,641 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:20:24,899 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1984
2025-11-05 21:20:24,901 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:20:24,902 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:20:24,902 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1460 문자
2025-11-05 21:20:24,902 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:20:24,902 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:20:24,904 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:20:24,904 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:20:24,905 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:20:25,358 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
We have found 13 smells
	- 3. Use fixed version for runs-on argument (line 23)
	- 6. Define permissions for workflows with external actions (job at line: 21)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 21)
	- 13. Use names for run steps (lines -1:27)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
13:16: too many spaces inside brackets (brackets)
13:42: too many spaces inside brackets (brackets)
15:5: wrong indentation: expected 6 but found 4 (indentation)
27:5: wrong indentation: expected 6 but found 4 (indentation)
51:47: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 22
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 2: We have found 13 smells
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 23)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 23)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 21)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 21)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 21)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 21)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:27)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:27)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: build)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 13: - 20. Run CI on multiple language versions (job: build)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 14: - 21. Use cache parameter instead of cache option
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 16: The following styling errors were found:
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 17: 13:16: too many spaces inside brackets (brackets)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 18: 13:42: too many spaces inside brackets (brackets)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 19: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 20: 27:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 21:20:25,359 - utils.process_runner - DEBUG - 라인 21: 51:47: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:20:25,359 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:20:25,359 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 21:20:25,359 - main - INFO - 스멜 1개 발견
2025-11-05 21:20:25,359 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 21)
2025-11-05 21:20:25,360 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:20:25,360 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:20:25,360 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:20:25,360 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:20:25,361 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:20:42,053 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:20:42,055 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:20:42,056 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:20:42,056 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1629 문자
2025-11-05 21:20:42,057 - main - DEBUG - 임시 파일 삭제: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:20:42,057 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:20:42,065 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Deploy to Maven Central', 'on': {'workflow_run': {'workflows': ['CI Build'], 'branches': ['master', 'v20.12', 'v14.1.1.0'], 'types': ['completed']}}, 'env': {'MAVEN_OPTS': '-Dmaven.wagon.httpconnectionManager.ttlSeconds=25 -Dmaven.wagon.http.retryHandler.count=3'}, 'jobs': {'build': {'if': "${{ github.event.workflow_run.conclusion == 'success' }}", 'timeout-minutes': 30, 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Set up Java 11', 'uses': 'actions/setup-java@v1', 'with': {'java-version': '11'}}, {'name': 'Cache Maven packages', 'uses': 'actions/cache@v1', 'with': {'path': '~/.m2', 'key': "${{ runner.os }}-m2-${{ hashFiles('**/pom.xml') }}", 'restore-keys': '${{ runner.os }}-m2'}}, {'name': 'Build and deploy with Maven', 'env': {'MAVEN_USER': '${{ secrets.MavenUser }}', 'MAVEN_PASSWORD': '${{ secrets.MavenPassword }}', 'GIT_COMMIT': '${{github.event.workflow_run.head_commit.id}}', 'HEAD_BRANCH': '${{github.event.workflow_run.head_branch}}'}, 'run': 'git checkout "${GIT_COMMIT}"\nsh tools/bin/github-deploy-snapshot.sh'}]}}}
2025-11-05 21:20:42,065 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:20:42,066 - main - INFO - 2단계 모드 복구 완료
2025-11-05 21:20:42,066 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:20:42,066 - __main__ - INFO - === 파일 4/100 2단계 복구 완료 ===
2025-11-05 21:20:42,066 - __main__ - INFO - ✅ 성공 (29.44초): 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3 -> 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:20:42,066 - __main__ - INFO - [5/100] 처리 중: ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:20:42,066 - __main__ - INFO - 입력 파일 경로: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:20:42,066 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_two_phase_repaired.yml
2025-11-05 21:20:42,066 - __main__ - INFO - === 파일 5/100 2단계 복구 시작 ===
2025-11-05 21:20:42,066 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:20:42,066 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:20:42,066 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:20:42,066 - main - INFO - 파일 크기: 5175 문자
2025-11-05 21:20:42,066 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:20:42,066 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:20:42,067 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:20:42,067 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:20:42,097 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:20:42,098 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:20:42,098 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:20:42,098 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:20:42,098 - main - INFO -   오류 1: could not parse as YAML: yaml: line 17: mapping values are not allowed in this context
2025-11-05 21:20:42,098 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:20:42,098 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:20:42,098 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:20:42,098 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:20:42,102 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:21:27,647 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:21:27,648 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:21:27,649 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:21:27,649 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 5218 문자
2025-11-05 21:21:27,649 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:21:27,649 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:21:27,649 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:21:27,649 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:21:27,650 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:21:28,160 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 21:21:28,160 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
on:
  push:
    # Sequence of patterns matched against refs/tags
    tags:
      - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10

name: Upload Release Asset

jobs:

  build-linux:
    name: Build ESBMC with all Solvers (Linux)
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Configure CMake
        run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On
      - name: Build ESBMC
        run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Linux.sh
      - uses: actions/upload-artifact@v1
        with:
          name: release-linux
          path: ./build/ESBMC-Linux.sh

  build-macos:
    name: Build Darwin Release
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install Dependencies
        run: brew install gmp csmith cmake boost ninja python3 automake bison flex && pip3 install PySMT toml
      - name: Download Clang 11
        run: wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz
      - name: Extract Clang 11
        run: tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang
      - name: Setup boolector
        run: git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && cd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && ./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install
      - name: Setup Z3
        run: brew install z3
      - name: Get current folder and files
        run: pwd && ls
      - name: Configure CMake
        run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On
      - name: Build ESBMC
        run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Darwin.sh
      - uses: actions/upload-artifact@v1
        with:
          name: release-darwin
          path: ./build/ESBMC-Darwin.sh

  build-windows:
    name: Build ESBMC with Z3 (Windows)
    runs-on: windows-latest
    steps:
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.8
      - name: check python
        run: python --version
      - name: Update vcpkg
        run: |
          vcpkg.exe update
          cd C:/vcpkg
          git.exe pull
          .\bootstrap-vcpkg.bat
      - name: Configure ESBMC
        run: ./scripts/build.ps1
      - uses: actions/upload-artifact@v2
        with:
          name: release-windows
          path: C:/deps/esbmc

  create-release:
    name: Upload Release Asset
    runs-on: ubuntu-20.04
    needs: [build-linux, build-macos, build-windows]
    steps:
      - name: Download Linux Build
        uses: actions/download-artifact@v1
        with:
          name: release-linux
          path: ./
      - name: Download Macos Build
        uses: actions/download-artifact@v1
        with:
          name: release-darwin
          path: ./
      - name: Download Windows Build
        uses: actions/download-artifact@v1
        with:
          name: release-windows
          path: ./
      - name: Get files
        run: ls
      - name: Create Release
        id: create_release
        uses: actions/create-release@v1.0.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          draft: false
          prerelease: false
      - name: Upload Release Asset (Linux)
        id: upload-release-asset-linux
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Linux.sh
          asset_name: ESBMC-Linux.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Darwin)
        id: upload-release-asset-macos
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Darwin.sh
          asset_name: ESBMC-Darwin.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Windows)
        id: upload-release-asset-windows
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Windows.zip
          asset_name: ESBMC-Windows.zip
          asset_content_type: application/zip
mapping values are not allowed here
  in "<file>", line 2, column 3
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 23 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 3. Use fixed version for runs-on argument (line 53)
	- 3. Use fixed version for runs-on argument (line 27)
	- 8. Use commit hash instead of tags for action versions (line 108)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 56)
	- 8. Use commit hash instead of tags for action versions (line 98)
	- 8. Use commit hash instead of tags for action versions (line 80)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 69)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
2:3: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:21:28,160 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:21:28,160 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 179
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 3: push:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 4: # Sequence of patterns matched against refs/tags
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 5: tags:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 6: - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#'v*' # Push events to matching v*, i.e): v1.0, v20.15.10
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 8: name: Upload Release Asset
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 12: build-linux:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 13: name: Build ESBMC with all Solvers (Linux)
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 16: - uses: actions/checkout@v2
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 17: - name: Configure CMake
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 18: run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 19: - name: Build ESBMC
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 20: run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Linux.sh
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 21: - uses: actions/upload-artifact@v1
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 22: with:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 23: name: release-linux
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 24: path: ./build/ESBMC-Linux.sh
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 26: build-macos:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 27: name: Build Darwin Release
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 28: runs-on: macos-latest
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v2
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 31: - name: Install Dependencies
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 32: run: brew install gmp csmith cmake boost ninja python3 automake bison flex && pip3 install PySMT toml
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 33: - name: Download Clang 11
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 34: run: wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 35: - name: Extract Clang 11
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 36: run: tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 37: - name: Setup boolector
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 38: run: git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && cd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && ./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 39: - name: Setup Z3
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 40: run: brew install z3
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 41: - name: Get current folder and files
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 42: run: pwd && ls
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 43: - name: Configure CMake
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 44: run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 45: - name: Build ESBMC
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 46: run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Darwin.sh
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 47: - uses: actions/upload-artifact@v1
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 49: name: release-darwin
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 50: path: ./build/ESBMC-Darwin.sh
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 52: build-windows:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 53: name: Build ESBMC with Z3 (Windows)
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 54: runs-on: windows-latest
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 55: steps:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 56: - name: Set up Python
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 57: uses: actions/setup-python@v2
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 58: with:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 59: python-version: 3.8
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 60: - name: check python
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 61: run: python --version
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 62: - name: Update vcpkg
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 63: run: |
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 64: vcpkg.exe update
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 65: cd C:/vcpkg
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 66: git.exe pull
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 67: .\bootstrap-vcpkg.bat
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 68: - name: Configure ESBMC
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 69: run: ./scripts/build.ps1
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 70: - uses: actions/upload-artifact@v2
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 72: name: release-windows
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 73: path: C:/deps/esbmc
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 75: create-release:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 76: name: Upload Release Asset
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 77: runs-on: ubuntu-20.04
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 78: needs: [build-linux, build-macos, build-windows]
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 79: steps:
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 80: - name: Download Linux Build
2025-11-05 21:21:28,161 - utils.process_runner - DEBUG - 라인 81: uses: actions/download-artifact@v1
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 82: with:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 83: name: release-linux
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 84: path: ./
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 85: - name: Download Macos Build
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 86: uses: actions/download-artifact@v1
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 87: with:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 88: name: release-darwin
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 89: path: ./
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 90: - name: Download Windows Build
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 91: uses: actions/download-artifact@v1
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 92: with:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 93: name: release-windows
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 94: path: ./
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 95: - name: Get files
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 96: run: ls
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 97: - name: Create Release
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 98: id: create_release
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 99: uses: actions/create-release@v1.0.0
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 100: env:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 101: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 102: with:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 103: tag_name: ${{ github.ref }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 104: release_name: Release ${{ github.ref }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 105: draft: false
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 106: prerelease: false
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 107: - name: Upload Release Asset (Linux)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 108: id: upload-release-asset-linux
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 109: uses: actions/upload-release-asset@v1.0.1
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 110: env:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 111: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 112: with:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 113: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 114: asset_path: ./ESBMC-Linux.sh
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 115: asset_name: ESBMC-Linux.sh
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 116: asset_content_type: text/x-shellscript
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 117: - name: Upload Release Asset (Darwin)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 118: id: upload-release-asset-macos
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 119: uses: actions/upload-release-asset@v1.0.1
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 120: env:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 121: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 122: with:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 123: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 124: asset_path: ./ESBMC-Darwin.sh
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 125: asset_name: ESBMC-Darwin.sh
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 126: asset_content_type: text/x-shellscript
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 127: - name: Upload Release Asset (Windows)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 128: id: upload-release-asset-windows
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 129: uses: actions/upload-release-asset@v1.0.1
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 130: env:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 131: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 132: with:
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 133: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 134: asset_path: ./ESBMC-Windows.zip
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 135: asset_name: ESBMC-Windows.zip
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 136: asset_content_type: application/zip
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 137: mapping values are not allowed here
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 138: in "<file>", line 2, column 3
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 139: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 140: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 141: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 142: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 143: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 144: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 145: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 146: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 147: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 148: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 149: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 150: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 151: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 152: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 153: We have found 23 smells
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 23 smells
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 154: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 155: - 3. Use fixed version for runs-on argument (line 53)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 53)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 156: - 3. Use fixed version for runs-on argument (line 27)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 27)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 157: - 8. Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 라인 158: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:21:28,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 159: - 8. Use commit hash instead of tags for action versions (line 56)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 56)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 160: - 8. Use commit hash instead of tags for action versions (line 98)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 98)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 161: - 8. Use commit hash instead of tags for action versions (line 80)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 80)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 162: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 163: - 8. Use commit hash instead of tags for action versions (line 69)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 69)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 164: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 165: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 166: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 167: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 168: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 169: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 170: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 171: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 172: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 177: The following styling errors were found:
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 라인 178: 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:21:28,163 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:21:28,163 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:21:28,163 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:21:28,163 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:21:28,163 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:21:28,163 - main - DEBUG - 임시 파일 삭제: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:21:28,163 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:21:28,163 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 3:
    on:
      ^
2025-11-05 21:21:28,163 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:21:28,164 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:21:28,164 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_two_phase_repaired.yml
2025-11-05 21:21:28,165 - __main__ - INFO - === 파일 5/100 2단계 복구 완료 ===
2025-11-05 21:21:28,165 - __main__ - ERROR - ❌ 실패 (46.10초): ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:21:28,165 - __main__ - INFO - [6/100] 처리 중: cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:21:28,165 - __main__ - INFO - 입력 파일 경로: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:21:28,165 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_two_phase_repaired.yml
2025-11-05 21:21:28,165 - __main__ - INFO - === 파일 6/100 2단계 복구 시작 ===
2025-11-05 21:21:28,165 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:21:28,165 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:21:28,165 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:21:28,165 - main - INFO - 파일 크기: 833 문자
2025-11-05 21:21:28,165 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:21:28,165 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:21:28,165 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:21:28,165 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:21:28,182 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:21:28,182 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:21:28,182 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:21:28,182 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:21:28,182 - main - INFO -   오류 1: expecting a single ${{...}} expression or mapping value for "env" section, but found plain text node
2025-11-05 21:21:28,183 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:21:28,183 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:21:28,183 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:21:28,183 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:21:28,184 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:21:38,542 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1625
2025-11-05 21:21:38,543 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:21:38,543 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:21:38,543 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 976 문자
2025-11-05 21:21:38,543 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:21:38,543 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:21:38,543 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:21:38,543 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:21:38,544 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: CI

on:
  push:
    branches: [main]
  pull_request:
    types: [opened, synchronize]
  workflow_dispatch:

jobs:
  ci:
    name: CI
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🚪
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Setup pnpm 🌸
        uses: pnpm/action-setup@v2.2.4

      - name: Setup node 🍀
        uses: actions/setup-node@v3
        with:
          node-version-file: '.nvmrc'
          cache: 'pnpm'

      - name: Bootstrap 📦
        run: script/bootstrap

      - name: Typecheck 🔡
        run: pnpm typecheck:affected

      - name: Lint 🪩
        run: pnpm lint:affected

      - name: Prettier ✨
        run: pnpm prettier:affected

      - name: Build 🎁
        run: pnpm build

      - name: Run Tests 🧪
        env:
          # Fix the syntax error by using a single ${{...}} expression or mapping value
          TEST_ENV_VAR: ${{ secrets.TEST_ENV_VAR }}
        run: pnpm test:dev
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 86
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 2: name: CI
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 6: branches: [main]
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 8: types: [opened, synchronize]
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 9: workflow_dispatch:
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 12: ci:
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 13: name: CI
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 21:21:38,991 - utils.process_runner - DEBUG - 라인 16: - name: Checkout 🚪
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 17: uses: actions/checkout@v3
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 18: with:
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 19: fetch-depth: 0
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 21: - name: Setup pnpm 🌸
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 22: uses: pnpm/action-setup@v2.2.4
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 24: - name: Setup node 🍀
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 25: uses: actions/setup-node@v3
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 26: with:
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 27: node-version-file: '.nvmrc'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 28: cache: 'pnpm'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 30: - name: Bootstrap 📦
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 31: run: script/bootstrap
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 33: - name: Typecheck 🔡
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 34: run: pnpm typecheck:affected
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 36: - name: Lint 🪩
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 37: run: pnpm lint:affected
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 39: - name: Prettier ✨
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 40: run: pnpm prettier:affected
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 42: - name: Build 🎁
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 43: run: pnpm build
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 45: - name: Run Tests 🧪
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 46: env:
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 47: # Fix the syntax error by using a single ${{...}} expression or mapping value
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 48: TEST_ENV_VAR: ${{ secrets.TEST_ENV_VAR }}
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 49: run: pnpm test:dev
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 50: mapping values are not allowed here
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 51: in "<file>", line 2, column 5
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 52: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,992 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 66: We have found 17 smells
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 67: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 68: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 69: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 70: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 71: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 84: The following styling errors were found:
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 라인 85: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:21:38,993 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:21:38,993 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:21:38,993 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:21:38,993 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:21:38,993 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:21:38,993 - main - DEBUG - 임시 파일 삭제: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:21:38,994 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:21:38,994 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: CI
        ^
2025-11-05 21:21:38,994 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:21:38,994 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:21:38,994 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_two_phase_repaired.yml
2025-11-05 21:21:38,994 - __main__ - INFO - === 파일 6/100 2단계 복구 완료 ===
2025-11-05 21:21:38,995 - __main__ - ERROR - ❌ 실패 (10.83초): cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:21:38,995 - __main__ - INFO - [7/100] 처리 중: 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:21:38,995 - __main__ - INFO - 입력 파일 경로: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:21:38,995 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_two_phase_repaired.yml
2025-11-05 21:21:38,995 - __main__ - INFO - === 파일 7/100 2단계 복구 시작 ===
2025-11-05 21:21:38,995 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:21:38,995 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:21:38,995 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:21:38,995 - main - INFO - 파일 크기: 1417 문자
2025-11-05 21:21:38,995 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:21:38,995 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:21:38,995 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:21:38,995 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:21:39,013 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:21:39,013 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:21:39,013 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:21:39,013 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:21:39,013 - main - INFO -   오류 1: key "run" is duplicated in element of "steps" section. previously defined at line:36,col:11
2025-11-05 21:21:39,013 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:21:39,014 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:21:39,014 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:21:39,014 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:21:39,015 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:21:48,266 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1697
2025-11-05 21:21:48,267 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:21:48,268 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:21:48,268 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 985 문자
2025-11-05 21:21:48,268 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:21:48,268 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:21:48,268 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:21:48,268 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:21:48,269 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.52초)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
We have found 14 smells
	- 6. Define permissions for workflows with external actions (job at line: 6)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 9. Steps should only perform a single command (line -1)
	- 11. Avoid uploading artifacts on forks (line 36)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:15)
	- 13. Use names for run steps (lines 14:14)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: e2e-test)
	- 20. Run CI on multiple language versions (job: e2e-test)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
11:11: wrong indentation: expected 12 but found 10 (indentation)
14:9: wrong indentation: expected 12 but found 8 (indentation)
17:13: wrong indentation: expected 14 but found 12 (indentation)
21:31: trailing spaces (trailing-spaces)
26:35: trailing spaces (trailing-spaces)
31:13: wrong indentation: expected 14 but found 12 (indentation)
39:13: wrong indentation: expected 14 but found 12 (indentation)
40:40: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 26
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 2: We have found 14 smells
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 3: - 6. Define permissions for workflows with external actions (job at line: 6)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 6)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 4: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 9: - 11. Avoid uploading artifacts on forks (line 36)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 스멜 감지 (#11): Avoid uploading artifacts on forks (line 36)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 10: - 12. Avoid workflows without comments
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:15)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:15)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines 14:14)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 14:14)
2025-11-05 21:21:48,791 - utils.process_runner - DEBUG - 라인 13: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 14: - 19. Run tests on multiple OS's (job: e2e-test)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: e2e-test)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 15: - 20. Run CI on multiple language versions (job: e2e-test)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: e2e-test)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 16: - 22. Avoid deploying jobs on forks
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 17: The following styling errors were found:
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 18: 11:11: wrong indentation: expected 12 but found 10 (indentation)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 19: 14:9: wrong indentation: expected 12 but found 8 (indentation)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 20: 17:13: wrong indentation: expected 14 but found 12 (indentation)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 21: 21:31: trailing spaces (trailing-spaces)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 22: 26:35: trailing spaces (trailing-spaces)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 23: 31:13: wrong indentation: expected 14 but found 12 (indentation)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 24: 39:13: wrong indentation: expected 14 but found 12 (indentation)
2025-11-05 21:21:48,792 - utils.process_runner - DEBUG - 라인 25: 40:40: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:21:48,792 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:21:48,792 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 21:21:48,792 - main - INFO - 스멜 1개 발견
2025-11-05 21:21:48,792 - main - INFO -   스멜 1: Avoid uploading artifacts on forks (line 36)
2025-11-05 21:21:48,792 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:21:48,792 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:21:48,792 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:21:48,792 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:21:48,793 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:22:07,457 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:22:07,460 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:22:07,461 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:22:07,461 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1228 문자
2025-11-05 21:22:07,462 - main - DEBUG - 임시 파일 삭제: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:22:07,462 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:22:07,470 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Ezra Bible App test suite', 'on': {'push': {'branches': ['main']}}, 'jobs': {'e2e-test': {'name': 'Run Cucumber tests', 'runs-on': 'ubuntu-20.04', 'timeout-minutes': 10, 'env': {'JOBS_MAX': '${{ secrets.JOBS_MAX }}'}, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Setup Node.js', 'uses': 'actions/setup-node@v2', 'with': {'node-version': '14'}}, {'name': 'Install dependencies and build native modules', 'run': 'sudo apt update && \nsudo apt install -y libcurl4-gnutls-dev xvfb &&\nnpm install\n'}, {'name': 'Compile templates', 'run': 'npm run compile-pug'}, {'name': 'Run test with retries', 'uses': 'nick-fields/retry@v2', 'with': {'timeout_minutes': 5, 'max_attempts': 2, 'command': 'npm run headless-test'}}, {'name': 'Archive screenshot (in case of an error)', 'uses': 'actions/upload-artifact@v2', 'if': 'failure()', 'env': {'GITHUB_ACTIONS': True}, 'with': {'name': 'screenshot.png', 'path': './test_screenshot.png'}}]}}}
2025-11-05 21:22:07,470 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_two_phase_repaired.yml
2025-11-05 21:22:07,470 - main - INFO - 2단계 모드 복구 완료
2025-11-05 21:22:07,470 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_two_phase_repaired.yml
2025-11-05 21:22:07,471 - __main__ - INFO - === 파일 7/100 2단계 복구 완료 ===
2025-11-05 21:22:07,471 - __main__ - INFO - ✅ 성공 (28.48초): 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0 -> 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_two_phase_repaired.yml
2025-11-05 21:22:07,471 - __main__ - INFO - [8/100] 처리 중: 0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:22:07,471 - __main__ - INFO - 입력 파일 경로: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:22:07,471 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_two_phase_repaired.yml
2025-11-05 21:22:07,471 - __main__ - INFO - === 파일 8/100 2단계 복구 시작 ===
2025-11-05 21:22:07,471 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:22:07,471 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:22:07,472 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:22:07,472 - main - INFO - 파일 크기: 3949 문자
2025-11-05 21:22:07,472 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:22:07,472 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:22:07,472 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:22:07,473 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:22:07,494 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:22:07,494 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:22:07,495 - main - INFO - actionlint에서 5개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:22:07,495 - main - INFO - actionlint 오류 5개 발견
2025-11-05 21:22:07,495 - main - INFO -   오류 1: key "name" is duplicated in "build" job. previously defined at line:16,col:5
2025-11-05 21:22:07,495 - main - INFO -   오류 2: key "runs-on" is duplicated in "build" job. previously defined at line:17,col:5
2025-11-05 21:22:07,495 - main - INFO -   오류 3: key "timeout-minutes" is duplicated in "build" job. previously defined at line:18,col:5
2025-11-05 21:22:07,495 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:22:07,495 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:22:07,495 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:22:07,495 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:22:07,496 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:22:46,837 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:22:46,838 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:22:46,839 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:22:46,839 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4130 문자
2025-11-05 21:22:46,839 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:22:46,839 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:22:46,840 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:22:46,840 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:22:46,841 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Docker - v2

on:
  push:
    paths:
      - .github/workflows/v2.yaml
      - '2.2/**'
      - '2.3/**'

env:
  AWS_REGION: us-east-1
  ECR_REPO: public.ecr.aws/u0u1j5s3/composer

jobs:
  build-v22:
    name: Build v2.2
    runs-on: ubuntu-latest
    timeout-minutes: 20
    defaults:
      run:
        working-directory: '2.2'
    steps:
      - uses: actions/checkout@v3
      - name: Build
        run: |
          docker build \
          --pull \
          --no-cache \
          --tag composer/composer:latest \
          --tag composer/composer:2 \
          --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') \
          .
      - name: Login to Docker Hub
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}
      - name: Push tag(s) to Docker Hub
        if: github.ref == 'refs/heads/main'
        run: |
          docker push composer/composer:latest
          docker push composer/composer:2
          docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
      - name: Login to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          registry: public.ecr.aws
          username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
          password: ${{ secrets.AWS_ECR_SECRET_KEY }}
      - name: Push tag(s) to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        run: |
          docker tag composer/composer:latest $ECR_REPO:latest
          docker tag composer/composer:2 $ECR_REPO:2
          docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
          docker push $ECR_REPO:latest
          docker push $ECR_REPO:2
          docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')

  build-v23-rc:
    name: Build v2.3 RC
    runs-on: ubuntu-latest
    timeout-minutes: 20
    defaults:
      run:
        working-directory: '2.3'
    steps:
      - uses: actions/checkout@v3
      - name: Build
        run: |
          docker build \
          --pull \
          --no-cache \
          --tag composer/composer:latest \
          --tag composer/composer:2 \
          --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') \
          .
      - name: Login to Docker Hub
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}
      - name: Push tag(s) to Docker Hub
        if: github.ref == 'refs/heads/main'
        run: |
          docker push composer/composer:latest
          docker push composer/composer:2
          docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
      - name: Login to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          registry: public.ecr.aws
          username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
          password: ${{ secrets.AWS_ECR_SECRET_KEY }}
      - name: Push tag(s) to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        run: |
          docker tag composer/composer:latest $ECR_REPO:latest
          docker tag composer/composer:2 $ECR_REPO:2
          docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
          docker push $ECR_REPO:latest
          docker push $ECR_REPO:2
          docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 145
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 2: name: Docker - v2
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 6: paths:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 7: - .github/workflows/v2.yaml
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 8: - '2.2/**'
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 9: - '2.3/**'
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 11: env:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 12: AWS_REGION: us-east-1
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 13: ECR_REPO: public.ecr.aws/u0u1j5s3/composer
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 16: build-v22:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 17: name: Build v2.2
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 19: timeout-minutes: 20
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 20: defaults:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 21: run:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 22: working-directory: '2.2'
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 23: steps:
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 24: - uses: actions/checkout@v3
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 25: - name: Build
2025-11-05 21:22:47,329 - utils.process_runner - DEBUG - 라인 26: run: |
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 27: docker build \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 28: --pull \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 29: --no-cache \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 30: --tag composer/composer:latest \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 31: --tag composer/composer:2 \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 32: --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 33: .
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 34: - name: Login to Docker Hub
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 35: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 36: uses: docker/login-action@v1
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 38: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 39: password: ${{ secrets.DOCKERHUB_PASSWORD }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 40: - name: Push tag(s) to Docker Hub
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 41: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 43: docker push composer/composer:latest
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 44: docker push composer/composer:2
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 45: docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 46: - name: Login to Amazon Public ECR
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 47: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 48: uses: docker/login-action@v1
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 49: with:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 50: registry: public.ecr.aws
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 51: username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 52: password: ${{ secrets.AWS_ECR_SECRET_KEY }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 53: - name: Push tag(s) to Amazon Public ECR
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 54: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 55: run: |
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 56: docker tag composer/composer:latest $ECR_REPO:latest
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 57: docker tag composer/composer:2 $ECR_REPO:2
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 58: docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 59: docker push $ECR_REPO:latest
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 60: docker push $ECR_REPO:2
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 61: docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 63: build-v23-rc:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 64: name: Build v2.3 RC
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 65: runs-on: ubuntu-latest
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 66: timeout-minutes: 20
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 67: defaults:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 68: run:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 69: working-directory: '2.3'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 70: steps:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 71: - uses: actions/checkout@v3
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 72: - name: Build
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 73: run: |
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 74: docker build \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 75: --pull \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 76: --no-cache \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 77: --tag composer/composer:latest \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 78: --tag composer/composer:2 \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 79: --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') \
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 80: .
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 81: - name: Login to Docker Hub
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 82: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 83: uses: docker/login-action@v1
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 84: with:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 85: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 86: password: ${{ secrets.DOCKERHUB_PASSWORD }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 87: - name: Push tag(s) to Docker Hub
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 88: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 89: run: |
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 90: docker push composer/composer:latest
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 91: docker push composer/composer:2
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 92: docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 93: - name: Login to Amazon Public ECR
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 94: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 95: uses: docker/login-action@v1
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 96: with:
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 97: registry: public.ecr.aws
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 98: username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 99: password: ${{ secrets.AWS_ECR_SECRET_KEY }}
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 100: - name: Push tag(s) to Amazon Public ECR
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 101: if: github.ref == 'refs/heads/main'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 102: run: |
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 103: docker tag composer/composer:latest $ECR_REPO:latest
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 104: docker tag composer/composer:2 $ECR_REPO:2
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 105: docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 106: docker push $ECR_REPO:latest
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 107: docker push $ECR_REPO:2
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 108: docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 109: mapping values are not allowed here
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 110: in "<file>", line 2, column 5
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 111: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 112: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 113: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 114: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 115: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 116: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 118: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 라인 119: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,330 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 120: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 122: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 123: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 124: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 125: We have found 17 smells
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 126: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 127: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 128: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 129: - 12. Avoid workflows without comments
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 130: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 131: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 132: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 133: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 134: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 135: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 136: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 137: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 138: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 139: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 140: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 141: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 142: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 143: The following styling errors were found:
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 라인 144: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:22:47,331 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:22:47,331 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:22:47,331 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:22:47,331 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:22:47,331 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:22:47,332 - main - DEBUG - 임시 파일 삭제: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:22:47,332 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:22:47,332 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Docker - v2
        ^
2025-11-05 21:22:47,332 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:22:47,332 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:22:47,332 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_two_phase_repaired.yml
2025-11-05 21:22:47,332 - __main__ - INFO - === 파일 8/100 2단계 복구 완료 ===
2025-11-05 21:22:47,333 - __main__ - ERROR - ❌ 실패 (39.86초): 0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:22:47,333 - __main__ - INFO - [9/100] 처리 중: fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:22:47,333 - __main__ - INFO - 입력 파일 경로: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:22:47,333 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_two_phase_repaired.yml
2025-11-05 21:22:47,333 - __main__ - INFO - === 파일 9/100 2단계 복구 시작 ===
2025-11-05 21:22:47,333 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:22:47,333 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:22:47,333 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:22:47,333 - main - INFO - 파일 크기: 4988 문자
2025-11-05 21:22:47,333 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:22:47,333 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:22:47,333 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:22:47,333 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:22:47,349 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:22:47,350 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:22:47,350 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:22:47,350 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:22:47,350 - main - INFO -   오류 1: could not parse as YAML: yaml: line 129: mapping values are not allowed in this context
2025-11-05 21:22:47,350 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:22:47,350 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:22:47,350 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:22:47,350 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:22:47,351 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:23:33,758 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:23:33,760 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:23:33,760 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:23:33,761 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4993 문자
2025-11-05 21:23:33,761 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:23:33,761 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:23:33,761 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:23:33,762 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:23:33,762 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:23:34,245 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 21:23:34,245 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Updater

on:
  schedule:
    - cron: '0 2 * * *'
  workflow_dispatch: {}

jobs:
  generate_matrix:
    runs-on: ubuntu-20.04
    outputs:
      matrix: ${{ steps.gen_matrix.outputs.matrix }}
    steps:
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Install nix
      uses: cachix/install-nix-action@v16
      with:
        extra_nix_config: |
          auto-optimise-store = true
          access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
          experimental-features = nix-command flakes
          substituters = https://cache.nixos.org/ https://nix-community.cachix.org
          trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
        install_url: https://releases.nixos.org/nix/nix-2.7.0/install
    - id: gen_matrix
      run: |
        matrix=$(nix flake show --json | jq -c '.packages."x86_64-linux" | keys')
        printf "%s" "$matrix" | jq
        printf "::set-output name=matrix::%s" "$matrix"

  verify_matrix:
    runs-on: ubuntu-20.04
    needs: generate_matrix
    steps:
    - name: Install json2yaml
      run: sudo npm install -g json2yaml
    - name: Print matrix definition
      run: |
        matrix='${{ needs.generate_matrix.outputs.matrix }}'
        printf "%s" "$matrix" | jq
        printf "%s" "$matrix" | json2yaml
    
  update_flake:
    runs-on: ubuntu-20.04
    steps:
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Install nix
      uses: cachix/install-nix-action@v16
      with:
        extra_nix_config: |
          auto-optimise-store = true
          access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
          experimental-features = nix-command flakes
          substituters = https://cache.nixos.org/ https://nix-community.cachix.org
          trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
        install_url: https://releases.nixos.org/nix/nix-2.7.0/install
    - name: Set up git
      run: |
        git config user.email gitbot@nobbz.dev
        git config user.name "Git Bot"
    - name: Update the flake
      run: nix flake update
    - name: Store flake.lock
      uses: actions/upload-artifact@v3
      with:
        name: flake_lock
        path: flake.lock

  build_flake:
    runs-on: ubuntu-20.04
    needs: [generate_matrix, update_flake]
    permissions: write-all
    strategy:
      fail-fast: false
      matrix:
        package: ${{fromJson(needs.generate_matrix.outputs.matrix)}}
    steps:
    - name: Prepare store folder
      run: sudo mkdir -p /nix
    - name: Free diskspace
      uses: easimon/maximize-build-space@master
      with:
        build-mount-path: /nix
        remove-dotnet: true
        remove-android: true
        remove-haskell: true
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Install nix
      uses: cachix/install-nix-action@v16
      with:
        extra_nix_config: |
          auto-optimise-store = true
          access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
          experimental-features = nix-command flakes
          substituters = https://cache.nixos.org/ https://nix-community.cachix.org
          trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
        install_url: https://releases.nixos.org/nix/nix-2.7.0/install
    - name: Set up cachix
      uses: cachix/cachix-action@v10
      with:
        name: nobbz
        signingKey: '${{ secrets.CACHIX_SIGNING_KEY }}'
    - name: Restore flake.lock
      uses: actions/download-artifact@v3
      with:
        name: flake_lock
    - name: Build everything
      run: nix build .#${{ matrix.package }}

  push_update:
    runs-on: ubuntu-20.04
    needs: [update_flake, build_flake]
    steps:
    - name: Clone repository
      uses: actions/checkout@v3
      with:
        token: '${{ secrets.GITHUB_TOKEN }}'
    - name: Restore flake.lock
      uses: actions/download-artifact@v3
        with:
          name: flake_lock
    - name: Set up git
      run: |
        git config user.email gitbot@nobbz.dev
        git config user.name "Git Bot"
    - name: Create and merge PR
      run: |
        git commit -am "flake.lock: Update"
        git push -u origin updates-${{ github.run_id }}
        PR=$(gh pr create \
          --assignee NobbZ \
          --base master \
          --body "Automatic flake update on $(date -I)" \
          --fill \
          --label bot \
          --title "Auto update $(date -I)")
        gh pr merge $PR --merge --delete-branch
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 70)
	- 8. Use commit hash instead of tags for action versions (line 108)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 113)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
46:1: trailing spaces (trailing-spaces)
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:23:34,245 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:23:34,245 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:23:34,245 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 188
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 2: name: Updater
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 5: schedule:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 6: - cron: '0 2 * * *'
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch: {}
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 10: generate_matrix:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-20.04
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 12: outputs:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 13: matrix: ${{ steps.gen_matrix.outputs.matrix }}
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 15: - name: Clone repository
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 16: uses: actions/checkout@v3
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 18: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 19: - name: Install nix
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 20: uses: cachix/install-nix-action@v16
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 22: extra_nix_config: |
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 23: auto-optimise-store = true
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 24: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 25: experimental-features = nix-command flakes
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 26: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 27: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 28: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 29: - id: gen_matrix
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 30: run: |
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 31: matrix=$(nix flake show --json | jq -c '.packages."x86_64-linux" | keys')
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 32: printf "%s" "$matrix" | jq
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 33: printf "::set-output name=matrix::%s" "$matrix"
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 35: verify_matrix:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 36: runs-on: ubuntu-20.04
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 37: needs: generate_matrix
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 38: steps:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 39: - name: Install json2yaml
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 40: run: sudo npm install -g json2yaml
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 41: - name: Print matrix definition
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 43: matrix='${{ needs.generate_matrix.outputs.matrix }}'
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 44: printf "%s" "$matrix" | jq
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 45: printf "%s" "$matrix" | json2yaml
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 47: update_flake:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 48: runs-on: ubuntu-20.04
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 49: steps:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 50: - name: Clone repository
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 51: uses: actions/checkout@v3
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 52: with:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 53: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 54: - name: Install nix
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 55: uses: cachix/install-nix-action@v16
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 56: with:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 57: extra_nix_config: |
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 58: auto-optimise-store = true
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 59: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 60: experimental-features = nix-command flakes
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 61: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 62: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 63: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 64: - name: Set up git
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 65: run: |
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 66: git config user.email gitbot@nobbz.dev
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 67: git config user.name "Git Bot"
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 68: - name: Update the flake
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 69: run: nix flake update
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 70: - name: Store flake.lock
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 71: uses: actions/upload-artifact@v3
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 72: with:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 73: name: flake_lock
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 74: path: flake.lock
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 76: build_flake:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 77: runs-on: ubuntu-20.04
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 78: needs: [generate_matrix, update_flake]
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 79: permissions: write-all
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 80: strategy:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 81: fail-fast: false
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 82: matrix:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 83: package: ${{fromJson(needs.generate_matrix.outputs.matrix)}}
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 84: steps:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 85: - name: Prepare store folder
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 86: run: sudo mkdir -p /nix
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 87: - name: Free diskspace
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 88: uses: easimon/maximize-build-space@master
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 89: with:
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 90: build-mount-path: /nix
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 91: remove-dotnet: true
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 92: remove-android: true
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 93: remove-haskell: true
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 94: - name: Clone repository
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 95: uses: actions/checkout@v3
2025-11-05 21:23:34,246 - utils.process_runner - DEBUG - 라인 96: with:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 97: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 98: - name: Install nix
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 99: uses: cachix/install-nix-action@v16
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 100: with:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 101: extra_nix_config: |
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 102: auto-optimise-store = true
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 103: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 104: experimental-features = nix-command flakes
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 105: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 106: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 107: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 108: - name: Set up cachix
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 109: uses: cachix/cachix-action@v10
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 110: with:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 111: name: nobbz
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 112: signingKey: '${{ secrets.CACHIX_SIGNING_KEY }}'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 113: - name: Restore flake.lock
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 114: uses: actions/download-artifact@v3
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 115: with:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 116: name: flake_lock
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 117: - name: Build everything
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 118: run: nix build .#${{ matrix.package }}
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 120: push_update:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 121: runs-on: ubuntu-20.04
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 122: needs: [update_flake, build_flake]
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 123: steps:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 124: - name: Clone repository
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 125: uses: actions/checkout@v3
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 126: with:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 127: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 128: - name: Restore flake.lock
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 129: uses: actions/download-artifact@v3
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 130: with:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 131: name: flake_lock
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 132: - name: Set up git
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 133: run: |
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 134: git config user.email gitbot@nobbz.dev
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 135: git config user.name "Git Bot"
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 136: - name: Create and merge PR
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 137: run: |
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 138: git commit -am "flake.lock: Update"
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 139: git push -u origin updates-${{ github.run_id }}
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 140: PR=$(gh pr create \
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 141: --assignee NobbZ \
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 142: --base master \
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 143: --body "Automatic flake update on $(date -I)" \
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 144: --fill \
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 145: --label bot \
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 146: --title "Auto update $(date -I)")
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 147: gh pr merge $PR --merge --delete-branch
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 148: env:
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 149: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 150: mapping values are not allowed here
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 151: in "<file>", line 2, column 5
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 152: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 153: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 154: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 155: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 156: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 157: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 158: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 159: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 160: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 161: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 162: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 163: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 164: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 165: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 166: We have found 18 smells
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 167: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 168: - 8. Use commit hash instead of tags for action versions (line 70)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 70)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 169: - 8. Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 170: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 171: - 8. Use commit hash instead of tags for action versions (line 113)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 113)
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 172: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:23:34,247 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 180: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 181: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 184: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 185: The following styling errors were found:
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 186: 46:1: trailing spaces (trailing-spaces)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 라인 187: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:23:34,248 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:23:34,248 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:23:34,248 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:23:34,248 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:23:34,248 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:23:34,249 - main - DEBUG - 임시 파일 삭제: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:23:34,249 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:23:34,249 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Updater
        ^
2025-11-05 21:23:34,249 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:23:34,249 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:23:34,249 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_two_phase_repaired.yml
2025-11-05 21:23:34,249 - __main__ - INFO - === 파일 9/100 2단계 복구 완료 ===
2025-11-05 21:23:34,250 - __main__ - ERROR - ❌ 실패 (46.92초): fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:23:34,250 - __main__ - INFO - [10/100] 처리 중: c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:23:34,250 - __main__ - INFO - 입력 파일 경로: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:23:34,250 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_two_phase_repaired.yml
2025-11-05 21:23:34,250 - __main__ - INFO - === 파일 10/100 2단계 복구 시작 ===
2025-11-05 21:23:34,250 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:23:34,250 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:23:34,250 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:23:34,250 - main - INFO - 파일 크기: 2083 문자
2025-11-05 21:23:34,250 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:23:34,250 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:23:34,250 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:23:34,250 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:23:34,267 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:23:34,267 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:23:34,268 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:23:34,268 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:23:34,268 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:23:34,268 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:23:34,268 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:23:34,268 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:23:34,268 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:23:34,269 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:23:51,388 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:23:51,389 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:23:51,390 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:23:51,390 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2089 문자
2025-11-05 21:23:51,390 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:23:51,390 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:23:51,390 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:23:51,390 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:23:51,390 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: 'buildx docker images'

on:
  push:
    branches:
      - master
    tags:
      - "v*"

jobs:
  docker:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Prepare
        id: prep
        run: |
          DOCKER_IMAGE=${{ secrets.DOCKER_USERNAME }}/${GITHUB_REPOSITORY#*/}
          VERSION=nightly
          SHORTREF=nightly-${GITHUB_SHA::8}

          # If this is git tag, use the tag name as a docker tag
          if [[ $GITHUB_REF == refs/tags/* ]]; then
            VERSION=${GITHUB_REF#refs/tags/v}
          fi
          TAGS="${DOCKER_IMAGE}:${VERSION},${DOCKER_IMAGE}:${SHORTREF}"

          # If the VERSION looks like a version number, assume that
          # this is the most recent version of the image and also
          # tag it 'latest'.
          if [[ $VERSION =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]]; then
            TAGS="$TAGS,${DOCKER_IMAGE}:latest"
          fi

          # Set output parameters.ash
          echo "::set-output name=tags::${TAGS}"
          echo "::set-output name=docker_image::${DOCKER_IMAGE}"

      - name: Set up QEMU
        uses: docker/setup-qemu-action@master
        with:
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@master

      - name: Login to DockerHub
        if: github.event_name != 'pull_request'
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@v3
        with:
          images: ${{ github.repository }}

      - name: Build
        uses: docker/build-push-action@v2
        with:
          builder: ${{ steps.buildx.outputs.name }}
          context: .
          file: ./Dockerfile
          platforms: linux/amd64,linux/arm64
          push: true
          tags: ${{ steps.prep.outputs.tags }}
          build-args:
            - GIT_VERSION="v${VERSION}"
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 52)
	- 8. Use commit hash instead of tags for action versions (line 64)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 112
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 2: name: 'buildx docker images'
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 7: - master
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 8: tags:
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 9: - "v*"
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 12: docker:
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 13: runs-on: ubuntu-latest
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 15: - name: Checkout
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 16: uses: actions/checkout@v2
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 18: - name: Prepare
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 19: id: prep
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 20: run: |
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 21: DOCKER_IMAGE=${{ secrets.DOCKER_USERNAME }}/${GITHUB_REPOSITORY#*/}
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 22: VERSION=nightly
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 23: SHORTREF=nightly-${GITHUB_SHA::8}
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 25: # If this is git tag, use the tag name as a docker tag
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 26: if [[ $GITHUB_REF == refs/tags/* ]]; then
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 27: VERSION=${GITHUB_REF#refs/tags/v}
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 28: fi
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 29: TAGS="${DOCKER_IMAGE}:${VERSION},${DOCKER_IMAGE}:${SHORTREF}"
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 31: # If the VERSION looks like a version number, assume that
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 32: # this is the most recent version of the image and also
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 33: # tag it 'latest'.
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 34: if [[ $VERSION =~ ^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$ ]]; then
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 35: TAGS="$TAGS,${DOCKER_IMAGE}:latest"
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 36: fi
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 38: # Set output parameters.ash
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 39: echo "::set-output name=tags::${TAGS}"
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 40: echo "::set-output name=docker_image::${DOCKER_IMAGE}"
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 42: - name: Set up QEMU
2025-11-05 21:23:51,840 - utils.process_runner - DEBUG - 라인 43: uses: docker/setup-qemu-action@master
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 45: platforms: all
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 47: - name: Set up Docker Buildx
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 48: id: buildx
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 49: uses: docker/setup-buildx-action@master
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 51: - name: Login to DockerHub
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 52: if: github.event_name != 'pull_request'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 53: uses: docker/login-action@v1
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 54: with:
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 55: username: ${{ secrets.DOCKER_USERNAME }}
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 56: password: ${{ secrets.DOCKER_PASSWORD }}
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 58: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 59: id: meta
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 60: uses: docker/metadata-action@v3
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 61: with:
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 62: images: ${{ github.repository }}
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 64: - name: Build
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 65: uses: docker/build-push-action@v2
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 66: with:
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 67: builder: ${{ steps.buildx.outputs.name }}
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 68: context: .
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 69: file: ./Dockerfile
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 70: platforms: linux/amd64,linux/arm64
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 71: push: true
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 72: tags: ${{ steps.prep.outputs.tags }}
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 73: build-args:
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 74: - GIT_VERSION="v${VERSION}"
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 75: mapping values are not allowed here
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 76: in "<file>", line 2, column 5
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 77: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 91: We have found 18 smells
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 92: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 93: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 94: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 95: - 8. Use commit hash instead of tags for action versions (line 52)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 52)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 96: - 8. Use commit hash instead of tags for action versions (line 64)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 64)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 97: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 110: The following styling errors were found:
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:23:51,841 - utils.process_runner - DEBUG - 라인 111: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:23:51,842 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:23:51,842 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:23:51,842 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:23:51,842 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:23:51,842 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:23:51,842 - main - DEBUG - 임시 파일 삭제: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:23:51,842 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:23:51,842 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: 'buildx docker images'
        ^
2025-11-05 21:23:51,842 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:23:51,842 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:23:51,843 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_two_phase_repaired.yml
2025-11-05 21:23:51,843 - __main__ - INFO - === 파일 10/100 2단계 복구 완료 ===
2025-11-05 21:23:51,843 - __main__ - ERROR - ❌ 실패 (17.59초): c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:23:51,843 - __main__ - INFO - [11/100] 처리 중: b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:23:51,843 - __main__ - INFO - 입력 파일 경로: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:23:51,843 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_two_phase_repaired.yml
2025-11-05 21:23:51,843 - __main__ - INFO - === 파일 11/100 2단계 복구 시작 ===
2025-11-05 21:23:51,843 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:23:51,843 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:23:51,843 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:23:51,843 - main - INFO - 파일 크기: 5892 문자
2025-11-05 21:23:51,843 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:23:51,843 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:23:51,843 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:23:51,843 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:23:51,860 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:23:51,860 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:23:51,860 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:23:51,860 - main - INFO - actionlint 오류 2개 발견
2025-11-05 21:23:51,860 - main - INFO -   오류 1: unexpected key "run" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 21:23:51,860 - main - INFO -   오류 2: key "name" is duplicated in "update-nightly-tag" job. previously defined at line:20,col:5
2025-11-05 21:23:51,860 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:23:51,860 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:23:51,860 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:23:51,860 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:23:51,861 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
