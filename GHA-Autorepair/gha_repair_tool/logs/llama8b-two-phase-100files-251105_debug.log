2025-11-05 21:26:13,050 - __main__ - INFO - 2단계 자동 복구 시작: 100개 파일
2025-11-05 21:26:13,051 - __main__ - INFO - 입력 디렉토리: data_original
2025-11-05 21:26:13,051 - __main__ - INFO - 출력 디렉토리: llama3.1_8b/data_repair_two_phase
2025-11-05 21:26:13,051 - __main__ - INFO - 프롬프트 모드: Simple (2단계 복구)
2025-11-05 21:26:13,051 - __main__ - INFO - [1/100] 처리 중: 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:26:13,051 - __main__ - INFO - 입력 파일 경로: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:26:13,051 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_two_phase_repaired.yml
2025-11-05 21:26:13,051 - __main__ - INFO - === 파일 1/100 2단계 복구 시작 ===
2025-11-05 21:26:13,051 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:26:13,051 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:26:13,051 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:26:13,051 - main - INFO - 파일 크기: 2692 문자
2025-11-05 21:26:13,051 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:26:13,051 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:26:13,051 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:26:13,051 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:26:13,078 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:26:13,078 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:26:13,078 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:26:13,078 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:26:13,078 - main - INFO -   오류 1: could not parse as YAML: yaml: line 35: did not find expected key
2025-11-05 21:26:13,078 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:26:13,078 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:26:13,079 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:26:13,079 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:26:13,085 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:26:34,125 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:26:34,127 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:26:34,127 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:26:34,128 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2693 문자
2025-11-05 21:26:34,128 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:26:34,128 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:26:34,128 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:26:34,128 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:26:34,128 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Seed Chain

on:
  workflow_call:
    inputs:
      chain-api-url:
        required: true
        type: string
      chain-id:
        required: true
        type: string
      seed-script-filename:
        required: true
        type: string
      erc20-deployer-network-name:
        required: true
        type: string
      genesis-validator-addresses:
        required: true
        type: string
      kava-version-filepath:
        required: true
        type: string
    secrets:
      DEV_WALLET_MNEMONIC:
        required: true

jobs:
  seed-chain-state:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo from master
        uses: actions/checkout@v3
        with:
          ref: master
      - name: checkout version of kava used by network
        run: |
          git pull -p
          git checkout $(cat ${KAVA_VERSION_FILEPATH})
        env:
          KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          go-version: "1.19"
          check-latest: true
          cache: true
      - name: build kava binary
        run: make install
      - name: checkout go evm tools repo
        uses: actions/checkout@v3
        with:
          repository: ethereum/go-ethereum
          path: go-ethereum
          ref: v1.10.26
      - name: install go evm tools
        run: |
          make
          make devtools
        working-directory: go-ethereum
      - name: checkout kava bridge repo for deploying evm contracts
        uses: actions/checkout@v3
        with:
          repository: Kava-Labs/kava-bridge
          path: kava-bridge
          ref: main
      - name: install nodeJS
        uses: actions/setup-node@v3
        with:
          cache: npm
          node-version: 18
          cache-dependency-path: kava-bridge/contract/package.json
      - name: "install ERC20 contract deployment dependencies"
        run: "npm install"
        working-directory: kava-bridge/contract
      - name: compile default erc20 contracts
        run: make compile-contracts
        working-directory: kava-bridge
      - name: run seed scripts
        run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
        working-directory: kava-bridge/contract
        env:
          CHAIN_API_URL: ${{ inputs.chain-api-url }}
          CHAIN_ID: ${{ inputs.chain-id }}
          DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
          SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
          ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
          GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 30)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 43)
	- 8. Use commit hash instead of tags for action versions (line 68)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 127
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 2: name: Seed Chain
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 5: workflow_call:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 7: chain-api-url:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 9: type: string
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 10: chain-id:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 11: required: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 12: type: string
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 13: seed-script-filename:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 14: required: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 15: type: string
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 16: erc20-deployer-network-name:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 17: required: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 18: type: string
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 19: genesis-validator-addresses:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 20: required: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 21: type: string
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 22: kava-version-filepath:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 23: required: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 24: type: string
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 25: secrets:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 26: DEV_WALLET_MNEMONIC:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 27: required: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 29: jobs:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 30: seed-chain-state:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 31: runs-on: ubuntu-latest
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 32: steps:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 33: - name: checkout repo from master
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 34: uses: actions/checkout@v3
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 36: ref: master
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 37: - name: checkout version of kava used by network
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 38: run: |
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 39: git pull -p
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 40: git checkout $(cat ${KAVA_VERSION_FILEPATH})
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 41: env:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 42: KAVA_VERSION_FILEPATH: ${{ inputs.kava-version-filepath }}
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 43: - name: Set up Go
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 44: uses: actions/setup-go@v3
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 46: go-version: "1.19"
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 47: check-latest: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 48: cache: true
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 49: - name: build kava binary
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 50: run: make install
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 51: - name: checkout go evm tools repo
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 52: uses: actions/checkout@v3
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 53: with:
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 54: repository: ethereum/go-ethereum
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 55: path: go-ethereum
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 56: ref: v1.10.26
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 57: - name: install go evm tools
2025-11-05 21:26:34,606 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 59: make
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 60: make devtools
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 61: working-directory: go-ethereum
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 62: - name: checkout kava bridge repo for deploying evm contracts
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 63: uses: actions/checkout@v3
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 64: with:
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 65: repository: Kava-Labs/kava-bridge
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 66: path: kava-bridge
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 67: ref: main
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 68: - name: install nodeJS
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 69: uses: actions/setup-node@v3
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 70: with:
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 71: cache: npm
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 72: node-version: 18
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 73: cache-dependency-path: kava-bridge/contract/package.json
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 74: - name: "install ERC20 contract deployment dependencies"
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 75: run: "npm install"
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 76: working-directory: kava-bridge/contract
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 77: - name: compile default erc20 contracts
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 78: run: make compile-contracts
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 79: working-directory: kava-bridge
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 80: - name: run seed scripts
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 81: run: bash ${GITHUB_WORKSPACE}/.github/scripts/${SEED_SCRIPT_FILENAME}
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 82: working-directory: kava-bridge/contract
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 83: env:
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 84: CHAIN_API_URL: ${{ inputs.chain-api-url }}
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 85: CHAIN_ID: ${{ inputs.chain-id }}
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 86: DEV_WALLET_MNEMONIC: ${{ secrets.DEV_WALLET_MNEMONIC }}
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 87: SEED_SCRIPT_FILENAME: ${{ inputs.seed-script-filename }}
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 88: ERC20_DEPLOYER_NETWORK_NAME: ${{ inputs.erc20-deployer-network-name }}
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 89: GENESIS_VALIDATOR_ADDRESSES: ${{ inputs.genesis-validator-addresses }}
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 90: mapping values are not allowed here
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 91: in "<file>", line 2, column 5
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 92: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 104: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 105: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 106: We have found 18 smells
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 107: - 3. Use fixed version for runs-on argument (line 30)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 30)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 108: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 109: - 8. Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 68)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 68)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 111: - 12. Avoid workflows without comments
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 112: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 125: The following styling errors were found:
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 라인 126: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:26:34,607 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:26:34,607 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:26:34,608 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:26:34,608 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:26:34,608 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:26:34,608 - main - DEBUG - 임시 파일 삭제: data_original/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_temp_phase1.yml
2025-11-05 21:26:34,608 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:26:34,608 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Seed Chain
        ^
2025-11-05 21:26:34,608 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:26:34,608 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:26:34,609 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32_two_phase_repaired.yml
2025-11-05 21:26:34,609 - __main__ - INFO - === 파일 1/100 2단계 복구 완료 ===
2025-11-05 21:26:34,609 - __main__ - ERROR - ❌ 실패 (21.56초): 19258ed075aa8e803221bd5865d57c00efe95f8bef222797a0eebdfff6c2ec32
2025-11-05 21:26:34,610 - __main__ - INFO - [2/100] 처리 중: 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:26:34,610 - __main__ - INFO - 입력 파일 경로: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:26:34,610 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_two_phase_repaired.yml
2025-11-05 21:26:34,610 - __main__ - INFO - === 파일 2/100 2단계 복구 시작 ===
2025-11-05 21:26:34,610 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:26:34,610 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:26:34,610 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:26:34,610 - main - INFO - 파일 크기: 4982 문자
2025-11-05 21:26:34,610 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:26:34,610 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:26:34,610 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:26:34,610 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:26:34,627 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:26:34,627 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:26:34,627 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:26:34,627 - main - INFO - actionlint 오류 3개 발견
2025-11-05 21:26:34,627 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:26:34,627 - main - INFO -   오류 2: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:26:34,627 - main - INFO -   오류 3: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:26:34,627 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:26:34,627 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:26:34,628 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:26:34,628 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:26:34,629 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:27:12,563 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:27:12,566 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:27:12,568 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:27:12,568 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4828 문자
2025-11-05 21:27:12,569 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:27:12,569 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:27:12,571 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:27:12,571 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:27:12,571 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build Containers

on:
  workflow_call:
    inputs:
      tag:
        required: true
        type: string
    secrets:
      DOCKERHUB_USERNAME:
        required: true
      DOCKERHUB_TOKEN:
        required: true

jobs:
  build-frontend:
    runs-on: ubuntu-latest
    name: Build Frontend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push Frontend images
        uses: docker/build-push-action@v4
        with:
          file: docker/frontend.Dockerfile
          context: .
          push: true
          tags: frontend-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-backend:
    runs-on: ubuntu-latest
    name: Build Backend
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/api.Dockerfile
          context: .
          push: true
          tags: api-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64

  build-omni:
    runs-on: ubuntu-latest
    name: Build Omni
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Set up QEMU
        id: qemu
        uses: docker/setup-qemu-action@v2
        with:
          image: tonistiigi/binfmt:latest
          platforms: all

      - name: Set up Docker Buildx
        id: buildx
        uses: docker/setup-buildx-action@v2
        with:
          install: true

      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_TOKEN }}

      - name: Override __init__.py
        run: |
          echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py

      - name: Log in to the Container registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: hkotel/mealie
          reference: ${{ github.repository }}

      - name: Build and push API images
        uses: docker/build-push-action@v4
        with:
          file: docker/omni.Dockerfile
          context: .
          push: true
          tags: omni-${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          platforms:
            - linux/amd64
            - linux/arm64
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 21 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 129)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 220
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 2: name: Build Containers
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 5: workflow_call:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 7: tag:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 9: type: string
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 10: secrets:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 11: DOCKERHUB_USERNAME:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 12: required: true
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 13: DOCKERHUB_TOKEN:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 14: required: true
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 16: jobs:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 17: build-frontend:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 19: name: Build Frontend
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 21: - name: Checkout
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 22: uses: actions/checkout@v3
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 24: - name: Set up QEMU
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 25: id: qemu
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 26: uses: docker/setup-qemu-action@v2
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 27: with:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 28: image: tonistiigi/binfmt:latest
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 29: platforms: all
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 31: - name: Set up Docker Buildx
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 32: id: buildx
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 33: uses: docker/setup-buildx-action@v2
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 35: install: true
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 37: - name: Login to Docker Hub
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 38: uses: docker/login-action@v2
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 39: with:
2025-11-05 21:27:13,040 - utils.process_runner - DEBUG - 라인 40: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 41: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 43: - name: Log in to the Container registry
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 44: uses: docker/login-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 46: registry: ghcr.io
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 47: username: ${{ github.actor }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 48: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 50: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 51: id: meta
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 52: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 53: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 54: images: hkotel/mealie
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 55: reference: ${{ github.repository }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 57: - name: Build and push Frontend images
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 58: uses: docker/build-push-action@v4
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 60: file: docker/frontend.Dockerfile
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 61: context: .
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 62: push: true
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 63: tags: frontend-${{ steps.meta.outputs.tags }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 64: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 65: platforms:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 66: - linux/amd64
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 67: - linux/arm64
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 69: build-backend:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 70: runs-on: ubuntu-latest
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 71: name: Build Backend
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 72: steps:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 73: - name: Checkout
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 74: uses: actions/checkout@v3
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 76: - name: Set up QEMU
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 77: id: qemu
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 78: uses: docker/setup-qemu-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 79: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 80: image: tonistiigi/binfmt:latest
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 81: platforms: all
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 83: - name: Set up Docker Buildx
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 84: id: buildx
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 85: uses: docker/setup-buildx-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 86: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 87: install: true
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 89: - name: Login to Docker Hub
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 90: uses: docker/login-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 91: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 92: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 93: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 95: - name: Override __init__.py
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 96: run: |
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 97: echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 99: - name: Log in to the Container registry
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 100: uses: docker/login-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 101: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 102: registry: ghcr.io
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 103: username: ${{ github.actor }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 104: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 106: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 107: id: meta
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 108: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 109: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 110: images: hkotel/mealie
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 111: reference: ${{ github.repository }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 113: - name: Build and push API images
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 114: uses: docker/build-push-action@v4
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 115: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 116: file: docker/api.Dockerfile
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 117: context: .
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 118: push: true
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 119: tags: api-${{ steps.meta.outputs.tags }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 120: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 121: platforms:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 122: - linux/amd64
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 123: - linux/arm64
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 125: build-omni:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 126: runs-on: ubuntu-latest
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 127: name: Build Omni
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 128: steps:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 129: - name: Checkout
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 130: uses: actions/checkout@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 132: - name: Set up QEMU
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 133: id: qemu
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 134: uses: docker/setup-qemu-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 135: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 136: image: tonistiigi/binfmt:latest
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 137: platforms: all
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 139: - name: Set up Docker Buildx
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 140: id: buildx
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 141: uses: docker/setup-buildx-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 142: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 143: install: true
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 145: - name: Login to Docker Hub
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 146: uses: docker/login-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 147: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 148: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 149: password: ${{ secrets.DOCKERHUB_TOKEN }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 151: - name: Override __init__.py
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 152: run: |
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 153: echo "__version__ = \"${{ inputs.tag }}\"" > ./mealie/__init__.py
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 155: - name: Log in to the Container registry
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 156: uses: docker/login-action@v2
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 157: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 158: registry: ghcr.io
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 159: username: ${{ github.actor }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 160: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 162: - name: Extract metadata (tags, labels) for Docker
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 163: id: meta
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 164: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 165: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 166: images: hkotel/mealie
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 167: reference: ${{ github.repository }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 169: - name: Build and push API images
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 170: uses: docker/build-push-action@v4
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 171: with:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 172: file: docker/omni.Dockerfile
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 173: context: .
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 174: push: true
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 175: tags: omni-${{ steps.meta.outputs.tags }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 176: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 177: platforms:
2025-11-05 21:27:13,041 - utils.process_runner - DEBUG - 라인 178: - linux/amd64
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 179: - linux/arm64
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 180: mapping values are not allowed here
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 181: in "<file>", line 2, column 5
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 182: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 184: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 185: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 186: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 187: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 188: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 189: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 190: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 191: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 192: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 193: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 194: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 195: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 196: We have found 21 smells
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 21 smells
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 197: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 198: - 8. Use commit hash instead of tags for action versions (line 129)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 129)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 199: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 200: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 201: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 202: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 203: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 204: - 12. Avoid workflows without comments
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 205: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 206: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 207: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 208: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 209: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 210: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 211: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 212: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 213: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 214: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 215: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 216: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 217: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 218: The following styling errors were found:
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 라인 219: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:27:13,042 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:27:13,042 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:27:13,042 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:27:13,042 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:27:13,042 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:27:13,043 - main - DEBUG - 임시 파일 삭제: data_original/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_temp_phase1.yml
2025-11-05 21:27:13,043 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:27:13,043 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build Containers
        ^
2025-11-05 21:27:13,043 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:27:13,043 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:27:13,045 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428_two_phase_repaired.yml
2025-11-05 21:27:13,045 - __main__ - INFO - === 파일 2/100 2단계 복구 완료 ===
2025-11-05 21:27:13,045 - __main__ - ERROR - ❌ 실패 (38.44초): 6a773a0afa8ae0733cfa99439fda052b8eae0e937096a39f3c13b9a1c0804428
2025-11-05 21:27:13,045 - __main__ - INFO - [3/100] 처리 중: a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:27:13,045 - __main__ - INFO - 입력 파일 경로: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:27:13,045 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_two_phase_repaired.yml
2025-11-05 21:27:13,045 - __main__ - INFO - === 파일 3/100 2단계 복구 시작 ===
2025-11-05 21:27:13,045 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:27:13,045 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:27:13,046 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:27:13,046 - main - INFO - 파일 크기: 1695 문자
2025-11-05 21:27:13,046 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:27:13,046 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:27:13,046 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:27:13,046 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:27:13,063 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:27:13,063 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:27:13,063 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:27:13,063 - main - INFO - actionlint 오류 2개 발견
2025-11-05 21:27:13,063 - main - INFO -   오류 1: expected "inputs" key for "workflow_dispatch" section but got "customSnap"
2025-11-05 21:27:13,063 - main - INFO -   오류 2: property "customsnap" is not defined in object type {}
2025-11-05 21:27:13,063 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:27:13,063 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:27:13,063 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:27:13,063 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:27:13,064 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:27:28,298 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:27:28,300 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:27:28,300 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:27:28,301 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1704 문자
2025-11-05 21:27:28,301 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:27:28,301 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:27:28,301 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:27:28,301 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:27:28,302 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build a Branch Specific Snapshot

on:
  workflow_dispatch:
    inputs:
      customSnap:
        description: 'Custom Snapshot Name'
        required: false
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      BUILD_EVENT: ${{ github.event_name }}
      BRANCH_REF_NAME: ${{ github.ref_name }}
      CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
      OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
      OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
      SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
      SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
      SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
      COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
      GODEBUG: x509sha1=1
    steps:
      - name: Setup JDK
        uses: actions/setup-java@v4
        with:
          java-version: '8'
          distribution: 'adopt'
      - name: Setup GO
        uses: actions/setup-go@v4
        with:
          go-version: '1.21.4'
      - name: Install Nats Server
        run: |
          cd $GITHUB_WORKSPACE
          git clone https://github.com/nats-io/nats-server.git
          cd nats-server
          go get
          go build main.go
          mkdir -p ~/.local/bin
          cp main ~/.local/bin/nats-server
          cd ..
          rm -rf nats-server
          nats-server -v
      - name: Check out code
        uses: actions/checkout@v4
      - name: Build and Test
        run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
      - name: Verify Javadoc
        if: ${{ success() }}
        run: ./gradlew javadoc
      - name: Publish Branch Snapshot
        if: ${{ success() }}
        run: ./gradlew -i publishToSonatype
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 95
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 2: name: Build a Branch Specific Snapshot
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 5: workflow_dispatch:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 7: customSnap:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 8: description: 'Custom Snapshot Name'
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 9: required: false
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 10: type: string
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 13: build:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 15: env:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 16: BUILD_EVENT: ${{ github.event_name }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 17: BRANCH_REF_NAME: ${{ github.ref_name }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 18: CUSTOM_SNAPSHOT_NAME: ${{ inputs.customSnap }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 19: OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 20: OSSRH_PASSWORD: ${{ secrets.OSSRH_TOKEN }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 21: SIGNING_KEY_ID: ${{ secrets.SIGNING_KEY_ID }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 22: SIGNING_KEY: ${{ secrets.SIGNING_KEY }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 23: SIGNING_PASSWORD: ${{ secrets.SIGNING_PASSWORD }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 24: COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_REPO_TOKEN }}
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 25: GODEBUG: x509sha1=1
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 26: steps:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 27: - name: Setup JDK
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 28: uses: actions/setup-java@v4
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 29: with:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 30: java-version: '8'
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 31: distribution: 'adopt'
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 32: - name: Setup GO
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 33: uses: actions/setup-go@v4
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 35: go-version: '1.21.4'
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 36: - name: Install Nats Server
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 37: run: |
2025-11-05 21:27:28,748 - utils.process_runner - DEBUG - 라인 38: cd $GITHUB_WORKSPACE
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 39: git clone https://github.com/nats-io/nats-server.git
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 40: cd nats-server
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 41: go get
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 42: go build main.go
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 43: mkdir -p ~/.local/bin
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 44: cp main ~/.local/bin/nats-server
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 45: cd ..
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 46: rm -rf nats-server
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 47: nats-server -v
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 48: - name: Check out code
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 49: uses: actions/checkout@v4
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 50: - name: Build and Test
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 51: run: chmod +x gradlew && ./gradlew clean test jacocoTestReport coveralls
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 52: - name: Verify Javadoc
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 53: if: ${{ success() }}
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 54: run: ./gradlew javadoc
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 55: - name: Publish Branch Snapshot
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 56: if: ${{ success() }}
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 57: run: ./gradlew -i publishToSonatype
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 58: mapping values are not allowed here
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 59: in "<file>", line 2, column 5
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 60: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 74: We have found 18 smells
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 75: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 76: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 77: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 78: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 79: - 12. Avoid workflows without comments
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 80: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 93: The following styling errors were found:
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 라인 94: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:27:28,749 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:27:28,749 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:27:28,750 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:27:28,750 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:27:28,750 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:27:28,750 - main - DEBUG - 임시 파일 삭제: data_original/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_temp_phase1.yml
2025-11-05 21:27:28,750 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:27:28,750 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build a Branch Specific Snapshot
        ^
2025-11-05 21:27:28,750 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:27:28,750 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:27:28,750 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775_two_phase_repaired.yml
2025-11-05 21:27:28,750 - __main__ - INFO - === 파일 3/100 2단계 복구 완료 ===
2025-11-05 21:27:28,750 - __main__ - ERROR - ❌ 실패 (15.71초): a0e08fda76b7107570ffe6222be262eeac8ef4f2d9023dc2caef5cba9a20a775
2025-11-05 21:27:28,751 - __main__ - INFO - [4/100] 처리 중: 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:27:28,751 - __main__ - INFO - 입력 파일 경로: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:27:28,751 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:27:28,751 - __main__ - INFO - === 파일 4/100 2단계 복구 시작 ===
2025-11-05 21:27:28,751 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:27:28,751 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:27:28,751 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:27:28,751 - main - INFO - 파일 크기: 1457 문자
2025-11-05 21:27:28,751 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:27:28,751 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:27:28,751 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:27:28,751 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:27:28,767 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:27:28,767 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:27:28,767 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:27:28,767 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:27:28,767 - main - INFO -   오류 1: could not parse as YAML: yaml: line 49: found a tab character where an indentation space is expected
2025-11-05 21:27:28,767 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:27:28,767 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:27:28,767 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:27:28,767 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:27:28,768 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:27:41,067 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 2028
2025-11-05 21:27:41,068 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:27:41,069 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:27:41,069 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1504 문자
2025-11-05 21:27:41,069 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:27:41,069 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:27:41,070 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:27:41,070 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:27:41,070 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
We have found 13 smells
	- 3. Use fixed version for runs-on argument (line 23)
	- 6. Define permissions for workflows with external actions (job at line: 21)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 21)
	- 13. Use names for run steps (lines -1:27)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
13:16: too many spaces inside brackets (brackets)
13:42: too many spaces inside brackets (brackets)
15:5: wrong indentation: expected 6 but found 4 (indentation)
51:49: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 21
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 라인 2: We have found 13 smells
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 23)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 23)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 21)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 21)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:27:41,509 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 21)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 21)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:27)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:27)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: build)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 13: - 20. Run CI on multiple language versions (job: build)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 14: - 21. Use cache parameter instead of cache option
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 16: The following styling errors were found:
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 17: 13:16: too many spaces inside brackets (brackets)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 18: 13:42: too many spaces inside brackets (brackets)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 19: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 21:27:41,510 - utils.process_runner - DEBUG - 라인 20: 51:49: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:27:41,510 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:27:41,510 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 21:27:41,510 - main - INFO - 스멜 1개 발견
2025-11-05 21:27:41,510 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 21)
2025-11-05 21:27:41,510 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:27:41,510 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:27:41,510 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:27:41,510 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:27:41,511 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:27:59,625 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:27:59,626 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:27:59,627 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:27:59,627 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1633 문자
2025-11-05 21:27:59,628 - main - DEBUG - 임시 파일 삭제: data_original/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_temp_phase1.yml
2025-11-05 21:27:59,628 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:27:59,629 - utils.yaml_parser - DEBUG - YAML 문법 오류: expected '<document start>', but found '<block mapping start>'
  in "<unicode string>", line 8, column 1:
    name: Deploy to Maven Central
    ^
2025-11-05 21:27:59,629 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:27:59,629 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:27:59,631 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3_two_phase_repaired.yml
2025-11-05 21:27:59,631 - __main__ - INFO - === 파일 4/100 2단계 복구 완료 ===
2025-11-05 21:27:59,631 - __main__ - ERROR - ❌ 실패 (30.88초): 403e061e7d455aee0ef3748155dbfc98aed8796c74818d68e3ac0a6bd75a9df3
2025-11-05 21:27:59,631 - __main__ - INFO - [5/100] 처리 중: ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:27:59,631 - __main__ - INFO - 입력 파일 경로: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:27:59,631 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_two_phase_repaired.yml
2025-11-05 21:27:59,631 - __main__ - INFO - === 파일 5/100 2단계 복구 시작 ===
2025-11-05 21:27:59,631 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:27:59,631 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:27:59,632 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:27:59,632 - main - INFO - 파일 크기: 5175 문자
2025-11-05 21:27:59,632 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:27:59,632 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:27:59,633 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:27:59,633 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:27:59,665 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:27:59,666 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:27:59,666 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:27:59,666 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:27:59,666 - main - INFO -   오류 1: could not parse as YAML: yaml: line 17: mapping values are not allowed in this context
2025-11-05 21:27:59,666 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:27:59,666 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:27:59,666 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:27:59,666 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:27:59,667 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:28:44,837 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:28:44,839 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:28:44,840 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:28:44,840 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 5218 문자
2025-11-05 21:28:44,840 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:28:44,840 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:28:44,842 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:28:44,842 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:28:44,843 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
on:
  push:
    # Sequence of patterns matched against refs/tags
    tags:
      - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10

name: Upload Release Asset

jobs:

  build-linux:
    name: Build ESBMC with all Solvers (Linux)
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Configure CMake
        run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On
      - name: Build ESBMC
        run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Linux.sh
      - uses: actions/upload-artifact@v1
        with:
          name: release-linux
          path: ./build/ESBMC-Linux.sh

  build-macos:
    name: Build Darwin Release
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install Dependencies
        run: brew install gmp csmith cmake boost ninja python3 automake bison flex && pip3 install PySMT toml
      - name: Download Clang 11
        run: wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz
      - name: Extract Clang 11
        run: tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang
      - name: Setup boolector
        run: git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && cd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && ./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install
      - name: Setup Z3
        run: brew install z3
      - name: Get current folder and files
        run: pwd && ls
      - name: Configure CMake
        run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On
      - name: Build ESBMC
        run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Darwin.sh
      - uses: actions/upload-artifact@v1
        with:
          name: release-darwin
          path: ./build/ESBMC-Darwin.sh

  build-windows:
    name: Build ESBMC with Z3 (Windows)
    runs-on: windows-latest
    steps:
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.8
      - name: check python
        run: python --version
      - name: Update vcpkg
        run: |
          vcpkg.exe update
          cd C:/vcpkg
          git.exe pull
          .\bootstrap-vcpkg.bat
      - name: Configure ESBMC
        run: ./scripts/build.ps1
      - uses: actions/upload-artifact@v2
        with:
          name: release-windows
          path: C:/deps/esbmc

  create-release:
    name: Upload Release Asset
    runs-on: ubuntu-20.04
    needs: [build-linux, build-macos, build-windows]
    steps:
      - name: Download Linux Build
        uses: actions/download-artifact@v1
        with:
          name: release-linux
          path: ./
      - name: Download Macos Build
        uses: actions/download-artifact@v1
        with:
          name: release-darwin
          path: ./
      - name: Download Windows Build
        uses: actions/download-artifact@v1
        with:
          name: release-windows
          path: ./
      - name: Get files
        run: ls
      - name: Create Release
        id: create_release
        uses: actions/create-release@v1.0.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          draft: false
          prerelease: false
      - name: Upload Release Asset (Linux)
        id: upload-release-asset-linux
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Linux.sh
          asset_name: ESBMC-Linux.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Darwin)
        id: upload-release-asset-macos
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Darwin.sh
          asset_name: ESBMC-Darwin.sh
          asset_content_type: text/x-shellscript
      - name: Upload Release Asset (Windows)
        id: upload-release-asset-windows
        uses: actions/upload-release-asset@v1.0.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./ESBMC-Windows.zip
          asset_name: ESBMC-Windows.zip
          asset_content_type: application/zip
mapping values are not allowed here
  in "<file>", line 2, column 3
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 23 smells
	- 3. Use fixed version for runs-on argument (line 27)
	- 3. Use fixed version for runs-on argument (line 13)
	- 3. Use fixed version for runs-on argument (line 53)
	- 8. Use commit hash instead of tags for action versions (line 56)
	- 8. Use commit hash instead of tags for action versions (line 98)
	- 8. Use commit hash instead of tags for action versions (line 80)
	- 8. Use commit hash instead of tags for action versions (line 69)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 108)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
2:3: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 179
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 3: push:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 4: # Sequence of patterns matched against refs/tags
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 5: tags:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 6: - 'v*' # Push events to matching v*, i.e. v1.0, v20.15.10
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#'v*' # Push events to matching v*, i.e): v1.0, v20.15.10
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 8: name: Upload Release Asset
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 12: build-linux:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 13: name: Build ESBMC with all Solvers (Linux)
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 16: - uses: actions/checkout@v2
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 17: - name: Configure CMake
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 18: run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DDOWNLOAD_DEPENDENCIES=On -DBUILD_STATIC=On -DBoolector_DIR=/workspace/boolector-release -DZ3_DIR=/workspace/z3 -DENABLE_JIMPLE_FRONTEND=On -DENABLE_SOLIDITY_FRONTEND=On
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 19: - name: Build ESBMC
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 20: run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Linux.sh
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 21: - uses: actions/upload-artifact@v1
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 22: with:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 23: name: release-linux
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 24: path: ./build/ESBMC-Linux.sh
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 26: build-macos:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 27: name: Build Darwin Release
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 28: runs-on: macos-latest
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v2
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 31: - name: Install Dependencies
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 32: run: brew install gmp csmith cmake boost ninja python3 automake bison flex && pip3 install PySMT toml
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 33: - name: Download Clang 11
2025-11-05 21:28:45,310 - utils.process_runner - DEBUG - 라인 34: run: wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 35: - name: Extract Clang 11
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 36: run: tar xf clang+llvm-11.0.0-x86_64-apple-darwin.tar.xz && mv clang+llvm-11.0.0-x86_64-apple-darwin clang
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 37: - name: Setup boolector
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 38: run: git clone --depth=1 --branch=3.2.2 https://github.com/boolector/boolector && cd boolector && ./contrib/setup-lingeling.sh && ./contrib/setup-btor2tools.sh && ./configure.sh --prefix $PWD/../boolector-release && cd build && make -j4 && make install
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 39: - name: Setup Z3
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 40: run: brew install z3
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 41: - name: Get current folder and files
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 42: run: pwd && ls
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 43: - name: Configure CMake
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 44: run: mkdir build && cd build && cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo -GNinja -DClang_DIR=$PWD/../clang -DLLVM_DIR=$PWD/../clang -DBoolector_DIR=$PWD/../boolector-release -DZ3_DIR=$PWD/../z3 -DC2GOTO_SYSROOT=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -DENABLE_SOLIDITY_FRONTEND=On -DBUILD_STATIC=Off -DENABLE_JIMPLE_FRONTEND=On
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 45: - name: Build ESBMC
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 46: run: cd build && cmake --build . && cpack && mv ESBMC-*.sh ESBMC-Darwin.sh
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 47: - uses: actions/upload-artifact@v1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 49: name: release-darwin
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 50: path: ./build/ESBMC-Darwin.sh
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 52: build-windows:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 53: name: Build ESBMC with Z3 (Windows)
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 54: runs-on: windows-latest
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 55: steps:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 56: - name: Set up Python
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 57: uses: actions/setup-python@v2
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 58: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 59: python-version: 3.8
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 60: - name: check python
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 61: run: python --version
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 62: - name: Update vcpkg
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 63: run: |
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 64: vcpkg.exe update
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 65: cd C:/vcpkg
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 66: git.exe pull
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 67: .\bootstrap-vcpkg.bat
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 68: - name: Configure ESBMC
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 69: run: ./scripts/build.ps1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 70: - uses: actions/upload-artifact@v2
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 72: name: release-windows
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 73: path: C:/deps/esbmc
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 75: create-release:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 76: name: Upload Release Asset
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 77: runs-on: ubuntu-20.04
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 78: needs: [build-linux, build-macos, build-windows]
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 79: steps:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 80: - name: Download Linux Build
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 81: uses: actions/download-artifact@v1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 82: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 83: name: release-linux
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 84: path: ./
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 85: - name: Download Macos Build
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 86: uses: actions/download-artifact@v1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 87: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 88: name: release-darwin
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 89: path: ./
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 90: - name: Download Windows Build
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 91: uses: actions/download-artifact@v1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 92: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 93: name: release-windows
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 94: path: ./
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 95: - name: Get files
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 96: run: ls
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 97: - name: Create Release
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 98: id: create_release
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 99: uses: actions/create-release@v1.0.0
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 100: env:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 101: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 102: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 103: tag_name: ${{ github.ref }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 104: release_name: Release ${{ github.ref }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 105: draft: false
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 106: prerelease: false
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 107: - name: Upload Release Asset (Linux)
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 108: id: upload-release-asset-linux
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 109: uses: actions/upload-release-asset@v1.0.1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 110: env:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 111: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 112: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 113: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 114: asset_path: ./ESBMC-Linux.sh
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 115: asset_name: ESBMC-Linux.sh
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 116: asset_content_type: text/x-shellscript
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 117: - name: Upload Release Asset (Darwin)
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 118: id: upload-release-asset-macos
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 119: uses: actions/upload-release-asset@v1.0.1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 120: env:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 121: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 122: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 123: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 124: asset_path: ./ESBMC-Darwin.sh
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 125: asset_name: ESBMC-Darwin.sh
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 126: asset_content_type: text/x-shellscript
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 127: - name: Upload Release Asset (Windows)
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 128: id: upload-release-asset-windows
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 129: uses: actions/upload-release-asset@v1.0.1
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 130: env:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 131: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 132: with:
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 133: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 134: asset_path: ./ESBMC-Windows.zip
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 135: asset_name: ESBMC-Windows.zip
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 136: asset_content_type: application/zip
2025-11-05 21:28:45,311 - utils.process_runner - DEBUG - 라인 137: mapping values are not allowed here
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 138: in "<file>", line 2, column 3
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 139: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 140: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 141: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 142: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 143: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 144: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 145: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 146: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 147: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 148: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 149: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 150: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 151: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 152: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 153: We have found 23 smells
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 23 smells
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 154: - 3. Use fixed version for runs-on argument (line 27)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 27)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 155: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 156: - 3. Use fixed version for runs-on argument (line 53)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 53)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 157: - 8. Use commit hash instead of tags for action versions (line 56)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 56)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 158: - 8. Use commit hash instead of tags for action versions (line 98)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 98)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 159: - 8. Use commit hash instead of tags for action versions (line 80)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 80)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 160: - 8. Use commit hash instead of tags for action versions (line 69)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 69)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 161: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 162: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 163: - 8. Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 164: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 165: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 166: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 167: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 168: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 169: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 170: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 171: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 172: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 177: The following styling errors were found:
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 라인 178: 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:28:45,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:28:45,312 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:28:45,312 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:28:45,312 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:28:45,312 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:28:45,313 - main - DEBUG - 임시 파일 삭제: data_original/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_temp_phase1.yml
2025-11-05 21:28:45,313 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:28:45,313 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 3:
    on:
      ^
2025-11-05 21:28:45,313 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:28:45,313 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:28:45,314 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449_two_phase_repaired.yml
2025-11-05 21:28:45,314 - __main__ - INFO - === 파일 5/100 2단계 복구 완료 ===
2025-11-05 21:28:45,314 - __main__ - ERROR - ❌ 실패 (45.68초): ac606821bdac58d2ba7a3c72244842d4ab331a384d052362ec49014e9c8b6449
2025-11-05 21:28:45,314 - __main__ - INFO - [6/100] 처리 중: cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:28:45,314 - __main__ - INFO - 입력 파일 경로: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:28:45,314 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_two_phase_repaired.yml
2025-11-05 21:28:45,314 - __main__ - INFO - === 파일 6/100 2단계 복구 시작 ===
2025-11-05 21:28:45,314 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:28:45,314 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:28:45,315 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:28:45,315 - main - INFO - 파일 크기: 833 문자
2025-11-05 21:28:45,315 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:28:45,315 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:28:45,315 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:28:45,315 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:28:45,331 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:28:45,332 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:28:45,332 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:28:45,332 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:28:45,332 - main - INFO -   오류 1: expecting a single ${{...}} expression or mapping value for "env" section, but found plain text node
2025-11-05 21:28:45,332 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:28:45,332 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:28:45,332 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:28:45,332 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:28:45,333 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:28:56,203 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1682
2025-11-05 21:28:56,205 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:28:56,205 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:28:56,205 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 974 문자
2025-11-05 21:28:56,206 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:28:56,206 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:28:56,206 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:28:56,206 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:28:56,207 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:28:56,650 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: CI

on:
  push:
    branches: [main]
  pull_request:
    types: [opened, synchronize]
  workflow_dispatch:

jobs:
  ci:
    name: CI
    runs-on: ubuntu-latest
    steps:
      - name: Checkout 🚪
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      - name: Setup pnpm 🌸
        uses: pnpm/action-setup@v2.2.4

      - name: Setup node 🍀
        uses: actions/setup-node@v3
        with:
          node-version-file: '.nvmrc'
          cache: 'pnpm'

      - name: Bootstrap 📦
        run: script/bootstrap

      - name: Typecheck 🔡
        run: pnpm typecheck:affected

      - name: Lint 🪩
        run: pnpm lint:affected

      - name: Prettier ✨
        run: pnpm prettier:affected

      - name: Build 🎁
        run: pnpm build

      - name: Run Tests 🧪
        env:
          # Fix syntax error by wrapping the plain text node in a ${{...}} expression
          TEST_ENV_VAR: ${{ secrets.TEST_ENV_VAR }}
        run: pnpm test:dev
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 86
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 2: name: CI
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 6: branches: [main]
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 8: types: [opened, synchronize]
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 9: workflow_dispatch:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 12: ci:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 13: name: CI
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 16: - name: Checkout 🚪
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 17: uses: actions/checkout@v3
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 18: with:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 19: fetch-depth: 0
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 21: - name: Setup pnpm 🌸
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 22: uses: pnpm/action-setup@v2.2.4
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 24: - name: Setup node 🍀
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 25: uses: actions/setup-node@v3
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 26: with:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 27: node-version-file: '.nvmrc'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 28: cache: 'pnpm'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 30: - name: Bootstrap 📦
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 31: run: script/bootstrap
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 33: - name: Typecheck 🔡
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 34: run: pnpm typecheck:affected
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 36: - name: Lint 🪩
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 37: run: pnpm lint:affected
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 39: - name: Prettier ✨
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 40: run: pnpm prettier:affected
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 42: - name: Build 🎁
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 43: run: pnpm build
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 45: - name: Run Tests 🧪
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 46: env:
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 47: # Fix syntax error by wrapping the plain text node in a ${{...}} expression
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 48: TEST_ENV_VAR: ${{ secrets.TEST_ENV_VAR }}
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 49: run: pnpm test:dev
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 50: mapping values are not allowed here
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 51: in "<file>", line 2, column 5
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 52: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 66: We have found 17 smells
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 67: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 68: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 69: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 70: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 라인 71: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:28:56,651 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 84: The following styling errors were found:
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 라인 85: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:28:56,652 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:28:56,652 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:28:56,652 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:28:56,652 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:28:56,652 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:28:56,652 - main - DEBUG - 임시 파일 삭제: data_original/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_temp_phase1.yml
2025-11-05 21:28:56,653 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:28:56,653 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: CI
        ^
2025-11-05 21:28:56,653 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:28:56,653 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:28:56,654 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b_two_phase_repaired.yml
2025-11-05 21:28:56,654 - __main__ - INFO - === 파일 6/100 2단계 복구 완료 ===
2025-11-05 21:28:56,654 - __main__ - ERROR - ❌ 실패 (11.34초): cd472e0a7564ad53d9395a1d3a352e55eb6a73e196f38dc04cff0451c8cf4a7b
2025-11-05 21:28:56,654 - __main__ - INFO - [7/100] 처리 중: 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:28:56,654 - __main__ - INFO - 입력 파일 경로: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:28:56,654 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_two_phase_repaired.yml
2025-11-05 21:28:56,654 - __main__ - INFO - === 파일 7/100 2단계 복구 시작 ===
2025-11-05 21:28:56,654 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:28:56,654 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:28:56,654 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:28:56,654 - main - INFO - 파일 크기: 1417 문자
2025-11-05 21:28:56,654 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:28:56,654 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:28:56,655 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:28:56,655 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:28:56,671 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:28:56,671 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:28:56,671 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:28:56,671 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:28:56,671 - main - INFO -   오류 1: key "run" is duplicated in element of "steps" section. previously defined at line:36,col:11
2025-11-05 21:28:56,671 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:28:56,671 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:28:56,671 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:28:56,671 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:28:56,672 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:29:05,964 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1697
2025-11-05 21:29:05,966 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:29:05,966 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:29:05,967 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 989 문자
2025-11-05 21:29:05,967 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:29:05,967 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:29:05,967 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:29:05,967 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:29:05,968 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:29:06,337 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.37초)
2025-11-05 21:29:06,337 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Ezra Bible App test suite

on: push

jobs:
    e2e-test:
        name: Run Cucumber tests
        runs-on: ubuntu-20.04
        timeout-minutes: 10
        env:
          JOBS: MAX

        steps:
        - uses: actions/checkout@v2
        - uses: actions/setup-node@v2
          with:
            node-version: '14'

        - name: Install dependencies and build native modules
          run: |
            sudo apt update && 
            sudo apt install -y libcurl4-gnutls-dev xvfb &&
            npm install

        - name: Compile templates
          run: npm run compile-pug 

        - name: Run test
          uses: nick-fields/retry@v2
          with:
            timeout_minutes: 5
            max_attempts: 2
            command: npm run headless-test

        - name: Archive screenshot (in case of an error)
          uses: actions/upload-artifact@v2
          if: failure()
          with:
            name: screenshot.png
            path: ./test_screenshot.png
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
27:35: trailing spaces (trailing-spaces)
41:40: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:29:06,337 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:29:06,337 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 81
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 2: name: Ezra Bible App test suite
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 4: on: push
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 6: jobs:
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 7: e2e-test:
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 8: name: Run Cucumber tests
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-20.04
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 10: timeout-minutes: 10
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 11: env:
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 12: JOBS: MAX
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v2
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 16: - uses: actions/setup-node@v2
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 18: node-version: '14'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 20: - name: Install dependencies and build native modules
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 21: run: |
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 22: sudo apt update &&
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 23: sudo apt install -y libcurl4-gnutls-dev xvfb &&
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 24: npm install
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 26: - name: Compile templates
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 27: run: npm run compile-pug
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 29: - name: Run test
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 30: uses: nick-fields/retry@v2
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 31: with:
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 32: timeout_minutes: 5
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 33: max_attempts: 2
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 34: command: npm run headless-test
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 36: - name: Archive screenshot (in case of an error)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#unknown): name: Archive screenshot (in case of an error)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 37: uses: actions/upload-artifact@v2
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 38: if: failure()
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 39: with:
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 40: name: screenshot.png
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 41: path: ./test_screenshot.png
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 42: mapping values are not allowed here
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 43: in "<file>", line 2, column 5
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 44: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 58: We have found 18 smells
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 59: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 60: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 61: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 62: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 63: - 12. Avoid workflows without comments
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 64: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:29:06,338 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 77: The following styling errors were found:
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 78: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 79: 27:35: trailing spaces (trailing-spaces)
2025-11-05 21:29:06,339 - utils.process_runner - DEBUG - 라인 80: 41:40: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:29:06,339 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:29:06,339 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:29:06,339 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:29:06,339 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:29:06,339 - main - DEBUG - 임시 파일 삭제: data_original/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_temp_phase1.yml
2025-11-05 21:29:06,339 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:29:06,339 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Ezra Bible App test suite
        ^
2025-11-05 21:29:06,339 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:29:06,340 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:29:06,340 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0_two_phase_repaired.yml
2025-11-05 21:29:06,340 - __main__ - INFO - === 파일 7/100 2단계 복구 완료 ===
2025-11-05 21:29:06,340 - __main__ - ERROR - ❌ 실패 (9.69초): 6c2fdfc89dfe077900843eb80d51ed375995c10fba42543808e8ddffb0d2a9f0
2025-11-05 21:29:06,340 - __main__ - INFO - [8/100] 처리 중: 0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:29:06,340 - __main__ - INFO - 입력 파일 경로: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:29:06,341 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_two_phase_repaired.yml
2025-11-05 21:29:06,341 - __main__ - INFO - === 파일 8/100 2단계 복구 시작 ===
2025-11-05 21:29:06,341 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:29:06,341 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:29:06,341 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:29:06,341 - main - INFO - 파일 크기: 3949 문자
2025-11-05 21:29:06,341 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:29:06,341 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:29:06,341 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:29:06,341 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:29:06,346 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 21:29:06,346 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:29:06,346 - main - INFO - actionlint에서 5개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:29:06,346 - main - INFO - actionlint 오류 5개 발견
2025-11-05 21:29:06,346 - main - INFO -   오류 1: key "name" is duplicated in "build" job. previously defined at line:16,col:5
2025-11-05 21:29:06,346 - main - INFO -   오류 2: key "runs-on" is duplicated in "build" job. previously defined at line:17,col:5
2025-11-05 21:29:06,346 - main - INFO -   오류 3: key "timeout-minutes" is duplicated in "build" job. previously defined at line:18,col:5
2025-11-05 21:29:06,346 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:29:06,346 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:29:06,346 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:29:06,346 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:29:06,347 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:29:45,771 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:29:45,773 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:29:45,774 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:29:45,774 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4130 문자
2025-11-05 21:29:45,774 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:29:45,774 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:29:45,776 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:29:45,776 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:29:45,776 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:29:46,248 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 21:29:46,248 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Docker - v2

on:
  push:
    paths:
      - .github/workflows/v2.yaml
      - '2.2/**'
      - '2.3/**'

env:
  AWS_REGION: us-east-1
  ECR_REPO: public.ecr.aws/u0u1j5s3/composer

jobs:
  build-v22:
    name: Build v2.2
    runs-on: ubuntu-latest
    timeout-minutes: 20
    defaults:
      run:
        working-directory: '2.2'
    steps:
      - uses: actions/checkout@v3
      - name: Build
        run: |
          docker build \
          --pull \
          --no-cache \
          --tag composer/composer:latest \
          --tag composer/composer:2 \
          --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') \
          .
      - name: Login to Docker Hub
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}
      - name: Push tag(s) to Docker Hub
        if: github.ref == 'refs/heads/main'
        run: |
          docker push composer/composer:latest
          docker push composer/composer:2
          docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
      - name: Login to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          registry: public.ecr.aws
          username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
          password: ${{ secrets.AWS_ECR_SECRET_KEY }}
      - name: Push tag(s) to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        run: |
          docker tag composer/composer:latest $ECR_REPO:latest
          docker tag composer/composer:2 $ECR_REPO:2
          docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
          docker push $ECR_REPO:latest
          docker push $ECR_REPO:2
          docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')

  build-v23-rc:
    name: Build v2.3 RC
    runs-on: ubuntu-latest
    timeout-minutes: 20
    defaults:
      run:
        working-directory: '2.3'
    steps:
      - uses: actions/checkout@v3
      - name: Build
        run: |
          docker build \
          --pull \
          --no-cache \
          --tag composer/composer:latest \
          --tag composer/composer:2 \
          --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') \
          .
      - name: Login to Docker Hub
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USERNAME }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}
      - name: Push tag(s) to Docker Hub
        if: github.ref == 'refs/heads/main'
        run: |
          docker push composer/composer:latest
          docker push composer/composer:2
          docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
      - name: Login to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        uses: docker/login-action@v1
        with:
          registry: public.ecr.aws
          username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
          password: ${{ secrets.AWS_ECR_SECRET_KEY }}
      - name: Push tag(s) to Amazon Public ECR
        if: github.ref == 'refs/heads/main'
        run: |
          docker tag composer/composer:latest $ECR_REPO:latest
          docker tag composer/composer:2 $ECR_REPO:2
          docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
          docker push $ECR_REPO:latest
          docker push $ECR_REPO:2
          docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:29:46,248 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:29:46,248 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:29:46,248 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 145
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 2: name: Docker - v2
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 6: paths:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 7: - .github/workflows/v2.yaml
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 8: - '2.2/**'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 9: - '2.3/**'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 11: env:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 12: AWS_REGION: us-east-1
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 13: ECR_REPO: public.ecr.aws/u0u1j5s3/composer
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 16: build-v22:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 17: name: Build v2.2
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 19: timeout-minutes: 20
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 20: defaults:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 21: run:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 22: working-directory: '2.2'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 23: steps:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 24: - uses: actions/checkout@v3
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 25: - name: Build
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 26: run: |
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 27: docker build \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 28: --pull \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 29: --no-cache \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 30: --tag composer/composer:latest \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 31: --tag composer/composer:2 \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 32: --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 33: .
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 34: - name: Login to Docker Hub
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 35: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 36: uses: docker/login-action@v1
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 38: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 39: password: ${{ secrets.DOCKERHUB_PASSWORD }}
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 40: - name: Push tag(s) to Docker Hub
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 41: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 43: docker push composer/composer:latest
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 44: docker push composer/composer:2
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 45: docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 46: - name: Login to Amazon Public ECR
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 47: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 48: uses: docker/login-action@v1
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 49: with:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 50: registry: public.ecr.aws
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 51: username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 52: password: ${{ secrets.AWS_ECR_SECRET_KEY }}
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 53: - name: Push tag(s) to Amazon Public ECR
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 54: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 55: run: |
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 56: docker tag composer/composer:latest $ECR_REPO:latest
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 57: docker tag composer/composer:2 $ECR_REPO:2
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 58: docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 59: docker push $ECR_REPO:latest
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 60: docker push $ECR_REPO:2
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 61: docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.2.[\d]+' Dockerfile | grep -oE '2.2.[\d]+')
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 63: build-v23-rc:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 64: name: Build v2.3 RC
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 65: runs-on: ubuntu-latest
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 66: timeout-minutes: 20
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 67: defaults:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 68: run:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 69: working-directory: '2.3'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 70: steps:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 71: - uses: actions/checkout@v3
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 72: - name: Build
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 73: run: |
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 74: docker build \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 75: --pull \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 76: --no-cache \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 77: --tag composer/composer:latest \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 78: --tag composer/composer:2 \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 79: --tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') \
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 80: .
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 81: - name: Login to Docker Hub
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 82: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 83: uses: docker/login-action@v1
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 84: with:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 85: username: ${{ secrets.DOCKERHUB_USERNAME }}
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 86: password: ${{ secrets.DOCKERHUB_PASSWORD }}
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 87: - name: Push tag(s) to Docker Hub
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 88: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 89: run: |
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 90: docker push composer/composer:latest
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 91: docker push composer/composer:2
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 92: docker push composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 93: - name: Login to Amazon Public ECR
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 94: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 95: uses: docker/login-action@v1
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 96: with:
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 97: registry: public.ecr.aws
2025-11-05 21:29:46,249 - utils.process_runner - DEBUG - 라인 98: username: ${{ secrets.AWS_ECR_ACCESS_KEY }}
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 99: password: ${{ secrets.AWS_ECR_SECRET_KEY }}
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 100: - name: Push tag(s) to Amazon Public ECR
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 101: if: github.ref == 'refs/heads/main'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 102: run: |
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 103: docker tag composer/composer:latest $ECR_REPO:latest
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 104: docker tag composer/composer:2 $ECR_REPO:2
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 105: docker tag composer/composer:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?') $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 106: docker push $ECR_REPO:latest
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 107: docker push $ECR_REPO:2
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 108: docker push $ECR_REPO:$(grep -oE 'COMPOSER_VERSION 2.3.[\d]+(-RC[\d])?' Dockerfile | grep -oE '2.3.[\d]+(-RC[\d])?')
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 109: mapping values are not allowed here
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 110: in "<file>", line 2, column 5
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 111: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 112: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 113: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 114: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 115: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 116: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 118: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 119: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 120: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 122: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 123: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 124: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 125: We have found 17 smells
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 126: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 127: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 128: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 129: - 12. Avoid workflows without comments
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 130: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 131: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 132: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 133: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 134: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 135: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 136: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 137: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 138: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 139: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 140: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 141: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 142: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 143: The following styling errors were found:
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 라인 144: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:29:46,250 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:29:46,250 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:29:46,250 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:29:46,250 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:29:46,250 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:29:46,251 - main - DEBUG - 임시 파일 삭제: data_original/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_temp_phase1.yml
2025-11-05 21:29:46,251 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:29:46,251 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Docker - v2
        ^
2025-11-05 21:29:46,251 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:29:46,251 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:29:46,252 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b_two_phase_repaired.yml
2025-11-05 21:29:46,252 - __main__ - INFO - === 파일 8/100 2단계 복구 완료 ===
2025-11-05 21:29:46,252 - __main__ - ERROR - ❌ 실패 (39.91초): 0b1c7e99bae99fed58b94401158300d16832ab782f0925e7f9534f4a7158132b
2025-11-05 21:29:46,252 - __main__ - INFO - [9/100] 처리 중: fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:29:46,252 - __main__ - INFO - 입력 파일 경로: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:29:46,252 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_two_phase_repaired.yml
2025-11-05 21:29:46,253 - __main__ - INFO - === 파일 9/100 2단계 복구 시작 ===
2025-11-05 21:29:46,253 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:29:46,253 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:29:46,253 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:29:46,253 - main - INFO - 파일 크기: 4988 문자
2025-11-05 21:29:46,253 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:29:46,253 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:29:46,253 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:29:46,253 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:29:46,270 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:29:46,270 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:29:46,270 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:29:46,270 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:29:46,270 - main - INFO -   오류 1: could not parse as YAML: yaml: line 129: mapping values are not allowed in this context
2025-11-05 21:29:46,270 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:29:46,270 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:29:46,271 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:29:46,271 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:29:46,272 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:30:52,040 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:30:52,042 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:30:52,043 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:30:52,044 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 5203 문자
2025-11-05 21:30:52,044 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:30:52,044 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:30:52,045 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:30:52,045 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:30:52,046 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Updater

on:
  schedule:
    - cron: '0 2 * * *'
  workflow_dispatch: {}

jobs:
  generate_matrix:
    runs-on: ubuntu-20.04
    outputs:
      matrix: ${{ steps.gen_matrix.outputs.matrix }}
    steps:
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: '${{ secrets.GITHUB_TOKEN }}'
      - name: Install nix
        uses: cachix/install-nix-action@v16
        with:
          extra_nix_config: |
            auto-optimise-store = true
            access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
            experimental-features = nix-command flakes
            substituters = https://cache.nixos.org/ https://nix-community.cachix.org
            trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
          install_url: https://releases.nixos.org/nix/nix-2.7.0/install
      - id: gen_matrix
        run: |
          matrix=$(nix flake show --json | jq -c '.packages."x86_64-linux" | keys')
          printf "%s" "$matrix" | jq
          printf "::set-output name=matrix::%s" "$matrix"

  verify_matrix:
    runs-on: ubuntu-20.04
    needs: generate_matrix
    steps:
      - name: Install json2yaml
        run: sudo npm install -g json2yaml
      - name: Print matrix definition
        run: |
          matrix='${{ needs.generate_matrix.outputs.matrix }}'
          printf "%s" "$matrix" | jq
          printf "%s" "$matrix" | json2yaml

  update_flake:
    runs-on: ubuntu-20.04
    steps:
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: '${{ secrets.GITHUB_TOKEN }}'
      - name: Install nix
        uses: cachix/install-nix-action@v16
        with:
          extra_nix_config: |
            auto-optimise-store = true
            access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
            experimental-features = nix-command flakes
            substituters = https://cache.nixos.org/ https://nix-community.cachix.org
            trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
          install_url: https://releases.nixos.org/nix/nix-2.7.0/install
      - name: Set up git
        run: |
          git config user.email gitbot@nobbz.dev
          git config user.name "Git Bot"
      - name: Update the flake
        run: nix flake update
      - name: Store flake.lock
        uses: actions/upload-artifact@v3
        with:
          name: flake_lock
          path: flake.lock

  build_flake:
    runs-on: ubuntu-20.04
    needs: [generate_matrix, update_flake]
    permissions: write-all
    strategy:
      fail-fast: false
      matrix:
        package: ${{fromJson(needs.generate_matrix.outputs.matrix)}}
    steps:
      - name: Prepare store folder
        run: sudo mkdir -p /nix
      - name: Free diskspace
        uses: easimon/maximize-build-space@master
        with:
          build-mount-path: /nix
          remove-dotnet: true
          remove-android: true
          remove-haskell: true
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: '${{ secrets.GITHUB_TOKEN }}'
      - name: Install nix
        uses: cachix/install-nix-action@v16
        with:
          extra_nix_config: |
            auto-optimise-store = true
            access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
            experimental-features = nix-command flakes
            substituters = https://cache.nixos.org/ https://nix-community.cachix.org
            trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
          install_url: https://releases.nixos.org/nix/nix-2.7.0/install
      - name: Set up cachix
        uses: cachix/cachix-action@v10
        with:
          name: nobbz
          signingKey: '${{ secrets.CACHIX_SIGNING_KEY }}'
      - name: Restore flake.lock
        uses: actions/download-artifact@v3
        with:
          name: flake_lock
      - name: Build everything
        run: nix build .#${{ matrix.package }}

  push_update:
    runs-on: ubuntu-20.04
    needs: [update_flake, build_flake]
    steps:
      - name: Clone repository
        uses: actions/checkout@v3
        with:
          token: '${{ secrets.GITHUB_TOKEN }}'
      - name: Restore flake.lock
        uses: actions/download-artifact@v3
        with:
          name: flake_lock
      - name: Set up git
        run: |
          git config user.email gitbot@nobbz.dev
          git config user.name "Git Bot"
      - name: Create and merge PR
        run: |
          git commit -am "flake.lock: Update"
          git push -u origin updates-${{ github.run_id }}
          PR=$(gh pr create \
            --assignee NobbZ \
            --base master \
            --body "Automatic flake update on $(date -I)" \
            --fill \
            --label bot \
            --title "Auto update $(date -I)")
          gh pr merge $PR --merge --delete-branch
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 113)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 70)
	- 8. Use commit hash instead of tags for action versions (line 108)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 187
2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:30:52,527 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 2: name: Updater
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 5: schedule:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 6: - cron: '0 2 * * *'
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch: {}
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 10: generate_matrix:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-20.04
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 12: outputs:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 13: matrix: ${{ steps.gen_matrix.outputs.matrix }}
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 15: - name: Clone repository
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 16: uses: actions/checkout@v3
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 18: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 19: - name: Install nix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 20: uses: cachix/install-nix-action@v16
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 22: extra_nix_config: |
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 23: auto-optimise-store = true
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 24: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 25: experimental-features = nix-command flakes
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 26: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 27: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 28: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 29: - id: gen_matrix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 30: run: |
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 31: matrix=$(nix flake show --json | jq -c '.packages."x86_64-linux" | keys')
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 32: printf "%s" "$matrix" | jq
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 33: printf "::set-output name=matrix::%s" "$matrix"
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 35: verify_matrix:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 36: runs-on: ubuntu-20.04
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 37: needs: generate_matrix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 38: steps:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 39: - name: Install json2yaml
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 40: run: sudo npm install -g json2yaml
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 41: - name: Print matrix definition
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 43: matrix='${{ needs.generate_matrix.outputs.matrix }}'
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 44: printf "%s" "$matrix" | jq
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 45: printf "%s" "$matrix" | json2yaml
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 47: update_flake:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 48: runs-on: ubuntu-20.04
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 49: steps:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 50: - name: Clone repository
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 51: uses: actions/checkout@v3
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 52: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 53: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 54: - name: Install nix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 55: uses: cachix/install-nix-action@v16
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 56: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 57: extra_nix_config: |
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 58: auto-optimise-store = true
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 59: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 60: experimental-features = nix-command flakes
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 61: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 62: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 63: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 64: - name: Set up git
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 65: run: |
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 66: git config user.email gitbot@nobbz.dev
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 67: git config user.name "Git Bot"
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 68: - name: Update the flake
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 69: run: nix flake update
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 70: - name: Store flake.lock
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 71: uses: actions/upload-artifact@v3
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 72: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 73: name: flake_lock
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 74: path: flake.lock
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 76: build_flake:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 77: runs-on: ubuntu-20.04
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 78: needs: [generate_matrix, update_flake]
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 79: permissions: write-all
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 80: strategy:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 81: fail-fast: false
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 82: matrix:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 83: package: ${{fromJson(needs.generate_matrix.outputs.matrix)}}
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 84: steps:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 85: - name: Prepare store folder
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 86: run: sudo mkdir -p /nix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 87: - name: Free diskspace
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 88: uses: easimon/maximize-build-space@master
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 89: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 90: build-mount-path: /nix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 91: remove-dotnet: true
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 92: remove-android: true
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 93: remove-haskell: true
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 94: - name: Clone repository
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 95: uses: actions/checkout@v3
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 96: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 97: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 98: - name: Install nix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 99: uses: cachix/install-nix-action@v16
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 100: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 101: extra_nix_config: |
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 102: auto-optimise-store = true
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 103: access-tokens = github.com=${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 104: experimental-features = nix-command flakes
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 105: substituters = https://cache.nixos.org/ https://nix-community.cachix.org
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 106: trusted-public-keys = cache.nixos.org-1:6NCHdD59X431o0gWypbMrAURkbJ16ZPMQFGspcDShjY= nix-community.cachix.org-1:mB9FSh9qf2dCimDSUo8Zy7bkq5CX+/rkCWyvRCYg3Fs=
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 107: install_url: https://releases.nixos.org/nix/nix-2.7.0/install
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 108: - name: Set up cachix
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 109: uses: cachix/cachix-action@v10
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 110: with:
2025-11-05 21:30:52,528 - utils.process_runner - DEBUG - 라인 111: name: nobbz
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 112: signingKey: '${{ secrets.CACHIX_SIGNING_KEY }}'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 113: - name: Restore flake.lock
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 114: uses: actions/download-artifact@v3
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 115: with:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 116: name: flake_lock
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 117: - name: Build everything
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 118: run: nix build .#${{ matrix.package }}
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 120: push_update:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 121: runs-on: ubuntu-20.04
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 122: needs: [update_flake, build_flake]
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 123: steps:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 124: - name: Clone repository
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 125: uses: actions/checkout@v3
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 126: with:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 127: token: '${{ secrets.GITHUB_TOKEN }}'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 128: - name: Restore flake.lock
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 129: uses: actions/download-artifact@v3
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 130: with:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 131: name: flake_lock
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 132: - name: Set up git
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 133: run: |
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 134: git config user.email gitbot@nobbz.dev
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 135: git config user.name "Git Bot"
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 136: - name: Create and merge PR
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 137: run: |
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 138: git commit -am "flake.lock: Update"
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 139: git push -u origin updates-${{ github.run_id }}
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 140: PR=$(gh pr create \
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 141: --assignee NobbZ \
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 142: --base master \
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 143: --body "Automatic flake update on $(date -I)" \
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 144: --fill \
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 145: --label bot \
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 146: --title "Auto update $(date -I)")
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 147: gh pr merge $PR --merge --delete-branch
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 148: env:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 149: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 150: mapping values are not allowed here
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 151: in "<file>", line 2, column 5
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 152: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 153: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 154: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 155: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 156: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 157: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 158: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 159: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 160: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 161: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 162: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 163: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 164: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 165: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 166: We have found 18 smells
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 167: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 168: - 8. Use commit hash instead of tags for action versions (line 113)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 113)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 169: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 170: - 8. Use commit hash instead of tags for action versions (line 70)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 70)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 171: - 8. Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 172: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 180: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 181: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 184: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 185: The following styling errors were found:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:30:52,529 - utils.process_runner - DEBUG - 라인 186: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:30:52,530 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:30:52,530 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:30:52,530 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:30:52,530 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:30:52,530 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:30:52,530 - main - DEBUG - 임시 파일 삭제: data_original/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_temp_phase1.yml
2025-11-05 21:30:52,530 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:30:52,531 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Updater
        ^
2025-11-05 21:30:52,531 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:30:52,531 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:30:52,532 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59_two_phase_repaired.yml
2025-11-05 21:30:52,532 - __main__ - INFO - === 파일 9/100 2단계 복구 완료 ===
2025-11-05 21:30:52,532 - __main__ - ERROR - ❌ 실패 (66.28초): fb3083353b627c7babea8d2739d64447fcf7e562f6d2ad904992ba6571183f59
2025-11-05 21:30:52,532 - __main__ - INFO - [10/100] 처리 중: c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:30:52,532 - __main__ - INFO - 입력 파일 경로: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:30:52,532 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_two_phase_repaired.yml
2025-11-05 21:30:52,532 - __main__ - INFO - === 파일 10/100 2단계 복구 시작 ===
2025-11-05 21:30:52,532 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:30:52,532 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:30:52,532 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:30:52,532 - main - INFO - 파일 크기: 2083 문자
2025-11-05 21:30:52,532 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:30:52,532 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:30:52,533 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:30:52,533 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:30:52,551 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:30:52,551 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:30:52,551 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:30:52,551 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:30:52,551 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:30:52,551 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:30:52,551 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:30:52,551 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:30:52,551 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:30:52,552 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:31:49,941 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:31:49,945 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:31:49,946 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:31:49,947 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 99 문자
2025-11-05 21:31:49,947 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:31:49,947 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:31:49,947 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:31:49,947 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:31:49,947 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:31:50,887 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.94초)
2025-11-05 21:31:50,889 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'jobs'
YAML parsing error in pull_based_actions_on_fork: 'jobs'
YAML parsing error in action_should_have_timeout: 'jobs'
YAML parsing error in use_name_for_step: 'jobs'
YAML parsing error in use_name_for_step: 'jobs'
YAML parsing error in stop_workflows_for_old_commit: 'on'
YAML parsing error in upload_artifact_must_have_if: 'jobs'
YAML parsing error in multi_line_steps: 'jobs'
YAML parsing error in deploy_from_fork: 'jobs'
YAML parsing error in run_multiple_versions: 'jobs'
YAML parsing error in installing_packages_without_version: 'jobs'
YAML parsing error in use_cache_from_setup: 'jobs'
We have found 13 smells
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
1:100: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:31:50,889 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:31:50,889 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 30
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in external_actions_must_have_permissions_workflow: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in pull_based_actions_on_fork: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 4: YAML parsing error in action_should_have_timeout: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 5: YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 6: YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in stop_workflows_for_old_commit: 'on'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'on'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in upload_artifact_must_have_if: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in multi_line_steps: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 라인 10: YAML parsing error in deploy_from_fork: 'jobs'
2025-11-05 21:31:50,893 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'jobs'
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 11: YAML parsing error in run_multiple_versions: 'jobs'
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'jobs'
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 12: YAML parsing error in installing_packages_without_version: 'jobs'
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'jobs'
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 13: YAML parsing error in use_cache_from_setup: 'jobs'
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'jobs'
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 14: We have found 13 smells
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 15: - 12. Avoid workflows without comments
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 16: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 17: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 18: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 19: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:31:50,898 - utils.process_runner - DEBUG - 라인 20: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:31:50,901 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:31:50,901 - utils.process_runner - DEBUG - 라인 21: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:31:50,901 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:31:50,901 - utils.process_runner - DEBUG - 라인 22: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:31:50,901 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:31:50,901 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 라인 24: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 라인 25: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 라인 26: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 라인 28: The following styling errors were found:
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:31:50,902 - utils.process_runner - DEBUG - 라인 29: 1:100: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:31:50,902 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:31:50,902 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 11개 발견됨
2025-11-05 21:31:50,902 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:31:50,902 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:31:50,904 - main - DEBUG - 임시 파일 삭제: data_original/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_temp_phase1.yml
2025-11-05 21:31:50,904 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:31:50,924 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'The syntax error was due to the `echo` command not being properly formatted. The corrected line is': None}
2025-11-05 21:31:50,924 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:31:50,924 - main - ERROR - 검증 오류: ['Missing required field: on', 'Missing required field: jobs', 'No valid jobs found']
2025-11-05 21:31:50,925 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38_two_phase_repaired.yml
2025-11-05 21:31:50,926 - __main__ - INFO - === 파일 10/100 2단계 복구 완료 ===
2025-11-05 21:31:50,926 - __main__ - ERROR - ❌ 실패 (58.39초): c75806d58ce198f4c7c8b5bea00db864ec064876fc400c2a561a4033a74b1b38
2025-11-05 21:31:50,926 - __main__ - INFO - [11/100] 처리 중: b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:31:50,926 - __main__ - INFO - 입력 파일 경로: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:31:50,927 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_two_phase_repaired.yml
2025-11-05 21:31:50,927 - __main__ - INFO - === 파일 11/100 2단계 복구 시작 ===
2025-11-05 21:31:50,927 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:31:50,927 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:31:50,990 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:31:50,990 - main - INFO - 파일 크기: 5892 문자
2025-11-05 21:31:50,991 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:31:51,005 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:31:51,006 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:31:51,008 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:31:51,306 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.30초)
2025-11-05 21:31:51,307 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:31:51,307 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:31:51,307 - main - INFO - actionlint 오류 2개 발견
2025-11-05 21:31:51,307 - main - INFO -   오류 1: unexpected key "run" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 21:31:51,307 - main - INFO -   오류 2: key "name" is duplicated in "update-nightly-tag" job. previously defined at line:20,col:5
2025-11-05 21:31:51,307 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:31:51,307 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:31:51,308 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:31:51,308 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:31:51,311 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:32:53,977 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:32:53,981 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:32:53,982 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:32:53,983 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 5769 문자
2025-11-05 21:32:53,983 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:32:53,983 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:32:53,985 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_temp_phase1.yml
2025-11-05 21:32:53,985 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:32:53,986 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_temp_phase1.yml
2025-11-05 21:32:54,476 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 21:32:54,476 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Android CI
on:
  push:
    paths-ignore:
     - 'README.md'
     - '.github/workflows/tests.yml'
  pull_request:
    paths-ignore:
     - 'README.md'
     - '.github/workflows/tests.yml'
  workflow_dispatch:
    inputs:
      version:
        description: dummy
        default: dummy

jobs:
  update-nightly-tag:

    name: show github event data
    run: |
      echo ${{github.event}} || echo "NO ERR"
      echo ${{github.event_path}} || echo "NO ERR"
      echo ${{github.event_name}} || echo "NO ERR"
      echo ${{github.ref}} || echo "NO ERR"
      echo ${{github.workspace}} || echo "NO ERR"
      echo ${{github.workflow}} || echo "NO ERR"

    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
    permissions:
        contents: write
    steps:
      - uses: actions/checkout@v4
      - name: Move nightly tag to head for nightly release
        run: git tag -f nightly && git push origin nightly -f

  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-java@v4
      with:
        distribution: 'temurin'
        java-version: '11'

    - name: Install system packages
      run: |
          sudo apt-get update && \
          sudo DEBIAN_FRONTEND=noninteractive \
          apt-get install -y --no-install-recommends \
          zipalign \
          apksigner
    - name: Install NDK
      run: |
           echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;21.0.6113669" --sdk_root=${ANDROID_SDK_ROOT}
           echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;20.1.5948944" --sdk_root=${ANDROID_SDK_ROOT}

    - name: Change to debug ID
      run: |
        datestr=$(date '+%Y%m%d%H%M%S')
        cat android-refimpl-app/app/build.gradle | grep applicationId
        sed -i -e 's#applicationId "com.zoffcc.applications.trifa"#applicationId "com.zoffcc.applications.trifa_debug_'"$datestr"'"#' android-refimpl-app/app/build.gradle
        cat android-refimpl-app/app/build.gradle | grep applicationId
        grep -rli std_fileprovider|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.std_fileprovider#com.zoffcc.applications.trifa.std_fileprovider_debug_'"$datestr"'#'
        grep -rli "com.zoffcc.applications.trifa.ext2_provider"|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext2_provider#com.zoffcc.applications.trifa.ext2_provider_debug_'"$datestr"'#'
        grep -rli "com.zoffcc.applications.trifa.ext1_fileprovider"|grep -e '.java' -e '.xml'| xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext1_fileprovider#com.zoffcc.applications.trifa.ext1_fileprovider_debug_'"$datestr"'#'
        sed -i -e 's#android:label="TRIfA"#android:label="DEBUG TRIfA '"$datestr"'"#' android-refimpl-app/app/src/main/AndroidManifest.xml
        cat android-refimpl-app/app/src/main/AndroidManifest.xml|grep 'android:label='

    - name: show witness checksums updates
      if: ${{ github.event_name == 'pull_request' || github.event_name == 'push' }}
      run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null

    - name: update witness checksums for pull requests
      if: ${{ github.event_name == 'pull_request' }}
      run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null| grep -v 'Checking the license for' > app/witness.gradle 2>/dev/null

    - name: show witness checksums updates for pull requests
      if: ${{ github.event_name == 'pull_request' }}
      run: cd android-refimpl-app ; git diff app/witness.gradle

    - name: Build with Gradle
      run: cd android-refimpl-app ; ./gradlew assemble ; find . -name '*.apk'

    - name: generate debug key
      run: keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname CN=appauth

    - name: align and sign apk
      run: |
        zipalign -p 4 /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk
        apksigner sign --ks debug.keystore --ks-pass "pass:android" --ks-key-alias androiddebugkey --out /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk --verbose /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk

    - name: upload apk
      uses: actions/upload-artifact@v4
      with:
        name: trifa
        path: /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk

    - name: Rename artifact for nightly upload
      if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
      run: |
        pwd
        cp -av /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk TRIfA-nightly.apk
    - name: Upload to nightly release
      uses: ncipollo/release-action@v1
      if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
      with:
        allowUpdates: true
        tag: nightly
        omitBodyDuringUpdate: true
        omitNameDuringUpdate: true
        prerelease: true
        replacesArtifacts: true
        token: ${{ secrets.GITHUB_TOKEN }}
        artifacts: "TRIfA-nightly.apk"

  gradle-wrapper-validation:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: gradle/wrapper-validation-action@v3
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 34)
	- 8. Use commit hash instead of tags for action versions (line 124)
	- 8. Use commit hash instead of tags for action versions (line 97)
	- 8. Use commit hash instead of tags for action versions (line 108)
	- 8. Use commit hash instead of tags for action versions (line 44)
	- 8. Use commit hash instead of tags for action versions (line 43)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 165
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 2: name: Android CI
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 5: paths-ignore:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 6: - 'README.md'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 7: - '.github/workflows/tests.yml'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 8: pull_request:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 9: paths-ignore:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 10: - 'README.md'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 11: - '.github/workflows/tests.yml'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 12: workflow_dispatch:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 13: inputs:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 14: version:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 15: description: dummy
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 16: default: dummy
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 18: jobs:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 19: update-nightly-tag:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 21: name: show github event data
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 22: run: |
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 23: echo ${{github.event}} || echo "NO ERR"
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 24: echo ${{github.event_path}} || echo "NO ERR"
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 25: echo ${{github.event_name}} || echo "NO ERR"
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 26: echo ${{github.ref}} || echo "NO ERR"
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 27: echo ${{github.workspace}} || echo "NO ERR"
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 28: echo ${{github.workflow}} || echo "NO ERR"
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-latest
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 31: if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 32: permissions:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 33: contents: write
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 34: steps:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 35: - uses: actions/checkout@v4
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 36: - name: Move nightly tag to head for nightly release
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 37: run: git tag -f nightly && git push origin nightly -f
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 39: build:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 40: runs-on: ubuntu-latest
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 41: permissions:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 42: contents: write
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 43: steps:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 44: - uses: actions/checkout@v4
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 45: - uses: actions/setup-java@v4
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 46: with:
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 47: distribution: 'temurin'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 48: java-version: '11'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 50: - name: Install system packages
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 51: run: |
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 52: sudo apt-get update && \
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 53: sudo DEBIAN_FRONTEND=noninteractive \
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 54: apt-get install -y --no-install-recommends \
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 55: zipalign \
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 56: apksigner
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 57: - name: Install NDK
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 59: echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;21.0.6113669" --sdk_root=${ANDROID_SDK_ROOT}
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 60: echo "y" | sudo /usr/local/lib/android/sdk/cmdline-tools/latest/bin/sdkmanager --install "ndk;20.1.5948944" --sdk_root=${ANDROID_SDK_ROOT}
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 62: - name: Change to debug ID
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 63: run: |
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 64: datestr=$(date '+%Y%m%d%H%M%S')
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 65: cat android-refimpl-app/app/build.gradle | grep applicationId
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 66: sed -i -e 's#applicationId "com.zoffcc.applications.trifa"#applicationId "com.zoffcc.applications.trifa_debug_'"$datestr"'"#' android-refimpl-app/app/build.gradle
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 67: cat android-refimpl-app/app/build.gradle | grep applicationId
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 68: grep -rli std_fileprovider|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.std_fileprovider#com.zoffcc.applications.trifa.std_fileprovider_debug_'"$datestr"'#'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 69: grep -rli "com.zoffcc.applications.trifa.ext2_provider"|grep -e '.java' -e '.xml'|xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext2_provider#com.zoffcc.applications.trifa.ext2_provider_debug_'"$datestr"'#'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 70: grep -rli "com.zoffcc.applications.trifa.ext1_fileprovider"|grep -e '.java' -e '.xml'| xargs -L1 sed -i -e 's#com.zoffcc.applications.trifa.ext1_fileprovider#com.zoffcc.applications.trifa.ext1_fileprovider_debug_'"$datestr"'#'
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 71: sed -i -e 's#android:label="TRIfA"#android:label="DEBUG TRIfA '"$datestr"'"#' android-refimpl-app/app/src/main/AndroidManifest.xml
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 72: cat android-refimpl-app/app/src/main/AndroidManifest.xml|grep 'android:label='
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 74: - name: show witness checksums updates
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 75: if: ${{ github.event_name == 'pull_request' || github.event_name == 'push' }}
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 76: run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 78: - name: update witness checksums for pull requests
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 79: if: ${{ github.event_name == 'pull_request' }}
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 80: run: cd android-refimpl-app ; ./gradlew -q calculateChecksums 2>/dev/null| grep -v 'Checking the license for' > app/witness.gradle 2>/dev/null
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 82: - name: show witness checksums updates for pull requests
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 83: if: ${{ github.event_name == 'pull_request' }}
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 84: run: cd android-refimpl-app ; git diff app/witness.gradle
2025-11-05 21:32:54,477 - utils.process_runner - DEBUG - 라인 86: - name: Build with Gradle
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 87: run: cd android-refimpl-app ; ./gradlew assemble ; find . -name '*.apk'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 89: - name: generate debug key
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 90: run: keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname CN=appauth
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 92: - name: align and sign apk
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 93: run: |
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 94: zipalign -p 4 /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 95: apksigner sign --ks debug.keystore --ks-pass "pass:android" --ks-key-alias androiddebugkey --out /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk --verbose /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug-aligned.apk
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 97: - name: upload apk
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 98: uses: actions/upload-artifact@v4
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 99: with:
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 100: name: trifa
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 101: path: /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 103: - name: Rename artifact for nightly upload
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 104: if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 105: run: |
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 106: pwd
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 107: cp -av /home/runner/work/ToxAndroidRefImpl/ToxAndroidRefImpl/android-refimpl-app/app/build/outputs/apk/debug/app-debug.apk TRIfA-nightly.apk
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 108: - name: Upload to nightly release
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 109: uses: ncipollo/release-action@v1
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 110: if: github.event_name == 'push' && github.ref == 'refs/heads/zoff99/dev003'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 111: with:
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 112: allowUpdates: true
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 113: tag: nightly
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 114: omitBodyDuringUpdate: true
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 115: omitNameDuringUpdate: true
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 116: prerelease: true
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 117: replacesArtifacts: true
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 118: token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 119: artifacts: "TRIfA-nightly.apk"
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 121: gradle-wrapper-validation:
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 122: runs-on: ubuntu-latest
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 123: steps:
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 124: - uses: actions/checkout@v4
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 125: - uses: gradle/wrapper-validation-action@v3
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 126: mapping values are not allowed here
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 127: in "<file>", line 2, column 5
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 128: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_temp_phase1.yml
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_temp_phase1.yml
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 129: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 130: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 131: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 132: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 133: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 134: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 135: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 136: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 137: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 138: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 139: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 140: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 141: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 142: We have found 20 smells
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 143: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 144: - 8. Use commit hash instead of tags for action versions (line 34)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 34)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 145: - 8. Use commit hash instead of tags for action versions (line 124)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 124)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 146: - 8. Use commit hash instead of tags for action versions (line 97)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 97)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 147: - 8. Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 108)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 148: - 8. Use commit hash instead of tags for action versions (line 44)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 44)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 149: - 8. Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 43)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 150: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 151: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 152: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 153: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 154: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 155: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 라인 156: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:32:54,478 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 157: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 158: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 159: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 160: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 161: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 162: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 163: The following styling errors were found:
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 라인 164: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:32:54,479 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:32:54,479 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:32:54,479 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:32:54,479 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:32:54,479 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:32:54,479 - main - DEBUG - 임시 파일 삭제: data_original/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_temp_phase1.yml
2025-11-05 21:32:54,479 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:32:54,480 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Android CI
        ^
2025-11-05 21:32:54,480 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:32:54,480 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:32:54,480 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071_two_phase_repaired.yml
2025-11-05 21:32:54,481 - __main__ - INFO - === 파일 11/100 2단계 복구 완료 ===
2025-11-05 21:32:54,481 - __main__ - ERROR - ❌ 실패 (63.55초): b5f97528f61182f39d53fa5eb5fa7c30ea8d4997047c49909fad3270f7f32071
2025-11-05 21:32:54,481 - __main__ - INFO - [12/100] 처리 중: 12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 21:32:54,481 - __main__ - INFO - 입력 파일 경로: data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 21:32:54,481 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_two_phase_repaired.yml
2025-11-05 21:32:54,481 - __main__ - INFO - === 파일 12/100 2단계 복구 시작 ===
2025-11-05 21:32:54,481 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:32:54,481 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:32:54,481 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 21:32:54,481 - main - INFO - 파일 크기: 244 문자
2025-11-05 21:32:54,481 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:32:54,481 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:32:54,481 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:32:54,482 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 21:32:54,498 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:32:54,498 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:32:54,498 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:32:54,498 - main - INFO - actionlint 오류 3개 발견
2025-11-05 21:32:54,498 - main - INFO -   오류 1: workflow is sequence node but mapping node is expected
2025-11-05 21:32:54,498 - main - INFO -   오류 2: "on" section is missing in workflow
2025-11-05 21:32:54,498 - main - INFO -   오류 3: "jobs" section is missing in workflow
2025-11-05 21:32:54,498 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:32:54,498 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:32:54,498 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:32:54,498 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:32:54,499 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:33:14,803 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1083
2025-11-05 21:33:14,804 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:33:14,805 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:33:14,805 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 419 문자
2025-11-05 21:33:14,805 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:33:14,805 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:33:14,806 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_temp_phase1.yml
2025-11-05 21:33:14,806 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:33:14,806 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_temp_phase1.yml
2025-11-05 21:33:15,254 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 21:33:15,254 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Trigger Jenkins Job

on:
  push:
    branches: [ main ]

jobs:
  trigger-jenkins-job:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Jenkins Job
        uses: appleboy/jenkins-action@master
        with:
          url: "http://ec2-18-181-186-207.ap-northeast-1.compute.amazonaws.com/"
          user: "illasoft"
          token: ${{ secrets.JENKINS_API_TOKEN }}
          job: "illa-builder-test"
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 53
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 2: name: Trigger Jenkins Job
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 6: branches: [ main ]
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 9: trigger-jenkins-job:
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-latest
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 11: steps:
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 12: - name: Trigger Jenkins Job
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 13: uses: appleboy/jenkins-action@master
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 14: with:
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 15: url: "http://ec2-18-181-186-207.ap-northeast-1.compute.amazonaws.com/"
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 16: user: "illasoft"
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 17: token: ${{ secrets.JENKINS_API_TOKEN }}
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 18: job: "illa-builder-test"
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 19: mapping values are not allowed here
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 20: in "<file>", line 2, column 5
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 21: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_temp_phase1.yml
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_temp_phase1.yml
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 22: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 23: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 24: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 25: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 26: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 27: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 35: We have found 15 smells
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 36: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 37: - 12. Avoid workflows without comments
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 38: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 39: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 40: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 41: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 42: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 43: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 44: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 45: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:33:15,255 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 라인 51: The following styling errors were found:
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 라인 52: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:33:15,256 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:33:15,256 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:33:15,256 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:33:15,256 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:33:15,256 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:33:15,256 - main - DEBUG - 임시 파일 삭제: data_original/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_temp_phase1.yml
2025-11-05 21:33:15,256 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:33:15,256 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Trigger Jenkins Job
        ^
2025-11-05 21:33:15,256 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:33:15,256 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:33:15,257 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11_two_phase_repaired.yml
2025-11-05 21:33:15,257 - __main__ - INFO - === 파일 12/100 2단계 복구 완료 ===
2025-11-05 21:33:15,257 - __main__ - ERROR - ❌ 실패 (20.78초): 12bc3aaaf6a500edc9d5086c088dc050d1c60777879910668e066b3fb0862d11
2025-11-05 21:33:15,257 - __main__ - INFO - [13/100] 처리 중: 6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 21:33:15,257 - __main__ - INFO - 입력 파일 경로: data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 21:33:15,257 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_two_phase_repaired.yml
2025-11-05 21:33:15,257 - __main__ - INFO - === 파일 13/100 2단계 복구 시작 ===
2025-11-05 21:33:15,257 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:33:15,257 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:33:15,257 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 21:33:15,257 - main - INFO - 파일 크기: 10087 문자
2025-11-05 21:33:15,257 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:33:15,257 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:33:15,258 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:33:15,258 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0
2025-11-05 21:33:15,265 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 21:33:15,265 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:33:15,265 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:33:15,265 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:33:15,265 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 21:33:15,265 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:33:15,265 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:33:15,265 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:33:15,265 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:33:15,266 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:34:37,041 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:34:37,064 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:34:37,105 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:34:37,125 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 9211 문자
2025-11-05 21:34:37,126 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:34:37,126 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:34:37,146 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_temp_phase1.yml
2025-11-05 21:34:37,146 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:34:37,147 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_temp_phase1.yml
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 명령어 실행 성공 (1.05초)
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_temp_phase1.yml
We have found 23 smells
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 78)
	- 6. Define permissions for workflows with external actions (job at line: 164)
	- 6. Define permissions for workflows with external actions (job at line: 230)
	- 6. Define permissions for workflows with external actions (job at line: 197)
	- 6. Define permissions for workflows with external actions (job at line: 121)
	- 6. Define permissions for workflows with external actions (job at line: 13)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 230)
	- 10. Avoid jobs without timeouts (line: 121)
	- 10. Avoid jobs without timeouts (line: 78)
	- 10. Avoid jobs without timeouts (line: 197)
	- 10. Avoid jobs without timeouts (line: 13)
	- 10. Avoid jobs without timeouts (line: 164)
	- 13. Use names for run steps (lines 19:19)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: unit-tests)
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
17:24: too many spaces inside brackets (brackets)
17:29: too many spaces inside brackets (brackets)
84:24: too many spaces inside brackets (brackets)
84:29: too many spaces inside brackets (brackets)
85:28: too many spaces inside brackets (brackets)
85:34: too many spaces inside brackets (brackets)
127:24: too many spaces inside brackets (brackets)
127:29: too many spaces inside brackets (brackets)
128:25: too many spaces inside brackets (brackets)
128:29: too many spaces inside brackets (brackets)
170:24: too many spaces inside brackets (brackets)
170:29: too many spaces inside brackets (brackets)
203:24: too many spaces inside brackets (brackets)
203:29: too many spaces inside brackets (brackets)
276:56: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 42
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_temp_phase1.yml
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_temp_phase1.yml
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 라인 2: We have found 23 smells
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 23 smells
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 라인 3: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 21:34:38,200 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 78)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 78)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 164)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 164)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 230)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 230)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 197)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 197)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 121)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 121)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 13)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 13)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 13: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 230)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 230)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 121)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 121)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 16: - 10. Avoid jobs without timeouts (line: 78)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 78)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 17: - 10. Avoid jobs without timeouts (line: 197)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 197)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 18: - 10. Avoid jobs without timeouts (line: 13)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 13)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 19: - 10. Avoid jobs without timeouts (line: 164)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 164)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 20: - 13. Use names for run steps (lines 19:19)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 19:19)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 21: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 22: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 23: - 19. Run tests on multiple OS's (job: unit-tests)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: unit-tests)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 24: - 21. Use cache parameter instead of cache option
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 25: - 22. Avoid deploying jobs on forks
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 26: The following styling errors were found:
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 27: 17:24: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 28: 17:29: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 29: 84:24: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 30: 84:29: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 31: 85:28: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 32: 85:34: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 33: 127:24: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 34: 127:29: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 35: 128:25: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 36: 128:29: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 37: 170:24: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 38: 170:29: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 39: 203:24: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 40: 203:29: too many spaces inside brackets (brackets)
2025-11-05 21:34:38,201 - utils.process_runner - DEBUG - 라인 41: 276:56: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:34:38,201 - utils.process_runner - INFO - 총 8개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:34:38,201 - utils.process_runner - INFO - Smell detector 실행 완료: 8개 스멜 발견
2025-11-05 21:34:38,201 - main - INFO - 스멜 8개 발견
2025-11-05 21:34:38,201 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 21:34:38,201 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 230)
2025-11-05 21:34:38,201 - main - INFO -   스멜 3: Avoid jobs without timeouts (line: 121)
2025-11-05 21:34:38,201 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:34:38,201 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:34:38,202 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:34:38,202 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:34:38,204 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:36:27,729 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:36:27,732 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:36:27,733 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:36:27,733 - main - INFO - Phase 2 완료, 최종 YAML 크기: 9396 문자
2025-11-05 21:36:27,734 - main - DEBUG - 임시 파일 삭제: data_original/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_temp_phase1.yml
2025-11-05 21:36:27,734 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:36:27,763 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'CI', 'on': {'workflow_dispatch': None, 'push': {'branches': ['master', 'develop']}}, 'jobs': {'unit-tests': {'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x']}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-all-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --ignore @deepkit/mongo \\\n  --ignore @deepkit/example-app \\\n  --ignore @deepkit/fs \\\n  --ignore @deepkit/framework-examples \\\n  --ignore @deepkit/benchmark \\\n  --ignore @deepkit/mysql --ignore @deepkit/postgres\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build \\\n  packages/angular-universal/tsconfig.json \\\n  packages/broker/tsconfig.json \\\n  packages/bson/tsconfig.json \\\n  packages/core/tsconfig.json \\\n  packages/core-rxjs/tsconfig.json \\\n  packages/crypto/tsconfig.json \\\n  packages/framework/tsconfig.json \\\n  packages/framework-debug-shared/tsconfig.json \\\n  packages/framework-integration/tsconfig.json \\\n  packages/rpc/tsconfig.json \\\n  packages/orm/tsconfig.json \\\n  packages/sql/tsconfig.json \\\n  packages/sqlite/tsconfig.json \\\n  packages/topsort/tsconfig.json \\\n  packages/type/tsconfig.json \\\n  packages/type-angular/tsconfig.json\n'}, {'name': 'Test', 'run': 'npm run test \\\n  packages/angular-universal/ \\\n  packages/broker/ \\\n  packages/bson/ \\\n  packages/core/ \\\n  packages/core-rxjs/ \\\n  packages/crypto/ \\\n  packages/framework/ \\\n  packages/framework-debug-shared/ \\\n  packages/framework-integration/ \\\n  packages/rpc/ \\\n  packages/topsort/ \\\n  packages/type/ \\\n  packages/type-angular/\n'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-postgres': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x'], 'postgres-version': [10.1]}}, 'services': {'postgres': {'image': 'postgres:${{ matrix.postgres-version }}', 'env': {'POSTGRES_USER': 'postgres', 'POSTGRES_DB': 'postgres'}, 'ports': ['5432:5432'], 'options': '--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5'}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-postgres-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/postgres --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/orm-integration --scope @deepkit/topsort \\\n  --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/postgres/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/postgres/'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-mysql': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x'], 'mysql-version': [8.0]}}, 'services': {'mysql': {'image': 'mysql:${{ matrix.mysql-version }}', 'options': '--health-cmd "mysqladmin ping --silent" -e MYSQL_ALLOW_EMPTY_PASSWORD=yes -e MYSQL_DATABASE=default', 'ports': ['3306:3306']}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-mysql-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/mysql --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/orm-integration --scope @deepkit/topsort \\\n  --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/mysql/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/mysql/'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-sqlite': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x']}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-sqlite-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/sqlite --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/orm-integration --scope @deepkit/topsort \\\n  --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/sqlite/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/sqlite/'}, {'name': 'Send coverage', 'run': './node_modules/.bin/codecov -f coverage/*.json'}]}, 'orm-mongo': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'strategy': {'matrix': {'node-version': ['14.x']}}, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-mongo-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --scope @deepkit/mongo --scope @deepkit/orm --scope @deepkit/sql \\\n  --scope @deepkit/orm-integration --scope @deepkit/topsort \\\n  --scope @deepkit/type --scope @deepkit/core\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build packages/mongo/tsconfig.json'}, {'name': 'Test', 'run': 'npm run test packages/mongo/'}]}, 'benchmark': {'needs': ['unit-tests'], 'runs-on': 'self-hosted', 'timeout-minutes': 30, 'steps': [{'uses': 'actions/checkout@v2'}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v1', 'with': {'node-version': '${{ matrix.node-version }}'}}, {'name': 'Cache node_modules', 'uses': 'actions/cache@v1', 'with': {'path': '**/node_modules', 'key': "${{ runner.os }}-benchmark-node_modules-${{ hashFiles('**/package-lock.json') }}"}}, {'name': 'npm install', 'run': 'npm install'}, {'name': 'Lerna bootstrap', 'run': 'npm run bootstrap -- \\\n  --ignore @deepkit/mongo \\\n  --ignore @deepkit/example-app \\\n  --ignore @deepkit/fs \\\n  --ignore @deepkit/framework-examples\n'}, {'name': 'Build', 'run': './node_modules/.bin/tsc --build \\\n  packages/broker/tsconfig.json \\\n  packages/bson/tsconfig.json \\\n  packages/core/tsconfig.json \\\n  packages/core-rxjs/tsconfig.json \\\n  packages/crypto/tsconfig.json \\\n  packages/framework/tsconfig.json \\\n  packages/framework-debug-shared/tsconfig.json \\\n  packages/rpc/tsconfig.json \\\n  packages/mongo/tsconfig.json \\\n  packages/sqlite/tsconfig.json \\\n  packages/mysql/tsconfig.json \\\n  packages/postgres/tsconfig.json \\\n  packages/orm/tsconfig.json \\\n  packages/sql/tsconfig.json \\\n  packages/topsort/tsconfig.json \\\n  packages/type/tsconfig.json\n'}, {'name': 'Benchmark setup', 'run': 'cd packages benchmark && . setup.sh'}, {'name': 'Benchmark run', 'run': 'cd packages benchmark && npm run benchmark'}]}, 'cancel': {'runs-on': 'self-hosted', 'if': "github.event_name == 'push' && github.event.pull_request == null", 'steps': [{'name': 'Cancel workflow', 'run': 'echo "##[error]Workflow cancelled"\nexit 1'}]}}}
2025-11-05 21:36:27,764 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_two_phase_repaired.yml
2025-11-05 21:36:27,764 - main - INFO - 2단계 모드 복구 완료
2025-11-05 21:36:27,764 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_two_phase_repaired.yml
2025-11-05 21:36:27,764 - __main__ - INFO - === 파일 13/100 2단계 복구 완료 ===
2025-11-05 21:36:27,764 - __main__ - INFO - ✅ 성공 (192.51초): 6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0 -> 6a8345ef99da64d41fe33ac6c7ace04dc774154abce0ad41ad1fc75eac46b9e0_two_phase_repaired.yml
2025-11-05 21:36:27,764 - __main__ - INFO - [14/100] 처리 중: 6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 21:36:27,764 - __main__ - INFO - 입력 파일 경로: data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 21:36:27,764 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_two_phase_repaired.yml
2025-11-05 21:36:27,764 - __main__ - INFO - === 파일 14/100 2단계 복구 시작 ===
2025-11-05 21:36:27,764 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:36:27,764 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:36:27,765 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 21:36:27,765 - main - INFO - 파일 크기: 1070 문자
2025-11-05 21:36:27,765 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:36:27,765 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:36:27,765 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:36:27,765 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 21:36:27,783 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:36:27,784 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:36:27,784 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:36:27,784 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:36:27,784 - main - INFO -   오류 1: unexpected key "deprecationMessage" for "inputs" section. expected one of "default", "description", "required"
2025-11-05 21:36:27,784 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:36:27,784 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:36:27,784 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:36:27,784 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:36:27,785 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:38:17,138 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1594
2025-11-05 21:38:17,140 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:38:17,142 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:38:17,142 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1066 문자
2025-11-05 21:38:17,142 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:38:17,142 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:38:17,143 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_temp_phase1.yml
2025-11-05 21:38:17,143 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:38:17,144 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_temp_phase1.yml
2025-11-05 21:38:17,463 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 21:38:17,463 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: 🍹Sponsor video generator
on:
  workflow_dispatch:
    inputs:
      companyName:
        description: "What is the name of the sponsor company?"
        required: true
        default: "Example"
      backgroundImg:
        description: "If you want to use custom image for background"
        required: false
jobs:
  render:
    name: Render video
    runs-on: ubuntu-latest
    steps:
      - run: sudo apt update
      - run: sudo apt install ffmpeg
      - uses: actions/checkout@main
      - uses: actions/setup-node@main
      - uses: pnpm/action-setup@v2.0.1
        name: Install pnpm
        with:
          version: 7
          run_install: true
      - run: echo $WORKFLOW_INPUT > input-props.json
        env:
          WORKFLOW_INPUT: ${{ toJson(github.event.inputs) }}
      - run: pnpm remotion render src/index.tsx Sponsor out/sponsor-${{github.event.inputs.companyName}}.mp4 --props="./input-props.json"
      - uses: actions/upload-artifact@v2
        with:
          name: sponsor-${{github.event.inputs.companyName}}
          path: out
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:38:17,463 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:38:17,463 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:38:17,463 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 71
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 2: name: 🍹Sponsor video generator
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 4: workflow_dispatch:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 5: inputs:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 6: companyName:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 7: description: "What is the name of the sponsor company?"
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 8: required: true
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 9: default: "Example"
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 10: backgroundImg:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 11: description: "If you want to use custom image for background"
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 12: required: false
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 13: jobs:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 14: render:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 15: name: Render video
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 16: runs-on: ubuntu-latest
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 17: steps:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 18: - run: sudo apt update
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 19: - run: sudo apt install ffmpeg
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 20: - uses: actions/checkout@main
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 21: - uses: actions/setup-node@main
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 22: - uses: pnpm/action-setup@v2.0.1
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 23: name: Install pnpm
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 24: with:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 25: version: 7
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 26: run_install: true
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 27: - run: echo $WORKFLOW_INPUT > input-props.json
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 28: env:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 29: WORKFLOW_INPUT: ${{ toJson(github.event.inputs) }}
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 30: - run: pnpm remotion render src/index.tsx Sponsor out/sponsor-${{github.event.inputs.companyName}}.mp4 --props="./input-props.json"
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 31: - uses: actions/upload-artifact@v2
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 32: with:
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 33: name: sponsor-${{github.event.inputs.companyName}}
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 34: path: out
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 35: mapping values are not allowed here
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 36: in "<file>", line 2, column 5
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 37: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_temp_phase1.yml
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_temp_phase1.yml
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:38:17,464 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 51: We have found 17 smells
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 52: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 53: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 54: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 55: - 12. Avoid workflows without comments
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 56: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 69: The following styling errors were found:
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 라인 70: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:38:17,465 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:38:17,465 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:38:17,465 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:38:17,465 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:38:17,465 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:38:17,466 - main - DEBUG - 임시 파일 삭제: data_original/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_temp_phase1.yml
2025-11-05 21:38:17,466 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:38:17,466 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: 🍹Sponsor video generator
        ^
2025-11-05 21:38:17,466 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:38:17,466 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:38:17,466 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea_two_phase_repaired.yml
2025-11-05 21:38:17,466 - __main__ - INFO - === 파일 14/100 2단계 복구 완료 ===
2025-11-05 21:38:17,466 - __main__ - ERROR - ❌ 실패 (109.70초): 6577c314974254177b414e27d469c3a4c0251686ae719a717a2da2beb89712ea
2025-11-05 21:38:17,466 - __main__ - INFO - [15/100] 처리 중: 86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 21:38:17,466 - __main__ - INFO - 입력 파일 경로: data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 21:38:17,466 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_two_phase_repaired.yml
2025-11-05 21:38:17,467 - __main__ - INFO - === 파일 15/100 2단계 복구 시작 ===
2025-11-05 21:38:17,467 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:38:17,467 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:38:17,467 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 21:38:17,467 - main - INFO - 파일 크기: 6929 문자
2025-11-05 21:38:17,467 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:38:17,467 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:38:17,467 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:38:17,467 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 21:38:17,472 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 21:38:17,472 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:38:17,472 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:38:17,472 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:38:17,472 - main - INFO -   오류 1: expected scalar node for string value but found mapping node with "!!map" tag
2025-11-05 21:38:17,472 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:38:17,472 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:38:17,472 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:38:17,472 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:38:17,473 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:39:40,737 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:39:40,739 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:39:40,740 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:39:40,740 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 148 문자
2025-11-05 21:39:40,741 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:39:40,741 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:39:40,742 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_temp_phase1.yml
2025-11-05 21:39:40,742 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:39:40,742 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_temp_phase1.yml
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'str' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'str' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: string indices must be integers
YAML parsing error in use_name_for_step: string indices must be integers
YAML parsing error in scheduled_workflows_on_forks: 'str' object has no attribute 'keys'
YAML parsing error in use_name_for_step: string indices must be integers
YAML parsing error in stop_workflows_for_old_commit: 'str' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: string indices must be integers
YAML parsing error in multi_line_steps: string indices must be integers
YAML parsing error in deploy_from_fork: string indices must be integers
YAML parsing error in run_multiple_versions: string indices must be integers
YAML parsing error in installing_packages_without_version: string indices must be integers
YAML parsing error in use_cache_from_setup: string indices must be integers
We have found 14 smells
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
1:149: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 32
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_temp_phase1.yml
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_temp_phase1.yml
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in external_actions_must_have_permissions_workflow: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,246 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in pull_based_actions_on_fork: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 4: YAML parsing error in action_should_have_timeout: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 5: YAML parsing error in use_name_for_step: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 6: YAML parsing error in scheduled_workflows_on_forks: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in use_name_for_step: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in stop_workflows_for_old_commit: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'str' object has no attribute 'keys'
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in upload_artifact_must_have_if: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 10: YAML parsing error in multi_line_steps: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 11: YAML parsing error in deploy_from_fork: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 12: YAML parsing error in run_multiple_versions: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 13: YAML parsing error in installing_packages_without_version: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 14: YAML parsing error in use_cache_from_setup: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: string indices must be integers
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 15: We have found 14 smells
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 16: - 12. Avoid workflows without comments
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 17: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 18: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 19: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 20: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 21: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 22: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 24: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 25: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 26: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 28: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 29: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 30: The following styling errors were found:
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:39:41,247 - utils.process_runner - DEBUG - 라인 31: 1:149: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:39:41,247 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:39:41,247 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:39:41,247 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:39:41,247 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:39:41,247 - main - DEBUG - 임시 파일 삭제: data_original/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_temp_phase1.yml
2025-11-05 21:39:41,247 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:39:41,248 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: The syntax error was due to the use of `!!map` tag which is not a valid YAML node. The corrected code uses the correct syntax for defining an array.
2025-11-05 21:39:41,248 - utils.yaml_parser - ERROR - 워크플로우 검증 중 오류: 'str' object has no attribute 'get'
2025-11-05 21:39:41,248 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:39:41,248 - main - ERROR - 검증 오류: ["Validation error: 'str' object has no attribute 'get'"]
2025-11-05 21:39:41,249 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e_two_phase_repaired.yml
2025-11-05 21:39:41,249 - __main__ - INFO - === 파일 15/100 2단계 복구 완료 ===
2025-11-05 21:39:41,249 - __main__ - ERROR - ❌ 실패 (83.78초): 86052f9e728f41949481d5993d9da38465b14d7d76d574c2cc1f76fdf4b56f0e
2025-11-05 21:39:41,249 - __main__ - INFO - [16/100] 처리 중: c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 21:39:41,249 - __main__ - INFO - 입력 파일 경로: data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 21:39:41,249 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_two_phase_repaired.yml
2025-11-05 21:39:41,249 - __main__ - INFO - === 파일 16/100 2단계 복구 시작 ===
2025-11-05 21:39:41,249 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:39:41,249 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:39:41,249 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 21:39:41,249 - main - INFO - 파일 크기: 920 문자
2025-11-05 21:39:41,249 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:39:41,249 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:39:41,250 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:39:41,250 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 21:39:41,266 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:39:41,267 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:39:41,267 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:39:41,267 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:39:41,267 - main - INFO -   오류 1: could not parse as YAML: yaml: line 26: mapping values are not allowed in this context
2025-11-05 21:39:41,267 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:39:41,267 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:39:41,267 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:39:41,267 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:39:41,268 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:40:11,540 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1610
2025-11-05 21:40:11,542 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:40:11,543 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:40:11,543 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 942 문자
2025-11-05 21:40:11,543 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:40:11,543 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:40:11,544 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_temp_phase1.yml
2025-11-05 21:40:11,544 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:40:11,544 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_temp_phase1.yml
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: unittests
on:
  push:
    branches:
      - master
jobs:
  py-check:
    runs-on: ${{ matrix.config.os }}
    name: ${{ matrix.config.os }} (${{ matrix.config.py }})
    strategy:
      fail-fast: false
      matrix:
        config:
          - os: windows-latest
            py: "3.7"
          - os: macOS-latest
            py: "3.7"
          - os: ubuntu-latest
            py: "3.6"
          - os: ubuntu-latest
            py: "3.7"
          - os: ubuntu-latest
            py: "3.8"

    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: 3.6
      - name: Install dependencies
        run: |
          pip install .
          pip install pytest
      - name: LOAD EE CREDENTIALS
        run: python ./.github/ee_token.py
        env:
          EARTHENGINE_TOKEN: ${{ secrets.EARTHENGINE_TOKEN }}
      - name: UNIT TESTS 
        run: |
          pytest
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
41:17: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 78
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 2: name: unittests
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 6: - master
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 8: py-check:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 9: runs-on: ${{ matrix.config.os }}
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 10: name: ${{ matrix.config.os }} (${{ matrix.config.py }})
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 11: strategy:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 12: fail-fast: false
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 13: matrix:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 14: config:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 15: - os: windows-latest
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 16: py: "3.7"
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 17: - os: macOS-latest
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 18: py: "3.7"
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 19: - os: ubuntu-latest
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 20: py: "3.6"
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 21: - os: ubuntu-latest
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 22: py: "3.7"
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 23: - os: ubuntu-latest
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 24: py: "3.8"
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 26: steps:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 27: - uses: actions/checkout@v2
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 28: - uses: actions/setup-python@v2
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 29: with:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 30: python-version: 3.6
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 31: - name: Install dependencies
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 32: run: |
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 33: pip install .
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 34: pip install pytest
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 35: - name: LOAD EE CREDENTIALS
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 36: run: python ./.github/ee_token.py
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 37: env:
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 38: EARTHENGINE_TOKEN: ${{ secrets.EARTHENGINE_TOKEN }}
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 39: - name: UNIT TESTS
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 40: run: |
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 41: pytest
2025-11-05 21:40:11,990 - utils.process_runner - DEBUG - 라인 42: mapping values are not allowed here
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 43: in "<file>", line 2, column 5
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 44: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_temp_phase1.yml
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_temp_phase1.yml
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 58: We have found 16 smells
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 59: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 60: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 61: - 12. Avoid workflows without comments
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 62: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 75: The following styling errors were found:
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 76: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:40:11,991 - utils.process_runner - DEBUG - 라인 77: 41:17: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:40:11,991 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:40:11,991 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:40:11,991 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:40:11,991 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:40:11,992 - main - DEBUG - 임시 파일 삭제: data_original/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_temp_phase1.yml
2025-11-05 21:40:11,992 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:40:11,992 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: unittests
        ^
2025-11-05 21:40:11,992 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:40:11,992 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:40:11,992 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c_two_phase_repaired.yml
2025-11-05 21:40:11,992 - __main__ - INFO - === 파일 16/100 2단계 복구 완료 ===
2025-11-05 21:40:11,992 - __main__ - ERROR - ❌ 실패 (30.74초): c1c0e4be03d4ce342a92742185c22f0b2ecc3d22833b2b14794c60ead997d10c
2025-11-05 21:40:11,992 - __main__ - INFO - [17/100] 처리 중: 0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 21:40:11,992 - __main__ - INFO - 입력 파일 경로: data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 21:40:11,993 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_two_phase_repaired.yml
2025-11-05 21:40:11,993 - __main__ - INFO - === 파일 17/100 2단계 복구 시작 ===
2025-11-05 21:40:11,993 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:40:11,993 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:40:11,993 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 21:40:11,993 - main - INFO - 파일 크기: 911 문자
2025-11-05 21:40:11,993 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:40:11,993 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:40:11,993 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:40:11,993 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 21:40:12,011 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:40:12,011 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:40:12,011 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:40:12,011 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:40:12,011 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 21:40:12,011 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:40:12,011 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:40:12,011 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:40:12,011 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:40:12,012 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:41:49,500 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1505
2025-11-05 21:41:49,503 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:41:49,503 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:41:49,504 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 914 문자
2025-11-05 21:41:49,504 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:41:49,504 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:41:49,505 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_temp_phase1.yml
2025-11-05 21:41:49,505 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:41:49,505 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_temp_phase1.yml
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Test

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  Cypress:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install dependencies
        uses: cypress-io/github-action@v2
        with:
          install-command: yarn --frozen-lockfile --silent
          # just perform install
          runTests: false

      - name: Lint
        run: yarn lint

      - name: Run e2e tests
        uses: cypress-io/github-action@v2
        with:
          build: yarn build --mode test
          command: yarn test:headless
          # we have already installed all dependencies above
          install: false
          # Cypress tests and config file are in "e2e" folder
          working-directory: e2e

      - name: Upload coverage
        uses: codecov/codecov-action@v2
        with:
          fail_ci_if_error: true
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 38)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 78
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 2: name: Test
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 6: branches: [main]
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 8: branches: [main]
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 11: Cypress:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 15: - name: Checkout
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 16: uses: actions/checkout@v2
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 18: - name: Install dependencies
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 19: uses: cypress-io/github-action@v2
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 21: install-command: yarn --frozen-lockfile --silent
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 22: # just perform install
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 23: runTests: false
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 25: - name: Lint
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 26: run: yarn lint
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 28: - name: Run e2e tests
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 29: uses: cypress-io/github-action@v2
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 30: with:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 31: build: yarn build --mode test
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 32: command: yarn test:headless
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 33: # we have already installed all dependencies above
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 34: install: false
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 35: # Cypress tests and config file are in "e2e" folder
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 36: working-directory: e2e
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 38: - name: Upload coverage
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 39: uses: codecov/codecov-action@v2
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 40: with:
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 41: fail_ci_if_error: true
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): fail_ci_if_error: true
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 42: mapping values are not allowed here
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 43: in "<file>", line 2, column 5
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 44: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_temp_phase1.yml
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_temp_phase1.yml
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,840 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 58: We have found 17 smells
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 59: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 60: - 8. Use commit hash instead of tags for action versions (line 38)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 38)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 61: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 62: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 63: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 76: The following styling errors were found:
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 라인 77: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:41:49,841 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:41:49,841 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:41:49,841 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:41:49,841 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:41:49,841 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:41:49,842 - main - DEBUG - 임시 파일 삭제: data_original/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_temp_phase1.yml
2025-11-05 21:41:49,842 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:41:49,842 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Test
        ^
2025-11-05 21:41:49,842 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:41:49,842 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:41:49,842 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d_two_phase_repaired.yml
2025-11-05 21:41:49,843 - __main__ - INFO - === 파일 17/100 2단계 복구 완료 ===
2025-11-05 21:41:49,843 - __main__ - ERROR - ❌ 실패 (97.85초): 0857cc208371bbefbc2e4220bf7f6aac647c4c6b74a45c34011d31683ded243d
2025-11-05 21:41:49,843 - __main__ - INFO - [18/100] 처리 중: 04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 21:41:49,843 - __main__ - INFO - 입력 파일 경로: data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 21:41:49,843 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_two_phase_repaired.yml
2025-11-05 21:41:49,843 - __main__ - INFO - === 파일 18/100 2단계 복구 시작 ===
2025-11-05 21:41:49,843 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:41:49,843 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:41:49,843 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 21:41:49,843 - main - INFO - 파일 크기: 10471 문자
2025-11-05 21:41:49,843 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:41:49,843 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:41:49,843 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:41:49,844 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 21:41:49,850 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 21:41:49,850 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:41:49,850 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:41:49,850 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:41:49,850 - main - INFO -   오류 1: "with" section is scalar node but mapping node is expected
2025-11-05 21:41:49,850 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:41:49,850 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:41:49,850 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:41:49,850 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:41:49,851 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:43:54,152 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:43:54,156 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:43:54,157 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:43:54,157 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7518 문자
2025-11-05 21:43:54,157 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:43:54,157 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:43:54,159 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_temp_phase1.yml
2025-11-05 21:43:54,159 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:43:54,159 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_temp_phase1.yml
2025-11-05 21:43:54,753 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.59초)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_temp_phase1.yml
We have found 52 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 3. Use fixed version for runs-on argument (line 99)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 144)
	- 6. Define permissions for workflows with external actions (job at line: 202)
	- 6. Define permissions for workflows with external actions (job at line: 71)
	- 6. Define permissions for workflows with external actions (job at line: 166)
	- 6. Define permissions for workflows with external actions (job at line: 12)
	- 6. Define permissions for workflows with external actions (job at line: 24)
	- 6. Define permissions for workflows with external actions (job at line: 221)
	- 6. Define permissions for workflows with external actions (job at line: 98)
	- 6. Define permissions for workflows with external actions (job at line: 132)
	- 6. Define permissions for workflows with external actions (job at line: 50)
	- 6. Define permissions for workflows with external actions (job at line: 183)
	- 7. Use 'if' for upload-artifact action (line 124)
	- 8. Use commit hash instead of tags for action versions (line 189)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 123)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 170)
	- 8. Use commit hash instead of tags for action versions (line 149)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 166)
	- 10. Avoid jobs without timeouts (line: 71)
	- 10. Avoid jobs without timeouts (line: 12)
	- 10. Avoid jobs without timeouts (line: 202)
	- 10. Avoid jobs without timeouts (line: 50)
	- 10. Avoid jobs without timeouts (line: 98)
	- 10. Avoid jobs without timeouts (line: 132)
	- 10. Avoid jobs without timeouts (line: 24)
	- 10. Avoid jobs without timeouts (line: 221)
	- 10. Avoid jobs without timeouts (line: 144)
	- 10. Avoid jobs without timeouts (line: 183)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines 16:16)
	- 13. Use names for run steps (lines 18:18)
	- 13. Use names for run steps (lines 34:39)
	- 13. Use names for run steps (lines 34:37)
	- 13. Use names for run steps (lines 58:58)
	- 13. Use names for run steps (lines -1:46)
	- 13. Use names for run steps (lines -1:171)
	- 13. Use names for run steps (lines 34:41)
	- 13. Use names for run steps (lines 34:35)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: integration_test_ios)
	- 19. Run tests on multiple OS's (job: integration_test_android)
	- 19. Run tests on multiple OS's (job: test_generator)
	- 20. Run CI on multiple language versions (job: integration_test_android)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
238:46: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 57
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_temp_phase1.yml
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_temp_phase1.yml
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 2: We have found 52 smells
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 52 smells
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 99)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 99)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 6: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 144)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 144)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 202)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 202)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 9: - 6. Define permissions for workflows with external actions (job at line: 71)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 71)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 10: - 6. Define permissions for workflows with external actions (job at line: 166)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 166)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 11: - 6. Define permissions for workflows with external actions (job at line: 12)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 12)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 12: - 6. Define permissions for workflows with external actions (job at line: 24)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 24)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 13: - 6. Define permissions for workflows with external actions (job at line: 221)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 221)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 14: - 6. Define permissions for workflows with external actions (job at line: 98)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 98)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 15: - 6. Define permissions for workflows with external actions (job at line: 132)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 132)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 16: - 6. Define permissions for workflows with external actions (job at line: 50)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 50)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 17: - 6. Define permissions for workflows with external actions (job at line: 183)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 183)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 18: - 7. Use 'if' for upload-artifact action (line 124)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 124)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 19: - 8. Use commit hash instead of tags for action versions (line 189)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 189)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 20: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 21: - 8. Use commit hash instead of tags for action versions (line 123)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 123)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 22: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 23: - 8. Use commit hash instead of tags for action versions (line 170)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 170)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 24: - 8. Use commit hash instead of tags for action versions (line 149)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 149)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 25: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 26: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 27: - 10. Avoid jobs without timeouts (line: 166)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 166)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 28: - 10. Avoid jobs without timeouts (line: 71)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 71)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 라인 29: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 21:43:54,754 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 30: - 10. Avoid jobs without timeouts (line: 202)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 202)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 31: - 10. Avoid jobs without timeouts (line: 50)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 50)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 32: - 10. Avoid jobs without timeouts (line: 98)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 98)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 33: - 10. Avoid jobs without timeouts (line: 132)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 132)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 34: - 10. Avoid jobs without timeouts (line: 24)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 24)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 35: - 10. Avoid jobs without timeouts (line: 221)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 221)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 36: - 10. Avoid jobs without timeouts (line: 144)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 144)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 37: - 10. Avoid jobs without timeouts (line: 183)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 183)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 38: - 12. Avoid workflows without comments
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 39: - 13. Use names for run steps (lines 16:16)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 16:16)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 40: - 13. Use names for run steps (lines 18:18)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 18:18)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 41: - 13. Use names for run steps (lines 34:39)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:39)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 42: - 13. Use names for run steps (lines 34:37)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:37)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 43: - 13. Use names for run steps (lines 58:58)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 58:58)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 44: - 13. Use names for run steps (lines -1:46)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:46)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 45: - 13. Use names for run steps (lines -1:171)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:171)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 46: - 13. Use names for run steps (lines 34:41)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:41)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 47: - 13. Use names for run steps (lines 34:35)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 34:35)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 48: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 49: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 50: - 19. Run tests on multiple OS's (job: integration_test_ios)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: integration_test_ios)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 51: - 19. Run tests on multiple OS's (job: integration_test_android)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: integration_test_android)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 52: - 19. Run tests on multiple OS's (job: test_generator)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test_generator)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 53: - 20. Run CI on multiple language versions (job: integration_test_android)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: integration_test_android)
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 54: - 22. Avoid deploying jobs on forks
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 55: The following styling errors were found:
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:43:54,755 - utils.process_runner - DEBUG - 라인 56: 238:46: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:43:54,755 - utils.process_runner - INFO - 총 14개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:43:54,755 - utils.process_runner - INFO - Smell detector 실행 완료: 14개 스멜 발견
2025-11-05 21:43:54,755 - main - INFO - 스멜 14개 발견
2025-11-05 21:43:54,755 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 21:43:54,755 - main - INFO -   스멜 2: Stop running workflows when there is a newer commit in PR
2025-11-05 21:43:54,755 - main - INFO -   스멜 3: Avoid jobs without timeouts (line: 166)
2025-11-05 21:43:54,755 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:43:54,755 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:43:54,755 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:43:54,755 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:43:54,757 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:45:32,376 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:45:32,378 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:45:32,379 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:45:32,380 - main - INFO - Phase 2 완료, 최종 YAML 크기: 8507 문자
2025-11-05 21:45:32,380 - main - DEBUG - 임시 파일 삭제: data_original/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_temp_phase1.yml
2025-11-05 21:45:32,381 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:45:32,381 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Dart CI
        ^
2025-11-05 21:45:32,381 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:45:32,381 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:45:32,383 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf_two_phase_repaired.yml
2025-11-05 21:45:32,383 - __main__ - INFO - === 파일 18/100 2단계 복구 완료 ===
2025-11-05 21:45:32,383 - __main__ - ERROR - ❌ 실패 (222.54초): 04c3b5460edf81823ebd7d932ed2ded3dfe3ec017bfc5b0e2eb08aa0a89986bf
2025-11-05 21:45:32,383 - __main__ - INFO - [19/100] 처리 중: 7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 21:45:32,384 - __main__ - INFO - 입력 파일 경로: data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 21:45:32,384 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_two_phase_repaired.yml
2025-11-05 21:45:32,384 - __main__ - INFO - === 파일 19/100 2단계 복구 시작 ===
2025-11-05 21:45:32,384 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:45:32,384 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:45:32,385 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 21:45:32,385 - main - INFO - 파일 크기: 1860 문자
2025-11-05 21:45:32,385 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:45:32,385 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:45:32,385 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:45:32,386 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319
2025-11-05 21:45:32,415 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:45:32,416 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:45:32,416 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:45:32,416 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:45:32,416 - main - INFO -   오류 1: unexpected key "inputs" for "step" section. expected one of "continue-on-error", "env", "id", "if", "name", "run", "shell", "timeout-minutes", "uses", "with", "working-directory"
2025-11-05 21:45:32,416 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:45:32,416 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:45:32,416 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:45:32,416 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:45:32,418 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:47:17,175 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:47:17,178 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:47:17,179 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:47:17,179 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1856 문자
2025-11-05 21:47:17,179 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:47:17,179 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:47:17,180 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_temp_phase1.yml
2025-11-05 21:47:17,181 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:47:17,181 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_temp_phase1.yml
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_temp_phase1.yml
We have found 6 smells
	- 6. Define permissions for workflows with external actions (job at line: 17)
	- 8. Use commit hash instead of tags for action versions (line 55)
	- 10. Avoid jobs without timeouts (line: 17)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
70:49: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 11
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_temp_phase1.yml
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_temp_phase1.yml
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 2: We have found 6 smells
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 6 smells
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 3: - 6. Define permissions for workflows with external actions (job at line: 17)
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 17)
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 4: - 8. Use commit hash instead of tags for action versions (line 55)
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 55)
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 5: - 10. Avoid jobs without timeouts (line: 17)
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 17)
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 6: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 7: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 21:47:17,688 - utils.process_runner - DEBUG - 라인 8: - 22. Avoid deploying jobs on forks
2025-11-05 21:47:17,689 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:47:17,689 - utils.process_runner - DEBUG - 라인 9: The following styling errors were found:
2025-11-05 21:47:17,689 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:47:17,689 - utils.process_runner - DEBUG - 라인 10: 70:49: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:47:17,689 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:47:17,689 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 21:47:17,689 - main - INFO - 스멜 2개 발견
2025-11-05 21:47:17,689 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 17)
2025-11-05 21:47:17,689 - main - INFO -   스멜 2: Avoid running CI related actions when no source code has changed
2025-11-05 21:47:17,689 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:47:17,689 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:47:17,689 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:47:17,689 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:47:17,690 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:49:27,839 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:49:27,842 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:49:27,843 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:49:27,844 - main - INFO - Phase 2 완료, 최종 YAML 크기: 2120 문자
2025-11-05 21:49:27,844 - main - DEBUG - 임시 파일 삭제: data_original/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_temp_phase1.yml
2025-11-05 21:49:27,844 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:49:27,856 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'ci', 'on': {'workflow_dispatch': {'inputs': {'language': {'description': 'Select a programming language', 'required': True, 'default': 'cpp'}, 'os': {'description': 'Select an operating system', 'required': True, 'default': 'macos-latest'}}}, 'push': {'branches': ['main']}, 'pull_request': {'branches': ['main']}}, 'concurrency': {'group': '${{ github.head_ref || github.run_id }}', 'cancel-in-progress': True}, 'jobs': {'scheduled-ci': {'name': 'Scheduled CI', 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'Checkout repository', 'uses': 'actions/checkout@v3'}, {'name': 'Setup Dependencies', 'uses': './.github/actions/setup-dependencies'}, {'name': 'Run scheduled CI tasks', 'run': '# Add your scheduled CI tasks here, e.g., running a script or a command\necho "Scheduled CI tasks are not implemented yet"'}]}}}
2025-11-05 21:49:27,856 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_two_phase_repaired.yml
2025-11-05 21:49:27,856 - main - INFO - 2단계 모드 복구 완료
2025-11-05 21:49:27,856 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_two_phase_repaired.yml
2025-11-05 21:49:27,856 - __main__ - INFO - === 파일 19/100 2단계 복구 완료 ===
2025-11-05 21:49:27,856 - __main__ - INFO - ✅ 성공 (235.47초): 7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319 -> 7a3696ef9f9da7c550829e65672f6109314cd961fab4c356b82ca02039697319_two_phase_repaired.yml
2025-11-05 21:49:27,856 - __main__ - INFO - [20/100] 처리 중: 650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 21:49:27,856 - __main__ - INFO - 입력 파일 경로: data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 21:49:27,857 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_two_phase_repaired.yml
2025-11-05 21:49:27,857 - __main__ - INFO - === 파일 20/100 2단계 복구 시작 ===
2025-11-05 21:49:27,857 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:49:27,857 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:49:27,857 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 21:49:27,857 - main - INFO - 파일 크기: 717 문자
2025-11-05 21:49:27,857 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:49:27,857 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:49:27,857 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:49:27,858 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 21:49:27,889 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 21:49:27,889 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:49:27,889 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:49:27,889 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:49:27,889 - main - INFO -   오류 1: could not parse as YAML: yaml: line 2: mapping values are not allowed in this context
2025-11-05 21:49:27,889 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:49:27,889 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:49:27,889 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:49:27,889 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:49:27,890 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:50:01,598 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1437
2025-11-05 21:50:01,598 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:50:01,599 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:50:01,599 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 714 문자
2025-11-05 21:50:01,599 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:50:01,600 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:50:01,600 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_temp_phase1.yml
2025-11-05 21:50:01,600 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:50:01,600 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_temp_phase1.yml
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.34초)
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Deploy
on:
  push:
    branches:
      - master
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '16'
      - name: Install pnpm
        run: npm i -g pnpm
      - name: Install & Build
        run: |
          pnpm install
          pnpm run docs:build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: 'docs/.vitepress/dist'
          # cname: example.com # if wanna deploy to custom domain
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 8)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 67
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 2: name: Deploy
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 6: - master
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 8: deploy:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-latest
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 10: steps:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 11: - name: Checkout code
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 12: uses: actions/checkout@v3
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 13: with:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 14: fetch-depth: 0
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 15: - name: Setup Node.js
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 16: uses: actions/setup-node@v3
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 18: node-version: '16'
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 19: - name: Install pnpm
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 20: run: npm i -g pnpm
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 21: - name: Install & Build
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 22: run: |
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 23: pnpm install
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 24: pnpm run docs:build
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 25: - name: Deploy
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 26: uses: peaceiris/actions-gh-pages@v3
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 27: with:
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 28: github_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 29: publish_dir: 'docs/.vitepress/dist'
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 30: # cname: example.com # if wanna deploy to custom domain
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 31: mapping values are not allowed here
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 32: in "<file>", line 2, column 5
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 라인 33: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_temp_phase1.yml
2025-11-05 21:50:01,939 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_temp_phase1.yml
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 47: We have found 17 smells
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 48: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 49: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 50: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 51: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 52: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 65: The following styling errors were found:
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 라인 66: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:50:01,940 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:50:01,940 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:50:01,940 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:50:01,940 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:50:01,940 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:50:01,940 - main - DEBUG - 임시 파일 삭제: data_original/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_temp_phase1.yml
2025-11-05 21:50:01,940 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:50:01,941 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Deploy
        ^
2025-11-05 21:50:01,941 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:50:01,941 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:50:01,941 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a_two_phase_repaired.yml
2025-11-05 21:50:01,941 - __main__ - INFO - === 파일 20/100 2단계 복구 완료 ===
2025-11-05 21:50:01,941 - __main__ - ERROR - ❌ 실패 (34.08초): 650df84b099666e3bc0d059f3a2492c42f2418652f3ff74a99766d7a045d3d4a
2025-11-05 21:50:01,941 - __main__ - INFO - [21/100] 처리 중: 2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 21:50:01,941 - __main__ - INFO - 입력 파일 경로: data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 21:50:01,941 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_two_phase_repaired.yml
2025-11-05 21:50:01,941 - __main__ - INFO - === 파일 21/100 2단계 복구 시작 ===
2025-11-05 21:50:01,941 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:50:01,941 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:50:01,942 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 21:50:01,942 - main - INFO - 파일 크기: 986 문자
2025-11-05 21:50:01,942 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:50:01,942 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:50:01,942 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:50:01,942 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 21:50:01,948 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 21:50:01,948 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:50:01,948 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:50:01,948 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:50:01,948 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 21:50:01,948 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:50:01,948 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:50:01,949 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:50:01,949 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:50:01,949 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:51:11,062 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1591
2025-11-05 21:51:11,065 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:51:11,066 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:51:11,066 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 985 문자
2025-11-05 21:51:11,066 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:51:11,066 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:51:11,067 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_temp_phase1.yml
2025-11-05 21:51:11,067 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:51:11,067 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_temp_phase1.yml
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_temp_phase1.yml
We have found 14 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 6. Define permissions for workflows with external actions (job at line: 8)
	- 7. Use 'if' for upload-artifact action (line 43)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 8)
	- 13. Use names for run steps (lines -1:43)
	- 13. Use names for run steps (lines -1:-1)
	- 13. Use names for run steps (lines -1:17)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
17:5: wrong indentation: expected 6 but found 4 (indentation)
45:52: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 20
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_temp_phase1.yml
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_temp_phase1.yml
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 2: We have found 14 smells
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 8)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 8)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 5: - 7. Use 'if' for upload-artifact action (line 43)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 43)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 9: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 10: - 10. Avoid jobs without timeouts (line: 8)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 8)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:43)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:43)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines -1:-1)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:-1)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines -1:17)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:17)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 14: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 15: - 19. Run tests on multiple OS's (job: build)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 16: - 22. Avoid deploying jobs on forks
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 17: The following styling errors were found:
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 18: 17:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 21:51:11,533 - utils.process_runner - DEBUG - 라인 19: 45:52: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:51:11,533 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:51:11,533 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 21:51:11,534 - main - INFO - 스멜 1개 발견
2025-11-05 21:51:11,534 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 8)
2025-11-05 21:51:11,534 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:51:11,534 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:51:11,534 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:51:11,534 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:51:11,535 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:52:46,835 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:52:46,839 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:52:46,841 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:52:46,841 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1127 문자
2025-11-05 21:52:46,842 - main - DEBUG - 임시 파일 삭제: data_original/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_temp_phase1.yml
2025-11-05 21:52:46,842 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:52:46,843 - utils.yaml_parser - DEBUG - YAML 문법 오류: expected '<document start>', but found '<block mapping start>'
  in "<unicode string>", line 4, column 1:
    name: Node CI
    ^
2025-11-05 21:52:46,843 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:52:46,843 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:52:46,844 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e_two_phase_repaired.yml
2025-11-05 21:52:46,844 - __main__ - INFO - === 파일 21/100 2단계 복구 완료 ===
2025-11-05 21:52:46,844 - __main__ - ERROR - ❌ 실패 (164.90초): 2a3390951b4141affd15e532f4025c780f9205e852e4b0b2b49dc8813009b23e
2025-11-05 21:52:46,845 - __main__ - INFO - [22/100] 처리 중: cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 21:52:46,845 - __main__ - INFO - 입력 파일 경로: data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 21:52:46,845 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_two_phase_repaired.yml
2025-11-05 21:52:46,845 - __main__ - INFO - === 파일 22/100 2단계 복구 시작 ===
2025-11-05 21:52:46,845 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:52:46,845 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:52:46,846 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 21:52:46,846 - main - INFO - 파일 크기: 1142 문자
2025-11-05 21:52:46,846 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:52:46,846 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:52:46,846 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:52:46,846 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 21:52:46,855 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 21:52:46,856 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:52:46,856 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:52:46,856 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:52:46,856 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 21:52:46,856 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:52:46,856 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:52:46,856 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:52:46,856 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:52:46,858 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:54:21,567 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1809
2025-11-05 21:54:21,572 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:54:21,573 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:54:21,573 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 185 문자
2025-11-05 21:54:21,573 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:54:21,573 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:54:21,574 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_temp_phase1.yml
2025-11-05 21:54:21,574 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:54:21,574 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_temp_phase1.yml
2025-11-05 21:54:21,911 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.34초)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'jobs'
YAML parsing error in pull_based_actions_on_fork: 'jobs'
YAML parsing error in action_should_have_timeout: 'jobs'
YAML parsing error in use_name_for_step: 'jobs'
YAML parsing error in use_name_for_step: 'jobs'
YAML parsing error in stop_workflows_for_old_commit: 'on'
YAML parsing error in upload_artifact_must_have_if: 'jobs'
YAML parsing error in multi_line_steps: 'jobs'
YAML parsing error in deploy_from_fork: 'jobs'
YAML parsing error in run_multiple_versions: 'jobs'
YAML parsing error in installing_packages_without_version: 'jobs'
YAML parsing error in use_cache_from_setup: 'jobs'
We have found 13 smells
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
1:186: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 30
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_temp_phase1.yml
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_temp_phase1.yml
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 2: YAML parsing error in external_actions_must_have_permissions_workflow: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 3: YAML parsing error in pull_based_actions_on_fork: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 4: YAML parsing error in action_should_have_timeout: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 5: YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 6: YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in stop_workflows_for_old_commit: 'on'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'on'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in upload_artifact_must_have_if: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in multi_line_steps: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 10: YAML parsing error in deploy_from_fork: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 11: YAML parsing error in run_multiple_versions: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 12: YAML parsing error in installing_packages_without_version: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 13: YAML parsing error in use_cache_from_setup: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'jobs'
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 14: We have found 13 smells
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 15: - 12. Avoid workflows without comments
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 16: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 17: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 18: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 19: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 20: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 21: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 22: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 24: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 25: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 26: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 28: The following styling errors were found:
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:54:21,912 - utils.process_runner - DEBUG - 라인 29: 1:186: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:54:21,912 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:54:21,912 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 11개 발견됨
2025-11-05 21:54:21,912 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:54:21,912 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:54:21,913 - main - DEBUG - 임시 파일 삭제: data_original/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_temp_phase1.yml
2025-11-05 21:54:21,913 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:54:21,913 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'The syntax error was in the `python-version` field where a sequence node (`!!seq`) was expected instead of a scalar node. The corrected YAML workflow fixes this by changing the line to': None}
2025-11-05 21:54:21,913 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:54:21,913 - main - ERROR - 검증 오류: ['Missing required field: on', 'Missing required field: jobs', 'No valid jobs found']
2025-11-05 21:54:21,914 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6_two_phase_repaired.yml
2025-11-05 21:54:21,914 - __main__ - INFO - === 파일 22/100 2단계 복구 완료 ===
2025-11-05 21:54:21,914 - __main__ - ERROR - ❌ 실패 (95.07초): cf4ef4b007f79bfcdd9e26573047ba9ca56ceb220825f7f493688d5157182ea6
2025-11-05 21:54:21,914 - __main__ - INFO - [23/100] 처리 중: e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 21:54:21,914 - __main__ - INFO - 입력 파일 경로: data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 21:54:21,914 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_two_phase_repaired.yml
2025-11-05 21:54:21,914 - __main__ - INFO - === 파일 23/100 2단계 복구 시작 ===
2025-11-05 21:54:21,914 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:54:21,914 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:54:21,915 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 21:54:21,915 - main - INFO - 파일 크기: 1633 문자
2025-11-05 21:54:21,915 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:54:21,915 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:54:21,915 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:54:21,915 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 21:54:21,932 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 21:54:21,932 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:54:21,932 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:54:21,932 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:54:21,932 - main - INFO -   오류 1: unexpected key "evn" for "step" section. expected one of "continue-on-error", "env", "id", "if", "name", "run", "shell", "timeout-minutes", "uses", "with", "working-directory"
2025-11-05 21:54:21,932 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:54:21,932 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:54:21,932 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:54:21,932 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:54:21,933 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:55:48,313 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:55:48,317 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:55:48,319 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:55:48,319 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1632 문자
2025-11-05 21:55:48,319 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:55:48,319 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:55:48,320 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_temp_phase1.yml
2025-11-05 21:55:48,320 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:55:48,321 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_temp_phase1.yml
2025-11-05 21:55:48,680 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.36초)
2025-11-05 21:55:48,680 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_temp_phase1.yml
We have found 11 smells
	- 2. Prevent running issue/PR actions on forks line -1:36
	- 3. Use fixed version for runs-on argument (line 11)
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 11)
	- 13. Use names for run steps (lines 18:18)
	- 14. Avoid incorrectly formatted workflows
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
18:5: wrong indentation: expected 6 but found 4 (indentation)
49:11: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:55:48,680 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:55:48,680 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:55:48,680 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 17
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_temp_phase1.yml
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_temp_phase1.yml
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 2: We have found 11 smells
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 11 smells
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line -1:36
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:36
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines 18:18)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 18:18)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 11: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 12: - 18. Avoid installing packages without version (line -1)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 13: - 22. Avoid deploying jobs on forks
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 14: The following styling errors were found:
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 15: 18:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 21:55:48,681 - utils.process_runner - DEBUG - 라인 16: 49:11: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:55:48,681 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:55:48,681 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 21:55:48,681 - main - INFO - 스멜 1개 발견
2025-11-05 21:55:48,681 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 11)
2025-11-05 21:55:48,681 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:55:48,681 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:55:48,681 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:55:48,681 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:55:48,682 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:57:48,891 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:57:48,895 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:57:48,896 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 21:57:48,897 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1767 문자
2025-11-05 21:57:48,897 - main - DEBUG - 임시 파일 삭제: data_original/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_temp_phase1.yml
2025-11-05 21:57:48,897 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:57:48,898 - utils.yaml_parser - DEBUG - YAML 문법 오류: expected '<document start>', but found '<block mapping start>'
  in "<unicode string>", line 5, column 1:
    name: Build
    ^
2025-11-05 21:57:48,898 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:57:48,898 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:57:48,899 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6_two_phase_repaired.yml
2025-11-05 21:57:48,899 - __main__ - INFO - === 파일 23/100 2단계 복구 완료 ===
2025-11-05 21:57:48,899 - __main__ - ERROR - ❌ 실패 (206.98초): e26f0a9f370f0c0a194eebdec1be57ead739237adc08fc60b71c5566627623f6
2025-11-05 21:57:48,899 - __main__ - INFO - [24/100] 처리 중: f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 21:57:48,899 - __main__ - INFO - 입력 파일 경로: data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 21:57:48,900 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_two_phase_repaired.yml
2025-11-05 21:57:48,900 - __main__ - INFO - === 파일 24/100 2단계 복구 시작 ===
2025-11-05 21:57:48,900 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:57:48,900 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:57:48,900 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 21:57:48,900 - main - INFO - 파일 크기: 533 문자
2025-11-05 21:57:48,900 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:57:48,900 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:57:48,901 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:57:48,901 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 21:57:48,909 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 21:57:48,909 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:57:48,909 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:57:48,909 - main - INFO - actionlint 오류 1개 발견
2025-11-05 21:57:48,909 - main - INFO -   오류 1: could not parse as YAML: yaml: line 20: did not find expected key
2025-11-05 21:57:48,909 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:57:48,910 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:57:48,910 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:57:48,910 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:57:48,911 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:58:16,714 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1143
2025-11-05 21:58:16,717 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:58:16,718 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:58:16,719 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 532 문자
2025-11-05 21:58:16,719 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:58:16,719 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:58:16,720 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_temp_phase1.yml
2025-11-05 21:58:16,720 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:58:16,720 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_temp_phase1.yml
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Black code formatting

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Black
        uses: psf/black@stable

      - name: Commit
        run: |
          git add dist/*
          git config --local user.email "42198152+github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          git commit -m "Black code changes"
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 61
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 라인 2: name: Black code formatting
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 21:58:17,037 - utils.process_runner - DEBUG - 라인 6: branches: [ main ]
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 8: branches: [ main ]
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 11: lint:
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 14: - name: Checkout
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 15: uses: actions/checkout@v2
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 17: - name: Black
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 18: uses: psf/black@stable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 20: - name: Commit
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 21: run: |
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 22: git add dist/*
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 23: git config --local user.email "42198152+github-actions[bot]@users.noreply.github.com"
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 24: git config --local user.name "github-actions[bot]"
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 25: git commit -m "Black code changes"
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 26: mapping values are not allowed here
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 27: in "<file>", line 2, column 5
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 28: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_temp_phase1.yml
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_temp_phase1.yml
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 42: We have found 16 smells
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 43: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 44: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 45: - 12. Avoid workflows without comments
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 46: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 59: The following styling errors were found:
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 라인 60: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:58:17,038 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 21:58:17,038 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:58:17,038 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 21:58:17,038 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 21:58:17,038 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 21:58:17,039 - main - DEBUG - 임시 파일 삭제: data_original/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_temp_phase1.yml
2025-11-05 21:58:17,039 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 21:58:17,039 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Black code formatting
        ^
2025-11-05 21:58:17,039 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 21:58:17,039 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 21:58:17,039 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e_two_phase_repaired.yml
2025-11-05 21:58:17,039 - __main__ - INFO - === 파일 24/100 2단계 복구 완료 ===
2025-11-05 21:58:17,039 - __main__ - ERROR - ❌ 실패 (28.14초): f6274d56fb76746ec9fed9856b13313180da3e4bf88158586aba0cf9b4dedb6e
2025-11-05 21:58:17,039 - __main__ - INFO - [25/100] 처리 중: 28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 21:58:17,039 - __main__ - INFO - 입력 파일 경로: data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 21:58:17,039 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_two_phase_repaired.yml
2025-11-05 21:58:17,039 - __main__ - INFO - === 파일 25/100 2단계 복구 시작 ===
2025-11-05 21:58:17,040 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 21:58:17,040 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 21:58:17,040 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 21:58:17,040 - main - INFO - 파일 크기: 1297 문자
2025-11-05 21:58:17,040 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 21:58:17,040 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 21:58:17,040 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 21:58:17,040 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21
2025-11-05 21:58:17,045 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 21:58:17,046 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 21:58:17,046 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 21:58:17,046 - main - INFO - actionlint 오류 3개 발견
2025-11-05 21:58:17,046 - main - INFO -   오류 1: unexpected key "pull_request" for "push" section. expected one of "branches", "branches-ignore", "paths", "paths-ignore", "tags", "tags-ignore", "types", "workflows"
2025-11-05 21:58:17,046 - main - INFO -   오류 2: expected scalar node for string value but found mapping node with "!!map" tag
2025-11-05 21:58:17,046 - main - INFO -   오류 3: unexpected end of input while parsing variable access, function call, null, bool, int, float or string. expecting "IDENT", "(", "INTEGER", "FLOAT", "STRING"
2025-11-05 21:58:17,046 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 21:58:17,046 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 21:58:17,046 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:58:17,046 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:58:17,047 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 21:58:47,977 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 21:58:47,979 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 21:58:47,980 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 21:58:47,981 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1265 문자
2025-11-05 21:58:47,981 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 21:58:47,981 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 21:58:47,982 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_temp_phase1.yml
2025-11-05 21:58:47,982 - main - INFO - 7단계: smell detection 실행
2025-11-05 21:58:47,982 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_temp_phase1.yml
2025-11-05 21:58:48,269 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.29초)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_temp_phase1.yml
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 12)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 12)
	- 13. Use names for run steps (lines 30:30)
	- 13. Use names for run steps (lines 29:29)
	- 13. Use names for run steps (lines 28:28)
	- 13. Use names for run steps (lines 21:21)
	- 13. Use names for run steps (lines 27:27)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
35:28: too few spaces before comment: expected 2 (comments)
37:82: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 23
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_temp_phase1.yml
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_temp_phase1.yml
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 2: We have found 17 smells
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 12)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 12)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 9: - 9. Steps should only perform a single command (line -1)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 10: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines 30:30)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 30:30)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines 29:29)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 29:29)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 13: - 13. Use names for run steps (lines 28:28)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 28:28)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 14: - 13. Use names for run steps (lines 21:21)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 21:21)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 15: - 13. Use names for run steps (lines 27:27)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 27:27)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 16: - 14. Avoid incorrectly formatted workflows
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 17: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 18: - 19. Run tests on multiple OS's (job: build)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 19: - 22. Avoid deploying jobs on forks
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 20: The following styling errors were found:
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 21: 35:28: too few spaces before comment: expected 2 (comments)
2025-11-05 21:58:48,270 - utils.process_runner - DEBUG - 라인 22: 37:82: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 21:58:48,270 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 21:58:48,270 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 21:58:48,270 - main - INFO - 스멜 3개 발견
2025-11-05 21:58:48,270 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 21:58:48,270 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 12)
2025-11-05 21:58:48,270 - main - INFO -   스멜 3: Avoid running CI related actions when no source code has changed
2025-11-05 21:58:48,270 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 21:58:48,270 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 21:58:48,270 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 21:58:48,271 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 21:58:48,271 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:01:30,916 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:01:30,920 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:01:30,921 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 22:01:30,921 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1623 문자
2025-11-05 22:01:30,922 - main - DEBUG - 임시 파일 삭제: data_original/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_temp_phase1.yml
2025-11-05 22:01:30,922 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:01:30,929 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Node.js CI', 'on': {'push': {'branches': ['master']}}, 'jobs': {'build': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 10, 'strategy': {'matrix': {'node-version': ['16.x']}}, 'steps': [{'uses': 'actions/checkout@v2', 'with': {'token': '${{ secrets.GITHUB_TOKEN }}'}}, {'name': 'Use Node.js ${{ matrix.node-version }}', 'uses': 'actions/setup-node@v2', 'with': {'node-version': '${{ matrix.node-version }}', 'cache': 'npm'}}, {'run': 'npm i'}, {'run': 'CI=\'\' && npm run build --if-present || echo "Build failed, skipping deployment"'}, {'run': 'touch ./build/.nojekyll'}, {'run': "sed -i 's|scran/scran|kana/scran/scran|g' ./build/scran/scran.js"}], 'deployment': {'needs': ['build'], 'runs-on': 'ubuntu-latest', 'steps': [{'name': 'GH Pages Deployment', 'uses': 'JamesIves/github-pages-deploy-action@4.1.3', 'with': {'branch': 'gh-pages', 'folder': './build', 'clean': True}}]}}}}
2025-11-05 22:01:30,930 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_two_phase_repaired.yml
2025-11-05 22:01:30,930 - main - INFO - 2단계 모드 복구 완료
2025-11-05 22:01:30,930 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_two_phase_repaired.yml
2025-11-05 22:01:30,930 - __main__ - INFO - === 파일 25/100 2단계 복구 완료 ===
2025-11-05 22:01:30,930 - __main__ - INFO - ✅ 성공 (193.89초): 28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21 -> 28d3d930b9ebc5fe7acbcaa9e1257b150d4ab485c2a0afb48e61511ac36f3d21_two_phase_repaired.yml
2025-11-05 22:01:30,930 - __main__ - INFO - [26/100] 처리 중: a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 22:01:30,930 - __main__ - INFO - 입력 파일 경로: data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 22:01:30,931 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_two_phase_repaired.yml
2025-11-05 22:01:30,931 - __main__ - INFO - === 파일 26/100 2단계 복구 시작 ===
2025-11-05 22:01:30,931 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:01:30,931 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:01:30,932 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 22:01:30,932 - main - INFO - 파일 크기: 818 문자
2025-11-05 22:01:30,932 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:01:30,932 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:01:30,932 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:01:30,932 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 22:01:30,941 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:01:30,941 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:01:30,941 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:01:30,941 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:01:30,941 - main - INFO -   오류 1: could not parse as YAML: yaml: line 27: mapping values are not allowed in this context
2025-11-05 22:01:30,941 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:01:30,941 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:01:30,942 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:01:30,942 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:01:30,943 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:02:09,968 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1400
2025-11-05 22:02:09,972 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:02:09,973 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:02:09,974 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 813 문자
2025-11-05 22:02:09,974 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:02:09,974 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:02:09,975 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_temp_phase1.yml
2025-11-05 22:02:09,975 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:02:09,975 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_temp_phase1.yml
2025-11-05 22:02:10,372 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.40초)
2025-11-05 22:02:10,372 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: JS - generate docs

on:
  # Runs on pushes targeting the default branch
  push:
    branches: ["main"]
    paths: [js]

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# Sets permissions of the GITHUB_TOKEN
permissions:
  contents: write
  id-token: write

jobs:
  makeDocs:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          ref: main
      - name: Generate docs
        working-directory: js
        run: |
          yarn
          yarn run build
          yarn run make-docs
      - name: Commit
        run: |
          git config --local user.email "invernizzi.l@gmail.com"
          git config --local user.name "Luca Invernizzi"
          git commit -m "Update docs" -a
          git push
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 19)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:02:10,372 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:02:10,372 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 72
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 2: name: JS - generate docs
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 5: # Runs on pushes targeting the default branch
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 6: push:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 7: branches: ["main"]
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 8: paths: [js]
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 10: # Allows you to run this workflow manually from the Actions tab
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 11: workflow_dispatch:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 13: # Sets permissions of the GITHUB_TOKEN
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 14: permissions:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 15: contents: write
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 16: id-token: write
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 18: jobs:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 19: makeDocs:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 20: runs-on: ubuntu-latest
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 21: steps:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 22: - name: Checkout
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 23: uses: actions/checkout@v4
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 24: with:
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 25: ref: main
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 26: - name: Generate docs
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 27: working-directory: js
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 28: run: |
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 29: yarn
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 30: yarn run build
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 31: yarn run make-docs
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 32: - name: Commit
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 33: run: |
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 34: git config --local user.email "invernizzi.l@gmail.com"
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 35: git config --local user.name "Luca Invernizzi"
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 36: git commit -m "Update docs" -a
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 37: git push
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 38: mapping values are not allowed here
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 39: in "<file>", line 2, column 5
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 40: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_temp_phase1.yml
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_temp_phase1.yml
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 54: We have found 15 smells
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 55: - 3. Use fixed version for runs-on argument (line 19)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 19)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 56: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 57: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:02:10,373 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:02:10,374 - utils.process_runner - DEBUG - 라인 70: The following styling errors were found:
2025-11-05 22:02:10,374 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:02:10,374 - utils.process_runner - DEBUG - 라인 71: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:02:10,374 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:02:10,374 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:02:10,374 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:02:10,374 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:02:10,374 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:02:10,374 - main - DEBUG - 임시 파일 삭제: data_original/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_temp_phase1.yml
2025-11-05 22:02:10,374 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:02:10,374 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: JS - generate docs
        ^
2025-11-05 22:02:10,374 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:02:10,374 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:02:10,375 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60_two_phase_repaired.yml
2025-11-05 22:02:10,375 - __main__ - INFO - === 파일 26/100 2단계 복구 완료 ===
2025-11-05 22:02:10,375 - __main__ - ERROR - ❌ 실패 (39.44초): a124def77a2cd5e0d503639071b5896ed50e97a4df3f31e3b3724274555bbc60
2025-11-05 22:02:10,375 - __main__ - INFO - [27/100] 처리 중: 1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 22:02:10,375 - __main__ - INFO - 입력 파일 경로: data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 22:02:10,375 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_two_phase_repaired.yml
2025-11-05 22:02:10,375 - __main__ - INFO - === 파일 27/100 2단계 복구 시작 ===
2025-11-05 22:02:10,375 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:02:10,375 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:02:10,375 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 22:02:10,375 - main - INFO - 파일 크기: 2132 문자
2025-11-05 22:02:10,375 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:02:10,375 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:02:10,376 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:02:10,376 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 22:02:10,392 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:02:10,392 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:02:10,392 - main - INFO - actionlint에서 6개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:02:10,392 - main - INFO - actionlint 오류 6개 발견
2025-11-05 22:02:10,392 - main - INFO -   오류 1: unexpected key "inputs" for "workflow" section. expected one of "concurrency", "defaults", "env", "jobs", "name", "on", "permissions", "run-name"
2025-11-05 22:02:10,392 - main - INFO -   오류 2: property "version" is not defined in object type {}
2025-11-05 22:02:10,392 - main - INFO -   오류 3: property "changelog" is not defined in object type {}
2025-11-05 22:02:10,392 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:02:10,392 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:02:10,392 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:02:10,392 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:02:10,393 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:02:43,805 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:02:43,807 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:02:43,807 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:02:43,808 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2183 문자
2025-11-05 22:02:43,808 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:02:43,808 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:02:43,809 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_temp_phase1.yml
2025-11-05 22:02:43,809 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:02:43,809 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_temp_phase1.yml
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.30초)
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Release

on:
  workflow_dispatch:
    inputs:
      version:
        description: Version Number
        required: true
      release:
        description: Make Release
        required: false
        default: false
      changelog:
        description: Update Changelog
        required: false
        default: false

jobs:
  release:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
          ref: dev
          token: ${{ secrets.GH_TOKEN }}

      - name: Setup Python
        uses: actions/setup-python@v3
        with:
          python-version: 3.9

      - name: Setup Poetry
        uses: abatilo/actions-poetry@v2.1.4
        with:
          poetry-version: 1.1.11

      - name: Extract Release Notes
        run: |
          python ./extract-release-notes.py v${{ inputs.version }}

      - name: Config Git Username
        run: |
          git config user.name github-actions
          git config user.email github-actions@github.com

      - name: Update Changelog
        if: ${{ inputs.changelog }}
        run: |
          git add .
          git diff-index --quiet HEAD || git commit -m ":memo: update changelog"
          git push

      - name: Release to Public
        if: ${{ inputs.release }}
        run: |
          poetry config pypi-token.pypi ${{ secrets.PYPI_TOKEN }}
          poetry version ${{ inputs.version }}
          poetry publish --build
          git add .
          git diff-index --quiet HEAD || git commit -m ":sparkles: ${{ inputs.version }}"
          git push
          gh release create "v${{ inputs.version }}" dist/* --notes-file ./release-notes.md --title "✨ v${{ inputs.version }}"
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Upload Build Artifacts
        if: ${{ inputs.release }}
        uses: actions/upload-artifact@v3
        with:
          name: artifacts
          path: dist/

      - name: Merge to Master
        run: |
          git checkout origin/master -b master
          git merge dev --ff-only
          git push --set-upstream origin master
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 20)
	- 8. Use commit hash instead of tags for action versions (line 26)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 73)
	- 8. Use commit hash instead of tags for action versions (line 38)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 122
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 2: name: Release
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 5: workflow_dispatch:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 6: inputs:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 7: version:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 8: description: Version Number
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 9: required: true
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 10: release:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 11: description: Make Release
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 12: required: false
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 13: default: false
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 14: changelog:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 15: description: Update Changelog
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 16: required: false
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 17: default: false
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 19: jobs:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 20: release:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 21: runs-on: ubuntu-latest
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 22: permissions:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 23: contents: write
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 25: steps:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 26: - name: Checkout
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 27: uses: actions/checkout@v3
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 28: with:
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 29: fetch-depth: 0
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 30: ref: dev
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 31: token: ${{ secrets.GH_TOKEN }}
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 33: - name: Setup Python
2025-11-05 22:02:44,111 - utils.process_runner - DEBUG - 라인 34: uses: actions/setup-python@v3
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 36: python-version: 3.9
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 38: - name: Setup Poetry
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 39: uses: abatilo/actions-poetry@v2.1.4
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 40: with:
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 41: poetry-version: 1.1.11
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 43: - name: Extract Release Notes
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 44: run: |
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 45: python ./extract-release-notes.py v${{ inputs.version }}
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 47: - name: Config Git Username
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 48: run: |
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 49: git config user.name github-actions
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 50: git config user.email github-actions@github.com
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 52: - name: Update Changelog
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 53: if: ${{ inputs.changelog }}
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 54: run: |
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 55: git add .
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 56: git diff-index --quiet HEAD || git commit -m ":memo: update changelog"
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 57: git push
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 59: - name: Release to Public
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 60: if: ${{ inputs.release }}
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 61: run: |
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 62: poetry config pypi-token.pypi ${{ secrets.PYPI_TOKEN }}
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 63: poetry version ${{ inputs.version }}
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 64: poetry publish --build
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 65: git add .
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 66: git diff-index --quiet HEAD || git commit -m ":sparkles: ${{ inputs.version }}"
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 67: git push
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 68: gh release create "v${{ inputs.version }}" dist/* --notes-file ./release-notes.md --title "✨ v${{ inputs.version }}"
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 69: env:
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 70: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 72: - name: Upload Build Artifacts
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 73: if: ${{ inputs.release }}
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 74: uses: actions/upload-artifact@v3
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 75: with:
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 76: name: artifacts
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 77: path: dist/
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 79: - name: Merge to Master
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 80: run: |
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 81: git checkout origin/master -b master
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 82: git merge dev --ff-only
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 83: git push --set-upstream origin master
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 84: mapping values are not allowed here
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 85: in "<file>", line 2, column 5
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 86: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_temp_phase1.yml
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_temp_phase1.yml
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 100: We have found 19 smells
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 101: - 3. Use fixed version for runs-on argument (line 20)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 20)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 102: - 8. Use commit hash instead of tags for action versions (line 26)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 26)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 103: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 104: - 8. Use commit hash instead of tags for action versions (line 73)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 73)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 105: - 8. Use commit hash instead of tags for action versions (line 38)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 38)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 106: - 12. Avoid workflows without comments
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 107: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 111: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 112: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:02:44,112 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 라인 120: The following styling errors were found:
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 라인 121: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:02:44,113 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:02:44,113 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:02:44,113 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:02:44,113 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:02:44,113 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:02:44,113 - main - DEBUG - 임시 파일 삭제: data_original/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_temp_phase1.yml
2025-11-05 22:02:44,113 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:02:44,114 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Release
        ^
2025-11-05 22:02:44,114 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:02:44,114 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:02:44,114 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4_two_phase_repaired.yml
2025-11-05 22:02:44,114 - __main__ - INFO - === 파일 27/100 2단계 복구 완료 ===
2025-11-05 22:02:44,114 - __main__ - ERROR - ❌ 실패 (33.74초): 1d128012d813f4c17507788c181106fee15d6590f438d998e726f3ed606d07f4
2025-11-05 22:02:44,114 - __main__ - INFO - [28/100] 처리 중: 312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 22:02:44,114 - __main__ - INFO - 입력 파일 경로: data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 22:02:44,114 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_two_phase_repaired.yml
2025-11-05 22:02:44,114 - __main__ - INFO - === 파일 28/100 2단계 복구 시작 ===
2025-11-05 22:02:44,114 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:02:44,114 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:02:44,115 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 22:02:44,115 - main - INFO - 파일 크기: 1020 문자
2025-11-05 22:02:44,115 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:02:44,115 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:02:44,115 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:02:44,115 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 22:02:44,132 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:02:44,132 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:02:44,132 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:02:44,132 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:02:44,132 - main - INFO -   오류 1: key "build-py3" is duplicated in "jobs" section. previously defined at line:14,col:3. note that this key is case insensitive
2025-11-05 22:02:44,132 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:02:44,132 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:02:44,132 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:02:44,132 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:02:44,133 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:03:17,523 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1491
2025-11-05 22:03:17,526 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:03:17,527 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:03:17,528 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1024 문자
2025-11-05 22:03:17,528 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:03:17,528 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:03:17,529 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_temp_phase1.yml
2025-11-05 22:03:17,529 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:03:17,530 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_temp_phase1.yml
2025-11-05 22:03:17,913 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Main Workflow
on: [push]
jobs:
  build-py2:
    name: Build Python 2.7
    runs-on: ubuntu-latest
    container: python:2.7
    steps:
      - uses: actions/checkout@v1
      - run: python --version
      - run: pip install -r requirements.txt
      - run: pip install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python setup.py test
  build-py3:
    name: Build Python 3.6
    runs-on: ubuntu-latest
    container: python:3.6
    steps:
      - uses: actions/checkout@v1
      - run: python3 --version
      - run: pip3 install -r requirements.txt
      - run: pip3 install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
  build-py37:
    name: Build Python 3.7
    runs-on: ubuntu-latest
    container: python:3.7
    steps:
      - uses: actions/checkout@v1
      - run: python3 --version
      - run: pip3 install -r requirements.txt
      - run: pip3 install -r extra.txt
      - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 6)
	- 8. Use commit hash instead of tags for action versions (line 9)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 70
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 2: name: Main Workflow
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 3: on: [push]
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 4: jobs:
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 5: build-py2:
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 6: name: Build Python 2.7
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 7: runs-on: ubuntu-latest
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 8: container: python:2.7
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 9: steps:
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 10: - uses: actions/checkout@v1
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 11: - run: python --version
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 12: - run: pip install -r requirements.txt
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 13: - run: pip install -r extra.txt
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 14: - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python setup.py test
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 15: build-py3:
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 16: name: Build Python 3.6
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 18: container: python:3.6
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 19: steps:
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 20: - uses: actions/checkout@v1
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 21: - run: python3 --version
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 22: - run: pip3 install -r requirements.txt
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 23: - run: pip3 install -r extra.txt
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 24: - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 25: build-py37:
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 26: name: Build Python 3.7
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 27: runs-on: ubuntu-latest
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 28: container: python:3.7
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v1
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 31: - run: python3 --version
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 32: - run: pip3 install -r requirements.txt
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 33: - run: pip3 install -r extra.txt
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 34: - run: ADAPTER=tiny HTTPBIN=httpbin.bemisc.com python3 setup.py test
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 35: mapping values are not allowed here
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 36: in "<file>", line 2, column 5
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 37: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_temp_phase1.yml
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_temp_phase1.yml
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 51: We have found 16 smells
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 52: - 3. Use fixed version for runs-on argument (line 6)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 6)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 53: - 8. Use commit hash instead of tags for action versions (line 9)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 9)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 54: - 12. Avoid workflows without comments
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 55: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:03:17,914 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 68: The following styling errors were found:
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 라인 69: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:03:17,915 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:03:17,915 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:03:17,915 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:03:17,915 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:03:17,915 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:03:17,915 - main - DEBUG - 임시 파일 삭제: data_original/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_temp_phase1.yml
2025-11-05 22:03:17,915 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:03:17,916 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Main Workflow
        ^
2025-11-05 22:03:17,916 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:03:17,916 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:03:17,916 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3_two_phase_repaired.yml
2025-11-05 22:03:17,916 - __main__ - INFO - === 파일 28/100 2단계 복구 완료 ===
2025-11-05 22:03:17,916 - __main__ - ERROR - ❌ 실패 (33.80초): 312964b76b6d0222be3e5d8e9c9a9f2cdfb7680ab1a0228160efad2d0a8979b3
2025-11-05 22:03:17,917 - __main__ - INFO - [29/100] 처리 중: fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 22:03:17,917 - __main__ - INFO - 입력 파일 경로: data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 22:03:17,917 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_two_phase_repaired.yml
2025-11-05 22:03:17,917 - __main__ - INFO - === 파일 29/100 2단계 복구 시작 ===
2025-11-05 22:03:17,917 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:03:17,917 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:03:17,917 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 22:03:17,917 - main - INFO - 파일 크기: 941 문자
2025-11-05 22:03:17,917 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:03:17,917 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:03:17,917 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:03:17,917 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 22:03:17,934 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:03:17,934 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:03:17,934 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:03:17,934 - main - INFO - actionlint 오류 2개 발견
2025-11-05 22:03:17,934 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 22:03:17,934 - main - INFO -   오류 2: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 22:03:17,934 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:03:17,934 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:03:17,934 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:03:17,934 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:03:17,935 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:03:50,865 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1725
2025-11-05 22:03:50,867 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:03:50,868 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:03:50,868 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 946 문자
2025-11-05 22:03:50,868 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:03:50,868 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:03:50,869 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_temp_phase1.yml
2025-11-05 22:03:50,869 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:03:50,870 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_temp_phase1.yml
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.27초)
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: CI

on:
  push:
    branches: [ master ]
  workflow_dispatch:
  schedule:
    - cron: "0 12 * * *"
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-python@v2
        with:
          python-version: '3.x'
      - name: Install dependencies
        run: pip install -r requirements.txt -r dev-requirements.txt
      - name: Test && Publish
        env:
          GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
        run:
          - coverage run -m pytest 
          - coverage run -a ./update.py --release
      - name: Report coverage
        env:
          CC_TEST_REPORTER_ID: ${{ secrets.CC_TEST_REPORTER_ID }}
        run:
          - coverage xml && coverage report
          - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
          - chmod +x ./cc-test-reporter
          - ./cc-test-reporter after-build
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
33:43: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 71
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 2: name: CI
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 6: branches: [ master ]
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 8: schedule:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 9: - cron: "0 12 * * *"
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 11: build:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 14: - uses: actions/checkout@v2
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 15: - uses: actions/setup-python@v2
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 17: python-version: '3.x'
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 18: - name: Install dependencies
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 19: run: pip install -r requirements.txt -r dev-requirements.txt
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 20: - name: Test && Publish
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 21: env:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 22: GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 23: run:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 24: - coverage run -m pytest
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 25: - coverage run -a ./update.py --release
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 26: - name: Report coverage
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 27: env:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 28: CC_TEST_REPORTER_ID: ${{ secrets.CC_TEST_REPORTER_ID }}
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 29: run:
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 30: - coverage xml && coverage report
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 31: - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 32: - chmod +x ./cc-test-reporter
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 33: - ./cc-test-reporter after-build
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 34: mapping values are not allowed here
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 35: in "<file>", line 2, column 5
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 36: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_temp_phase1.yml
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_temp_phase1.yml
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,144 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 50: We have found 17 smells
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 51: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 52: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 53: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 54: - 12. Avoid workflows without comments
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 55: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 68: The following styling errors were found:
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 69: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:03:51,145 - utils.process_runner - DEBUG - 라인 70: 33:43: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:03:51,145 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:03:51,145 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:03:51,145 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:03:51,145 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:03:51,146 - main - DEBUG - 임시 파일 삭제: data_original/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_temp_phase1.yml
2025-11-05 22:03:51,146 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:03:51,146 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: CI
        ^
2025-11-05 22:03:51,146 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:03:51,146 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:03:51,147 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1_two_phase_repaired.yml
2025-11-05 22:03:51,147 - __main__ - INFO - === 파일 29/100 2단계 복구 완료 ===
2025-11-05 22:03:51,147 - __main__ - ERROR - ❌ 실패 (33.23초): fd1ec4bf106a21416035edfab44fd185c7fa253a8d8c102af6dc7e9079bbbeb1
2025-11-05 22:03:51,147 - __main__ - INFO - [30/100] 처리 중: 559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 22:03:51,147 - __main__ - INFO - 입력 파일 경로: data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 22:03:51,147 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_two_phase_repaired.yml
2025-11-05 22:03:51,147 - __main__ - INFO - === 파일 30/100 2단계 복구 시작 ===
2025-11-05 22:03:51,147 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:03:51,147 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:03:51,147 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 22:03:51,147 - main - INFO - 파일 크기: 395 문자
2025-11-05 22:03:51,147 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:03:51,147 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:03:51,148 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:03:51,148 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 22:03:51,152 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 22:03:51,153 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:03:51,153 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:03:51,153 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:03:51,153 - main - INFO -   오류 1: could not parse as YAML: yaml: line 3: did not find expected key
2025-11-05 22:03:51,153 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:03:51,153 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:03:51,153 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:03:51,153 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:03:51,154 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:04:34,351 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1221
2025-11-05 22:04:34,354 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:04:34,355 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:04:34,356 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 402 문자
2025-11-05 22:04:34,356 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:04:34,356 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:04:34,357 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_temp_phase1.yml
2025-11-05 22:04:34,357 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:04:34,357 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_temp_phase1.yml
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.31초)
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Publish to Pub.dev

on:
  push:
    release:
      types: [published]

jobs:
  build:

    runs-on: ubuntu-latest

    container:
      image: google/dart:latest

    steps:
      - uses: actions/checkout@v1
      - name: Copy required files
        run: |
          cp ../README.md README.md
          cp ../LICENSE LICENCE
          pub publish --dry-run
        working-directory: ./mapper
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 60
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 2: name: Publish to Pub.dev
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 6: release:
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 7: types: [published]
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 10: build:
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 14: container:
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 15: image: google/dart:latest
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 17: steps:
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 18: - uses: actions/checkout@v1
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 19: - name: Copy required files
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 20: run: |
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 21: cp ../README.md README.md
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 22: cp ../LICENSE LICENCE
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 23: pub publish --dry-run
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 24: working-directory: ./mapper
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 25: mapping values are not allowed here
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 26: in "<file>", line 2, column 5
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 27: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_temp_phase1.yml
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_temp_phase1.yml
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 라인 41: We have found 16 smells
2025-11-05 22:04:34,671 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 42: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 43: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 44: - 12. Avoid workflows without comments
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 45: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 58: The following styling errors were found:
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 라인 59: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:04:34,672 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:04:34,672 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:04:34,672 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:04:34,672 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:04:34,672 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:04:34,673 - main - DEBUG - 임시 파일 삭제: data_original/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_temp_phase1.yml
2025-11-05 22:04:34,673 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:04:34,673 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Publish to Pub.dev
        ^
2025-11-05 22:04:34,673 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:04:34,673 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:04:34,673 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c_two_phase_repaired.yml
2025-11-05 22:04:34,673 - __main__ - INFO - === 파일 30/100 2단계 복구 완료 ===
2025-11-05 22:04:34,674 - __main__ - ERROR - ❌ 실패 (43.53초): 559bef9be7983db753626eb1054ac097d11d061a858b1b94ace648b158a0fb3c
2025-11-05 22:04:34,674 - __main__ - INFO - [31/100] 처리 중: 3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 22:04:34,674 - __main__ - INFO - 입력 파일 경로: data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 22:04:34,674 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_two_phase_repaired.yml
2025-11-05 22:04:34,674 - __main__ - INFO - === 파일 31/100 2단계 복구 시작 ===
2025-11-05 22:04:34,674 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:04:34,674 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:04:34,674 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 22:04:34,674 - main - INFO - 파일 크기: 4344 문자
2025-11-05 22:04:34,674 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:04:34,674 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:04:34,674 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:04:34,675 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 22:04:34,680 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:04:34,680 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:04:34,680 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:04:34,680 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:04:34,680 - main - INFO -   오류 1: could not parse as YAML: yaml: line 146: did not find expected alphabetic or numeric character
2025-11-05 22:04:34,680 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:04:34,680 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:04:34,680 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:04:34,680 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:04:34,681 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:05:32,420 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:05:32,424 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:05:32,425 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:05:32,425 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4343 문자
2025-11-05 22:05:32,425 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:05:32,425 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:05:32,426 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_temp_phase1.yml
2025-11-05 22:05:32,427 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:05:32,427 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_temp_phase1.yml
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Wheels

on:
  workflow_dispatch:
  schedule:
    - cron: '0 0 * * *'
  release:
    types:
      - published

# Ensures Surelog/wheels are compatible with macOS 10.15+
env:
  MACOSX_DEPLOYMENT_TARGET: "10.15"

concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

jobs:
  build_wheel:
    name: Wheel siliconcompiler
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4
    - uses: hynek/build-and-inspect-python-package@v2

  test_wheel:
    needs: build_wheel
    name: Test wheels on ${{ matrix.platform.os }} ${{ matrix.platform.arch}} ${{ matrix.python-version }}
    runs-on: ${{ matrix.platform.os }}
    strategy:
      fail-fast: false
      matrix:
        python-version: ['3.8', '3.9', '3.10', '3.11', '3.12']
        platform:
          - os: ubuntu-latest
            arch: x86_64
          - os: macos-13
            arch: x86_64
          - os: windows-latest
            arch: x86_64

    steps:
    - uses: actions/checkout@v4
      with:
        path: sc

    - name: Setup env (Linux)
      if: runner.os == 'Linux'
      run: |
        sudo apt-get update
        sudo apt-get install -y graphviz wget xvfb
        sc/setup/ubuntu22/install-klayout.sh

    - name: Setup env (Windows)
      if: matrix.platform.os == 'windows-latest'
      run: |
        choco install -y graphviz
        set klayoutversion $(python3 sc/setup/_tools.py --tool klayout --field version)
        Invoke-WebRequest -Uri https://www.klayout.org/downloads/Windows/klayout-${klayoutversion}-win64.zip -OutFile klayout.zip
        7z x klayout.zip
        xcopy /E klayout-${klayoutversion}-win64 "C:\Program Files (x86)\KLayout\"

    - name: Setup env (macOS)
      if: matrix.platform.os == 'macos-13'
      run: |
        # || true is needed to avoid failure on brew link error with python3.12
        brew install graphviz || true
        brew install --cask klayout
        # https://github.com/ponty/PyVirtualDisplay/blob/master/.github/workflows/main.yml#L45
        brew install --cask xquartz
        echo "/opt/X11/bin" >> $GITHUB_PATH
        mkdir -p /tmp/.X11-unix
        sudo chmod 1777 /tmp/.X11-unix
        sudo chown root /tmp/.X11-unix

    - name: Setup python
      id: python
      uses: actions/setup-python@v5.1.1
      with:
        python-version: ${{ matrix.python-version }}

    - uses: actions/download-artifact@v4
      with:
        name: Packages
        path: dist

    - name: Install SC (non-windows)
      if: matrix.platform.os != 'windows-latest'
      run: |
        ${{ steps.python.outputs.python-path }} -m venv venv
        . venv/bin/activate
        python3 --version
        wheel=$(find dist -name "*.whl")
        pip3 install "$wheel"[test]

    - name: Run pytest (non-windows)
      if: matrix.platform.os != 'windows-latest'
      run: |
        . venv/bin/activate
        pytest sc/tests/ -m "not eda and not docker" -n auto
        pytest sc/tests/tools/test_surelog.py -n auto
        pytest sc/tests/flows/test_show.py -k "not openroad" -n auto

    - name: Install SC (windows)
      if: matrix.platform.os == 'windows-latest'
      run: |
        ${{ steps.python.outputs.python-path }} -m venv venv
        venv/Scripts/activate
        python3 --version
        $wheel = Get-ChildItem -Path  dist\*.whl | % { $_.FullName }
        $install = -join($wheel, "[test]")
        pip3 install $install

    - name: Run pytest (windows)
      if: matrix.platform.os == 'windows-latest'
      run: |
        venv/Scripts/activate
        pytest sc/tests/ -m "not eda and not docker" -n auto
        pytest sc/tests/tools/test_surelog.py -n auto
        pytest sc/tests/flows/test_show.py -k "not openroad" -n auto

  publish:
    needs: [build_wheel, test_wheel]
    runs-on: ubuntu-latest
    if: github.event_name == 'release' && github.event.action == 'published' && !contains(github.event.release.body, 'NOPUBLISH')

    permissions:
      id-token: write

    steps:
    - uses: actions/download-artifact@v4
      with:
        pattern: Packages

    - name: Extract files
      run: |
        unzip Packages.zip

    - uses: pypa/gh-action-pypi-publish@v1.9.0

    - name: Add wheels to GitHub release artifacts
      uses: softprops/action-gh-release@v2
      with:
        files: *.whl
found undefined alias '.whl'
  in "<file>", line 146, column 16
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 21)
	- 8. Use commit hash instead of tags for action versions (line 79)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 8. Use commit hash instead of tags for action versions (line 140)
	- 8. Use commit hash instead of tags for action versions (line 83)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 143)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
25:5: wrong indentation: expected 6 but found 4 (indentation)
45:5: wrong indentation: expected 6 but found 4 (indentation)
133:5: wrong indentation: expected 6 but found 4 (indentation)
146:17: syntax error: expected alphabetic or numeric character, but found '.' (syntax)

2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 189
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Wheels
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 4: workflow_dispatch:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 5: schedule:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 6: - cron: '0 0 * * *'
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 7: release:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 8: types:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 9: - published
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 11: # Ensures Surelog/wheels are compatible with macOS 10.15+
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 12: env:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 13: MACOSX_DEPLOYMENT_TARGET: "10.15"
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 15: concurrency:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 16: group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 17: cancel-in-progress: true
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 19: jobs:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 20: build_wheel:
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 21: name: Wheel siliconcompiler
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 22: runs-on: ubuntu-latest
2025-11-05 22:05:32,923 - utils.process_runner - DEBUG - 라인 24: steps:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 25: - uses: actions/checkout@v4
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 26: - uses: hynek/build-and-inspect-python-package@v2
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 28: test_wheel:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 29: needs: build_wheel
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 30: name: Test wheels on ${{ matrix.platform.os }} ${{ matrix.platform.arch}} ${{ matrix.python-version }}
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 31: runs-on: ${{ matrix.platform.os }}
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 32: strategy:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 33: fail-fast: false
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 34: matrix:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 35: python-version: ['3.8', '3.9', '3.10', '3.11', '3.12']
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 36: platform:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 37: - os: ubuntu-latest
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 38: arch: x86_64
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 39: - os: macos-13
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 40: arch: x86_64
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 41: - os: windows-latest
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 42: arch: x86_64
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 44: steps:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 45: - uses: actions/checkout@v4
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 46: with:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 47: path: sc
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 49: - name: Setup env (Linux)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 50: if: runner.os == 'Linux'
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 51: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 52: sudo apt-get update
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 53: sudo apt-get install -y graphviz wget xvfb
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 54: sc/setup/ubuntu22/install-klayout.sh
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 56: - name: Setup env (Windows)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 57: if: matrix.platform.os == 'windows-latest'
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 59: choco install -y graphviz
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 60: set klayoutversion $(python3 sc/setup/_tools.py --tool klayout --field version)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 61: Invoke-WebRequest -Uri https://www.klayout.org/downloads/Windows/klayout-${klayoutversion}-win64.zip -OutFile klayout.zip
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 62: 7z x klayout.zip
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 63: xcopy /E klayout-${klayoutversion}-win64 "C:\Program Files (x86)\KLayout\"
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 65: - name: Setup env (macOS)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 66: if: matrix.platform.os == 'macos-13'
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 67: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 68: # || true is needed to avoid failure on brew link error with python3.12
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 69: brew install graphviz || true
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 70: brew install --cask klayout
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 71: # https://github.com/ponty/PyVirtualDisplay/blob/master/.github/workflows/main.yml#L45
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 72: brew install --cask xquartz
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 73: echo "/opt/X11/bin" >> $GITHUB_PATH
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 74: mkdir -p /tmp/.X11-unix
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 75: sudo chmod 1777 /tmp/.X11-unix
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 76: sudo chown root /tmp/.X11-unix
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 78: - name: Setup python
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 79: id: python
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 80: uses: actions/setup-python@v5.1.1
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 81: with:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 82: python-version: ${{ matrix.python-version }}
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 84: - uses: actions/download-artifact@v4
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 85: with:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 86: name: Packages
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 87: path: dist
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 89: - name: Install SC (non-windows)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 90: if: matrix.platform.os != 'windows-latest'
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 91: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 92: ${{ steps.python.outputs.python-path }} -m venv venv
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 93: . venv/bin/activate
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 94: python3 --version
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 95: wheel=$(find dist -name "*.whl")
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 96: pip3 install "$wheel"[test]
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 98: - name: Run pytest (non-windows)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 99: if: matrix.platform.os != 'windows-latest'
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 100: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 101: . venv/bin/activate
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 102: pytest sc/tests/ -m "not eda and not docker" -n auto
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 103: pytest sc/tests/tools/test_surelog.py -n auto
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 104: pytest sc/tests/flows/test_show.py -k "not openroad" -n auto
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 106: - name: Install SC (windows)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 107: if: matrix.platform.os == 'windows-latest'
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 108: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 109: ${{ steps.python.outputs.python-path }} -m venv venv
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 110: venv/Scripts/activate
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 111: python3 --version
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 112: $wheel = Get-ChildItem -Path  dist\*.whl | % { $_.FullName }
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 113: $install = -join($wheel, "[test]")
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 114: pip3 install $install
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 116: - name: Run pytest (windows)
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 117: if: matrix.platform.os == 'windows-latest'
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 118: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 119: venv/Scripts/activate
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 120: pytest sc/tests/ -m "not eda and not docker" -n auto
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 121: pytest sc/tests/tools/test_surelog.py -n auto
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 122: pytest sc/tests/flows/test_show.py -k "not openroad" -n auto
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 124: publish:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 125: needs: [build_wheel, test_wheel]
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 126: runs-on: ubuntu-latest
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 127: if: github.event_name == 'release' && github.event.action == 'published' && !contains(github.event.release.body, 'NOPUBLISH')
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 129: permissions:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 130: id-token: write
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 132: steps:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 133: - uses: actions/download-artifact@v4
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 134: with:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 135: pattern: Packages
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 137: - name: Extract files
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 138: run: |
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 139: unzip Packages.zip
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 141: - uses: pypa/gh-action-pypi-publish@v1.9.0
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 143: - name: Add wheels to GitHub release artifacts
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 144: uses: softprops/action-gh-release@v2
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 145: with:
2025-11-05 22:05:32,924 - utils.process_runner - DEBUG - 라인 146: files: *.whl
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 147: found undefined alias '.whl'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 148: in "<file>", line 146, column 16
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 149: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_temp_phase1.yml
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_temp_phase1.yml
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 150: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 151: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 152: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 153: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 154: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 155: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 156: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 157: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 158: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 159: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 160: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 161: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 162: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 163: We have found 20 smells
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 164: - 3. Use fixed version for runs-on argument (line 21)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 21)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 165: - 8. Use commit hash instead of tags for action versions (line 79)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 79)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 166: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 167: - 8. Use commit hash instead of tags for action versions (line 140)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 140)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 168: - 8. Use commit hash instead of tags for action versions (line 83)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 83)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 169: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 170: - 8. Use commit hash instead of tags for action versions (line 143)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 143)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 171: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 172: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 180: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 181: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 184: The following styling errors were found:
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 185: 25:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 186: 45:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 187: 133:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 라인 188: 146:17: syntax error: expected alphabetic or numeric character, but found '.' (syntax)
2025-11-05 22:05:32,925 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 146:17: syntax error: expected alphabetic or numeric character, but found '.' (syntax)
2025-11-05 22:05:32,925 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:05:32,925 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:05:32,925 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:05:32,925 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:05:32,926 - main - DEBUG - 임시 파일 삭제: data_original/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_temp_phase1.yml
2025-11-05 22:05:32,926 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:05:32,929 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning an alias
  in "<unicode string>", line 146, column 16:
            files: *.whl
                   ^
expected alphabetic or numeric character, but found '.'
  in "<unicode string>", line 146, column 17:
            files: *.whl
                    ^
2025-11-05 22:05:32,929 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:05:32,929 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:05:32,930 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed_two_phase_repaired.yml
2025-11-05 22:05:32,930 - __main__ - INFO - === 파일 31/100 2단계 복구 완료 ===
2025-11-05 22:05:32,930 - __main__ - ERROR - ❌ 실패 (58.26초): 3d96b665e5004e70d28c5b76455cb8b289a6e93cd1a187db24353296c44b72ed
2025-11-05 22:05:32,930 - __main__ - INFO - [32/100] 처리 중: f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 22:05:32,930 - __main__ - INFO - 입력 파일 경로: data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 22:05:32,930 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_two_phase_repaired.yml
2025-11-05 22:05:32,930 - __main__ - INFO - === 파일 32/100 2단계 복구 시작 ===
2025-11-05 22:05:32,930 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:05:32,930 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:05:32,931 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 22:05:32,931 - main - INFO - 파일 크기: 6384 문자
2025-11-05 22:05:32,931 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:05:32,931 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:05:32,931 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:05:32,931 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 22:05:32,948 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:05:32,949 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:05:32,949 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:05:32,949 - main - INFO - actionlint 오류 3개 발견
2025-11-05 22:05:32,949 - main - INFO -   오류 1: property "workspace" is not defined in object type {arch: string; debug: string; environment: string; name: string; os: string; temp: string; tool_cache: string}
2025-11-05 22:05:32,949 - main - INFO -   오류 2: property "workspace" is not defined in object type {arch: string; debug: string; environment: string; name: string; os: string; temp: string; tool_cache: string}
2025-11-05 22:05:32,949 - main - INFO -   오류 3: key "if" is duplicated in element of "steps" section. previously defined at line:121,col:9
2025-11-05 22:05:32,949 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:05:32,949 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:05:32,949 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:05:32,949 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:05:32,950 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:06:49,717 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:06:49,721 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:06:49,722 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:06:49,723 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 6292 문자
2025-11-05 22:06:49,723 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:06:49,723 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:06:49,725 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_temp_phase1.yml
2025-11-05 22:06:49,725 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:06:49,725 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_temp_phase1.yml
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Processing commands

on:
  issue_comment:
      types: [created]

permissions:
  contents: read # to fetch code (actions/checkout)

jobs:
  build:

    permissions:
      contents: read # to fetch code (actions/checkout)
      pull-requests: write # to create comment

    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        id: get_round
        with:
         result-encoding: string
         script: |
             const bodycmt = context.payload.comment.body
             if(bodycmt.includes("/echo"))
               return 'echo'
             if(bodycmt.includes("/builddoc"))
               return 'builddoc'
             return 'stop'

      - name: Emoji-comment
        if: steps.get_round.outputs.result != 'stop'
        uses: actions/github-script@v6
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            github.rest.reactions.createForIssueComment({
              comment_id: ${{ github.event.comment.id }},
              owner: context.repo.owner,
              repo: context.repo.repo,
              content: 'rocket'})

# buildDoc COMMAND
      - uses: actions/github-script@v6
        if: steps.get_round.outputs.result == 'builddoc'
        id: get_pr_number
        with:
         result-encoding: string
         script: |
           //get pullrequest url
           const pr_number = context.payload.issue.number
           return pr_number

      - uses: actions/checkout@v3
        name: "checkout branch"
        if: steps.get_round.outputs.result == 'builddoc'
        with:
           repository: ${{ github.repository }}
           ref: refs/pull/${{ steps.get_pr_number.outputs.result }}/merge
#           token: ${{ secrets.PUSH_TO_DGTAL_GITHUB_IO_TOKEN }}
           fetch-depth: 2

      - name: install dependencies
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          set -x
          sudo apt-get update && sudo apt-get install -y graphviz ssh doxygen libboost-dev texlive-latex-base
          git config --global user.email "dgtal@dgtal.org"
          git config --global user.name "DGtal"


      - name: configure all
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          set -ex
          mkdir -p build_doc && cd build_doc && cmake .. -DBUILD_EXAMPLES=true -DBUILD_TESTING=true


      - name: build doc
        id: build-and-check-doc
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          cd build_doc
          wget --no-check-certificate -O "${{ runner.temp }}/DGtal/build_doc/DGtalTools-tagfile" http://dgtal.org/doc/tags/DGtalTools-tagfile;
          make -j 2 doc  > buildDoc.log
          export BUILD_DIR=${{runner.temp}}/DGtal/build_doc
          export SRC_DIR=${{runner.temp}}/DGtal/
          ${{runner.temp}}/DGtal/.github/workflows/checkDoxygenDocumentation.sh
          if [ -s /tmp/doxygen.kept.log ]; then
              echo "********************************************"
              content=`cat /tmp/doxygen.kept.log`
              echo $content
              delimiter="$(openssl rand -hex 8)"
              echo "DoxygenError<<${delimiter}" >> "${GITHUB_OUTPUT}"
              cat /tmp/doxygen.kept.log >> "${GITHUB_OUTPUT}"
              echo "${delimiter}" >> "${GITHUB_OUTPUT}"
              exit 1
          fi

      - name: Preparing Deploy
        if: steps.get_round.outputs.result == 'builddoc'
        run: |
          mkdir pr${{ steps.get_pr_number.outputs.result }}
          mv ${{runner.temp}}/DGtal/build_doc/html/* pr${{ steps.get_pr_number.outputs.result }}/
          git clone --depth 2 https://github.com/DGtal-team/doc-nightly.git
          cd doc-nightly
          rm -rf pr${{ steps.get_pr_number.outputs.result }}
          mv ../pr${{ steps.get_pr_number.outputs.result }} .

      - name: Deploy to GitHub Pages
        if: steps.get_round.outputs.result == 'builddoc'
        uses: JamesIves/github-pages-deploy-action@4.1.7
        with:
          token: ${{ secrets.DEPLOYACTION }}
          repository-name: DGtal-team/doc-nightly
          folder: doc-nightly
          branch: master
          single-commit: true
          clean: true

      - name: Post address
        if: steps.get_round.outputs.result == 'builddoc'
        uses: actions/github-script@v6
        with:
          script: |
            const tmp_round = "${{ steps.get_round.outputs.result }}";
            const id = tmp_round.indexOf(":");
            const round = tmp_round.substring(0,id);
            const address = "The documentation is built. It will be available, after a few minutes, here: https://dgtal-team.github.io/doc-nightly/pr${{ steps.get_pr_number.outputs.result }}/index.html"
            github.rest.issues.createComment({
              owner: "DGtal-team",
              repo: "DGtal",
              issue_number: ${{ github.event.issue.number }},
              body: address
            });
            github.rest.reactions.createForIssueComment({
                comment_id: ${{ github.event.comment.id }},
                owner: context.repo.owner,
                repo: context.repo.repo,
                content: 'hooray'})

      - name: Post error
        env:
          ERRORMSG: ${{steps.build-and-check-doc.outputs.DoxygenError}}
        uses: actions/github-script@v6
        if: ${{ failure() && steps.get_round.outputs.result == 'builddoc' }}
        with:
          script: |
            const error = process.env.ERRORMSG
            const msg = "There was an error while building the doc: \n"+error
            github.rest.issues.createComment({
              owner: "DGtal-team",
              repo: "DGtal",
              issue_number: ${{ github.event.issue.number }},
              body: msg
            });




# ECHO COMMAND
      - name: Echo action
        uses: actions/github-script@v6
        if: steps.get_round.outputs.result == 'echo'
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            const bodycmt = context.payload.comment.body
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: bodycmt
            })
###########
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 54)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 112)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
161:1: too many blank lines (4 > 2) (empty-lines)
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 215
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 2: name: Processing commands
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 5: issue_comment:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 6: types: [created]
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 8: permissions:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 9: contents: read # to fetch code (actions/checkout)
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 12: build:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 14: permissions:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 15: contents: read # to fetch code (actions/checkout)
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 16: pull-requests: write # to create comment
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 19: steps:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 20: - uses: actions/github-script@v6
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 21: id: get_round
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 22: with:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 23: result-encoding: string
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 24: script: |
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 25: const bodycmt = context.payload.comment.body
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 26: if(bodycmt.includes("/echo"))
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 27: return 'echo'
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 28: if(bodycmt.includes("/builddoc"))
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 29: return 'builddoc'
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 30: return 'stop'
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 32: - name: Emoji-comment
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 33: if: steps.get_round.outputs.result != 'stop'
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 34: uses: actions/github-script@v6
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 22:06:50,222 - utils.process_runner - DEBUG - 라인 36: github-token: ${{secrets.GITHUB_TOKEN}}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 37: script: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 38: github.rest.reactions.createForIssueComment({
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 39: comment_id: ${{ github.event.comment.id }},
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 40: owner: context.repo.owner,
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 41: repo: context.repo.repo,
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 42: content: 'rocket'})
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 44: # buildDoc COMMAND
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 45: - uses: actions/github-script@v6
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 46: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 47: id: get_pr_number
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 49: result-encoding: string
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 50: script: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 51: //get pullrequest url
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 52: const pr_number = context.payload.issue.number
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 53: return pr_number
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 55: - uses: actions/checkout@v3
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 56: name: "checkout branch"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 57: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 58: with:
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 59: repository: ${{ github.repository }}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 60: ref: refs/pull/${{ steps.get_pr_number.outputs.result }}/merge
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 61: #           token: ${{ secrets.PUSH_TO_DGTAL_GITHUB_IO_TOKEN }}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 62: fetch-depth: 2
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 64: - name: install dependencies
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 65: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 66: run: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 67: set -x
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 68: sudo apt-get update && sudo apt-get install -y graphviz ssh doxygen libboost-dev texlive-latex-base
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 69: git config --global user.email "dgtal@dgtal.org"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 70: git config --global user.name "DGtal"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 73: - name: configure all
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 74: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 75: run: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 76: set -ex
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 77: mkdir -p build_doc && cd build_doc && cmake .. -DBUILD_EXAMPLES=true -DBUILD_TESTING=true
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 80: - name: build doc
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 81: id: build-and-check-doc
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 82: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 83: run: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 84: cd build_doc
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 85: wget --no-check-certificate -O "${{ runner.temp }}/DGtal/build_doc/DGtalTools-tagfile" http://dgtal.org/doc/tags/DGtalTools-tagfile;
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 86: make -j 2 doc  > buildDoc.log
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 87: export BUILD_DIR=${{runner.temp}}/DGtal/build_doc
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 88: export SRC_DIR=${{runner.temp}}/DGtal/
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 89: ${{runner.temp}}/DGtal/.github/workflows/checkDoxygenDocumentation.sh
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 90: if [ -s /tmp/doxygen.kept.log ]; then
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 91: echo "********************************************"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 92: content=`cat /tmp/doxygen.kept.log`
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 93: echo $content
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 94: delimiter="$(openssl rand -hex 8)"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 95: echo "DoxygenError<<${delimiter}" >> "${GITHUB_OUTPUT}"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 96: cat /tmp/doxygen.kept.log >> "${GITHUB_OUTPUT}"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 97: echo "${delimiter}" >> "${GITHUB_OUTPUT}"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 98: exit 1
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 99: fi
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 101: - name: Preparing Deploy
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 102: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 103: run: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 104: mkdir pr${{ steps.get_pr_number.outputs.result }}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 105: mv ${{runner.temp}}/DGtal/build_doc/html/* pr${{ steps.get_pr_number.outputs.result }}/
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 106: git clone --depth 2 https://github.com/DGtal-team/doc-nightly.git
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 107: cd doc-nightly
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 108: rm -rf pr${{ steps.get_pr_number.outputs.result }}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 109: mv ../pr${{ steps.get_pr_number.outputs.result }} .
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 111: - name: Deploy to GitHub Pages
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 112: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 113: uses: JamesIves/github-pages-deploy-action@4.1.7
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 114: with:
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 115: token: ${{ secrets.DEPLOYACTION }}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 116: repository-name: DGtal-team/doc-nightly
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 117: folder: doc-nightly
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 118: branch: master
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 119: single-commit: true
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 120: clean: true
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 122: - name: Post address
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 123: if: steps.get_round.outputs.result == 'builddoc'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 124: uses: actions/github-script@v6
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 125: with:
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 126: script: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 127: const tmp_round = "${{ steps.get_round.outputs.result }}";
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 128: const id = tmp_round.indexOf(":");
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 129: const round = tmp_round.substring(0,id);
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 130: const address = "The documentation is built. It will be available, after a few minutes, here: https://dgtal-team.github.io/doc-nightly/pr${{ steps.get_pr_number.outputs.result }}/index.html"
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 131: github.rest.issues.createComment({
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 132: owner: "DGtal-team",
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 133: repo: "DGtal",
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 134: issue_number: ${{ github.event.issue.number }},
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 135: body: address
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 136: });
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 137: github.rest.reactions.createForIssueComment({
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 138: comment_id: ${{ github.event.comment.id }},
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 139: owner: context.repo.owner,
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 140: repo: context.repo.repo,
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 141: content: 'hooray'})
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 143: - name: Post error
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#unknown): name: Post error
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 144: env:
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 145: ERRORMSG: ${{steps.build-and-check-doc.outputs.DoxygenError}}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): ERRORMSG: ${{steps.build-and-check-doc.outputs.DoxygenError}}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 146: uses: actions/github-script@v6
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 147: if: ${{ failure() && steps.get_round.outputs.result == 'builddoc' }}
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 148: with:
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 149: script: |
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 150: const error = process.env.ERRORMSG
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 151: const msg = "There was an error while building the doc: \n"+error
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): const msg = "There was an error while building the doc: \n"+error
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 152: github.rest.issues.createComment({
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 153: owner: "DGtal-team",
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 154: repo: "DGtal",
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 155: issue_number: ${{ github.event.issue.number }},
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 156: body: msg
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 157: });
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 162: # ECHO COMMAND
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 163: - name: Echo action
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 164: uses: actions/github-script@v6
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 165: if: steps.get_round.outputs.result == 'echo'
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 166: with:
2025-11-05 22:06:50,223 - utils.process_runner - DEBUG - 라인 167: github-token: ${{secrets.GITHUB_TOKEN}}
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 168: script: |
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 169: const bodycmt = context.payload.comment.body
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 170: github.rest.issues.createComment({
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 171: issue_number: context.issue.number,
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 172: owner: context.repo.owner,
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 173: repo: context.repo.repo,
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 174: body: bodycmt
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 175: })
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 176: ###########
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 177: mapping values are not allowed here
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 178: in "<file>", line 2, column 5
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 179: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_temp_phase1.yml
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_temp_phase1.yml
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 180: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 182: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 183: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 184: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 185: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 186: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 187: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 188: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 189: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 190: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 191: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 192: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 193: We have found 18 smells
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 194: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 195: - 8. Use commit hash instead of tags for action versions (line 54)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 54)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 196: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 197: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 198: - 8. Use commit hash instead of tags for action versions (line 112)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 112)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 199: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 200: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 201: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 202: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 203: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 204: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 205: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 206: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 207: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 208: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 209: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 210: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 211: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 212: The following styling errors were found:
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 213: 161:1: too many blank lines (4 > 2) (empty-lines)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 라인 214: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:06:50,224 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:06:50,224 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:06:50,224 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:06:50,224 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:06:50,224 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:06:50,225 - main - DEBUG - 임시 파일 삭제: data_original/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_temp_phase1.yml
2025-11-05 22:06:50,225 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:06:50,226 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Processing commands
        ^
2025-11-05 22:06:50,226 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:06:50,226 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:06:50,226 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a_two_phase_repaired.yml
2025-11-05 22:06:50,226 - __main__ - INFO - === 파일 32/100 2단계 복구 완료 ===
2025-11-05 22:06:50,226 - __main__ - ERROR - ❌ 실패 (77.30초): f78d03790f73ef888d1fdb4fd34cccb65abd258eb70136634492ccbbe18c0a7a
2025-11-05 22:06:50,226 - __main__ - INFO - [33/100] 처리 중: 9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 22:06:50,226 - __main__ - INFO - 입력 파일 경로: data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 22:06:50,227 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_two_phase_repaired.yml
2025-11-05 22:06:50,227 - __main__ - INFO - === 파일 33/100 2단계 복구 시작 ===
2025-11-05 22:06:50,227 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:06:50,227 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:06:50,227 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 22:06:50,227 - main - INFO - 파일 크기: 452 문자
2025-11-05 22:06:50,227 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:06:50,227 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:06:50,227 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:06:50,227 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 22:06:50,243 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:06:50,243 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:06:50,243 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:06:50,243 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:06:50,243 - main - INFO -   오류 1: could not parse as YAML: yaml: line 15: could not find expected ':'
2025-11-05 22:06:50,243 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:06:50,243 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:06:50,243 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:06:50,243 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:06:50,244 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:07:25,338 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1026
2025-11-05 22:07:25,340 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:07:25,341 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:07:25,342 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 504 문자
2025-11-05 22:07:25,342 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:07:25,342 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:07:25,343 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_temp_phase1.yml
2025-11-05 22:07:25,343 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:07:25,343 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_temp_phase1.yml
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Update Pact Ruby Standalone

on:
  repository_dispatch:
    types:
      - pact-ruby-standalone-released

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - run: |
      git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"
      git config --global user.name "${GITHUB_ACTOR}"

    - name: Create PR to update Pact Ruby Standalone
      run: script/create-pr-to-update-pact-ruby-standalone.sh ${{ github.event.client_payload.version }}
while scanning a simple key
  in "<file>", line 15, column 7
could not find expected ':'
  in "<file>", line 16, column 7
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
12:5: wrong indentation: expected 6 but found 4 (indentation)
16:7: syntax error: could not find expected ':' (syntax)

2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 58
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Update Pact Ruby Standalone
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 4: repository_dispatch:
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 5: types:
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 6: - pact-ruby-standalone-released
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 9: update:
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-latest
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 11: steps:
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 12: - uses: actions/checkout@v2
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 14: - run: |
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 15: git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 16: git config --global user.name "${GITHUB_ACTOR}"
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 18: - name: Create PR to update Pact Ruby Standalone
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 19: run: script/create-pr-to-update-pact-ruby-standalone.sh ${{ github.event.client_payload.version }}
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 20: while scanning a simple key
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 21: in "<file>", line 15, column 7
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 22: could not find expected ':'
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 23: in "<file>", line 16, column 7
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 24: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_temp_phase1.yml
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_temp_phase1.yml
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 25: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 26: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 27: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,627 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 38: We have found 16 smells
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 39: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 40: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 41: - 12. Avoid workflows without comments
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 42: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 43: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 44: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 45: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 55: The following styling errors were found:
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 56: 12:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 라인 57: 16:7: syntax error: could not find expected ':' (syntax)
2025-11-05 22:07:25,628 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 16:7: syntax error: could not find expected ':' (syntax)
2025-11-05 22:07:25,628 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:07:25,628 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:07:25,628 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:07:25,628 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:07:25,628 - main - DEBUG - 임시 파일 삭제: data_original/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_temp_phase1.yml
2025-11-05 22:07:25,628 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:07:25,629 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning a simple key
  in "<unicode string>", line 15, column 7:
          git config --global user.email " ... 
          ^
could not find expected ':'
  in "<unicode string>", line 16, column 7:
          git config --global user.name "$ ... 
          ^
2025-11-05 22:07:25,629 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:07:25,629 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:07:25,629 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca_two_phase_repaired.yml
2025-11-05 22:07:25,629 - __main__ - INFO - === 파일 33/100 2단계 복구 완료 ===
2025-11-05 22:07:25,629 - __main__ - ERROR - ❌ 실패 (35.40초): 9bc9056e536e6a96b67d8f92af3b08da33069ee1830310c85075b0e0afc4d6ca
2025-11-05 22:07:25,629 - __main__ - INFO - [34/100] 처리 중: d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 22:07:25,629 - __main__ - INFO - 입력 파일 경로: data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 22:07:25,630 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_two_phase_repaired.yml
2025-11-05 22:07:25,630 - __main__ - INFO - === 파일 34/100 2단계 복구 시작 ===
2025-11-05 22:07:25,630 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:07:25,630 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:07:25,630 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 22:07:25,630 - main - INFO - 파일 크기: 1911 문자
2025-11-05 22:07:25,630 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:07:25,630 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:07:25,630 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:07:25,631 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 22:07:25,636 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:07:25,637 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:07:25,637 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:07:25,637 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:07:25,637 - main - INFO -   오류 1: could not parse as YAML: yaml: line 30: did not find expected '-' indicator
2025-11-05 22:07:25,637 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:07:25,637 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:07:25,637 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:07:25,637 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:07:25,638 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:08:10,101 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:08:10,105 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:08:10,107 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:08:10,107 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1885 문자
2025-11-05 22:08:10,107 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:08:10,107 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:08:10,109 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_temp_phase1.yml
2025-11-05 22:08:10,109 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:08:10,110 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_temp_phase1.yml
2025-11-05 22:08:10,610 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:08:10,610 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: reviewdog
on: [pull_request]
jobs:
  golangci-lint:
    name: runner / suggester / golangci-lint
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v2
        with:
          version: latest
          only-new-issues: true
          args: --timeout 5m

  gofmt:
    name: runner / suggester / gofmt
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: gofmt -w -s $(find . -not -path "*/vendor/*" -name "*.go")
      - uses: reviewdog/action-suggester@v1
        with:
          tool_name: gofmt

  shfmt:
    name: runner / suggester / shfmt
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-go@v2
        with:
          go-version: '^1.17'
      - run: GO111MODULE=on go get mvdan.cc/sh/v3/cmd/shfmt
      - run: $(go env GOPATH)/bin/shfmt -bn -ci -s -w .
      - uses: reviewdog/action-suggester@v1
        with:
          tool_name: shfmt

  shellcheck:
    if: github.event_name == 'pull_request'
    name: runner / shellcheck
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-shellcheck@v1
        with:
          github_token: ${{ secrets.github_token }}
          reporter: github-pr-check

  misspell:
    name: runner / misspell
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-misspell@v1
        with:
          github_token: ${{ secrets.github_token }}
          locale: "US"
          reporter: github-pr-check

  alex:
    name: runner / alex
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: reviewdog/action-alex@v1
        with:
          github_token: ${{ secrets.github_token }}
          reporter: github-pr-check
          level: info
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 22 smells
	- 3. Use fixed version for runs-on argument (line 6)
	- 8. Use commit hash instead of tags for action versions (line 67)
	- 8. Use commit hash instead of tags for action versions (line 8)
	- 8. Use commit hash instead of tags for action versions (line 46)
	- 8. Use commit hash instead of tags for action versions (line 56)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 10)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:08:10,610 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:08:10,610 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 114
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 2: name: reviewdog
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 3: on: [pull_request]
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 4: jobs:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 5: golangci-lint:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 6: name: runner / suggester / golangci-lint
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 7: runs-on: ubuntu-latest
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 8: steps:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 9: - uses: actions/checkout@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 10: - name: golangci-lint
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 11: uses: golangci/golangci-lint-action@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 12: with:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 13: version: latest
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 14: only-new-issues: true
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 15: args: --timeout 5m
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 17: gofmt:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 18: name: runner / suggester / gofmt
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 19: runs-on: ubuntu-latest
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 21: - uses: actions/checkout@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 22: - run: gofmt -w -s $(find . -not -path "*/vendor/*" -name "*.go")
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#run: gofmt -w -s $(find ): -not -path "*/vendor/*" -name "*.go")
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 23: - uses: reviewdog/action-suggester@v1
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 24: with:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 25: tool_name: gofmt
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 27: shfmt:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 28: name: runner / suggester / shfmt
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 29: runs-on: ubuntu-latest
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 30: steps:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 31: - uses: actions/checkout@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 32: - uses: actions/setup-go@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 34: go-version: '^1.17'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 35: - run: GO111MODULE=on go get mvdan.cc/sh/v3/cmd/shfmt
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 36: - run: $(go env GOPATH)/bin/shfmt -bn -ci -s -w .
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 37: - uses: reviewdog/action-suggester@v1
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 38: with:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 39: tool_name: shfmt
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 41: shellcheck:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 42: if: github.event_name == 'pull_request'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 43: name: runner / shellcheck
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 44: runs-on: ubuntu-latest
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 45: steps:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 46: - uses: actions/checkout@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 47: - uses: reviewdog/action-shellcheck@v1
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 49: github_token: ${{ secrets.github_token }}
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 50: reporter: github-pr-check
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 52: misspell:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 53: name: runner / misspell
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 54: runs-on: ubuntu-latest
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 55: steps:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 56: - uses: actions/checkout@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 57: - uses: reviewdog/action-misspell@v1
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 58: with:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 59: github_token: ${{ secrets.github_token }}
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 60: locale: "US"
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 61: reporter: github-pr-check
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 63: alex:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 64: name: runner / alex
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 65: runs-on: ubuntu-latest
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 66: steps:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 67: - uses: actions/checkout@v2
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 68: - uses: reviewdog/action-alex@v1
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 69: with:
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 70: github_token: ${{ secrets.github_token }}
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 71: reporter: github-pr-check
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 72: level: info
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 73: mapping values are not allowed here
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 74: in "<file>", line 2, column 5
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 75: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_temp_phase1.yml
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_temp_phase1.yml
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,611 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 89: We have found 22 smells
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 22 smells
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 90: - 3. Use fixed version for runs-on argument (line 6)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 6)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 91: - 8. Use commit hash instead of tags for action versions (line 67)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 67)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 92: - 8. Use commit hash instead of tags for action versions (line 8)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 8)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 93: - 8. Use commit hash instead of tags for action versions (line 46)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 46)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 94: - 8. Use commit hash instead of tags for action versions (line 56)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 56)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 95: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 96: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 97: - 8. Use commit hash instead of tags for action versions (line 10)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 10)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 98: - 12. Avoid workflows without comments
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 99: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 111: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 112: The following styling errors were found:
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 라인 113: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:08:10,612 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:08:10,612 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:08:10,612 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:08:10,612 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:08:10,612 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:08:10,612 - main - DEBUG - 임시 파일 삭제: data_original/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_temp_phase1.yml
2025-11-05 22:08:10,613 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:08:10,613 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: reviewdog
        ^
2025-11-05 22:08:10,613 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:08:10,613 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:08:10,614 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2_two_phase_repaired.yml
2025-11-05 22:08:10,614 - __main__ - INFO - === 파일 34/100 2단계 복구 완료 ===
2025-11-05 22:08:10,614 - __main__ - ERROR - ❌ 실패 (44.98초): d409830f98d1f96f527654390ce9be4fb2ef8a13af9f4e50b42f2e6e27e613e2
2025-11-05 22:08:10,614 - __main__ - INFO - [35/100] 처리 중: 8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 22:08:10,614 - __main__ - INFO - 입력 파일 경로: data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 22:08:10,614 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_two_phase_repaired.yml
2025-11-05 22:08:10,614 - __main__ - INFO - === 파일 35/100 2단계 복구 시작 ===
2025-11-05 22:08:10,614 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:08:10,614 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:08:10,614 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 22:08:10,614 - main - INFO - 파일 크기: 1922 문자
2025-11-05 22:08:10,614 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:08:10,615 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:08:10,615 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:08:10,615 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 22:08:10,637 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:08:10,637 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:08:10,637 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:08:10,637 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:08:10,637 - main - INFO -   오류 1: could not parse as YAML: yaml: line 9: did not find expected alphabetic or numeric character
2025-11-05 22:08:10,637 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:08:10,637 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:08:10,637 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:08:10,637 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:08:10,638 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:08:55,296 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:08:55,299 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:08:55,300 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:08:55,300 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1945 문자
2025-11-05 22:08:55,300 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:08:55,300 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:08:55,302 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_temp_phase1.yml
2025-11-05 22:08:55,302 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:08:55,302 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_temp_phase1.yml
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: CI

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - '*'

jobs:
  test:
    runs-on: ubuntu-latest

    services:
      db:
        image: postgres:10
        env:
          POSTGRES_DB: accent_test
          POSTGRES_PASSWORD: password
        ports: ["5432:5432"]
        options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5

    env:
      MIX_ENV: test
      DATABASE_URL: postgres://postgres:password@localhost/accent_test

    steps:
      - uses: actions/checkout@v2

      - uses: actions/setup-elixir@v1
        with:
          otp-version: '22.x'
          elixir-version: '1.9.x'

      - uses: actions/setup-node@v1
        with:
          node-version: '10.14.x'

      - name: Install System Dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y gcc libyaml-dev python-yaml

      - name: Install Elixir Dependencies
        run: |
          mix local.rebar --force
          mix local.hex --force
          mix deps.get
          mix deps.compile

      - name: Install NodeJS Dependencies
        run: |
          npm config set spin false
          npm i --no-audit --no-color
          npm i --prefix webapp --no-audit --no-color
          npm i --prefix cli --no-audit --no-color
          npm i --prefix jipt --no-audit --no-color

      - name: Build webapp production
        run: npm run build-production-inline --prefix webapp

      - name: Run Tests
        run: |
          mix ecto.setup
          ./priv/scripts/ci-check.sh

      - name: Build CLI
        run: npm --prefix cli run build
      - name: Build JIPT
        run: npm --prefix jipt run build-production-inline
      - name: Coverage report
        run: |
          mix coveralls.post --token ${{ secrets.COVERALLS_REPO_TOKEN }} --name 'github-actions' --branch ${{ github.ref }} --committer ${{ github.actor }} --sha ${{ github.sha }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 113
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 2: name: CI
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 7: - master
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 8: pull_request:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 9: branches:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 10: - '*'
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 13: test:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 16: services:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 17: db:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 18: image: postgres:10
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 19: env:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 20: POSTGRES_DB: accent_test
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 21: POSTGRES_PASSWORD: password
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 22: ports: ["5432:5432"]
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 23: options: --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 25: env:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 26: MIX_ENV: test
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 27: DATABASE_URL: postgres://postgres:password@localhost/accent_test
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 30: - uses: actions/checkout@v2
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 32: - uses: actions/setup-elixir@v1
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 34: otp-version: '22.x'
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 35: elixir-version: '1.9.x'
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 37: - uses: actions/setup-node@v1
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 38: with:
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 39: node-version: '10.14.x'
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 41: - name: Install System Dependencies
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 43: sudo apt-get update
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 44: sudo apt-get install -y gcc libyaml-dev python-yaml
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 46: - name: Install Elixir Dependencies
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 47: run: |
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 48: mix local.rebar --force
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 49: mix local.hex --force
2025-11-05 22:08:55,582 - utils.process_runner - DEBUG - 라인 50: mix deps.get
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 51: mix deps.compile
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 53: - name: Install NodeJS Dependencies
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 54: run: |
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 55: npm config set spin false
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 56: npm i --no-audit --no-color
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 57: npm i --prefix webapp --no-audit --no-color
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 58: npm i --prefix cli --no-audit --no-color
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 59: npm i --prefix jipt --no-audit --no-color
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 61: - name: Build webapp production
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 62: run: npm run build-production-inline --prefix webapp
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 64: - name: Run Tests
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 65: run: |
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 66: mix ecto.setup
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 67: ./priv/scripts/ci-check.sh
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 69: - name: Build CLI
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 70: run: npm --prefix cli run build
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 71: - name: Build JIPT
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 72: run: npm --prefix jipt run build-production-inline
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 73: - name: Coverage report
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 74: run: |
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 75: mix coveralls.post --token ${{ secrets.COVERALLS_REPO_TOKEN }} --name 'github-actions' --branch ${{ github.ref }} --committer ${{ github.actor }} --sha ${{ github.sha }}
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 76: mapping values are not allowed here
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 77: in "<file>", line 2, column 5
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 78: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_temp_phase1.yml
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_temp_phase1.yml
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 92: We have found 18 smells
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 93: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 94: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 95: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 96: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 97: - 12. Avoid workflows without comments
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 98: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 111: The following styling errors were found:
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 라인 112: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:08:55,583 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:08:55,583 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:08:55,583 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:08:55,583 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:08:55,584 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:08:55,584 - main - DEBUG - 임시 파일 삭제: data_original/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_temp_phase1.yml
2025-11-05 22:08:55,584 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:08:55,584 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: CI
        ^
2025-11-05 22:08:55,584 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:08:55,584 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:08:55,585 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade_two_phase_repaired.yml
2025-11-05 22:08:55,585 - __main__ - INFO - === 파일 35/100 2단계 복구 완료 ===
2025-11-05 22:08:55,585 - __main__ - ERROR - ❌ 실패 (44.97초): 8e1f6d3597a1528a46d639a7731c41dfd8acd955654b0b45568d9d543ebbdade
2025-11-05 22:08:55,585 - __main__ - INFO - [36/100] 처리 중: 8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 22:08:55,585 - __main__ - INFO - 입력 파일 경로: data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 22:08:55,585 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_two_phase_repaired.yml
2025-11-05 22:08:55,585 - __main__ - INFO - === 파일 36/100 2단계 복구 시작 ===
2025-11-05 22:08:55,585 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:08:55,585 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:08:55,585 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 22:08:55,585 - main - INFO - 파일 크기: 1064 문자
2025-11-05 22:08:55,585 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:08:55,585 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:08:55,585 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:08:55,586 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 22:08:55,591 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:08:55,592 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:08:55,592 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:08:55,592 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:08:55,592 - main - INFO -   오류 1: expecting a single ${{...}} expression or mapping value for "env" section, but found plain text node
2025-11-05 22:08:55,592 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:08:55,592 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:08:55,592 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:08:55,592 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:08:55,593 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:09:38,834 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1755
2025-11-05 22:09:38,838 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:09:38,839 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:09:38,839 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 986 문자
2025-11-05 22:09:38,839 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:09:38,839 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:09:38,841 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_temp_phase1.yml
2025-11-05 22:09:38,841 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:09:38,841 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_temp_phase1.yml
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.31초)
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Site

on:
  push:
    branches:
      - main
      - site

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: dtolnay/rust-toolchain@stable
      with:
        targets: wasm32-unknown-unknown
    - uses: peaceiris/actions-mdbook@v1
      with:
        mdbook-version: latest
    - run: npm install
      working-directory: crates/rune-wasm
    - run: npm run build
      working-directory: crates/rune-wasm
    - run: cargo run --bin rune -- doc --output target/site/docs
      env:
        RUST_LOG=rune=info
    - run: cargo run --manifest-path tools/site/Cargo.toml -- -r site build -o target/site
      env:
        ZOLA_URL: ${{ secrets.ZOLA_URL }}
    - run: mdbook build -d ../target/site/book book
    - uses: peaceiris/actions-gh-pages@v3
      with:
        deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
        external_repository: rune-rs/rune-rs.github.io
        publish_branch: main
        publish_dir: target/site
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 75
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 2: name: Site
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 7: - main
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 8: - site
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 11: build:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 14: - uses: actions/checkout@v3
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 15: - uses: dtolnay/rust-toolchain@stable
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 17: targets: wasm32-unknown-unknown
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 18: - uses: peaceiris/actions-mdbook@v1
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 19: with:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 20: mdbook-version: latest
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 21: - run: npm install
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 22: working-directory: crates/rune-wasm
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 23: - run: npm run build
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 24: working-directory: crates/rune-wasm
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 25: - run: cargo run --bin rune -- doc --output target/site/docs
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 26: env:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 27: RUST_LOG=rune=info
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 28: - run: cargo run --manifest-path tools/site/Cargo.toml -- -r site build -o target/site
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 29: env:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 30: ZOLA_URL: ${{ secrets.ZOLA_URL }}
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 31: - run: mdbook build -d ../target/site/book book
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 32: - uses: peaceiris/actions-gh-pages@v3
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 34: deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 35: external_repository: rune-rs/rune-rs.github.io
2025-11-05 22:09:39,155 - utils.process_runner - DEBUG - 라인 36: publish_branch: main
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 37: publish_dir: target/site
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 38: mapping values are not allowed here
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 39: in "<file>", line 2, column 5
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 40: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_temp_phase1.yml
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_temp_phase1.yml
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 54: We have found 18 smells
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 55: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 56: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 57: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 58: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 59: - 12. Avoid workflows without comments
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 60: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 73: The following styling errors were found:
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 라인 74: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:09:39,156 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:09:39,156 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:09:39,156 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:09:39,156 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:09:39,156 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:09:39,157 - main - DEBUG - 임시 파일 삭제: data_original/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_temp_phase1.yml
2025-11-05 22:09:39,157 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:09:39,157 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Site
        ^
2025-11-05 22:09:39,157 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:09:39,157 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:09:39,158 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04_two_phase_repaired.yml
2025-11-05 22:09:39,158 - __main__ - INFO - === 파일 36/100 2단계 복구 완료 ===
2025-11-05 22:09:39,158 - __main__ - ERROR - ❌ 실패 (43.57초): 8dfefd52bd9f80757355b579f7f940433ca03f18e45b454d35b08295dfe0fd04
2025-11-05 22:09:39,158 - __main__ - INFO - [37/100] 처리 중: 73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 22:09:39,158 - __main__ - INFO - 입력 파일 경로: data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 22:09:39,158 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_two_phase_repaired.yml
2025-11-05 22:09:39,158 - __main__ - INFO - === 파일 37/100 2단계 복구 시작 ===
2025-11-05 22:09:39,158 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:09:39,158 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:09:39,159 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 22:09:39,159 - main - INFO - 파일 크기: 7593 문자
2025-11-05 22:09:39,159 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:09:39,159 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:09:39,159 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:09:39,159 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 22:09:39,175 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:09:39,176 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:09:39,176 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:09:39,176 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:09:39,176 - main - INFO -   오류 1: could not parse as YAML: yaml: line 62: did not find expected key
2025-11-05 22:09:39,176 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:09:39,176 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:09:39,176 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:09:39,176 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:09:39,177 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:10:56,072 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:10:56,076 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:10:56,077 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:10:56,078 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7864 문자
2025-11-05 22:10:56,078 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:10:56,078 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:10:56,080 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_temp_phase1.yml
2025-11-05 22:10:56,080 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:10:56,080 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_temp_phase1.yml
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: test_workflow

on:
  workflow_dispatch:
  repository_dispatch:
    types: [test_workflow ]

jobs:
  setup:
    runs-on: ubuntu-latest
    timeout-minutes: 600
    steps:
      - name: CHECKOUT
        uses: actions/checkout@v2
      - name: AZURE LOGIN
        uses: azure/login@v1
        with:
          creds: ${{secrets.AZURE_CREDENTIALS}}
      - name: Create Cluster
        env:
          AZURE_APP_ID: ${{ secrets.AZURE_APP_ID }}
          AZURE_APP_PASSWORD: ${{ secrets.AZURE_APP_PASSWORD }}
          RESOURCE_GROUP: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
        run: |
          az aks create \
            --resource-group "${RESOURCE_GROUP}" \
            --name "bal-perf-cluster-test" \
            --service-principal "${AZURE_APP_ID}"\
            --client-secret "${AZURE_APP_PASSWORD}" \
            --nodepool-name testnodepool \
            --generate-ssh-keys
      - name: Configure AKS
        uses: azure/aks-set-context@v1
        with:
          creds: '${{ secrets.AZURE_CREDENTIALS }}'
          cluster-name: 'bal-perf-cluster-test'
          resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
      - name: Deploy Niginx
        run: |
          # Create a namespace for your ingress resources
          kubectl create namespace ingress-basic

          # Add the ingress-nginx repository
          helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx

          # Use Helm to deploy an NGINX ingress controller
          helm install nginx-ingress ingress-nginx/ingress-nginx \
            --namespace ingress-basic \
            --set controller.replicaCount=2 \
            --set controller.nodeSelector."beta\.kubernetes\.io/os"=linux \
            --set defaultBackend.nodeSelector."beta\.kubernetes\.io/os"=linux \
            --set controller.admissionWebhooks.patch.nodeSelector."beta\.kubernetes\.io/os"=linux
          # Wait for ingress ip
          kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
          -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
          | head -n1
      - name: Label Nodes
        run: |
          node=`kubectl get nodes | awk '{if (NR==2) {print $1}}'`
          kubectl label nodes $node workertype=app
          node=`kubectl get nodes | awk '{if (NR==3) {print $1}}'`
          kubectl label nodes $node workertype=backend

  build:
    needs: setup
    runs-on: ubuntu-latest
    strategy:
      max-parallel: 1
      matrix:
        payload: [50]
        users: [60, 200]
    env:
      TEST_NAME: "test_passthrough"
      TEST_ROOT: "tests"
    steps:
      - uses: actions/checkout@v2
      - name: Login to DockerHub
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKER_HUB_USERNAME }}
          password: ${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}
      - name: Ballerina Build
        uses: ballerina-platform/ballerina-action@master # uses slbeta2
        env:
          CI_BUILD: true
          WORKING_DIR: tests/test_passthrough
        with:
          args:
            build
      - name: Docker push
        run: docker push ballerina/${TEST_NAME}:latest
      - name: Copy artifacts
        run: |
          ls -ltr
          cp -a ${TEST_ROOT}/${TEST_NAME}/target/kubernetes/${TEST_NAME}/. ${TEST_ROOT}/${TEST_NAME}/deployment/
      - name: 'Install Kustomize'
        run: |
          curl -s "https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh"  | bash
      - name: 'Run Kustomize'
        run: |
          kustomize build ${TEST_ROOT}/${TEST_NAME}/deployment > ${TEST_ROOT}/${TEST_NAME}/final.yaml
      - name: Configure AKS
        uses: azure/aks-set-context@v1
        with:
          creds: '${{ secrets.AZURE_CREDENTIALS }}'
          cluster-name: 'bal-perf-cluster-test'
          resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
      - name: Deploy artifacts
        run: |
          kubectl apply -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
      - name: Login via Az module
        uses: azure/login@v1
        with:
          creds: ${{secrets.AZURE_CREDENTIALS}}
      - name: Write values to outputs
        id: write
        run: |
          echo "::set-output name=cluster-ip::$(kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
                                                -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
                                                | head -n1)"
          echo "::set-output name=scenario-name::${TEST_NAME}"
          echo "::set-output name=vm-name::bal-perf-vm-`echo ${TEST_NAME} | tr '_' '-'`-${{ matrix.users }}-${{ matrix.payload }}-${{ GITHUB.RUN_NUMBER }}"
          echo "::set-output name=git-token::${{ secrets.BALLERINA_BOT_TOKEN }}"
          echo "::set-output name=custom-image-name::$(cat image.txt)"
      - name: Create VM Instance
        id: vminstance
        uses: azure/CLI@v1
        with:
          azcliversion: 2.0.72
          inlineScript: |
            az vm create --resource-group "${{ secrets.CLUSTER_RESOURCE_GROUP }}"  --name "${{ steps.write.outputs.vm-name }}"  --admin-username "${{ secrets.VM_USER }}" --admin-password "${{ secrets.VM_PWD }}" --location  eastus \
            --image "mi_${{ steps.write.outputs.custom-image-name }}" --tags benchmark-number=${{ steps.write.outputs.vm-name }} --size Standard_F4s_v2
            echo "::set-output name=ip-address::$(az vm show -d -g "${{ secrets.CLUSTER_RESOURCE_GROUP }}" -n "${{ steps.write.outputs.vm-name }}" --query publicIps -o tsv)"
      - name: Execute performance tests
        uses: appleboy/ssh-action@master
        env:
          IP: ${{ steps.write.outputs.cluster-ip }}
          SCENARIO_NAME: ${{ steps.write.outputs.scenario-name }}
          GITHUB_TOKEN: ${{steps.write.outputs.git-token}}
          PAYLOAD: ${{ matrix.payload }}
          USERS: ${{ matrix.users }}
        with:
          host: ${{ steps.vminstance.outputs.ip-address }}
          username: ${{ secrets.VM_USER }}
          password: ${{ secrets.VM_PWD }}
          envs: IP,SCENARIO_NAME,GITHUB_TOKEN,PAYLOAD,USERS
          command_timeout: '180m' #3 hours
          timeout: 300s #5 mins
          script: |
            source /etc/profile.d/10-perf-vm.sh
            execute-tests.sh $IP $SCENARIO_NAME $GITHUB_TOKEN $PAYLOAD $USERS
      - name: Undeploy Kubernetes artifacts
        if: always()
        run: |
          kubectl delete -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
      - name: Cleanup VM
        if: always()
        continue-on-error: true
        uses: azure/CLI@v1
        with:
          azcliversion: 2.0.72
          inlineScript: |
            az resource delete --ids $(az resource list --tag benchmark-number=${{ steps.write.outputs.vm-name }} -otable --query "[].id" -otsv)
            var=`az disk list --query "[?tags.\"benchmark-number\"=='${{ steps.write.outputs.vm-name }}'].id" -otable -otsv`
            if [ -n "$var" ]
            then
                az resource delete --ids ${var}
            else 
                echo "Disk is already deleted"
            fi

  cleanup:
    needs: build
    name: clean up
    if: always()
    runs-on: ubuntu-latest
    steps:
      - name: AZURE LOGIN
        uses: azure/login@v1
        with:
          creds: ${{secrets.AZURE_CREDENTIALS}}
      - name: Cleaning up the cluster
        if: always()
        uses: azure/CLI@v1
        with:
          azcliversion: 2.0.72
          inlineScript: |
            az group delete --name mc_${{ secrets.CLUSTER_RESOURCE_GROUP }}_bal-perf-cluster-test_eastus -y
            az aks delete --name bal-perf-cluster-test --resource-group ${{ secrets.CLUSTER_RESOURCE_GROUP }} -y
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 127)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 76)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 78)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
190:113: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 231
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 2: name: test_workflow
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 5: workflow_dispatch:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 6: repository_dispatch:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 7: types: [test_workflow ]
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 10: setup:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 12: timeout-minutes: 600
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 14: - name: CHECKOUT
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 15: uses: actions/checkout@v2
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 16: - name: AZURE LOGIN
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 17: uses: azure/login@v1
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 18: with:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 19: creds: ${{secrets.AZURE_CREDENTIALS}}
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 20: - name: Create Cluster
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 21: env:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 22: AZURE_APP_ID: ${{ secrets.AZURE_APP_ID }}
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 23: AZURE_APP_PASSWORD: ${{ secrets.AZURE_APP_PASSWORD }}
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 24: RESOURCE_GROUP: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 25: run: |
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 26: az aks create \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 27: --resource-group "${RESOURCE_GROUP}" \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 28: --name "bal-perf-cluster-test" \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 29: --service-principal "${AZURE_APP_ID}"\
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 30: --client-secret "${AZURE_APP_PASSWORD}" \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 31: --nodepool-name testnodepool \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 32: --generate-ssh-keys
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 33: - name: Configure AKS
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 34: uses: azure/aks-set-context@v1
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 36: creds: '${{ secrets.AZURE_CREDENTIALS }}'
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 37: cluster-name: 'bal-perf-cluster-test'
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 38: resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 39: - name: Deploy Niginx
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 40: run: |
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 41: # Create a namespace for your ingress resources
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 42: kubectl create namespace ingress-basic
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 44: # Add the ingress-nginx repository
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 45: helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 47: # Use Helm to deploy an NGINX ingress controller
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 48: helm install nginx-ingress ingress-nginx/ingress-nginx \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 49: --namespace ingress-basic \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 50: --set controller.replicaCount=2 \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 51: --set controller.nodeSelector."beta\.kubernetes\.io/os"=linux \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 52: --set defaultBackend.nodeSelector."beta\.kubernetes\.io/os"=linux \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 53: --set controller.admissionWebhooks.patch.nodeSelector."beta\.kubernetes\.io/os"=linux
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 54: # Wait for ingress ip
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 55: kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 56: -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 57: | head -n1
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 58: - name: Label Nodes
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 59: run: |
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 60: node=`kubectl get nodes | awk '{if (NR==2) {print $1}}'`
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 61: kubectl label nodes $node workertype=app
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 62: node=`kubectl get nodes | awk '{if (NR==3) {print $1}}'`
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 63: kubectl label nodes $node workertype=backend
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 65: build:
2025-11-05 22:10:56,584 - utils.process_runner - DEBUG - 라인 66: needs: setup
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 67: runs-on: ubuntu-latest
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 68: strategy:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 69: max-parallel: 1
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 70: matrix:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 71: payload: [50]
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 72: users: [60, 200]
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 73: env:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 74: TEST_NAME: "test_passthrough"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 75: TEST_ROOT: "tests"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 76: steps:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 77: - uses: actions/checkout@v2
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 78: - name: Login to DockerHub
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 79: uses: docker/login-action@v1
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 80: with:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 81: username: ${{ secrets.DOCKER_HUB_USERNAME }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 82: password: ${{ secrets.DOCKER_HUB_ACCESS_TOKEN }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 83: - name: Ballerina Build
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 84: uses: ballerina-platform/ballerina-action@master # uses slbeta2
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 85: env:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 86: CI_BUILD: true
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 87: WORKING_DIR: tests/test_passthrough
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 88: with:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 89: args:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 90: build
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 91: - name: Docker push
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 92: run: docker push ballerina/${TEST_NAME}:latest
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 93: - name: Copy artifacts
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 94: run: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 95: ls -ltr
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 96: cp -a ${TEST_ROOT}/${TEST_NAME}/target/kubernetes/${TEST_NAME}/. ${TEST_ROOT}/${TEST_NAME}/deployment/
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 97: - name: 'Install Kustomize'
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 98: run: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 99: curl -s "https://raw.githubusercontent.com/kubernetes-sigs/kustomize/master/hack/install_kustomize.sh"  | bash
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 100: - name: 'Run Kustomize'
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 101: run: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 102: kustomize build ${TEST_ROOT}/${TEST_NAME}/deployment > ${TEST_ROOT}/${TEST_NAME}/final.yaml
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 103: - name: Configure AKS
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 104: uses: azure/aks-set-context@v1
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 105: with:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 106: creds: '${{ secrets.AZURE_CREDENTIALS }}'
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 107: cluster-name: 'bal-perf-cluster-test'
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 108: resource-group: ${{ secrets.CLUSTER_RESOURCE_GROUP }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 109: - name: Deploy artifacts
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 110: run: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 111: kubectl apply -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 112: - name: Login via Az module
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 113: uses: azure/login@v1
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 114: with:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 115: creds: ${{secrets.AZURE_CREDENTIALS}}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 116: - name: Write values to outputs
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 117: id: write
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 118: run: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 119: echo "::set-output name=cluster-ip::$(kubectl get service nginx-ingress-ingress-nginx-controller --namespace ingress-basic -w  \
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 120: -o 'go-template={{with .status.loadBalancer.ingress}}{{range .}}{{.ip}}{{"\n"}}{{end}}{{.err}}{{end}}' 2>/dev/null \
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 121: | head -n1)"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 122: echo "::set-output name=scenario-name::${TEST_NAME}"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 123: echo "::set-output name=vm-name::bal-perf-vm-`echo ${TEST_NAME} | tr '_' '-'`-${{ matrix.users }}-${{ matrix.payload }}-${{ GITHUB.RUN_NUMBER }}"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 124: echo "::set-output name=git-token::${{ secrets.BALLERINA_BOT_TOKEN }}"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 125: echo "::set-output name=custom-image-name::$(cat image.txt)"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 126: - name: Create VM Instance
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 127: id: vminstance
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 128: uses: azure/CLI@v1
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 129: with:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 130: azcliversion: 2.0.72
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 131: inlineScript: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 132: az vm create --resource-group "${{ secrets.CLUSTER_RESOURCE_GROUP }}"  --name "${{ steps.write.outputs.vm-name }}"  --admin-username "${{ secrets.VM_USER }}" --admin-password "${{ secrets.VM_PWD }}" --location  eastus \
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 133: --image "mi_${{ steps.write.outputs.custom-image-name }}" --tags benchmark-number=${{ steps.write.outputs.vm-name }} --size Standard_F4s_v2
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 134: echo "::set-output name=ip-address::$(az vm show -d -g "${{ secrets.CLUSTER_RESOURCE_GROUP }}" -n "${{ steps.write.outputs.vm-name }}" --query publicIps -o tsv)"
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 135: - name: Execute performance tests
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 136: uses: appleboy/ssh-action@master
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 137: env:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 138: IP: ${{ steps.write.outputs.cluster-ip }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 139: SCENARIO_NAME: ${{ steps.write.outputs.scenario-name }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 140: GITHUB_TOKEN: ${{steps.write.outputs.git-token}}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 141: PAYLOAD: ${{ matrix.payload }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 142: USERS: ${{ matrix.users }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 143: with:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 144: host: ${{ steps.vminstance.outputs.ip-address }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 145: username: ${{ secrets.VM_USER }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 146: password: ${{ secrets.VM_PWD }}
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 147: envs: IP,SCENARIO_NAME,GITHUB_TOKEN,PAYLOAD,USERS
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 148: command_timeout: '180m' #3 hours
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 149: timeout: 300s #5 mins
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 150: script: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 151: source /etc/profile.d/10-perf-vm.sh
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 152: execute-tests.sh $IP $SCENARIO_NAME $GITHUB_TOKEN $PAYLOAD $USERS
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 153: - name: Undeploy Kubernetes artifacts
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 154: if: always()
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 155: run: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 156: kubectl delete -f ${TEST_ROOT}/${TEST_NAME}/final.yaml
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 157: - name: Cleanup VM
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 158: if: always()
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 159: continue-on-error: true
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: true
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 160: uses: azure/CLI@v1
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 161: with:
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 162: azcliversion: 2.0.72
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 163: inlineScript: |
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 164: az resource delete --ids $(az resource list --tag benchmark-number=${{ steps.write.outputs.vm-name }} -otable --query "[].id" -otsv)
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 165: var=`az disk list --query "[?tags.\"benchmark-number\"=='${{ steps.write.outputs.vm-name }}'].id" -otable -otsv`
2025-11-05 22:10:56,585 - utils.process_runner - DEBUG - 라인 166: if [ -n "$var" ]
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 167: then
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 168: az resource delete --ids ${var}
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 169: else
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 170: echo "Disk is already deleted"
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 171: fi
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 173: cleanup:
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 174: needs: build
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 175: name: clean up
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 176: if: always()
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 177: runs-on: ubuntu-latest
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 178: steps:
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 179: - name: AZURE LOGIN
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 180: uses: azure/login@v1
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 181: with:
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 182: creds: ${{secrets.AZURE_CREDENTIALS}}
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 183: - name: Cleaning up the cluster
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 184: if: always()
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 185: uses: azure/CLI@v1
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 186: with:
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 187: azcliversion: 2.0.72
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 188: inlineScript: |
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 189: az group delete --name mc_${{ secrets.CLUSTER_RESOURCE_GROUP }}_bal-perf-cluster-test_eastus -y
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 190: az aks delete --name bal-perf-cluster-test --resource-group ${{ secrets.CLUSTER_RESOURCE_GROUP }} -y
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 191: mapping values are not allowed here
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 192: in "<file>", line 2, column 5
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 193: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_temp_phase1.yml
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_temp_phase1.yml
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 194: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 195: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 196: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 197: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 198: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 199: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 200: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 201: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 202: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 203: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 204: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 205: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 206: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 207: We have found 20 smells
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 208: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 209: - 8. Use commit hash instead of tags for action versions (line 127)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 127)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 210: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 211: - 8. Use commit hash instead of tags for action versions (line 76)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 76)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 212: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 213: - 8. Use commit hash instead of tags for action versions (line 78)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 78)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 214: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 215: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 216: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 217: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 218: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 219: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 220: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 221: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 222: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 223: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 224: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 225: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 226: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 227: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 228: The following styling errors were found:
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 229: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:10:56,586 - utils.process_runner - DEBUG - 라인 230: 190:113: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:10:56,586 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:10:56,587 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:10:56,587 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:10:56,587 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:10:56,587 - main - DEBUG - 임시 파일 삭제: data_original/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_temp_phase1.yml
2025-11-05 22:10:56,587 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:10:56,587 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: test_workflow
        ^
2025-11-05 22:10:56,587 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:10:56,587 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:10:56,588 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce_two_phase_repaired.yml
2025-11-05 22:10:56,588 - __main__ - INFO - === 파일 37/100 2단계 복구 완료 ===
2025-11-05 22:10:56,588 - __main__ - ERROR - ❌ 실패 (77.43초): 73456546d85843fd8ccbba88532ebe0f4f444d696d5fd126bb4601c24b1d56ce
2025-11-05 22:10:56,588 - __main__ - INFO - [38/100] 처리 중: 25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 22:10:56,588 - __main__ - INFO - 입력 파일 경로: data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 22:10:56,588 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_two_phase_repaired.yml
2025-11-05 22:10:56,588 - __main__ - INFO - === 파일 38/100 2단계 복구 시작 ===
2025-11-05 22:10:56,588 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:10:56,588 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:10:56,589 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 22:10:56,589 - main - INFO - 파일 크기: 3618 문자
2025-11-05 22:10:56,589 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:10:56,589 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:10:56,589 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:10:56,589 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 22:10:56,612 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:10:56,612 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:10:56,612 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:10:56,612 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:10:56,612 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 22:10:56,612 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:10:56,612 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:10:56,612 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:10:56,612 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:10:56,613 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:12:15,086 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:12:15,090 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:12:15,091 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:12:15,091 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 3592 문자
2025-11-05 22:12:15,091 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:12:15,091 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:12:15,092 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_temp_phase1.yml
2025-11-05 22:12:15,092 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:12:15,092 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_temp_phase1.yml
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_temp_phase1.yml
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 74)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 72)
	- 6. Define permissions for workflows with external actions (job at line: 7)
	- 8. Use commit hash instead of tags for action versions (line 77)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 39)
	- 8. Use commit hash instead of tags for action versions (line 89)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 72)
	- 10. Avoid jobs without timeouts (line: 7)
	- 11. Avoid uploading artifacts on forks (line 40)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:18)
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 7)
	- 16. Avoid running CI related actions when no source code has changed
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
10:14: too many spaces inside brackets (brackets)
10:47: too many spaces inside brackets (brackets)
99:15: trailing spaces (trailing-spaces)
101:126: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 27
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_temp_phase1.yml
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_temp_phase1.yml
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 라인 2: We have found 19 smells
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 74)
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 74)
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 72)
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 72)
2025-11-05 22:12:15,593 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 7)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 7)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 77)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 77)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 39)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 39)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 89)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 89)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 12: - 9. Steps should only perform a single command (line -1)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 13: - 10. Avoid jobs without timeouts (line: 72)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 72)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 7)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 7)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 15: - 11. Avoid uploading artifacts on forks (line 40)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 스멜 감지 (#11): Avoid uploading artifacts on forks (line 40)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 16: - 12. Avoid workflows without comments
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 17: - 13. Use names for run steps (lines -1:18)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:18)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 18: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 19: - 15. Use permissions whenever using Github Token (job at line 7)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 7)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 20: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 21: - 22. Avoid deploying jobs on forks
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 22: The following styling errors were found:
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 23: 10:14: too many spaces inside brackets (brackets)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 24: 10:47: too many spaces inside brackets (brackets)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 25: 99:15: trailing spaces (trailing-spaces)
2025-11-05 22:12:15,594 - utils.process_runner - DEBUG - 라인 26: 101:126: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:12:15,594 - utils.process_runner - INFO - 총 6개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:12:15,594 - utils.process_runner - INFO - Smell detector 실행 완료: 6개 스멜 발견
2025-11-05 22:12:15,594 - main - INFO - 스멜 6개 발견
2025-11-05 22:12:15,594 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 22:12:15,594 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 72)
2025-11-05 22:12:15,594 - main - INFO -   스멜 3: Avoid jobs without timeouts (line: 7)
2025-11-05 22:12:15,594 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 22:12:15,594 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 22:12:15,594 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:12:15,594 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:12:15,595 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:13:51,643 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:13:51,646 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:13:51,647 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 22:13:51,648 - main - INFO - Phase 2 완료, 최종 YAML 크기: 4013 문자
2025-11-05 22:13:51,649 - main - DEBUG - 임시 파일 삭제: data_original/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_temp_phase1.yml
2025-11-05 22:13:51,650 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:13:51,650 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Deploy Installers
        ^
2025-11-05 22:13:51,650 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:13:51,651 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:13:51,652 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5_two_phase_repaired.yml
2025-11-05 22:13:51,652 - __main__ - INFO - === 파일 38/100 2단계 복구 완료 ===
2025-11-05 22:13:51,652 - __main__ - ERROR - ❌ 실패 (175.06초): 25298d8c75b1ec06f7857a90e23cbefb1bf92bb7e32ab753c88dd2cd9ee42cc5
2025-11-05 22:13:51,652 - __main__ - INFO - [39/100] 처리 중: 10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 22:13:51,652 - __main__ - INFO - 입력 파일 경로: data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 22:13:51,653 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_two_phase_repaired.yml
2025-11-05 22:13:51,653 - __main__ - INFO - === 파일 39/100 2단계 복구 시작 ===
2025-11-05 22:13:51,653 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:13:51,653 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:13:51,654 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 22:13:51,654 - main - INFO - 파일 크기: 9504 문자
2025-11-05 22:13:51,655 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:13:51,655 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:13:51,655 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:13:51,655 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 22:13:51,671 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:13:51,671 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:13:51,672 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:13:51,672 - main - INFO - actionlint 오류 2개 발견
2025-11-05 22:13:51,672 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 22:13:51,672 - main - INFO -   오류 2: unexpected key "command" for "step" section. expected one of "continue-on-error", "env", "id", "if", "name", "run", "shell", "timeout-minutes", "uses", "with", "working-directory"
2025-11-05 22:13:51,672 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:13:51,672 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:13:51,672 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:13:51,672 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:13:51,673 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:15:20,094 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:15:20,098 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:15:20,099 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:15:20,100 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7476 문자
2025-11-05 22:15:20,100 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:15:20,100 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:15:20,101 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_temp_phase1.yml
2025-11-05 22:15:20,101 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:15:20,101 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_temp_phase1.yml
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: Here's the fixed YAML workflow:

```yaml
name: Release Zotero/Juris-M .deb packages

on:
  schedule:
    - cron: 0 */2 * * *
  push:
  workflow_dispatch:
    inputs:
      build:
        description: forced rebuild
        required: false
        default: ''
      publish:
        description: forced publish
        required: false
        default: ''
      readme:
        description: forced publish of readme
        required: false
        default: ''

jobs:
  rebuild:
    strategy:
      matrix:
        packagesystem:
        - apt
    env:
      REPO: ${{ matrix.packagesystem }}
    runs-on: ubuntu-latest
    outputs:
      publish: ${{ steps.repo.outputs.publish }}
    steps:
    - name: Cancel Previous Runs
      uses: styfle/cancel-workflow-action@0.6.0
      with:
        access_token: ${{ github.token }}

    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.10'
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

    - name: Import GPG key
      uses: retorquere/ghaction-import-gpg@master
      with:
        gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}

    - name: install build requirements
      run: |
        sudo add-apt-repository ppa:mozillateam/ppa -y
        sudo apt-get -q update
        sudo apt-get -qy install dpkg-sig fakeroot moreutils

    - name: Cache repo
      uses: actions/cache@v2
      env:
        cache-name: v3
      with:
        path: |
          ./apt
        key: repo-${{ env.cache-name }}-${{ github.ref }}-${{ hashFiles('rebuild.py', 'apt.py') }}

    - name: force rebuild
      if: ${{ github.event.inputs.build == 'true' }}
      run: rm -rf $REPO

    - name: rebuild ${{ matrix.packagesystem }} repo
      id: repo
      env:
        PYTHONUNBUFFERED: true
      run: ./rebuild.py --mode apt && find $REPO -type f

    - name: show status
      run: echo publish=${{ steps.repo.outputs.publish }}

  publish:
    runs-on: ubuntu-latest
    needs: rebuild
    strategy:
      matrix:
        hosting:
        - backblaze
        - ioperf
        - mwt
        - github
        - sourceforge
        packagesystem:
        - apt
    env:
      REPO: ${{ matrix.packagesystem }}
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.10'
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

    - name: Restore cached repo
      uses: actions/cache@v2
      env:
        cache-name: v3
      with:
        path: |
          ./${{ matrix.packagesystem }}
        key: repo-${{ env.cache-name }}-${{ github.ref }}-${{ hashFiles('rebuild.py', 'apt.py') }}

    - name: install utilities
      run: |
        sudo apt-get -qy install moreutils pandoc
        curl https://rclone.org/install.sh | sudo bash

    - name: Install SF SSH Key
      if: ${{ matrix.hosting == 'sourceforge' }}
      uses: shimataro/ssh-key-action@v2
      with:
        key: ${{ secrets.SF_SSH_KEY }}
        known_hosts: 'sourceforge'
        if_key_exists: replace

    - name: Install MWT SSH Key
      if: ${{ matrix.hosting == 'mwt' }}
      uses: shimataro/ssh-key-action@v2
      with:
        key: ${{ secrets.MWT_SSH_KEY }}
        known_hosts: ${{ secrets.SSH_KNOWN_HOSTS }}
        if_key_exists: replace

    - name: configure rclone
      if: ${{ matrix.hosting == 'ioperf' }} || ${{ matrix.hosting == 'backblaze' }}
      run: |
        mkdir -p ~/.config/rclone
        cat <<EOF > ~/.config/rclone/rclone.conf
        [b2-zotero-apt]
        type = b2
        account = ${{ secrets.B2_APPLICATION_KEY_ID }}
        key = ${{ secrets.B2_APPLICATION_KEY }}
        hard_delete = true
        download_url = https://apt.retorque.re/file/zotero-apt

        [b2-apt-package-archive]
        type = b2
        account = ${{ secrets.B2_APPLICATION_KEY_ID }}
        key = ${{ secrets.B2_APPLICATION_KEY }}
        hard_delete = true
        download_url = https://zotero.retorque.re/file/apt-package-archive

        [ioperf]
        type = ftp
        host = 202.61.244.114
        user = ${{ secrets.IOPERF_USERNAME }}
        explicit_tls = true
        no_check_certificate = true
        encoding = Slash,Asterisk,Ctl,Dot
        set_modtime = false
        EOF

        rclone config password ioperf pass "${{ secrets.IOPERF_PASSWORD }}"

    - name: publish ${{ matrix.packagesystem }} on ${{ matrix.hosting }}
      if: ${{ needs.rebuild.outputs.publish == 'true' }} || ${{ github.event.inputs.publish == 'true' }} || ${{ github.event.inputs.publish == matrix.hosting }} || ${{ github.event.inputs.readme == 'true' }}
      continue-on-error: ${{ matrix.hosting == 'sourceforge' }}
      env:
        REFRESH: _${{ needs.rebuild.outputs.publish == 'true' }}_${{ github.event.inputs.publish == 'true' }}_${{ github.event.inputs.publish == matrix.hosting }}_${{ github.event.inputs.readme == 'true' }}
        PYTHONUNBUFFERED: true
      run: |
        case "${{ matrix.hosting }}" in
          backblaze)
            (cd $REPO && gh release view apt-get --json assets | ../ghr apt-get | bash)
            ;;
          ioperf)
            curl -sL https://zotero-deb.mirror.ioperf.eu/install.sh | sudo bash
            ;;
          mwt)
            curl -sL https://mirror-rs.mwt.me/apt-package-archive/install.sh | bash
            ;;
          github)
            (cd $REPO && gh release view apt-get --json assets | ../ghr apt-get | bash)
            ;;
          sourceforge)
            curl -sL https://downloads.sourceforge.net/project/zotero-deb/install.sh | sudo bash
            ;;
        esac

  test:
    runs-on: ubuntu-latest
    needs: publish
    strategy:
      fail-fast: false
      matrix:
        hosting:
        - backblaze
        - ioperf
        - mwt
        - github
        - sourceforge
    steps:
    - name: install apt fixes
      if: matrix.hosting == 'github'
      run: |
        # https://github.com/retorquere/zotero-deb/issues/49
        sudo add-apt-repository ppa:tj/bugfixes
        sudo apt-get -q update
        sudo apt-get -qy install apt

    - name: test install from ${{ matrix.hosting }}
      continue-on-error: ${{ matrix.hosting == 'sourceforge' || matrix.hosting == 'github' }}
      run: |
        sleep 60
        case "${{ matrix.hosting }}" in
          backblaze)
            curl -sL https://zotero.retorque.re/file/apt-package-archive/install.sh | sudo bash
            ;;
          ioperf)
            curl -sL https://zotero-deb.mirror.ioperf.eu/install.sh | sudo bash
            ;;
          mwt)
            curl -sL https://mirror-rs.mwt.me/apt-package-archive/install.sh | bash
            ;;
          github)
            curl -sL https://github.com/retorquere/zotero-deb/releases/download/apt-get/install.sh | sudo bash
            ;;
          sourceforge)
            curl -sL https://downloads.sourceforge.net/project/zotero-deb/install.sh | sudo bash
            ;;
        esac
  
        sudo apt-get -q update
        sudo apt-get -qy install zotero jurism zotero-beta
        for c in zotero zotero-beta jurism; do
          file /usr/lib/$c/${c/-beta/}
          file /usr/lib/$c/${c/-beta/}-bin
          file /usr/local/bin/$c
        done
while scanning for the next token
found character '`' that cannot start any token
  in "<file>", line 3, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 32)
	- 8. Use commit hash instead of tags for action versions (line 43)
	- 8. Use commit hash instead of tags for action versions (line 126)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 63)
	- 8. Use commit hash instead of tags for action versions (line 41)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
3:1: syntax error: found character '`' that cannot start any token (syntax)
246:13: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 287
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: Here's the fixed YAML workflow:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 3: ```yaml
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 4: name: Release Zotero/Juris-M .deb packages
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 7: schedule:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 8: - cron: 0 */2 * * *
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 9: push:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 10: workflow_dispatch:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 11: inputs:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 12: build:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 13: description: forced rebuild
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 14: required: false
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 15: default: ''
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 16: publish:
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 17: description: forced publish
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 18: required: false
2025-11-05 22:15:20,593 - utils.process_runner - DEBUG - 라인 19: default: ''
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 20: readme:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 21: description: forced publish of readme
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 22: required: false
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 23: default: ''
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 25: jobs:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 26: rebuild:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 27: strategy:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 28: matrix:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 29: packagesystem:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 30: - apt
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 31: env:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 32: REPO: ${{ matrix.packagesystem }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 33: runs-on: ubuntu-latest
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 34: outputs:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 35: publish: ${{ steps.repo.outputs.publish }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 36: steps:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 37: - name: Cancel Previous Runs
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 38: uses: styfle/cancel-workflow-action@0.6.0
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 39: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 40: access_token: ${{ github.token }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 42: - uses: actions/checkout@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 43: - name: Set up Python
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 44: uses: actions/setup-python@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 46: python-version: '3.10'
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 47: - name: Install dependencies
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 48: run: |
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 49: python -m pip install --upgrade pip
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 50: if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 52: - name: Import GPG key
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 53: uses: retorquere/ghaction-import-gpg@master
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 54: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 55: gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 57: - name: install build requirements
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 59: sudo add-apt-repository ppa:mozillateam/ppa -y
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 60: sudo apt-get -q update
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 61: sudo apt-get -qy install dpkg-sig fakeroot moreutils
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 63: - name: Cache repo
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 64: uses: actions/cache@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 65: env:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 66: cache-name: v3
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 67: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 68: path: |
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 69: ./apt
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 70: key: repo-${{ env.cache-name }}-${{ github.ref }}-${{ hashFiles('rebuild.py', 'apt.py') }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 72: - name: force rebuild
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 73: if: ${{ github.event.inputs.build == 'true' }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 74: run: rm -rf $REPO
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 76: - name: rebuild ${{ matrix.packagesystem }} repo
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 77: id: repo
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 78: env:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 79: PYTHONUNBUFFERED: true
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 80: run: ./rebuild.py --mode apt && find $REPO -type f
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 82: - name: show status
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 83: run: echo publish=${{ steps.repo.outputs.publish }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 85: publish:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 86: runs-on: ubuntu-latest
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 87: needs: rebuild
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 88: strategy:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 89: matrix:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 90: hosting:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 91: - backblaze
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 92: - ioperf
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 93: - mwt
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 94: - github
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 95: - sourceforge
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 96: packagesystem:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 97: - apt
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 98: env:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 99: REPO: ${{ matrix.packagesystem }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 100: steps:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 101: - uses: actions/checkout@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 102: - name: Set up Python
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 103: uses: actions/setup-python@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 104: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 105: python-version: '3.10'
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 106: - name: Install dependencies
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 107: run: |
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 108: python -m pip install --upgrade pip
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 109: if [ -f requirements.txt ]; then pip install -r requirements.txt; fi
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 111: - name: Restore cached repo
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 112: uses: actions/cache@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 113: env:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 114: cache-name: v3
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 115: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 116: path: |
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 117: ./${{ matrix.packagesystem }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 118: key: repo-${{ env.cache-name }}-${{ github.ref }}-${{ hashFiles('rebuild.py', 'apt.py') }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 120: - name: install utilities
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 121: run: |
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 122: sudo apt-get -qy install moreutils pandoc
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 123: curl https://rclone.org/install.sh | sudo bash
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 125: - name: Install SF SSH Key
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 126: if: ${{ matrix.hosting == 'sourceforge' }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 127: uses: shimataro/ssh-key-action@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 128: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 129: key: ${{ secrets.SF_SSH_KEY }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 130: known_hosts: 'sourceforge'
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 131: if_key_exists: replace
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 133: - name: Install MWT SSH Key
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 134: if: ${{ matrix.hosting == 'mwt' }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 135: uses: shimataro/ssh-key-action@v2
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 136: with:
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 137: key: ${{ secrets.MWT_SSH_KEY }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 138: known_hosts: ${{ secrets.SSH_KNOWN_HOSTS }}
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 139: if_key_exists: replace
2025-11-05 22:15:20,594 - utils.process_runner - DEBUG - 라인 141: - name: configure rclone
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 142: if: ${{ matrix.hosting == 'ioperf' }} || ${{ matrix.hosting == 'backblaze' }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 143: run: |
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 144: mkdir -p ~/.config/rclone
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 145: cat <<EOF > ~/.config/rclone/rclone.conf
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 146: [b2-zotero-apt]
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 147: type = b2
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 148: account = ${{ secrets.B2_APPLICATION_KEY_ID }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 149: key = ${{ secrets.B2_APPLICATION_KEY }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 150: hard_delete = true
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 151: download_url = https://apt.retorque.re/file/zotero-apt
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 153: [b2-apt-package-archive]
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 154: type = b2
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 155: account = ${{ secrets.B2_APPLICATION_KEY_ID }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 156: key = ${{ secrets.B2_APPLICATION_KEY }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 157: hard_delete = true
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 158: download_url = https://zotero.retorque.re/file/apt-package-archive
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 160: [ioperf]
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 161: type = ftp
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 162: host = 202.61.244.114
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 163: user = ${{ secrets.IOPERF_USERNAME }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 164: explicit_tls = true
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 165: no_check_certificate = true
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 166: encoding = Slash,Asterisk,Ctl,Dot
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 167: set_modtime = false
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 168: EOF
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 170: rclone config password ioperf pass "${{ secrets.IOPERF_PASSWORD }}"
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 172: - name: publish ${{ matrix.packagesystem }} on ${{ matrix.hosting }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 173: if: ${{ needs.rebuild.outputs.publish == 'true' }} || ${{ github.event.inputs.publish == 'true' }} || ${{ github.event.inputs.publish == matrix.hosting }} || ${{ github.event.inputs.readme == 'true' }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 174: continue-on-error: ${{ matrix.hosting == 'sourceforge' }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: ${{ matrix.hosting == 'sourceforge' }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 175: env:
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 176: REFRESH: _${{ needs.rebuild.outputs.publish == 'true' }}_${{ github.event.inputs.publish == 'true' }}_${{ github.event.inputs.publish == matrix.hosting }}_${{ github.event.inputs.readme == 'true' }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 177: PYTHONUNBUFFERED: true
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 178: run: |
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 179: case "${{ matrix.hosting }}" in
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 180: backblaze)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 181: (cd $REPO && gh release view apt-get --json assets | ../ghr apt-get | bash)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 182: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 183: ioperf)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 184: curl -sL https://zotero-deb.mirror.ioperf.eu/install.sh | sudo bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 185: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 186: mwt)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 187: curl -sL https://mirror-rs.mwt.me/apt-package-archive/install.sh | bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 188: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 189: github)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 190: (cd $REPO && gh release view apt-get --json assets | ../ghr apt-get | bash)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 191: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 192: sourceforge)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 193: curl -sL https://downloads.sourceforge.net/project/zotero-deb/install.sh | sudo bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 194: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 195: esac
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 197: test:
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 198: runs-on: ubuntu-latest
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 199: needs: publish
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 200: strategy:
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 201: fail-fast: false
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 202: matrix:
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 203: hosting:
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 204: - backblaze
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 205: - ioperf
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 206: - mwt
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 207: - github
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 208: - sourceforge
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 209: steps:
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 210: - name: install apt fixes
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 211: if: matrix.hosting == 'github'
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 212: run: |
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 213: # https://github.com/retorquere/zotero-deb/issues/49
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 214: sudo add-apt-repository ppa:tj/bugfixes
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 215: sudo apt-get -q update
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 216: sudo apt-get -qy install apt
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 218: - name: test install from ${{ matrix.hosting }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 219: continue-on-error: ${{ matrix.hosting == 'sourceforge' || matrix.hosting == 'github' }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: ${{ matrix.hosting == 'sourceforge' || matrix.hosting == 'github' }}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 220: run: |
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 221: sleep 60
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 222: case "${{ matrix.hosting }}" in
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 223: backblaze)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 224: curl -sL https://zotero.retorque.re/file/apt-package-archive/install.sh | sudo bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 225: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 226: ioperf)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 227: curl -sL https://zotero-deb.mirror.ioperf.eu/install.sh | sudo bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 228: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 229: mwt)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 230: curl -sL https://mirror-rs.mwt.me/apt-package-archive/install.sh | bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 231: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 232: github)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 233: curl -sL https://github.com/retorquere/zotero-deb/releases/download/apt-get/install.sh | sudo bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 234: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 235: sourceforge)
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 236: curl -sL https://downloads.sourceforge.net/project/zotero-deb/install.sh | sudo bash
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 237: ;;
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 238: esac
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 240: sudo apt-get -q update
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 241: sudo apt-get -qy install zotero jurism zotero-beta
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 242: for c in zotero zotero-beta jurism; do
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 243: file /usr/lib/$c/${c/-beta/}
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 244: file /usr/lib/$c/${c/-beta/}-bin
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 245: file /usr/local/bin/$c
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 246: done
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 247: while scanning for the next token
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 248: found character '`' that cannot start any token
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 249: in "<file>", line 3, column 1
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 라인 250: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_temp_phase1.yml
2025-11-05 22:15:20,595 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_temp_phase1.yml
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 251: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 252: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 253: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 254: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 255: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 256: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 257: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 258: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 259: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 260: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 261: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 262: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 263: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 264: We have found 19 smells
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 265: - 3. Use fixed version for runs-on argument (line 32)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 32)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 266: - 8. Use commit hash instead of tags for action versions (line 43)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 43)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 267: - 8. Use commit hash instead of tags for action versions (line 126)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 126)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 268: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 269: - 8. Use commit hash instead of tags for action versions (line 63)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 63)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 270: - 8. Use commit hash instead of tags for action versions (line 41)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 41)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 271: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 272: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 273: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 274: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 275: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 276: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 277: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 278: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 279: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 280: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 281: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 282: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 283: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 284: The following styling errors were found:
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 285: 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:15:20,596 - utils.process_runner - DEBUG - 라인 286: 246:13: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:15:20,596 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:15:20,596 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:15:20,596 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:15:20,596 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:15:20,597 - main - DEBUG - 임시 파일 삭제: data_original/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_temp_phase1.yml
2025-11-05 22:15:20,597 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:15:20,597 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning for the next token
found character '`' that cannot start any token
  in "<unicode string>", line 3, column 1:
    ```yaml
    ^
2025-11-05 22:15:20,597 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:15:20,597 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:15:20,598 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b_two_phase_repaired.yml
2025-11-05 22:15:20,598 - __main__ - INFO - === 파일 39/100 2단계 복구 완료 ===
2025-11-05 22:15:20,598 - __main__ - ERROR - ❌ 실패 (88.94초): 10aaf8a4de3f00b49f51bc3d3b6ac3aeb21c40af2ad924f7cb979872f2390c8b
2025-11-05 22:15:20,598 - __main__ - INFO - [40/100] 처리 중: 3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 22:15:20,598 - __main__ - INFO - 입력 파일 경로: data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 22:15:20,598 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_two_phase_repaired.yml
2025-11-05 22:15:20,598 - __main__ - INFO - === 파일 40/100 2단계 복구 시작 ===
2025-11-05 22:15:20,598 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:15:20,598 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:15:20,598 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 22:15:20,598 - main - INFO - 파일 크기: 2289 문자
2025-11-05 22:15:20,598 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:15:20,598 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:15:20,599 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:15:20,599 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 22:15:20,615 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:15:20,615 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:15:20,615 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:15:20,615 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:15:20,615 - main - INFO -   오류 1: this step is for running action since it contains at least one of "uses", "with" keys, but also contains "run" key which is used for running shell command
2025-11-05 22:15:20,615 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:15:20,615 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:15:20,615 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:15:20,615 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:15:20,616 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:16:07,036 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:16:07,039 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:16:07,040 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:16:07,041 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2254 문자
2025-11-05 22:16:07,041 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:16:07,041 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:16:07,042 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_temp_phase1.yml
2025-11-05 22:16:07,043 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:16:07,043 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_temp_phase1.yml
2025-11-05 22:16:07,541 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
#
# AppScope - Update Latest Workflow
#
# Update what is returned by https://cdn.cribl.io/dl/scope/latest
# And update the "latest" tag on https://hub.docker.com/r/cribl/scope/tags
#
# based on:
#   https://levelup.gitconnected.com/how-to-manually-trigger-a-github-actions-workflow-4712542f1960
# instructions for use:
#   https://docs.github.com/en/actions/managing-workflow-runs/manually-running-a-workflow
#

name: Update Latest
on:
  workflow_dispatch:
    inputs:
      version:
        description: New Latest Version (example value "1.1.2")
        default: ""
        required: true

jobs:
  update-cdn-latest:
    name: Update CDN Latest
    runs-on: ubuntu-latest
    steps:
      - name: Update dl/scope/latest
        env:
          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
          AWS_REGION: ${{ secrets.AWS_REGION }}
          CF_DISTRIBUTION_ID: ${{ secrets.CF_DISTRIBUTION_ID }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          echo "::group::Updating https://cdn.cribl.io/dl/scope/latest to ${{ github.event.inputs.version }}"
          S3_SCOPE=s3://io.cribl.cdn/dl/scope
          TMPDIR=${RUNNER_TEMP}

          if [ -n "${{ github.event.inputs.version }}" ]; then
            echo "${{ github.event.inputs.version }}" > ${TMPDIR}/latest
            aws s3 cp ${TMPDIR}/latest ${S3_SCOPE}/latest
            aws cloudfront create-invalidation --distribution-id ${CF_DISTRIBUTION_ID} --paths '/dl/scope/latest'
          fi
          echo "::endgroup::"

  update-dockerhub-latest:
    name: Update Latest Tag in Dockerhub
    runs-on: ubuntu-latest
    needs: update-cdn-latest
    steps:
      - name: Login to Dockerhub
        uses: docker/login-action@v2
        with:
          username: scopeci
          password: ${{ secrets.SCOPECI_TOKEN }}

      - name: Update the Latest Tag
        run: |
          crane digest cribl/scope:${{ github.event.inputs.version }}
          crane tag cribl/scope:${{ github.event.inputs.version }} latest
          crane digest cribl/scope:latest
          crane manifest cribl/scope:${{ github.event.inputs.version }} | jq .
          crane manifest cribl/scope:latest | jq .
expected '<document start>', but found ('<block mapping start>',)
  in "<file>", line 14, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 25)
	- 8. Use commit hash instead of tags for action versions (line 52)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
14:1: syntax error: expected '<document start>', but found '<block mapping start>' (syntax)

2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 99
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 2: #
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 3: # AppScope - Update Latest Workflow
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 4: #
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 5: # Update what is returned by https://cdn.cribl.io/dl/scope/latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 6: # And update the "latest" tag on https://hub.docker.com/r/cribl/scope/tags
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 7: #
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 8: # based on:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 9: #   https://levelup.gitconnected.com/how-to-manually-trigger-a-github-actions-workflow-4712542f1960
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 10: # instructions for use:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 11: #   https://docs.github.com/en/actions/managing-workflow-runs/manually-running-a-workflow
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 12: #
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 14: name: Update Latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 15: on:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 16: workflow_dispatch:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 17: inputs:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 18: version:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 19: description: New Latest Version (example value "1.1.2")
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 20: default: ""
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 21: required: true
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 23: jobs:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 24: update-cdn-latest:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 25: name: Update CDN Latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 26: runs-on: ubuntu-latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 27: steps:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 28: - name: Update dl/scope/latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 29: env:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 30: AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 31: AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 32: AWS_REGION: ${{ secrets.AWS_REGION }}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 33: CF_DISTRIBUTION_ID: ${{ secrets.CF_DISTRIBUTION_ID }}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 34: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 35: run: |
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 36: echo "::group::Updating https://cdn.cribl.io/dl/scope/latest to ${{ github.event.inputs.version }}"
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 37: S3_SCOPE=s3://io.cribl.cdn/dl/scope
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 38: TMPDIR=${RUNNER_TEMP}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 40: if [ -n "${{ github.event.inputs.version }}" ]; then
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 41: echo "${{ github.event.inputs.version }}" > ${TMPDIR}/latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 42: aws s3 cp ${TMPDIR}/latest ${S3_SCOPE}/latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 43: aws cloudfront create-invalidation --distribution-id ${CF_DISTRIBUTION_ID} --paths '/dl/scope/latest'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 44: fi
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 45: echo "::endgroup::"
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 47: update-dockerhub-latest:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 48: name: Update Latest Tag in Dockerhub
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 49: runs-on: ubuntu-latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 50: needs: update-cdn-latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 51: steps:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 52: - name: Login to Dockerhub
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 53: uses: docker/login-action@v2
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 54: with:
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 55: username: scopeci
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 56: password: ${{ secrets.SCOPECI_TOKEN }}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 58: - name: Update the Latest Tag
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 59: run: |
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 60: crane digest cribl/scope:${{ github.event.inputs.version }}
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 61: crane tag cribl/scope:${{ github.event.inputs.version }} latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 62: crane digest cribl/scope:latest
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 63: crane manifest cribl/scope:${{ github.event.inputs.version }} | jq .
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 64: crane manifest cribl/scope:latest | jq .
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 65: expected '<document start>', but found ('<block mapping start>',)
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 66: in "<file>", line 14, column 1
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 67: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_temp_phase1.yml
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_temp_phase1.yml
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,542 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 81: We have found 15 smells
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 82: - 3. Use fixed version for runs-on argument (line 25)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 25)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 83: - 8. Use commit hash instead of tags for action versions (line 52)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 52)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 84: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 93: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 97: The following styling errors were found:
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 라인 98: 14:1: syntax error: expected '<document start>', but found '<block mapping start>' (syntax)
2025-11-05 22:16:07,543 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 14:1: syntax error: expected '<document start>', but found '<block mapping start>' (syntax)
2025-11-05 22:16:07,543 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:16:07,543 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:16:07,543 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:16:07,543 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:16:07,543 - main - DEBUG - 임시 파일 삭제: data_original/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_temp_phase1.yml
2025-11-05 22:16:07,543 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:16:07,544 - utils.yaml_parser - DEBUG - YAML 문법 오류: expected '<document start>', but found '<block mapping start>'
  in "<unicode string>", line 14, column 1:
    name: Update Latest
    ^
2025-11-05 22:16:07,544 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:16:07,544 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:16:07,544 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f_two_phase_repaired.yml
2025-11-05 22:16:07,544 - __main__ - INFO - === 파일 40/100 2단계 복구 완료 ===
2025-11-05 22:16:07,544 - __main__ - ERROR - ❌ 실패 (46.95초): 3b0f4d26d3c262ab4ceb80fe3b383abd64fc981e08206b7ea81978d3d489443f
2025-11-05 22:16:07,544 - __main__ - INFO - [41/100] 처리 중: b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 22:16:07,544 - __main__ - INFO - 입력 파일 경로: data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 22:16:07,545 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_two_phase_repaired.yml
2025-11-05 22:16:07,545 - __main__ - INFO - === 파일 41/100 2단계 복구 시작 ===
2025-11-05 22:16:07,545 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:16:07,545 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:16:07,545 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 22:16:07,545 - main - INFO - 파일 크기: 7051 문자
2025-11-05 22:16:07,545 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:16:07,545 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:16:07,545 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:16:07,545 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 22:16:07,562 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:16:07,562 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:16:07,562 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:16:07,562 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:16:07,562 - main - INFO -   오류 1: unexpected key "deploy_to_dockerhub" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 22:16:07,563 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:16:07,563 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:16:07,563 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:16:07,563 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:16:07,564 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:17:37,016 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:17:37,020 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:17:37,021 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:17:37,021 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 6994 문자
2025-11-05 22:17:37,022 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:17:37,022 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:17:37,024 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_temp_phase1.yml
2025-11-05 22:17:37,024 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:17:37,025 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_temp_phase1.yml
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: MindsDB Tests & Deploy

on:
  push:
  pull_request:
    branches:
      - stable
    paths-ignore:
      - 'docs/**'
      - 'README.md'

jobs:
  matrix_prep:
    runs-on: ubuntu-latest
    outputs:
      matrix: ${{ steps.set-matrix.outputs.matrix }}
    steps:
      - uses: actions/checkout@v2
      - id: set-matrix
        uses: JoshuaTheMiller/conditional-build-matrix@0.0.1
        with:
          filter: '[?runOn==`${{ github.ref }}` || runOn==`always`]'
  test:
    needs: matrix_prep
    strategy:
      matrix: ${{fromJson(needs.matrix_prep.outputs.matrix)}}
    name: Tests
    runs-on: ${{ matrix.runs_on }}
    if: github.ref_type == 'branch'
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python ${{ matrix.python-version }}
      uses: actions/setup-python@v2
      with:
        python-version: ${{ matrix.python-version }}
    - name: Install dependencies
      run: |
        #python -m pip install --upgrade pip==21.0.1
        pip install 'pymssql >= 2.1.4'
        pip install boto3
        pip install --no-cache-dir .
        pip install -r requirements_test.txt
      shell: bash
      env:
        ACCESS_KEY:  ${{ secrets.GH_ACCESS_KEY }}
        mindsdb_github_masterkey: ${{secrets.mindsdb_github_masterkey}}
    - name: Install dependencies Windows
      run: |
        if [ "$RUNNER_OS" == "Windows" ]; then
          pip install torch==1.7.0+cpu torchvision==0.8.1+cpu -f https://download.pytorch.org/whl/torch_stable.html;
        fi
      shell: bash
      env:
        CHECK_FOR_UPDATES: False
    - name: Install lightwood/staging if it's not mindsdb/stable
      if: ${{ github.ref != 'refs/heads/stable' }}
      run: |
          pip install git+https://github.com/mindsdb/lightwood.git@staging --upgrade --no-cache-dir
    - name: Run integration api and flow tests
      run: |
        if [ "$RUNNER_OS" == "Linux" ]; then
          mkdir -p ~/.ssh/
          echo "$DB_MACHINE_KEY" > ~/.ssh/db_machine
          sudo chmod 600 ~/.ssh/db_machine
          echo "$DB_MACHINE_MS_KEY" > ~/.ssh/db_machine_ms
          sudo chmod 600 ~/.ssh/db_machine_ms
          echo "$DATABASE_CREDENTIALS" > ~/.mindsdb_credentials.json
          sudo chmod 644 ~/.mindsdb_credentials.json

          export USE_EXTERNAL_DB_SERVER="1"

          # MySQL API
          echo -e "\n===============\ntest MySQL API\n===============\n"
          python tests/integration_tests/flows/test_mysql_api.py

          # # Kafka Stream
          # echo -e "\n===============\ntest Kafka Stream\n===============\n"
          # python tests/integration_tests/flows/test_kafka.py

          # Redis Stream
          echo -e "\n===============\ntest Redis Stream\n===============\n"
          python tests/integration_tests/flows/test_redis.py

          # Company independent
          echo -e "\n===============\ntest company independent\n===============\n"
          python tests/integration_tests/flows/test_company_independent.py

          # HTTP
          echo -e "\n===============\ntest HTTP\n===============\n"
          python tests/integration_tests/flows/test_http.py

          # ClickHouse
          echo -e "\n===============\ntest ClickHouse\n===============\n"
          python tests/integration_tests/flows/test_clickhouse.py

          # MsSQL
          echo -e "\n===============\ntest MsSQL\n===============\n"
          python tests/integration_tests/flows/test_mssql.py


          # MongoDB
          #echo -e "\n===============\ntest MongoDB\n===============\n"
          #python tests/integration_tests/flows/test_mongo.py


          # PostgreSQL
          echo -e "\n===============\ntest PostgreSQL\n===============\n"
          python tests/integration_tests/flows/test_postgres.py


          # MySQL
          echo -e "\n===============\ntest MySQL\n===============\n"
          python tests/integration_tests/flows/test_mysql.py


          # MariaDB
          echo -e "\n===============\ntest MariaDB\n===============\n"
          python tests/integration_tests/flows/test_mariadb.py


          # user flow 1
          echo -e "\n===============\ntest user flow 1\n===============\n"
          python tests/integration_tests/flows/test_user_flow_1.py


          # user flow 2
          echo -e "\n===============\ntest user flow 2\n===============\n"
          python tests/integration_tests/flows/test_user_flow_2.py

          # flow with mistakes
          echo -e "\n===============\nflow with mistakes\n===============\n"
          python tests/integration_tests/flows/test_mistakes.py
        fi
      shell: bash
      env:
        CHECK_FOR_UPDATES: False
        DB_MACHINE_KEY: ${{secrets.DB_MACHINE_KEY}}
        DB_MACHINE_MS_KEY: ${{secrets.DB_MACHINE_MS_KEY}}
        DATABASE_CREDENTIALS: ${{secrets.DATABASE_CREDENTIALS}}
        AWS_SECRET_ACCESS_KEY: ${{secrets.AWS_SECRET_ACCESS_KEY}}
        AWS_ACCESS_KEY_ID: ${{secrets.AWS_ACCESS_KEY_ID}}

  deploy_to_pypi:
    runs-on: ubuntu-latest
    needs: test
    if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.7'
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install setuptools wheel twine
    - name: Build and publish
      env:
        TWINE_USERNAME:  __token__
        TWINE_PASSWORD: ${{ secrets.PYPI_PASSWORD }}
      run: |
        python setup.py sdist
        twine upload dist/*
    - name: Install latest version from pypi to see that all is working
      run: |
        sleep 90
        pip install mindsdb

  create_version_file:
    runs-on: ubuntu-latest
    needs: test
    if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.7'
    - name: Create version files
      run: |
        python create_version_file.py beta

    - name: Sync version file to s3
      uses: jakejarvis/s3-sync-action@master
      with:
        args: --acl public-read --follow-symlinks
      env:
        AWS_S3_BUCKET: 'mindsdb-installer'
        AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
        AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
        AWS_REGION: 'us-west-2'
        SOURCE_DIR: 'distributions/ver/dist'
        DEST_DIR: 'mindsdb-installer/ver'

  deploy_to_dockerhub:
    needs: [deploy_to_pypi, create_version_file]
    if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
    steps:
      - uses: actions/checkout@v2
      - name: Docker Login
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}
          
      - name: Docker build and push
        run: |
          cd docker
          python3 build.py release
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 14)
	- 8. Use commit hash instead of tags for action versions (line 201)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
206:1: trailing spaces (trailing-spaces)
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 250
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 2: name: MindsDB Tests & Deploy
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 6: pull_request:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 7: branches:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 8: - stable
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 9: paths-ignore:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 10: - 'docs/**'
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 11: - 'README.md'
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 13: jobs:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 14: matrix_prep:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 15: runs-on: ubuntu-latest
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 16: outputs:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 17: matrix: ${{ steps.set-matrix.outputs.matrix }}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 18: steps:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 19: - uses: actions/checkout@v2
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 20: - id: set-matrix
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 21: uses: JoshuaTheMiller/conditional-build-matrix@0.0.1
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 22: with:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 23: filter: '[?runOn==`${{ github.ref }}` || runOn==`always`]'
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 24: test:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 25: needs: matrix_prep
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 26: strategy:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 27: matrix: ${{fromJson(needs.matrix_prep.outputs.matrix)}}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 28: name: Tests
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 29: runs-on: ${{ matrix.runs_on }}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 30: if: github.ref_type == 'branch'
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 31: steps:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 32: - uses: actions/checkout@v2
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 33: - name: Set up Python ${{ matrix.python-version }}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 34: uses: actions/setup-python@v2
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 36: python-version: ${{ matrix.python-version }}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 37: - name: Install dependencies
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 38: run: |
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 39: #python -m pip install --upgrade pip==21.0.1
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 40: pip install 'pymssql >= 2.1.4'
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 41: pip install boto3
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 42: pip install --no-cache-dir .
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 43: pip install -r requirements_test.txt
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 44: shell: bash
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 45: env:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 46: ACCESS_KEY:  ${{ secrets.GH_ACCESS_KEY }}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 47: mindsdb_github_masterkey: ${{secrets.mindsdb_github_masterkey}}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 48: - name: Install dependencies Windows
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 49: run: |
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 50: if [ "$RUNNER_OS" == "Windows" ]; then
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 51: pip install torch==1.7.0+cpu torchvision==0.8.1+cpu -f https://download.pytorch.org/whl/torch_stable.html;
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 52: fi
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 53: shell: bash
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 54: env:
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 55: CHECK_FOR_UPDATES: False
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 56: - name: Install lightwood/staging if it's not mindsdb/stable
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 57: if: ${{ github.ref != 'refs/heads/stable' }}
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 59: pip install git+https://github.com/mindsdb/lightwood.git@staging --upgrade --no-cache-dir
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 60: - name: Run integration api and flow tests
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 61: run: |
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 62: if [ "$RUNNER_OS" == "Linux" ]; then
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 63: mkdir -p ~/.ssh/
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 64: echo "$DB_MACHINE_KEY" > ~/.ssh/db_machine
2025-11-05 22:17:37,525 - utils.process_runner - DEBUG - 라인 65: sudo chmod 600 ~/.ssh/db_machine
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 66: echo "$DB_MACHINE_MS_KEY" > ~/.ssh/db_machine_ms
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 67: sudo chmod 600 ~/.ssh/db_machine_ms
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 68: echo "$DATABASE_CREDENTIALS" > ~/.mindsdb_credentials.json
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 69: sudo chmod 644 ~/.mindsdb_credentials.json
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 71: export USE_EXTERNAL_DB_SERVER="1"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 73: # MySQL API
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 74: echo -e "\n===============\ntest MySQL API\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 75: python tests/integration_tests/flows/test_mysql_api.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 77: # # Kafka Stream
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 78: # echo -e "\n===============\ntest Kafka Stream\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 79: # python tests/integration_tests/flows/test_kafka.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 81: # Redis Stream
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 82: echo -e "\n===============\ntest Redis Stream\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 83: python tests/integration_tests/flows/test_redis.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 85: # Company independent
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 86: echo -e "\n===============\ntest company independent\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 87: python tests/integration_tests/flows/test_company_independent.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 89: # HTTP
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 90: echo -e "\n===============\ntest HTTP\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 91: python tests/integration_tests/flows/test_http.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 93: # ClickHouse
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 94: echo -e "\n===============\ntest ClickHouse\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 95: python tests/integration_tests/flows/test_clickhouse.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 97: # MsSQL
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 98: echo -e "\n===============\ntest MsSQL\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 99: python tests/integration_tests/flows/test_mssql.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 102: # MongoDB
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 103: #echo -e "\n===============\ntest MongoDB\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 104: #python tests/integration_tests/flows/test_mongo.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 107: # PostgreSQL
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 108: echo -e "\n===============\ntest PostgreSQL\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 109: python tests/integration_tests/flows/test_postgres.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 112: # MySQL
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 113: echo -e "\n===============\ntest MySQL\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 114: python tests/integration_tests/flows/test_mysql.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 117: # MariaDB
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 118: echo -e "\n===============\ntest MariaDB\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 119: python tests/integration_tests/flows/test_mariadb.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 122: # user flow 1
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 123: echo -e "\n===============\ntest user flow 1\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 124: python tests/integration_tests/flows/test_user_flow_1.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 127: # user flow 2
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 128: echo -e "\n===============\ntest user flow 2\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 129: python tests/integration_tests/flows/test_user_flow_2.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 131: # flow with mistakes
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 132: echo -e "\n===============\nflow with mistakes\n===============\n"
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 133: python tests/integration_tests/flows/test_mistakes.py
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 134: fi
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 135: shell: bash
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 136: env:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 137: CHECK_FOR_UPDATES: False
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 138: DB_MACHINE_KEY: ${{secrets.DB_MACHINE_KEY}}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 139: DB_MACHINE_MS_KEY: ${{secrets.DB_MACHINE_MS_KEY}}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 140: DATABASE_CREDENTIALS: ${{secrets.DATABASE_CREDENTIALS}}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 141: AWS_SECRET_ACCESS_KEY: ${{secrets.AWS_SECRET_ACCESS_KEY}}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 142: AWS_ACCESS_KEY_ID: ${{secrets.AWS_ACCESS_KEY_ID}}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 144: deploy_to_pypi:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 145: runs-on: ubuntu-latest
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 146: needs: test
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 147: if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 148: steps:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 149: - uses: actions/checkout@v2
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 150: - name: Set up Python
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 151: uses: actions/setup-python@v2
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 152: with:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 153: python-version: '3.7'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 154: - name: Install dependencies
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 155: run: |
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 156: python -m pip install --upgrade pip
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 157: pip install setuptools wheel twine
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 158: - name: Build and publish
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 159: env:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 160: TWINE_USERNAME:  __token__
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 161: TWINE_PASSWORD: ${{ secrets.PYPI_PASSWORD }}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 162: run: |
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 163: python setup.py sdist
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 164: twine upload dist/*
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 165: - name: Install latest version from pypi to see that all is working
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 166: run: |
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 167: sleep 90
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 168: pip install mindsdb
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 170: create_version_file:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 171: runs-on: ubuntu-latest
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 172: needs: test
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 173: if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 174: steps:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 175: - uses: actions/checkout@v2
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 176: - name: Set up Python
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 177: uses: actions/setup-python@v2
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 178: with:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 179: python-version: '3.7'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 180: - name: Create version files
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 181: run: |
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 182: python create_version_file.py beta
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 184: - name: Sync version file to s3
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 185: uses: jakejarvis/s3-sync-action@master
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 186: with:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 187: args: --acl public-read --follow-symlinks
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 188: env:
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 189: AWS_S3_BUCKET: 'mindsdb-installer'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 190: AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 191: AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 192: AWS_REGION: 'us-west-2'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 193: SOURCE_DIR: 'distributions/ver/dist'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 194: DEST_DIR: 'mindsdb-installer/ver'
2025-11-05 22:17:37,526 - utils.process_runner - DEBUG - 라인 196: deploy_to_dockerhub:
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 197: needs: [deploy_to_pypi, create_version_file]
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 198: if: github.ref == 'refs/heads/stable' && github.actor != 'mindsdbadmin'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 199: steps:
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 200: - uses: actions/checkout@v2
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 201: - name: Docker Login
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 202: uses: docker/login-action@v1
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 203: with:
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 204: username: ${{ secrets.DOCKER_USERNAME }}
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 205: password: ${{ secrets.DOCKER_PASSWORD }}
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 207: - name: Docker build and push
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 208: run: |
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 209: cd docker
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 210: python3 build.py release
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 211: mapping values are not allowed here
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 212: in "<file>", line 2, column 5
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 213: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_temp_phase1.yml
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_temp_phase1.yml
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 214: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 215: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 216: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 217: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 218: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 219: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 220: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 221: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 222: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 223: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 224: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 225: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 226: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 227: We have found 19 smells
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 228: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 229: - 8. Use commit hash instead of tags for action versions (line 201)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 201)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 230: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 231: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 232: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 233: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 234: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 235: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 236: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 237: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 238: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 239: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 240: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 241: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 242: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 243: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 244: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 245: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 246: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 247: The following styling errors were found:
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 248: 206:1: trailing spaces (trailing-spaces)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 라인 249: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:17:37,527 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:17:37,527 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:17:37,527 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:17:37,527 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:17:37,527 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:17:37,528 - main - DEBUG - 임시 파일 삭제: data_original/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_temp_phase1.yml
2025-11-05 22:17:37,528 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:17:37,529 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: MindsDB Tests & Deploy
        ^
2025-11-05 22:17:37,529 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:17:37,529 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:17:37,530 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4_two_phase_repaired.yml
2025-11-05 22:17:37,530 - __main__ - INFO - === 파일 41/100 2단계 복구 완료 ===
2025-11-05 22:17:37,530 - __main__ - ERROR - ❌ 실패 (89.98초): b3d9c061128a7cc41dd723ebf0f64183a8a8bb9974685f4a1a8ae9df8e3b1dc4
2025-11-05 22:17:37,530 - __main__ - INFO - [42/100] 처리 중: f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 22:17:37,530 - __main__ - INFO - 입력 파일 경로: data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 22:17:37,530 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_two_phase_repaired.yml
2025-11-05 22:17:37,530 - __main__ - INFO - === 파일 42/100 2단계 복구 시작 ===
2025-11-05 22:17:37,530 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:17:37,530 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:17:37,530 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 22:17:37,530 - main - INFO - 파일 크기: 2343 문자
2025-11-05 22:17:37,530 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:17:37,530 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:17:37,531 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:17:37,531 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab
2025-11-05 22:17:37,547 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:17:37,547 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:17:37,547 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:17:37,547 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:17:37,547 - main - INFO -   오류 1: could not parse as YAML: yaml: line 22: could not find expected ':'
2025-11-05 22:17:37,547 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:17:37,547 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:17:37,547 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:17:37,548 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:17:37,548 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:18:18,168 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:18:18,172 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:18:18,173 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:18:18,173 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2166 문자
2025-11-05 22:18:18,173 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:18:18,174 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:18:18,174 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_temp_phase1.yml
2025-11-05 22:18:18,175 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:18:18,175 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_temp_phase1.yml
2025-11-05 22:18:18,676 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:18:18,676 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_temp_phase1.yml
We have found 10 smells
	- 3. Use fixed version for runs-on argument (line 22)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 8. Use commit hash instead of tags for action versions (line 25)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 14)
	- 10. Avoid jobs without timeouts (line: 36)
	- 13. Use names for run steps (lines 26:26)
	- 14. Avoid incorrectly formatted workflows
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
22:20: too few spaces before comment: expected 2 (comments)
44:24: too few spaces before comment: expected 2 (comments)
71:17: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:18:18,676 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 17
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_temp_phase1.yml
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_temp_phase1.yml
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 2: We have found 10 smells
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 10 smells
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 22)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 22)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 4: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 25)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 25)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 6: - 9. Steps should only perform a single command (line -1)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 7: - 10. Avoid jobs without timeouts (line: 14)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 14)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 36)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 36)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 9: - 13. Use names for run steps (lines 26:26)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 26:26)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 10: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 11: - 18. Avoid installing packages without version (line -1)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 12: - 22. Avoid deploying jobs on forks
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 13: The following styling errors were found:
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 14: 22:20: too few spaces before comment: expected 2 (comments)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 15: 44:24: too few spaces before comment: expected 2 (comments)
2025-11-05 22:18:18,677 - utils.process_runner - DEBUG - 라인 16: 71:17: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:18:18,677 - utils.process_runner - INFO - 총 2개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:18:18,677 - utils.process_runner - INFO - Smell detector 실행 완료: 2개 스멜 발견
2025-11-05 22:18:18,677 - main - INFO - 스멜 2개 발견
2025-11-05 22:18:18,677 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 14)
2025-11-05 22:18:18,677 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 36)
2025-11-05 22:18:18,677 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 22:18:18,677 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 22:18:18,677 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:18:18,677 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:18:18,678 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:20:00,315 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:20:00,318 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:20:00,319 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 22:20:00,320 - main - INFO - Phase 2 완료, 최종 YAML 크기: 2516 문자
2025-11-05 22:20:00,320 - main - DEBUG - 임시 파일 삭제: data_original/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_temp_phase1.yml
2025-11-05 22:20:00,320 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:20:00,332 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Python package', 'on': ['push', 'pull_request'], 'permissions': {'contents': 'read'}, 'jobs': {'mypy': {'strategy': {'matrix': {'python-version': ['3.7', '3.8', '3.9', '3.10', '3.11']}}, 'runs-on': "${{ matrix.os || 'ubuntu-latest' }}", 'timeout-minutes': 30, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install dependencies', 'run': 'python -m pip install mypy'}, {'name': 'Check types with mypy', 'run': 'mypy --strict idna'}]}, 'build': {'strategy': {'matrix': {'python-version': ['3.7', '3.8', '3.9', '3.10', 'pypy-3.8'], 'include': [{'python-version': 3.5, 'os': 'ubuntu-20.04'}, {'python-version': 3.6, 'os': 'ubuntu-20.04'}]}}, 'runs-on': "${{ matrix.os || 'ubuntu-latest' }}", 'timeout-minutes': 30, 'steps': [{'uses': 'actions/checkout@v3'}, {'name': 'Set up Python ${{ matrix.python-version }}', 'uses': 'actions/setup-python@v4', 'with': {'python-version': '${{ matrix.python-version }}'}}, {'name': 'Install dependencies', 'run': 'python -m pip install --upgrade pip\npython -m pip install flake8 pytest\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n'}, {'name': 'Lint with flake8', 'run': '# stop the build if there are Python syntax errors or undefined names\nflake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n# exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\nflake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics\n'}, {'name': 'Test with pytest', 'run': 'pytest\n'}]}}}
2025-11-05 22:20:00,332 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_two_phase_repaired.yml
2025-11-05 22:20:00,332 - main - INFO - 2단계 모드 복구 완료
2025-11-05 22:20:00,332 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_two_phase_repaired.yml
2025-11-05 22:20:00,332 - __main__ - INFO - === 파일 42/100 2단계 복구 완료 ===
2025-11-05 22:20:00,333 - __main__ - INFO - ✅ 성공 (142.80초): f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab -> f9d87cc0f84699ac9f757b92171c78660575a8ac9c5d21c1a814746844c3ecab_two_phase_repaired.yml
2025-11-05 22:20:00,333 - __main__ - INFO - [43/100] 처리 중: 4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 22:20:00,333 - __main__ - INFO - 입력 파일 경로: data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 22:20:00,333 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_two_phase_repaired.yml
2025-11-05 22:20:00,333 - __main__ - INFO - === 파일 43/100 2단계 복구 시작 ===
2025-11-05 22:20:00,333 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:20:00,333 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:20:00,334 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 22:20:00,334 - main - INFO - 파일 크기: 1719 문자
2025-11-05 22:20:00,334 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:20:00,334 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:20:00,334 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:20:00,334 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 22:20:00,342 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:20:00,342 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:20:00,342 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:20:00,342 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:20:00,343 - main - INFO -   오류 1: could not parse as YAML: yaml: line 17: mapping values are not allowed in this context
2025-11-05 22:20:00,343 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:20:00,343 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:20:00,343 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:20:00,343 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:20:00,345 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:20:55,288 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:20:55,291 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:20:55,292 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:20:55,292 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1723 문자
2025-11-05 22:20:55,292 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:20:55,292 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:20:55,294 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_temp_phase1.yml
2025-11-05 22:20:55,294 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:20:55,294 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_temp_phase1.yml
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Publish & deploy canary version

on:
  push:
    branches:
      - main
    paths-ignore:
      - "*.md"
      - "templates/**"
      - "scripts/**"
      - ".vscode/**"
      - "apps/**"

jobs:
  publish:
    name: Publish canary version - ${{ github.event_name }}
    if: github.event_name == 'push' && !contains(github.event.head_commit.message, 'chore: next version release')
    runs-on: ubuntu-latest
    permissions:
      id-token: write
    env:
      TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}
      TURBO_TEAM: ${{ secrets.TURBO_TEAM }}

    steps:
      - name: Check out code
        uses: actions/checkout@v3

      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - run: corepack enable
      - run: pnpm --version
      - uses: actions/setup-node@v3
        with:
          node-version: 18
          cache: "pnpm"
          cache-dependency-path: "**/pnpm-lock.yaml"

      - name: install
        run: pnpm install --frozen-lockfile --prefer-offline

      - name: Build packages
        run: pnpm run build --filter='./packages/*'

      - name: Generate shapshot
        run: |
          pnpm up -r --workspace templates 
          pnpm run version --snapshot canary
        env:
          GITHUB_TOKEN: ${{ secrets.CHANGESETS_TOKEN }}

      - name: Set publishing config
        run: npm config set '//registry.npmjs.org/:_authToken' "${NODE_AUTH_TOKEN}"
        env:
          NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}

      - name: Publish canary packages
        run: pnpm changeset publish --no-git-tag --no-git-checks --tag canary
        env:
          NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}
          NPM_CONFIG_PROVENANCE: true
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 18)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
65:38: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 104
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 2: name: Publish & deploy canary version
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 7: - main
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 8: paths-ignore:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 9: - "*.md"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 10: - "templates/**"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 11: - "scripts/**"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 12: - ".vscode/**"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 13: - "apps/**"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 16: publish:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 17: name: Publish canary version - ${{ github.event_name }}
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 18: if: github.event_name == 'push' && !contains(github.event.head_commit.message, 'chore: next version release')
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 19: runs-on: ubuntu-latest
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 20: permissions:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 21: id-token: write
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 22: env:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 23: TURBO_TOKEN: ${{ secrets.TURBO_TOKEN }}
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 24: TURBO_TEAM: ${{ secrets.TURBO_TEAM }}
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 26: steps:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 27: - name: Check out code
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 28: uses: actions/checkout@v3
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 30: - name: Install Node.js
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 31: uses: actions/setup-node@v3
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 32: with:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 33: node-version: 18
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 35: - run: corepack enable
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 36: - run: pnpm --version
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 37: - uses: actions/setup-node@v3
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 38: with:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 39: node-version: 18
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 40: cache: "pnpm"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 41: cache-dependency-path: "**/pnpm-lock.yaml"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 43: - name: install
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 44: run: pnpm install --frozen-lockfile --prefer-offline
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 46: - name: Build packages
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 47: run: pnpm run build --filter='./packages/*'
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 49: - name: Generate shapshot
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 50: run: |
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 51: pnpm up -r --workspace templates
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 52: pnpm run version --snapshot canary
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 53: env:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 54: GITHUB_TOKEN: ${{ secrets.CHANGESETS_TOKEN }}
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 56: - name: Set publishing config
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 57: run: npm config set '//registry.npmjs.org/:_authToken' "${NODE_AUTH_TOKEN}"
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 58: env:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 59: NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 61: - name: Publish canary packages
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 62: run: pnpm changeset publish --no-git-tag --no-git-checks --tag canary
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 63: env:
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 64: NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 65: NPM_CONFIG_PROVENANCE: true
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 66: mapping values are not allowed here
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 67: in "<file>", line 2, column 5
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 라인 68: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_temp_phase1.yml
2025-11-05 22:20:55,628 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_temp_phase1.yml
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 82: We have found 18 smells
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 83: - 3. Use fixed version for runs-on argument (line 18)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 18)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 84: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 85: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 86: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 87: - 12. Avoid workflows without comments
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 88: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 93: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 97: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 101: The following styling errors were found:
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 102: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:20:55,629 - utils.process_runner - DEBUG - 라인 103: 65:38: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:20:55,629 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:20:55,629 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:20:55,629 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:20:55,629 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:20:55,629 - main - DEBUG - 임시 파일 삭제: data_original/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_temp_phase1.yml
2025-11-05 22:20:55,630 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:20:55,630 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Publish & deploy canary version
        ^
2025-11-05 22:20:55,630 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:20:55,630 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:20:55,630 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566_two_phase_repaired.yml
2025-11-05 22:20:55,630 - __main__ - INFO - === 파일 43/100 2단계 복구 완료 ===
2025-11-05 22:20:55,630 - __main__ - ERROR - ❌ 실패 (55.30초): 4247c12c6c5616647a866bb7b76cfbd6c08fc4eb52d9441f7430e93ad81b7566
2025-11-05 22:20:55,631 - __main__ - INFO - [44/100] 처리 중: 976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 22:20:55,631 - __main__ - INFO - 입력 파일 경로: data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 22:20:55,631 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_two_phase_repaired.yml
2025-11-05 22:20:55,631 - __main__ - INFO - === 파일 44/100 2단계 복구 시작 ===
2025-11-05 22:20:55,631 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:20:55,631 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:20:55,631 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 22:20:55,631 - main - INFO - 파일 크기: 3255 문자
2025-11-05 22:20:55,631 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:20:55,631 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:20:55,631 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:20:55,631 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 22:20:55,649 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:20:55,650 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:20:55,650 - main - INFO - actionlint에서 3개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:20:55,650 - main - INFO - actionlint 오류 3개 발견
2025-11-05 22:20:55,650 - main - INFO -   오류 1: unexpected key "check-imports" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 22:20:55,650 - main - INFO -   오류 2: unexpected key "test-latest-dev-deps" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 22:20:55,650 - main - INFO -   오류 3: unexpected key "markdown-link-check" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 22:20:55,650 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:20:55,650 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:20:55,650 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:20:55,650 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:20:55,651 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:22:59,198 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:22:59,202 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:22:59,203 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:22:59,203 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2789 문자
2025-11-05 22:22:59,203 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:22:59,203 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:22:59,204 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_temp_phase1.yml
2025-11-05 22:22:59,204 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:22:59,204 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_temp_phase1.yml
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.37초)
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Dependency and link scanner

on:
  schedule:
    # Triggers the workflow every day at 0130 UTC
    - cron: "30 1 * * *"
  workflow_dispatch:

jobs:
  # Repo usage stats
  calculate-stats:
    runs-on: ubuntu-22.04
    environment: "analytics"
    steps:
      - uses: jgehrcke/github-repo-stats@HEAD
        with:
          ghtoken: ${{ secrets.GH_TOKEN_ANALYTICS }}

  check-imports:
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [ "ubuntu-latest", "windows-latest", "macos-latest" ]
        python-version: ["3.8"]
    defaults:
      run:
        shell: bash
    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Set up Python ${{ matrix.python-version }}
        id: setup-python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}

      - name: Install latest versions of core dependencies.
        run: |
          python3 -m pip install --upgrade pip-tools
          python3 -m pip install .

      # smoke-tests that check imports
      - name: Check imports
        # these modules cover most of the imports for the core package
        # Note: if these modules are renamed, please update this list
        run: |
          python -m superduperdb.db.base.db
          python -m superduperdb.db.base.backends
          python -m superduperdb.container.model 

  test-latest-dev-deps:
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [ "ubuntu-latest" ]  # TODO: add "windows-latest", "macos-latest" when Docker removed
        python-version: ["3.8"]
    defaults:
      run:
        shell: bash
    steps:
      - name: Check out repository
        uses: actions/checkout@v3

      - name: Set up Python ${{ matrix.python-version }}
        id: setup-python
        uses: actions/setup-python@v4
        with:
          python-version: ${{ matrix.python-version }}

      - name: Install latest versions of developer dependencies
        run: |
          python3 -m pip install --upgrade pip-tools
          python3 -m pip install .[dev]

      - name: Run tests
        run: make test

  markdown-link-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - name: Create configuration for handling relative paths
        # regex validation: https://regex101.com/r/L2M2wa/1
        run: |
          cat <<EOF > mlc_config.json
          {
            "replacementPatterns": [
              {
              "pattern": "^[./]",
              "replacement": "{{BASEURL}}/"
              }
              ]
          }
          EOF
      - uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          config-file: 'mlc_config.json'
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 82)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 98)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
101:41: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 139
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 라인 2: name: Dependency and link scanner
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 라인 5: schedule:
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 라인 6: # Triggers the workflow every day at 0130 UTC
2025-11-05 22:22:59,573 - utils.process_runner - DEBUG - 라인 7: - cron: "30 1 * * *"
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 8: workflow_dispatch:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 11: # Repo usage stats
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 12: calculate-stats:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 13: runs-on: ubuntu-22.04
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 14: environment: "analytics"
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 16: - uses: jgehrcke/github-repo-stats@HEAD
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 18: ghtoken: ${{ secrets.GH_TOKEN_ANALYTICS }}
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 20: check-imports:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 21: runs-on: ${{ matrix.os }}
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 22: strategy:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 23: fail-fast: false
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 24: matrix:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 25: os: [ "ubuntu-latest", "windows-latest", "macos-latest" ]
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 26: python-version: ["3.8"]
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 27: defaults:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 28: run:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 29: shell: bash
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 30: steps:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 31: - name: Check out repository
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 32: uses: actions/checkout@v3
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 34: - name: Set up Python ${{ matrix.python-version }}
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 35: id: setup-python
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 36: uses: actions/setup-python@v4
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 38: python-version: ${{ matrix.python-version }}
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 40: - name: Install latest versions of core dependencies.
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 41: run: |
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 42: python3 -m pip install --upgrade pip-tools
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 43: python3 -m pip install .
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 45: # smoke-tests that check imports
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 46: - name: Check imports
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 47: # these modules cover most of the imports for the core package
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 48: # Note: if these modules are renamed, please update this list
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 49: run: |
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 50: python -m superduperdb.db.base.db
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 51: python -m superduperdb.db.base.backends
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 52: python -m superduperdb.container.model
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 54: test-latest-dev-deps:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 55: runs-on: ${{ matrix.os }}
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 56: strategy:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 57: fail-fast: false
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 58: matrix:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 59: os: [ "ubuntu-latest" ]  # TODO: add "windows-latest", "macos-latest" when Docker removed
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 60: python-version: ["3.8"]
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 61: defaults:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 62: run:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 63: shell: bash
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 64: steps:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 65: - name: Check out repository
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 66: uses: actions/checkout@v3
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 68: - name: Set up Python ${{ matrix.python-version }}
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 69: id: setup-python
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 70: uses: actions/setup-python@v4
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 72: python-version: ${{ matrix.python-version }}
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 74: - name: Install latest versions of developer dependencies
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 75: run: |
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 76: python3 -m pip install --upgrade pip-tools
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 77: python3 -m pip install .[dev]
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 79: - name: Run tests
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 80: run: make test
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 82: markdown-link-check:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 83: runs-on: ubuntu-latest
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 84: steps:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 85: - uses: actions/checkout@master
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 86: - name: Create configuration for handling relative paths
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 87: # regex validation: https://regex101.com/r/L2M2wa/1
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 88: run: |
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 89: cat <<EOF > mlc_config.json
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 90: {
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 91: "replacementPatterns": [
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 92: {
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 93: "pattern": "^[./]",
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 94: "replacement": "{{BASEURL}}/"
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 95: }
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 96: ]
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 97: }
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 98: EOF
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 99: - uses: gaurav-nelson/github-action-markdown-link-check@v1
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 100: with:
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 101: config-file: 'mlc_config.json'
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 102: mapping values are not allowed here
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 103: in "<file>", line 2, column 5
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 104: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_temp_phase1.yml
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_temp_phase1.yml
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 105: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 106: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 라인 107: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,574 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 108: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 109: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 110: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 111: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 112: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 113: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 114: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 115: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 116: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 118: We have found 17 smells
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 119: - 3. Use fixed version for runs-on argument (line 82)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 82)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 120: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 121: - 8. Use commit hash instead of tags for action versions (line 98)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 98)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 122: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 123: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 125: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 126: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 127: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 128: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 129: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 130: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 131: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 132: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 133: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 134: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 135: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 136: The following styling errors were found:
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 137: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:22:59,575 - utils.process_runner - DEBUG - 라인 138: 101:41: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:22:59,575 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:22:59,575 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:22:59,575 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:22:59,575 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:22:59,576 - main - DEBUG - 임시 파일 삭제: data_original/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_temp_phase1.yml
2025-11-05 22:22:59,576 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:22:59,576 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Dependency and link scanner
        ^
2025-11-05 22:22:59,576 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:22:59,576 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:22:59,576 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5_two_phase_repaired.yml
2025-11-05 22:22:59,576 - __main__ - INFO - === 파일 44/100 2단계 복구 완료 ===
2025-11-05 22:22:59,576 - __main__ - ERROR - ❌ 실패 (123.95초): 976bd50e7346f4a5df96b0b8c0354ebe760388bc927d04dfe51f49d323e154a5
2025-11-05 22:22:59,576 - __main__ - INFO - [45/100] 처리 중: 0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 22:22:59,576 - __main__ - INFO - 입력 파일 경로: data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 22:22:59,577 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_two_phase_repaired.yml
2025-11-05 22:22:59,577 - __main__ - INFO - === 파일 45/100 2단계 복구 시작 ===
2025-11-05 22:22:59,577 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:22:59,577 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:22:59,577 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 22:22:59,577 - main - INFO - 파일 크기: 670 문자
2025-11-05 22:22:59,577 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:22:59,577 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:22:59,577 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:22:59,577 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 22:22:59,593 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:22:59,593 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:22:59,594 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:22:59,594 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:22:59,594 - main - INFO -   오류 1: unexpected key "eeename" for "workflow" section. expected one of "concurrency", "defaults", "env", "jobs", "name", "on", "permissions", "run-name"
2025-11-05 22:22:59,594 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:22:59,594 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:22:59,594 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:22:59,594 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:22:59,595 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:24:18,720 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1527
2025-11-05 22:24:18,724 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:24:18,726 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:24:18,726 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 749 문자
2025-11-05 22:24:18,726 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:24:18,726 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:24:18,728 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_temp_phase1.yml
2025-11-05 22:24:18,728 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:24:18,729 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_temp_phase1.yml
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build and Push to Nuget

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
        
    steps:
      - uses: actions/checkout@v1
 
      - name: setup dotnet
        uses: actions/setup-dotnet@v1
        with:
          dotnet-version: 6.0.100

      - name: test
        run: |
          dotnet test --filter Category!=Dependencies

      - name: pack
        run: |
          cd Mjml.Net && dotnet pack -c Release

      - name: publish
        if: github.event_name != 'pull_request' && github.ref_name == 'main'
        run: |
          dotnet nuget push **/*.nupkg --source 'https://api.nuget.org/v3/index.json' --skip-duplicate -k ${{ secrets.nuget }} --no-symbols 1
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
The following styling errors were found: 
13:1: trailing spaces (trailing-spaces)
16:1: trailing spaces (trailing-spaces)
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 72
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 2: name: Build and Push to Nuget
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 6: branches: [ main ]
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 8: branches: [ main ]
2025-11-05 22:24:19,105 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 11: build:
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v1
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 17: - name: setup dotnet
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 18: uses: actions/setup-dotnet@v1
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 19: with:
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 20: dotnet-version: 6.0.100
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 22: - name: test
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 23: run: |
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 24: dotnet test --filter Category!=Dependencies
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 26: - name: pack
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 27: run: |
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 28: cd Mjml.Net && dotnet pack -c Release
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 30: - name: publish
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 31: if: github.event_name != 'pull_request' && github.ref_name == 'main'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 32: run: |
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 33: dotnet nuget push **/*.nupkg --source 'https://api.nuget.org/v3/index.json' --skip-duplicate -k ${{ secrets.nuget }} --no-symbols 1
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 34: mapping values are not allowed here
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 35: in "<file>", line 2, column 5
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 36: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_temp_phase1.yml
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_temp_phase1.yml
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 50: We have found 17 smells
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 51: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 52: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 53: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 54: - 12. Avoid workflows without comments
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 55: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 68: The following styling errors were found:
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 69: 13:1: trailing spaces (trailing-spaces)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 70: 16:1: trailing spaces (trailing-spaces)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 라인 71: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:24:19,106 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:24:19,106 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:24:19,106 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:24:19,106 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:24:19,107 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:24:19,107 - main - DEBUG - 임시 파일 삭제: data_original/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_temp_phase1.yml
2025-11-05 22:24:19,107 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:24:19,107 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build and Push to Nuget
        ^
2025-11-05 22:24:19,107 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:24:19,107 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:24:19,107 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1_two_phase_repaired.yml
2025-11-05 22:24:19,107 - __main__ - INFO - === 파일 45/100 2단계 복구 완료 ===
2025-11-05 22:24:19,107 - __main__ - ERROR - ❌ 실패 (79.53초): 0f6d276552ad82963e57e83280cc9eb88ebd4eb654d9b14809fed16ac95213b1
2025-11-05 22:24:19,107 - __main__ - INFO - [46/100] 처리 중: e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 22:24:19,107 - __main__ - INFO - 입력 파일 경로: data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 22:24:19,108 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_two_phase_repaired.yml
2025-11-05 22:24:19,108 - __main__ - INFO - === 파일 46/100 2단계 복구 시작 ===
2025-11-05 22:24:19,108 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:24:19,108 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:24:19,108 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 22:24:19,108 - main - INFO - 파일 크기: 768 문자
2025-11-05 22:24:19,108 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:24:19,108 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:24:19,108 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:24:19,108 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 22:24:19,115 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:24:19,115 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:24:19,115 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:24:19,115 - main - INFO - actionlint 오류 2개 발견
2025-11-05 22:24:19,115 - main - INFO -   오류 1: string should not be empty
2025-11-05 22:24:19,115 - main - INFO -   오류 2: unexpected end of input while parsing variable access, function call, null, bool, int, float or string. expecting "IDENT", "(", "INTEGER", "FLOAT", "STRING"
2025-11-05 22:24:19,115 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:24:19,115 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:24:19,115 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:24:19,115 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:24:19,116 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:26:08,773 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1456
2025-11-05 22:26:08,778 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:26:08,779 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:26:08,779 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 765 문자
2025-11-05 22:26:08,780 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:26:08,780 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:26:08,781 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_temp_phase1.yml
2025-11-05 22:26:08,781 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:26:08,781 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_temp_phase1.yml
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Helper

on:
  pull_request_target:
    types:
      - closed

jobs:
  instructions:
    name: instructions
    runs-on: ubuntu-latest
    if: 
      github.event_name == 'pull_request_target' && github.event.action == 'closed' && github.event.pull_request.merged == true
    steps:
      - uses: actions/checkout@v2
      - name: Comment
        uses: actions/github-script@v3
        with:
          github-token: ${{secrets.GITHUB_TOKEN}}
          script: |
            const { hasLabel } = require(`${process.env.GITHUB_WORKSPACE}/scripts/action-utils.js`);
            const { instructions } = require(`${process.env.GITHUB_WORKSPACE}/scripts/reply.js`);
            if (hasLabel(context, 'domain'))
              await instructions(context, github);
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
25:51: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 63
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 2: name: Helper
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 5: pull_request_target:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 6: types:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 7: - closed
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 10: instructions:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 11: name: instructions
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 13: if:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 14: github.event_name == 'pull_request_target' && github.event.action == 'closed' && github.event.pull_request.merged == true
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 16: - uses: actions/checkout@v2
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 17: - name: Comment
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 18: uses: actions/github-script@v3
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 19: with:
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 20: github-token: ${{secrets.GITHUB_TOKEN}}
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 21: script: |
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 22: const { hasLabel } = require(`${process.env.GITHUB_WORKSPACE}/scripts/action-utils.js`);
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 23: const { instructions } = require(`${process.env.GITHUB_WORKSPACE}/scripts/reply.js`);
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 24: if (hasLabel(context, 'domain'))
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 25: await instructions(context, github);
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 26: mapping values are not allowed here
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 27: in "<file>", line 2, column 5
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 28: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_temp_phase1.yml
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_temp_phase1.yml
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 42: We have found 17 smells
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 43: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 44: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 22:26:09,161 - utils.process_runner - DEBUG - 라인 45: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 46: - 12. Avoid workflows without comments
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 47: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 60: The following styling errors were found:
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 61: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:26:09,162 - utils.process_runner - DEBUG - 라인 62: 25:51: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:26:09,162 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:26:09,162 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:26:09,162 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:26:09,162 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:26:09,162 - main - DEBUG - 임시 파일 삭제: data_original/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_temp_phase1.yml
2025-11-05 22:26:09,162 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:26:09,162 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Helper
        ^
2025-11-05 22:26:09,162 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:26:09,162 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:26:09,163 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc_two_phase_repaired.yml
2025-11-05 22:26:09,163 - __main__ - INFO - === 파일 46/100 2단계 복구 완료 ===
2025-11-05 22:26:09,163 - __main__ - ERROR - ❌ 실패 (110.06초): e413f663053377e00614f72f1bc34979d48f84e925fbc0bb453c196612f281dc
2025-11-05 22:26:09,163 - __main__ - INFO - [47/100] 처리 중: 29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 22:26:09,163 - __main__ - INFO - 입력 파일 경로: data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 22:26:09,163 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_two_phase_repaired.yml
2025-11-05 22:26:09,163 - __main__ - INFO - === 파일 47/100 2단계 복구 시작 ===
2025-11-05 22:26:09,163 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:26:09,163 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:26:09,164 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 22:26:09,164 - main - INFO - 파일 크기: 640 문자
2025-11-05 22:26:09,164 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:26:09,164 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:26:09,164 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:26:09,164 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 22:26:09,170 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:26:09,170 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:26:09,170 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:26:09,170 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:26:09,170 - main - INFO -   오류 1: key "contents" is duplicated in "permissions" section. previously defined at line:13,col:7. note that this key is case insensitive
2025-11-05 22:26:09,171 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:26:09,171 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:26:09,171 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:26:09,171 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:26:09,173 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:26:40,457 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1196
2025-11-05 22:26:40,460 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:26:40,461 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:26:40,461 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 622 문자
2025-11-05 22:26:40,461 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:26:40,461 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:26:40,462 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_temp_phase1.yml
2025-11-05 22:26:40,462 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:26:40,462 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_temp_phase1.yml
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.34초)
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: SDKs
on:
  push:
    tags:
      - v*

permissions:
  contents: read

jobs:
  sdk:
    permissions:
      packages: write # for publishing packages
      contents: write  # for creating releases
    if: github.repository == 'argoproj/argo-workflows'
    runs-on: ubuntu-latest
    name: Publish SDK
    strategy:
      matrix:
        name:
        - java
        - python
    steps:
      - uses: actions/checkout@v3
      - run: make --directory sdks/${{matrix.name}} publish -B
        env:
          JAVA_SDK_MAVEN_PASSWORD: ${{ secrets.GITHUB_TOKEN }}
          PYPI_API_TOKEN: ${{ secrets.PYPI_API_TOKEN }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 16)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 64
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 2: name: SDKs
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 5: tags:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 6: - v*
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 8: permissions:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 9: contents: read
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 12: sdk:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 13: permissions:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 14: packages: write # for publishing packages
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 15: contents: write  # for creating releases
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 16: if: github.repository == 'argoproj/argo-workflows'
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 18: name: Publish SDK
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 19: strategy:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 20: matrix:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 21: name:
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 22: - java
2025-11-05 22:26:40,807 - utils.process_runner - DEBUG - 라인 23: - python
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 24: steps:
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 25: - uses: actions/checkout@v3
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 26: - run: make --directory sdks/${{matrix.name}} publish -B
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 27: env:
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 28: JAVA_SDK_MAVEN_PASSWORD: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 29: PYPI_API_TOKEN: ${{ secrets.PYPI_API_TOKEN }}
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 30: mapping values are not allowed here
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 31: in "<file>", line 2, column 5
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 32: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_temp_phase1.yml
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_temp_phase1.yml
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 46: We have found 15 smells
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 47: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 48: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 49: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 62: The following styling errors were found:
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 라인 63: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:26:40,808 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:26:40,808 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:26:40,808 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:26:40,808 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:26:40,808 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:26:40,809 - main - DEBUG - 임시 파일 삭제: data_original/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_temp_phase1.yml
2025-11-05 22:26:40,809 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:26:40,809 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: SDKs
        ^
2025-11-05 22:26:40,809 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:26:40,809 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:26:40,809 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8_two_phase_repaired.yml
2025-11-05 22:26:40,810 - __main__ - INFO - === 파일 47/100 2단계 복구 완료 ===
2025-11-05 22:26:40,810 - __main__ - ERROR - ❌ 실패 (31.65초): 29bf497aa30bf874788443bc1d3a3006d2ecd4c01bc82f4d9b0305ad205923c8
2025-11-05 22:26:40,810 - __main__ - INFO - [48/100] 처리 중: 95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 22:26:40,810 - __main__ - INFO - 입력 파일 경로: data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 22:26:40,810 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_two_phase_repaired.yml
2025-11-05 22:26:40,810 - __main__ - INFO - === 파일 48/100 2단계 복구 시작 ===
2025-11-05 22:26:40,810 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:26:40,810 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:26:40,810 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 22:26:40,810 - main - INFO - 파일 크기: 1777 문자
2025-11-05 22:26:40,810 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:26:40,810 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:26:40,810 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:26:40,810 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 22:26:40,815 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 22:26:40,815 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:26:40,816 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:26:40,816 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:26:40,816 - main - INFO -   오류 1: this step is for running action since it contains at least one of "uses", "with" keys, but also contains "run" key which is used for running shell command
2025-11-05 22:26:40,816 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:26:40,816 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:26:40,816 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:26:40,816 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:26:40,816 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:27:34,179 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:27:34,183 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:27:34,184 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:27:34,184 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1616 문자
2025-11-05 22:27:34,184 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:27:34,184 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:27:34,185 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_temp_phase1.yml
2025-11-05 22:27:34,185 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:27:34,185 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_temp_phase1.yml
2025-11-05 22:27:34,548 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.36초)
2025-11-05 22:27:34,548 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Prerelease

on:
  push:
    branches:
      - "master"

jobs:
  publish-npm:
    runs-on: ubuntu-latest
    if: "!contains(github.event.head_commit.message, 'skip ci') && !contains(github.event.head_commit.message, 'chore(release): packages')"
    steps:
      - name: GitHub context
        run: echo "$GITHUB_CONTEXT"
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
      - name: Checkout
        uses: actions/checkout@v2
        with:
          ref: master
      - name: Fetch tags
        uses: actions/checkout@v2
        run: git fetch --depth=1 origin +refs/tags/*:refs/tags/*
      - name: Read .nvmrc
        id: nvm
        run: echo ::set-output name=NVMRC::$(cat .nvmrc)
      - name: yarn cache directory
        id: yarn-cache
        run: |
          echo "::set-output name=dir::$(yarn cache dir)"
      - name: Setup node_modules cache
        uses: actions/cache@v1
        with:
          path: ${{ steps.yarn-cache.outputs.dir }}
          key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}
          restore-keys: |
            ${{ runner.os }}-yarn-
      - name: Setup Node (uses version in .nvmrc)
        uses: actions/setup-node@v1
        with:
          node-version: "${{ steps.nvm.outputs.NVMRC }}"
          registry-url: https://registry.npmjs.org/
          scope: flopflip
      - name: Install
        run: yarn install --frozen-lockfile
      - name: Publish to next dist-tag
        run: |
          echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" > .npmrc
          yarn release:next
        env:
          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 39)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 90
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 2: name: Prerelease
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 7: - "master"
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 10: publish-npm:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 12: if: "!contains(github.event.head_commit.message, 'skip ci') && !contains(github.event.head_commit.message, 'chore(release): packages')"
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 14: - name: GitHub context
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 15: run: echo "$GITHUB_CONTEXT"
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 16: env:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 17: GITHUB_CONTEXT: ${{ toJson(github) }}
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 18: - name: Checkout
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 19: uses: actions/checkout@v2
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 21: ref: master
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 22: - name: Fetch tags
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 23: uses: actions/checkout@v2
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 24: run: git fetch --depth=1 origin +refs/tags/*:refs/tags/*
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 25: - name: Read .nvmrc
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 26: id: nvm
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 27: run: echo ::set-output name=NVMRC::$(cat .nvmrc)
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 28: - name: yarn cache directory
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 29: id: yarn-cache
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 30: run: |
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 31: echo "::set-output name=dir::$(yarn cache dir)"
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 32: - name: Setup node_modules cache
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 33: uses: actions/cache@v1
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 35: path: ${{ steps.yarn-cache.outputs.dir }}
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 36: key: ${{ runner.os }}-yarn-${{ hashFiles('**/yarn.lock') }}
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 37: restore-keys: |
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 38: ${{ runner.os }}-yarn-
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 39: - name: Setup Node (uses version in .nvmrc)
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 40: uses: actions/setup-node@v1
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 41: with:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 42: node-version: "${{ steps.nvm.outputs.NVMRC }}"
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 43: registry-url: https://registry.npmjs.org/
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 44: scope: flopflip
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 45: - name: Install
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 46: run: yarn install --frozen-lockfile
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 47: - name: Publish to next dist-tag
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 48: run: |
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 49: echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" > .npmrc
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 50: yarn release:next
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 51: env:
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 52: NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 53: mapping values are not allowed here
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 54: in "<file>", line 2, column 5
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 55: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_temp_phase1.yml
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_temp_phase1.yml
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 69: We have found 18 smells
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 70: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 71: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 22:27:34,549 - utils.process_runner - DEBUG - 라인 72: - 8. Use commit hash instead of tags for action versions (line 39)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 39)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 73: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 74: - 12. Avoid workflows without comments
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 75: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 88: The following styling errors were found:
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 라인 89: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:27:34,550 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:27:34,550 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:27:34,550 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:27:34,550 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:27:34,550 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:27:34,550 - main - DEBUG - 임시 파일 삭제: data_original/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_temp_phase1.yml
2025-11-05 22:27:34,550 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:27:34,550 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Prerelease
        ^
2025-11-05 22:27:34,550 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:27:34,550 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:27:34,551 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f_two_phase_repaired.yml
2025-11-05 22:27:34,551 - __main__ - INFO - === 파일 48/100 2단계 복구 완료 ===
2025-11-05 22:27:34,551 - __main__ - ERROR - ❌ 실패 (53.74초): 95c07077993c5fd733f1203e19b50b00be42e94cdd5ba548f7364154c4fa472f
2025-11-05 22:27:34,551 - __main__ - INFO - [49/100] 처리 중: e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 22:27:34,551 - __main__ - INFO - 입력 파일 경로: data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 22:27:34,551 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_two_phase_repaired.yml
2025-11-05 22:27:34,551 - __main__ - INFO - === 파일 49/100 2단계 복구 시작 ===
2025-11-05 22:27:34,551 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:27:34,551 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:27:34,552 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 22:27:34,552 - main - INFO - 파일 크기: 746 문자
2025-11-05 22:27:34,552 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:27:34,552 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:27:34,552 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:27:34,552 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 22:27:34,569 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:27:34,569 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:27:34,570 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:27:34,570 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:27:34,570 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 22:27:34,570 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:27:34,570 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:27:34,570 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:27:34,570 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:27:34,571 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:28:25,774 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1420
2025-11-05 22:28:25,778 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:28:25,779 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:28:25,779 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 748 문자
2025-11-05 22:28:25,779 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:28:25,779 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:28:25,780 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_temp_phase1.yml
2025-11-05 22:28:25,780 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:28:25,781 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_temp_phase1.yml
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: GitHub pages

on:
  schedule:
    - cron: '*/15 * * * *'
  push:
    branches:
      - main

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Install Supplemental Dependencies
        run: npm i
      - name: Build
        run: npm run build
      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
          publish_dir: ./site
          cname: drops.warframestat.us
          force_orphan: true
          user_name: 'Jimmy Bot'
          user_email: 'translator@warframe.gg'
      - name: Pushback
        run:
          - chmod +x .github/pushback.sh
          - ./pushback.sh
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 70
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 2: name: GitHub pages
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 5: schedule:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 6: - cron: '*/15 * * * *'
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 7: push:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 8: branches:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 9: - main
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 11: jobs:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 12: deploy:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 13: runs-on: ubuntu-latest
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 15: - name: Checkout code
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 16: uses: actions/checkout@v2
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 17: - name: Install Supplemental Dependencies
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 18: run: npm i
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 19: - name: Build
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 20: run: npm run build
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 21: - name: Deploy
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 22: uses: peaceiris/actions-gh-pages@v3
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 23: with:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 24: deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 25: publish_dir: ./site
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 26: cname: drops.warframestat.us
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 27: force_orphan: true
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 28: user_name: 'Jimmy Bot'
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 29: user_email: 'translator@warframe.gg'
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 30: - name: Pushback
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 31: run:
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 32: - chmod +x .github/pushback.sh
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 33: - ./pushback.sh
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 34: mapping values are not allowed here
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 35: in "<file>", line 2, column 5
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 36: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_temp_phase1.yml
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_temp_phase1.yml
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,099 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 50: We have found 17 smells
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 51: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 52: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 53: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 54: - 12. Avoid workflows without comments
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 55: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 68: The following styling errors were found:
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 라인 69: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:28:26,100 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:28:26,100 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:28:26,100 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:28:26,100 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:28:26,100 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:28:26,100 - main - DEBUG - 임시 파일 삭제: data_original/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_temp_phase1.yml
2025-11-05 22:28:26,100 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:28:26,101 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: GitHub pages
        ^
2025-11-05 22:28:26,101 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:28:26,101 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:28:26,101 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094_two_phase_repaired.yml
2025-11-05 22:28:26,101 - __main__ - INFO - === 파일 49/100 2단계 복구 완료 ===
2025-11-05 22:28:26,101 - __main__ - ERROR - ❌ 실패 (51.55초): e41b62a551af6cb18015456463bc047af12251d324dac5e65729b0c02772b094
2025-11-05 22:28:26,101 - __main__ - INFO - [50/100] 처리 중: 01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 22:28:26,101 - __main__ - INFO - 입력 파일 경로: data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 22:28:26,101 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_two_phase_repaired.yml
2025-11-05 22:28:26,101 - __main__ - INFO - === 파일 50/100 2단계 복구 시작 ===
2025-11-05 22:28:26,101 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:28:26,101 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:28:26,102 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 22:28:26,102 - main - INFO - 파일 크기: 5377 문자
2025-11-05 22:28:26,102 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:28:26,102 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:28:26,102 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:28:26,102 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 22:28:26,109 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:28:26,109 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:28:26,109 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:28:26,109 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:28:26,109 - main - INFO -   오류 1: input type of workflow_dispatch event must be one of "string", "number", "boolean", "choice", "environment" but got "str"
2025-11-05 22:28:26,110 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:28:26,110 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:28:26,110 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:28:26,110 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:28:26,111 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:29:28,119 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:29:28,123 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:29:28,124 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:29:28,125 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 5453 문자
2025-11-05 22:29:28,125 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:29:28,125 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:29:28,126 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_temp_phase1.yml
2025-11-05 22:29:28,126 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:29:28,126 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_temp_phase1.yml
2025-11-05 22:29:28,628 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: Here's the fixed YAML workflow:

```yml
name: Publish OneDocker image

on:
  workflow_dispatch:
    inputs:
      name:
        description: 'Manually running this workflow will skip "Check New Commits" step and build image directly'
        default: "Run"
      new_tag:
        description: "The new tag of the docker image"
        required: false
        type: string
        default: latest-build
      tracker_hash:
        description: "[Internal usage] Used for tracking workflow job status within Meta infra"
        required: false
        type: string  # Changed from 'str' to 'string'

env:
  DISTRO: ubuntu
  REGISTRY: ghcr.io
  LOCAL_IMAGE_NAME: fbpcs/onedocker/test
  RC_REGISTRY_IMAGE_NAME: ghcr.io/${{ github.repository }}/rc/onedocker
  PROD_REGISTRY_IMAGE_NAME: ghcr.io/${{ github.repository }}/onedocker
  COORDINATOR_IMAGE: ghcr.io/facebookresearch/fbpcs/coordinator
  PL_CONTAINER_NAME: e2e_pl_container
  PA_CONTAINER_NAME: e2e_pa_container
  TIME_RANGE: 24 hours
  FBPCF_VERSION: 2.1.132  # Please also update line 8 in .github/workflows/build_fbpcs_images.yml
  PID_VERSION: 0.0.8

jobs:
  ### Build and publish rc/onedocker image
  build_image:
    name: Build Onedocker, MPC Games and Data Processing Images
    runs-on: [self-hosted, fbpcs-build]
    permissions:
      contents: read
      packages: write

    steps:
      - uses: actions/checkout@v3

      - name: Print Tracker Hash
        run: echo ${{ inputs.tracker_hash }}

      - name: Remove unused images
        run: |
          docker image prune -af

      - name: Build onedocker image in rc
        run: |
          ./build-docker.sh onedocker -t ${{ inputs.new_tag }} -f -p linux/amd64 -v ${{ env.FBPCF_VERSION }} -i ${{ env.PID_VERSION }}

      - name: Log into registry ${{ env.REGISTRY }}
        uses: docker/login-action@v1
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Tag docker image
        run: |
          docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}
          docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}
          # temporarily tagging with rc because the task definition
          # (fbpcs-github-cicd:4 https://us-west-2.console.aws.amazon.com/ecs/home?region=us-west-2#/taskDefinitions/fbpcs-github-cicd/4)
          # points at :rc instead of latest-build
          docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:rc

      - name: Push image to rc registry
        run: |
          docker push --all-tags ${{ env.RC_REGISTRY_IMAGE_NAME }}

  e2e_test:
    name: Run End to End Tests
    runs-on: ubuntu-latest
    needs: build_image
    permissions:
      id-token: write
      contents: read
      packages: write

    steps:
      - uses: actions/checkout@v3

      - name: Print Tracker Hash
        run: echo ${{ inputs.tracker_hash }}

      - name: Get AWS Session name
        id: aws_session_name
        run: |
          echo session_name=$(echo publish-onedocker-tests-${{ inputs.new_tag }} | tr " " "-") >> $GITHUB_OUTPUT

      - name: Set AWS credentials
        uses: aws-actions/configure-aws-credentials@v1
        with:
          role-to-assume: ${{ secrets.AWS_E2E_TEST_ROLE_TO_ASSUME }}
          aws-region: us-west-2
          role-duration-seconds: 5400
          role-session-name: ${{ steps.aws_session_name.outputs.session_name }}

      - name: Clean Up Docker Images
        run: |
          docker image prune -af

      - name: Pull coordinator image
        run: |
          docker pull ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }}

      ### Private Lift and Attribution E2E tests
      - name: End to end testing
        timeout-minutes: 90
        run: |
          docker run -e AWS_ACCESS_KEY_ID -e AWS_SECRET_ACCESS_KEY -e AWS_SESSION_TOKEN -e AWS_DEFAULT_REGION --rm -v "instances":"/instances" -v "$(realpath fbpcs_e2e_aws.yml):/home/pcs/pl_coordinator_env/fbpcs_e2e_aws.yml" -v "$(realpath bolt_config.yml):/home/pcs/pl_coordinator_env/bolt_config.yml" ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }} python3.8 -m fbpcs.private_computation_cli.private_computation_cli bolt_e2e --bolt_config="bolt_config.yml"
        working-directory: fbpcs/tests/github/

      - name: Pull image from rc registry
        run: |
          docker pull ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}

      - name: Set output
        id: vars
        run: echo ::set-output name=ref::${GITHUB_REF##*/}

      - name: Tag image
        run: |
          docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ github.sha }}
          docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}
          docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ steps.vars.outputs.ref }}

      - name: Log into registry ${{ env.REGISTRY }}
        uses: docker/login-action@v1
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Push docker image to prod registry
        run: |
          docker push --all-tags ${{ env.PROD_REGISTRY_IMAGE_NAME }}
while scanning for the next token
found character '`' that cannot start any token
  in "<file>", line 3, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 79)
	- 8. Use commit hash instead of tags for action versions (line 58)
	- 8. Use commit hash instead of tags for action versions (line 98)
	- 8. Use commit hash instead of tags for action versions (line 44)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
3:1: syntax error: found character '`' that cannot start any token (syntax)
144:69: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 183
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: Here's the fixed YAML workflow:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 3: ```yml
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 4: name: Publish OneDocker image
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 8: inputs:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 9: name:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 10: description: 'Manually running this workflow will skip "Check New Commits" step and build image directly'
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 11: default: "Run"
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 12: new_tag:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 13: description: "The new tag of the docker image"
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 14: required: false
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 15: type: string
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 16: default: latest-build
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 17: tracker_hash:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 18: description: "[Internal usage] Used for tracking workflow job status within Meta infra"
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 19: required: false
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 20: type: string  # Changed from 'str' to 'string'
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 22: env:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 23: DISTRO: ubuntu
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 24: REGISTRY: ghcr.io
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 25: LOCAL_IMAGE_NAME: fbpcs/onedocker/test
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 26: RC_REGISTRY_IMAGE_NAME: ghcr.io/${{ github.repository }}/rc/onedocker
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 27: PROD_REGISTRY_IMAGE_NAME: ghcr.io/${{ github.repository }}/onedocker
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 28: COORDINATOR_IMAGE: ghcr.io/facebookresearch/fbpcs/coordinator
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 29: PL_CONTAINER_NAME: e2e_pl_container
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 30: PA_CONTAINER_NAME: e2e_pa_container
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 31: TIME_RANGE: 24 hours
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 32: FBPCF_VERSION: 2.1.132  # Please also update line 8 in .github/workflows/build_fbpcs_images.yml
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 33: PID_VERSION: 0.0.8
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 35: jobs:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 36: ### Build and publish rc/onedocker image
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 37: build_image:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 38: name: Build Onedocker, MPC Games and Data Processing Images
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 39: runs-on: [self-hosted, fbpcs-build]
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 40: permissions:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 41: contents: read
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 42: packages: write
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 44: steps:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 45: - uses: actions/checkout@v3
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 47: - name: Print Tracker Hash
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 48: run: echo ${{ inputs.tracker_hash }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 50: - name: Remove unused images
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 51: run: |
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 52: docker image prune -af
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 54: - name: Build onedocker image in rc
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 55: run: |
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 56: ./build-docker.sh onedocker -t ${{ inputs.new_tag }} -f -p linux/amd64 -v ${{ env.FBPCF_VERSION }} -i ${{ env.PID_VERSION }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 58: - name: Log into registry ${{ env.REGISTRY }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 59: uses: docker/login-action@v1
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 60: with:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 61: registry: ${{ env.REGISTRY }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 62: username: ${{ github.actor }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 63: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 65: - name: Tag docker image
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 66: run: |
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 67: docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 68: docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 69: # temporarily tagging with rc because the task definition
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 70: # (fbpcs-github-cicd:4 https://us-west-2.console.aws.amazon.com/ecs/home?region=us-west-2#/taskDefinitions/fbpcs-github-cicd/4)
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 71: # points at :rc instead of latest-build
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 72: docker tag ${{ env.LOCAL_IMAGE_NAME }}:${{ inputs.new_tag }} ${{ env.RC_REGISTRY_IMAGE_NAME }}:rc
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 74: - name: Push image to rc registry
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 75: run: |
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 76: docker push --all-tags ${{ env.RC_REGISTRY_IMAGE_NAME }}
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 78: e2e_test:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 79: name: Run End to End Tests
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 80: runs-on: ubuntu-latest
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 81: needs: build_image
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 82: permissions:
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 83: id-token: write
2025-11-05 22:29:28,629 - utils.process_runner - DEBUG - 라인 84: contents: read
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 85: packages: write
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 87: steps:
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 88: - uses: actions/checkout@v3
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 90: - name: Print Tracker Hash
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 91: run: echo ${{ inputs.tracker_hash }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 93: - name: Get AWS Session name
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 94: id: aws_session_name
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 95: run: |
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 96: echo session_name=$(echo publish-onedocker-tests-${{ inputs.new_tag }} | tr " " "-") >> $GITHUB_OUTPUT
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 98: - name: Set AWS credentials
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 99: uses: aws-actions/configure-aws-credentials@v1
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 100: with:
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 101: role-to-assume: ${{ secrets.AWS_E2E_TEST_ROLE_TO_ASSUME }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 102: aws-region: us-west-2
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 103: role-duration-seconds: 5400
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 104: role-session-name: ${{ steps.aws_session_name.outputs.session_name }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 106: - name: Clean Up Docker Images
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 107: run: |
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 108: docker image prune -af
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 110: - name: Pull coordinator image
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 111: run: |
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 112: docker pull ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 114: ### Private Lift and Attribution E2E tests
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 115: - name: End to end testing
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 116: timeout-minutes: 90
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 117: run: |
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 118: docker run -e AWS_ACCESS_KEY_ID -e AWS_SECRET_ACCESS_KEY -e AWS_SESSION_TOKEN -e AWS_DEFAULT_REGION --rm -v "instances":"/instances" -v "$(realpath fbpcs_e2e_aws.yml):/home/pcs/pl_coordinator_env/fbpcs_e2e_aws.yml" -v "$(realpath bolt_config.yml):/home/pcs/pl_coordinator_env/bolt_config.yml" ${{ env.COORDINATOR_IMAGE }}:${{ inputs.new_tag }} python3.8 -m fbpcs.private_computation_cli.private_computation_cli bolt_e2e --bolt_config="bolt_config.yml"
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 119: working-directory: fbpcs/tests/github/
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 121: - name: Pull image from rc registry
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 122: run: |
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 123: docker pull ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 125: - name: Set output
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 126: id: vars
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 127: run: echo ::set-output name=ref::${GITHUB_REF##*/}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 129: - name: Tag image
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 130: run: |
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 131: docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ github.sha }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 132: docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ inputs.new_tag }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 133: docker tag ${{ env.RC_REGISTRY_IMAGE_NAME }}:${{ github.sha }} ${{ env.PROD_REGISTRY_IMAGE_NAME }}:${{ steps.vars.outputs.ref }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 135: - name: Log into registry ${{ env.REGISTRY }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 136: uses: docker/login-action@v1
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 137: with:
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 138: registry: ${{ env.REGISTRY }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 139: username: ${{ github.actor }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 140: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 142: - name: Push docker image to prod registry
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 143: run: |
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 144: docker push --all-tags ${{ env.PROD_REGISTRY_IMAGE_NAME }}
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 145: while scanning for the next token
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 146: found character '`' that cannot start any token
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 147: in "<file>", line 3, column 1
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 148: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_temp_phase1.yml
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_temp_phase1.yml
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 149: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 150: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 151: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 152: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 153: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 154: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 155: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 156: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 157: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 158: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 159: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 160: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 161: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 162: We have found 17 smells
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 163: - 3. Use fixed version for runs-on argument (line 79)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 79)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 164: - 8. Use commit hash instead of tags for action versions (line 58)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 58)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 165: - 8. Use commit hash instead of tags for action versions (line 98)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 98)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 166: - 8. Use commit hash instead of tags for action versions (line 44)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 44)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 167: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 168: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 169: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 170: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 171: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 172: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:29:28,630 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 180: The following styling errors were found:
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 181: 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:29:28,631 - utils.process_runner - DEBUG - 라인 182: 144:69: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:29:28,631 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:29:28,631 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:29:28,631 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:29:28,631 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:29:28,631 - main - DEBUG - 임시 파일 삭제: data_original/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_temp_phase1.yml
2025-11-05 22:29:28,631 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:29:28,631 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning for the next token
found character '`' that cannot start any token
  in "<unicode string>", line 3, column 1:
    ```yml
    ^
2025-11-05 22:29:28,631 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:29:28,631 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:29:28,632 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93_two_phase_repaired.yml
2025-11-05 22:29:28,632 - __main__ - INFO - === 파일 50/100 2단계 복구 완료 ===
2025-11-05 22:29:28,632 - __main__ - ERROR - ❌ 실패 (62.53초): 01a4c66498480a201e67a8e18ea4bab86b04d9fad745a5ff405dec5417221b93
2025-11-05 22:29:28,632 - __main__ - INFO - [51/100] 처리 중: 99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 22:29:28,632 - __main__ - INFO - 입력 파일 경로: data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 22:29:28,632 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_two_phase_repaired.yml
2025-11-05 22:29:28,632 - __main__ - INFO - === 파일 51/100 2단계 복구 시작 ===
2025-11-05 22:29:28,632 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:29:28,632 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:29:28,633 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 22:29:28,633 - main - INFO - 파일 크기: 11260 문자
2025-11-05 22:29:28,633 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:29:28,633 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:29:28,633 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:29:28,633 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 22:29:28,649 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:29:28,649 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:29:28,649 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:29:28,649 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:29:28,649 - main - INFO -   오류 1: could not parse as YAML: yaml: line 5: did not find expected key
2025-11-05 22:29:28,649 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:29:28,649 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:29:28,649 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:29:28,649 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:29:28,650 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:30:53,737 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:30:53,742 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:30:53,743 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:30:53,744 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7518 문자
2025-11-05 22:30:53,744 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:30:53,745 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:30:53,746 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_temp_phase1.yml
2025-11-05 22:30:53,746 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:30:53,746 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_temp_phase1.yml
2025-11-05 22:30:54,241 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: Here's the fixed YAML workflow:

```yml
name: Build-And-Deploy
on:
  schedule:
    - cron: "0 8 * * *"
  workflow_dispatch:
    inputs:
      isDeploy:
        description: "Whether the build should be deployed?"
        type: boolean
        required: true
        default: false
      skipBinaries:
        description: "Skip building precompiled binaries?"
        type: boolean
        required: true
        default: false
      skipJava:
        description: "Skip building Java?"
        type: boolean
        required: true
        default: false
      skipNodejs:
        description: "Skip building Node.js?"
        type: boolean
        required: true
        default: false
      skipPython:
        description: "Skip building Python?"
        type: boolean
        required: true
        default: false
      skipRust:
        description: "Skip building Rust?"
        type: boolean
        required: true
        default: false
      isNightly:
        description: "Whether the build is a nightly build?"
        type: boolean
        required: true
        default: false

jobs:
  build-java-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/mac-java-workflow.yml
    secrets: inherit

  build-java-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/linux-java-workflow.yml
    secrets: inherit

  build-java-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    uses: ./.github/workflows/windows-java-workflow.yml
    secrets: inherit

  inject-java-bins:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
    needs: [build-java-mac, build-java-linux, build-java-windows]
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@v4
        with:
          name: java-lib-osx-x86_64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-osx-arm64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-linux-aarch64
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: kuzu-linux-jar
          path: java-bins

      - uses: actions/download-artifact@v4
        with:
          name: java-lib-win-x86_64
          path: java-bins

      - name: Add Java libs to jar
        run: |
          jar uf kuzu_java.jar libkuzu_java_native.so_windows_amd64
          jar uf kuzu_java.jar libkuzu_java_native.so_osx_arm64
          jar uf kuzu_java.jar libkuzu_java_native.so_osx_amd64
          jar uf kuzu_java.jar libkuzu_java_native.so_linux_arm64
        working-directory: java-bins

      - name: Upload jar
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-java-multiplatform-jar
          path: java-bins/kuzu_java.jar

  build-nodejs-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/mac-nodejs-workflow.yml
    secrets: inherit

  build-nodejs-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/linux-nodejs-workflow.yml
    secrets: inherit

  build-nodejs-windows:
    if: ${{ github.event_name == 'schedule' ||  github.event.inputs.skipNodejs != 'true' }}
    uses: ./.github/workflows/windows-nodejs-workflow.yml
    secrets: inherit

  deploy-nodejs:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
    needs: [build-nodejs-mac, build-nodejs-linux, build-nodejs-windows]
    runs-on: ubuntu-latest
    env:
      NODE_AUTH_TOKEN: ${{ secrets.NPM_JS_TOKEN }}
    steps:
      - uses: actions/checkout@v4

      - name: Update nightly version
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
        run: python3 update-nightly-build-version.py
        working-directory: scripts

      - name: Create prebuilt folder
        run: mkdir -p tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: mac-nodejs-module-arm64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: mac-nodejs-module-x86_64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: linux-nodejs-module-x86_64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: linux-nodejs-module-aarch64
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: windows-nodejs-module
          path: tools/nodejs_api/prebuilt

      - uses: actions/download-artifact@v4
        with:
          name: python-sdist
          path: dist

      - name: List wheels
        run: ls -l
        working-directory: dist

      - name: Upload wheels
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-deploy-wheels
          path: dist/*

      - name: Deploy to PyPI test
        if: ${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}
        uses: pypa/gh-action-pypi-publish@release/v1
        with:
          password: ${{ secrets.PYPI_TEST_TOKEN }}
          repository-url: https://test.pypi.org/legacy/

      - name: Deploy to PyPI
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isDeploy == 'true' }}
        uses: pypa/gh-action-pypi-publish@release/v1
        with:
          password: ${{ secrets.PYPI_TOKEN }}

  deploy-rust:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipRust != 'true' }}
    runs-on: kuzu-self-hosted-testing
    env:
      CARGO_REGISTRY_TOKEN: ${{ secrets.CARGO_REGISTRY_TOKEN }}
    steps:
      - uses: actions/checkout@v4

      - name: Update nightly version
        if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
        run: python3 update-nightly-build-version.py
        working-directory: scripts

      - name: Update Cargo.toml version
        run: python3 update_version.py
        working-directory: tools/rust_api

      - name: Deploy crate to Crates.io
        run: cargo publish --allow-dirty
        if: ${{ github.event.inputs.isDeploy == 'true' }}
        working-directory: tools/rust_api

      - name: Test publishing crate
        run: cargo publish --dry-run --allow-dirty
        if: ${{ github.event.inputs.isDeploy != 'true' }}
        working-directory: tools/rust_api

      - name: Upload crate
        uses: actions/upload-artifact@v4
        with:
          name: kuzu-deploy-crate
          path: tools/rust_api/target/package/*.crate

  build-precompiled-bin-mac:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/mac-precompiled-bin-workflow.yml
    secrets: inherit

  build-precompiled-bin-linux:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/linux-precompiled-bin-workflow.yml
    secrets: inherit

  build-precompiled-bin-windows:
    if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
    uses: ./.github/workflows/windows-precompiled-bin-workflow.yml
    secrets: inherit
while scanning for the next token
found character '`' that cannot start any token
  in "<file>", line 3, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 64)
	- 8. Use commit hash instead of tags for action versions (line 100)
	- 8. Use commit hash instead of tags for action versions (line 127)
	- 8. Use commit hash instead of tags for action versions (line 179)
	- 8. Use commit hash instead of tags for action versions (line 66)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
3:1: syntax error: found character '`' that cannot start any token (syntax)

2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 277
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: Here's the fixed YAML workflow:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 3: ```yml
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 4: name: Build-And-Deploy
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 5: on:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 6: schedule:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 7: - cron: "0 8 * * *"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 8: workflow_dispatch:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 9: inputs:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 10: isDeploy:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 11: description: "Whether the build should be deployed?"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 12: type: boolean
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 13: required: true
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 14: default: false
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 15: skipBinaries:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 16: description: "Skip building precompiled binaries?"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 17: type: boolean
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 18: required: true
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 19: default: false
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 20: skipJava:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 21: description: "Skip building Java?"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 22: type: boolean
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 23: required: true
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 24: default: false
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 25: skipNodejs:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 26: description: "Skip building Node.js?"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 27: type: boolean
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 28: required: true
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 29: default: false
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 30: skipPython:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 31: description: "Skip building Python?"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 32: type: boolean
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 33: required: true
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 34: default: false
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 35: skipRust:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 36: description: "Skip building Rust?"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 37: type: boolean
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 38: required: true
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 39: default: false
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 40: isNightly:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 41: description: "Whether the build is a nightly build?"
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 42: type: boolean
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 43: required: true
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 44: default: false
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 46: jobs:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 47: build-java-mac:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 48: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 49: uses: ./.github/workflows/mac-java-workflow.yml
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 50: secrets: inherit
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 52: build-java-linux:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 53: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 54: uses: ./.github/workflows/linux-java-workflow.yml
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 55: secrets: inherit
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 57: build-java-windows:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 58: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 59: uses: ./.github/workflows/windows-java-workflow.yml
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 60: secrets: inherit
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 62: inject-java-bins:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 63: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipJava != 'true' }}
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 64: needs: [build-java-mac, build-java-linux, build-java-windows]
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 65: runs-on: ubuntu-latest
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 66: steps:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 67: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 68: with:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 69: name: java-lib-osx-x86_64
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 70: path: java-bins
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 72: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 73: with:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 74: name: java-lib-osx-arm64
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 75: path: java-bins
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 77: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 78: with:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 79: name: java-lib-linux-aarch64
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 80: path: java-bins
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 82: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 83: with:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 84: name: kuzu-linux-jar
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 85: path: java-bins
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 87: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 88: with:
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 89: name: java-lib-win-x86_64
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 90: path: java-bins
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 92: - name: Add Java libs to jar
2025-11-05 22:30:54,242 - utils.process_runner - DEBUG - 라인 93: run: |
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 94: jar uf kuzu_java.jar libkuzu_java_native.so_windows_amd64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 95: jar uf kuzu_java.jar libkuzu_java_native.so_osx_arm64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 96: jar uf kuzu_java.jar libkuzu_java_native.so_osx_amd64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 97: jar uf kuzu_java.jar libkuzu_java_native.so_linux_arm64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 98: working-directory: java-bins
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 100: - name: Upload jar
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 101: uses: actions/upload-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 102: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 103: name: kuzu-java-multiplatform-jar
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 104: path: java-bins/kuzu_java.jar
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 106: build-nodejs-mac:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 107: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 108: uses: ./.github/workflows/mac-nodejs-workflow.yml
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 109: secrets: inherit
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 111: build-nodejs-linux:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 112: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 113: uses: ./.github/workflows/linux-nodejs-workflow.yml
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 114: secrets: inherit
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 116: build-nodejs-windows:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 117: if: ${{ github.event_name == 'schedule' ||  github.event.inputs.skipNodejs != 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 118: uses: ./.github/workflows/windows-nodejs-workflow.yml
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 119: secrets: inherit
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 121: deploy-nodejs:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 122: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipNodejs != 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 123: needs: [build-nodejs-mac, build-nodejs-linux, build-nodejs-windows]
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 124: runs-on: ubuntu-latest
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 125: env:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 126: NODE_AUTH_TOKEN: ${{ secrets.NPM_JS_TOKEN }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 127: steps:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 128: - uses: actions/checkout@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 130: - name: Update nightly version
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 131: if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 132: run: python3 update-nightly-build-version.py
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 133: working-directory: scripts
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 135: - name: Create prebuilt folder
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 136: run: mkdir -p tools/nodejs_api/prebuilt
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 138: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 139: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 140: name: mac-nodejs-module-arm64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 141: path: tools/nodejs_api/prebuilt
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 143: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 144: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 145: name: mac-nodejs-module-x86_64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 146: path: tools/nodejs_api/prebuilt
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 148: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 149: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 150: name: linux-nodejs-module-x86_64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 151: path: tools/nodejs_api/prebuilt
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 153: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 154: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 155: name: linux-nodejs-module-aarch64
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 156: path: tools/nodejs_api/prebuilt
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 158: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 159: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 160: name: windows-nodejs-module
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 161: path: tools/nodejs_api/prebuilt
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 163: - uses: actions/download-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 164: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 165: name: python-sdist
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 166: path: dist
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 168: - name: List wheels
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 169: run: ls -l
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 170: working-directory: dist
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 172: - name: Upload wheels
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 173: uses: actions/upload-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 174: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 175: name: kuzu-deploy-wheels
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 176: path: dist/*
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 178: - name: Deploy to PyPI test
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 179: if: ${{ github.event_name != 'schedule' && github.event.inputs.isDeploy != 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 180: uses: pypa/gh-action-pypi-publish@release/v1
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 181: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 182: password: ${{ secrets.PYPI_TEST_TOKEN }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 183: repository-url: https://test.pypi.org/legacy/
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 185: - name: Deploy to PyPI
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 186: if: ${{ github.event_name == 'schedule' || github.event.inputs.isDeploy == 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 187: uses: pypa/gh-action-pypi-publish@release/v1
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 188: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 189: password: ${{ secrets.PYPI_TOKEN }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 191: deploy-rust:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 192: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipRust != 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 193: runs-on: kuzu-self-hosted-testing
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 194: env:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 195: CARGO_REGISTRY_TOKEN: ${{ secrets.CARGO_REGISTRY_TOKEN }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 196: steps:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 197: - uses: actions/checkout@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 199: - name: Update nightly version
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 200: if: ${{ github.event_name == 'schedule' || github.event.inputs.isNightly == 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 201: run: python3 update-nightly-build-version.py
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 202: working-directory: scripts
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 204: - name: Update Cargo.toml version
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 205: run: python3 update_version.py
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 206: working-directory: tools/rust_api
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 208: - name: Deploy crate to Crates.io
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 209: run: cargo publish --allow-dirty
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 210: if: ${{ github.event.inputs.isDeploy == 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 211: working-directory: tools/rust_api
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 213: - name: Test publishing crate
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 214: run: cargo publish --dry-run --allow-dirty
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 215: if: ${{ github.event.inputs.isDeploy != 'true' }}
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 216: working-directory: tools/rust_api
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 218: - name: Upload crate
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 219: uses: actions/upload-artifact@v4
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 220: with:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 221: name: kuzu-deploy-crate
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 222: path: tools/rust_api/target/package/*.crate
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 224: build-precompiled-bin-mac:
2025-11-05 22:30:54,243 - utils.process_runner - DEBUG - 라인 225: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 226: uses: ./.github/workflows/mac-precompiled-bin-workflow.yml
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 227: secrets: inherit
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 229: build-precompiled-bin-linux:
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 230: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 231: uses: ./.github/workflows/linux-precompiled-bin-workflow.yml
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 232: secrets: inherit
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 234: build-precompiled-bin-windows:
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 235: if: ${{ github.event_name == 'schedule' || github.event.inputs.skipBinaries != 'true' }}
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 236: uses: ./.github/workflows/windows-precompiled-bin-workflow.yml
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 237: secrets: inherit
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 238: while scanning for the next token
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 239: found character '`' that cannot start any token
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 240: in "<file>", line 3, column 1
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 241: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_temp_phase1.yml
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_temp_phase1.yml
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 242: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 243: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 244: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 245: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 246: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 247: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 248: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 249: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 250: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 251: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 252: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 253: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 254: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 255: We have found 19 smells
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 256: - 3. Use fixed version for runs-on argument (line 64)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 64)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 257: - 8. Use commit hash instead of tags for action versions (line 100)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 100)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 258: - 8. Use commit hash instead of tags for action versions (line 127)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 127)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 259: - 8. Use commit hash instead of tags for action versions (line 179)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 179)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 260: - 8. Use commit hash instead of tags for action versions (line 66)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 66)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 261: - 12. Avoid workflows without comments
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 262: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 263: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 264: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 265: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 266: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 267: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 268: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 269: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 270: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 271: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 272: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 273: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 274: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 275: The following styling errors were found:
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 라인 276: 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:30:54,244 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:30:54,244 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:30:54,244 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:30:54,244 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:30:54,244 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:30:54,245 - main - DEBUG - 임시 파일 삭제: data_original/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_temp_phase1.yml
2025-11-05 22:30:54,245 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:30:54,246 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning for the next token
found character '`' that cannot start any token
  in "<unicode string>", line 3, column 1:
    ```yml
    ^
2025-11-05 22:30:54,246 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:30:54,246 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:30:54,246 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31_two_phase_repaired.yml
2025-11-05 22:30:54,246 - __main__ - INFO - === 파일 51/100 2단계 복구 완료 ===
2025-11-05 22:30:54,246 - __main__ - ERROR - ❌ 실패 (85.61초): 99c0a2a90a545e08f5a474c5576573434655beefa14db0d905708128a7303e31
2025-11-05 22:30:54,246 - __main__ - INFO - [52/100] 처리 중: 66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 22:30:54,246 - __main__ - INFO - 입력 파일 경로: data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 22:30:54,246 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_two_phase_repaired.yml
2025-11-05 22:30:54,246 - __main__ - INFO - === 파일 52/100 2단계 복구 시작 ===
2025-11-05 22:30:54,246 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:30:54,247 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:30:54,247 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 22:30:54,247 - main - INFO - 파일 크기: 1347 문자
2025-11-05 22:30:54,247 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:30:54,247 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:30:54,247 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:30:54,247 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 22:30:54,265 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:30:54,265 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:30:54,265 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:30:54,265 - main - INFO - actionlint 오류 2개 발견
2025-11-05 22:30:54,265 - main - INFO -   오류 1: "with" section should not be empty. please remove this section if it's unnecessary
2025-11-05 22:30:54,265 - main - INFO -   오류 2: unexpected key "file" for "step" section. expected one of "continue-on-error", "env", "id", "if", "name", "run", "shell", "timeout-minutes", "uses", "with", "working-directory"
2025-11-05 22:30:54,265 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:30:54,265 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:30:54,266 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:30:54,266 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:30:54,267 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:32:13,048 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1836
2025-11-05 22:32:13,052 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:32:13,053 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:32:13,053 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1268 문자
2025-11-05 22:32:13,053 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:32:13,053 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:32:13,054 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_temp_phase1.yml
2025-11-05 22:32:13,054 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:32:13,055 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_temp_phase1.yml
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.

name: Dart

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  tests:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
      - uses: subosito/flutter-action@v1
        with:
          flutter-version: '2.0.3'
      - name: Install facebook_auth dependencies 
        run: cd facebook_auth && flutter pub get

      - name: Run facebook_auth tests --coverage
        run: cd facebook_auth && flutter test
      
      - name: Install facebook_auth_platform_interface dependencies 
        run: cd facebook_auth_platform_interface && flutter pub get

      - name: Run facebook_auth_platform_interface tests --coverage
        run: cd facebook_auth_platform_interface && flutter test

      - name: Install facebook_auth_web dependencies 
        run: cd facebook_auth_web && flutter pub get

      - name: Run facebook_auth_platform_interface tests --coverage
        run: cd facebook_auth_web && flutter test --platform chrome

      - name: Upload coverage to Codecov 
        uses: codecov/codecov-action@v1
expected '<document start>', but found ('<block mapping start>',)
  in "<file>", line 7, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 16)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
7:1: syntax error: expected '<document start>', but found '<block mapping start>' (syntax)
11:23: too many spaces inside brackets (brackets)
13:16: too many spaces inside brackets (brackets)
13:23: too many spaces inside brackets (brackets)
24:49: trailing spaces (trailing-spaces)
29:1: trailing spaces (trailing-spaces)
30:68: trailing spaces (trailing-spaces)
36:53: trailing spaces (trailing-spaces)
42:41: trailing spaces (trailing-spaces)
43:40: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 89
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 2: # This workflow uses actions that are not certified by GitHub.
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 3: # They are provided by a third-party and are governed by
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 4: # separate terms of service, privacy policy, and support
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 5: # documentation.
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 7: name: Dart
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 9: on:
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 10: push:
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 11: branches: [ master ]
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 12: pull_request:
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 13: branches: [ master ]
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 16: tests:
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 17: runs-on: ubuntu-latest
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 19: steps:
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 20: - uses: actions/checkout@v2
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 21: - uses: subosito/flutter-action@v1
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 22: with:
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 23: flutter-version: '2.0.3'
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 24: - name: Install facebook_auth dependencies
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 25: run: cd facebook_auth && flutter pub get
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 27: - name: Run facebook_auth tests --coverage
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 28: run: cd facebook_auth && flutter test
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 30: - name: Install facebook_auth_platform_interface dependencies
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 31: run: cd facebook_auth_platform_interface && flutter pub get
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 33: - name: Run facebook_auth_platform_interface tests --coverage
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 34: run: cd facebook_auth_platform_interface && flutter test
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 36: - name: Install facebook_auth_web dependencies
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 37: run: cd facebook_auth_web && flutter pub get
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 39: - name: Run facebook_auth_platform_interface tests --coverage
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 40: run: cd facebook_auth_web && flutter test --platform chrome
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 42: - name: Upload coverage to Codecov
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 43: uses: codecov/codecov-action@v1
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 44: expected '<document start>', but found ('<block mapping start>',)
2025-11-05 22:32:13,504 - utils.process_runner - DEBUG - 라인 45: in "<file>", line 7, column 1
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 46: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_temp_phase1.yml
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_temp_phase1.yml
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 60: We have found 17 smells
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 61: - 3. Use fixed version for runs-on argument (line 16)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 16)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 62: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 63: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 64: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 65: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 78: The following styling errors were found:
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 79: 7:1: syntax error: expected '<document start>', but found '<block mapping start>' (syntax)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 7:1: syntax error: expected '<document start>', but found '<block mapping start>' (syntax)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 80: 11:23: too many spaces inside brackets (brackets)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 81: 13:16: too many spaces inside brackets (brackets)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 82: 13:23: too many spaces inside brackets (brackets)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 83: 24:49: trailing spaces (trailing-spaces)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 84: 29:1: trailing spaces (trailing-spaces)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 85: 30:68: trailing spaces (trailing-spaces)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 86: 36:53: trailing spaces (trailing-spaces)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 87: 42:41: trailing spaces (trailing-spaces)
2025-11-05 22:32:13,505 - utils.process_runner - DEBUG - 라인 88: 43:40: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:32:13,505 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:32:13,505 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:32:13,505 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:32:13,505 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:32:13,506 - main - DEBUG - 임시 파일 삭제: data_original/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_temp_phase1.yml
2025-11-05 22:32:13,506 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:32:13,507 - utils.yaml_parser - DEBUG - YAML 문법 오류: expected '<document start>', but found '<block mapping start>'
  in "<unicode string>", line 7, column 1:
    name: Dart
    ^
2025-11-05 22:32:13,507 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:32:13,507 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:32:13,507 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5_two_phase_repaired.yml
2025-11-05 22:32:13,507 - __main__ - INFO - === 파일 52/100 2단계 복구 완료 ===
2025-11-05 22:32:13,507 - __main__ - ERROR - ❌ 실패 (79.26초): 66c2143cc5888430cbdf881d62217221f8e40cfa5aa3bc131f96ff88af84d5f5
2025-11-05 22:32:13,507 - __main__ - INFO - [53/100] 처리 중: d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 22:32:13,507 - __main__ - INFO - 입력 파일 경로: data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 22:32:13,507 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_two_phase_repaired.yml
2025-11-05 22:32:13,507 - __main__ - INFO - === 파일 53/100 2단계 복구 시작 ===
2025-11-05 22:32:13,507 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:32:13,507 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:32:13,508 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 22:32:13,508 - main - INFO - 파일 크기: 1946 문자
2025-11-05 22:32:13,508 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:32:13,508 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:32:13,508 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:32:13,508 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 22:32:13,526 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:32:13,526 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:32:13,526 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:32:13,526 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:32:13,526 - main - INFO -   오류 1: expecting a single ${{...}} expression or array value for matrix variations, but found plain text node
2025-11-05 22:32:13,526 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:32:13,526 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:32:13,526 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:32:13,526 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:32:13,527 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:33:47,300 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:33:47,304 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:33:47,305 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:33:47,305 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1698 문자
2025-11-05 22:33:47,305 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:33:47,305 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:33:47,307 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_temp_phase1.yml
2025-11-05 22:33:47,307 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:33:47,307 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_temp_phase1.yml
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_temp_phase1.yml
We have found 9 smells
	- 1. Avoid executing scheduled workflows on forks
	- 3. Use fixed version for runs-on argument (line 50)
	- 8. Use commit hash instead of tags for action versions (line 35)
	- 9. Steps should only perform a single command (line -1)
	- 13. Use names for run steps (lines -1:31)
	- 14. Avoid incorrectly formatted workflows
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
63:78: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 14
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_temp_phase1.yml
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_temp_phase1.yml
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 2: We have found 9 smells
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 9 smells
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 3: - 1. Avoid executing scheduled workflows on forks
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 50)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 50)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 35)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 35)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 6: - 9. Steps should only perform a single command (line -1)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 7: - 13. Use names for run steps (lines -1:31)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:31)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 8: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 9: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 10: - 18. Avoid installing packages without version (line -1)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 11: - 22. Avoid deploying jobs on forks
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 12: The following styling errors were found:
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:33:47,754 - utils.process_runner - DEBUG - 라인 13: 63:78: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:33:47,754 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:33:47,755 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 22:33:47,755 - main - INFO - 스멜 1개 발견
2025-11-05 22:33:47,755 - main - INFO -   스멜 1: Avoid executing scheduled workflows on forks
2025-11-05 22:33:47,755 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 22:33:47,755 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 22:33:47,755 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:33:47,755 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:33:47,756 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:34:52,471 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:34:52,475 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:34:52,476 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 22:34:52,477 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1805 문자
2025-11-05 22:34:52,477 - main - DEBUG - 임시 파일 삭제: data_original/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_temp_phase1.yml
2025-11-05 22:34:52,477 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:34:52,478 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Install stable version using pip
        ^
2025-11-05 22:34:52,478 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:34:52,478 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:34:52,478 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c_two_phase_repaired.yml
2025-11-05 22:34:52,479 - __main__ - INFO - === 파일 53/100 2단계 복구 완료 ===
2025-11-05 22:34:52,479 - __main__ - ERROR - ❌ 실패 (158.97초): d1cedac9aca8987e53482c3b60a64fa6785f0306dfcbcae279f6dda6fe7f715c
2025-11-05 22:34:52,479 - __main__ - INFO - [54/100] 처리 중: af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 22:34:52,479 - __main__ - INFO - 입력 파일 경로: data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 22:34:52,479 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_two_phase_repaired.yml
2025-11-05 22:34:52,479 - __main__ - INFO - === 파일 54/100 2단계 복구 시작 ===
2025-11-05 22:34:52,479 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:34:52,479 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:34:52,480 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 22:34:52,480 - main - INFO - 파일 크기: 769 문자
2025-11-05 22:34:52,480 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:34:52,480 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:34:52,480 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:34:52,481 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 22:34:52,489 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:34:52,489 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:34:52,489 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:34:52,489 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:34:52,489 - main - INFO -   오류 1: this step is for running action since it contains at least one of "uses", "with" keys, but also contains "run" key which is used for running shell command
2025-11-05 22:34:52,489 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:34:52,489 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:34:52,490 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:34:52,490 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:34:52,491 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:36:27,640 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1535
2025-11-05 22:36:27,642 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:36:27,643 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:36:27,644 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 860 문자
2025-11-05 22:36:27,644 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:36:27,644 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:36:27,645 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_temp_phase1.yml
2025-11-05 22:36:27,645 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:36:27,645 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_temp_phase1.yml
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Deploy mdBook to GCS

on:
  push:
    branches:
      - main 
      - jolt

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - id: 'auth'
      uses: google-github-actions/auth@v2
      with:
        credentials_json: '${{ secrets.GCP_SA_KEY}}'

    - name: Set up Cloud SDK
      uses: google-github-actions/setup-gcloud@v2

    - name: Setup mdBook
      uses: peaceiris/actions-mdbook@v1
      with:
        mdbook-version: '0.4.10'

    - name: Install mdbook-katex
      uses: actions-rust-lang/setup-rust-toolchain@v1
      run: cargo install mdbook-katex

    - name: Build mdBook
      run: mdbook build ./book

    - name: Deploy to Google Cloud Storage
      env:
        GCS_BUCKET_NAME: ${{ secrets.GCS_BUCKET_NAME }}
      run: |
        gsutil -m rsync -d -r ./book/book gs://${GCS_BUCKET_NAME}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
40:66: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 81
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 2: name: Deploy mdBook to GCS
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 7: - main
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 8: - jolt
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 11: deploy:
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 14: - uses: actions/checkout@v2
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 16: - id: 'auth'
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 17: uses: google-github-actions/auth@v2
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 18: with:
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 19: credentials_json: '${{ secrets.GCP_SA_KEY}}'
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 21: - name: Set up Cloud SDK
2025-11-05 22:36:27,966 - utils.process_runner - DEBUG - 라인 22: uses: google-github-actions/setup-gcloud@v2
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 24: - name: Setup mdBook
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 25: uses: peaceiris/actions-mdbook@v1
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 26: with:
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 27: mdbook-version: '0.4.10'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 29: - name: Install mdbook-katex
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 30: uses: actions-rust-lang/setup-rust-toolchain@v1
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 31: run: cargo install mdbook-katex
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 33: - name: Build mdBook
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 34: run: mdbook build ./book
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 36: - name: Deploy to Google Cloud Storage
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 37: env:
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 38: GCS_BUCKET_NAME: ${{ secrets.GCS_BUCKET_NAME }}
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 39: run: |
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 40: gsutil -m rsync -d -r ./book/book gs://${GCS_BUCKET_NAME}
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 41: mapping values are not allowed here
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 42: in "<file>", line 2, column 5
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 43: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_temp_phase1.yml
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_temp_phase1.yml
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 57: We have found 20 smells
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 58: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 59: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 60: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 61: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 62: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 63: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 64: - 12. Avoid workflows without comments
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 65: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 78: The following styling errors were found:
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 79: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:36:27,967 - utils.process_runner - DEBUG - 라인 80: 40:66: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:36:27,967 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:36:27,967 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:36:27,967 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:36:27,968 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:36:27,968 - main - DEBUG - 임시 파일 삭제: data_original/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_temp_phase1.yml
2025-11-05 22:36:27,968 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:36:27,968 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Deploy mdBook to GCS
        ^
2025-11-05 22:36:27,968 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:36:27,968 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:36:27,968 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937_two_phase_repaired.yml
2025-11-05 22:36:27,968 - __main__ - INFO - === 파일 54/100 2단계 복구 완료 ===
2025-11-05 22:36:27,968 - __main__ - ERROR - ❌ 실패 (95.49초): af13e1b7be290b82d4dfc725984acf1448dca440de6bdb9c61d933bebf14b937
2025-11-05 22:36:27,968 - __main__ - INFO - [55/100] 처리 중: 592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 22:36:27,969 - __main__ - INFO - 입력 파일 경로: data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 22:36:27,969 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_two_phase_repaired.yml
2025-11-05 22:36:27,969 - __main__ - INFO - === 파일 55/100 2단계 복구 시작 ===
2025-11-05 22:36:27,969 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:36:27,969 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:36:27,969 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 22:36:27,969 - main - INFO - 파일 크기: 1335 문자
2025-11-05 22:36:27,969 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:36:27,969 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:36:27,969 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:36:27,970 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 22:36:27,975 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:36:27,976 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:36:27,976 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:36:27,976 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:36:27,976 - main - INFO -   오류 1: expected scalar node for string value but found sequence node with "!!seq" tag
2025-11-05 22:36:27,976 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:36:27,976 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:36:27,976 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:36:27,976 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:36:27,977 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:38:51,457 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1948
2025-11-05 22:38:51,461 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:38:51,462 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:38:51,462 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1341 문자
2025-11-05 22:38:51,462 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:38:51,462 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:38:51,464 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_temp_phase1.yml
2025-11-05 22:38:51,464 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:38:51,465 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_temp_phase1.yml
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Backend Publish docker image

on:
  release:
    types: ['released']

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}_backend

jobs:
  build-and-push-image:
    if: (startswith(github.event.release.tag_name, 'v'))

    runs-on: ubuntu-latest

    permissions:
      contents: read
      packages: write

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Log in to the Container registry
        uses: docker/login-action@3d58c274f17dffee475a5520cbe67f0a882c4dbb
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata (tags, labels) for Docker
        id: meta
        uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
        with:
          images: "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"

      - name: Build and push Docker image
        uses: docker/build-push-action@9f6f8c940b91232557f8699b21341a08624a8dce
        with:
          context: .
          file: "Dockerfile_backend"
          push: true
          tags:
            - "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest"
            - "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${github.event.release.tag_name}"
          labels: ${{ steps.meta.outputs.labels }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 84
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 2: name: Backend Publish docker image
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 5: release:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 6: types: ['released']
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 8: env:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 9: REGISTRY: ghcr.io
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 10: IMAGE_NAME: ${{ github.repository }}_backend
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 13: build-and-push-image:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 14: if: (startswith(github.event.release.tag_name, 'v'))
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 16: runs-on: ubuntu-latest
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 18: permissions:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 19: contents: read
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 20: packages: write
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 22: steps:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 23: - name: Checkout repository
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 24: uses: actions/checkout@v4
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 26: - name: Log in to the Container registry
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 27: uses: docker/login-action@3d58c274f17dffee475a5520cbe67f0a882c4dbb
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 28: with:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 29: registry: ${{ env.REGISTRY }}
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 30: username: ${{ github.actor }}
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 31: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 33: - name: Extract metadata (tags, labels) for Docker
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 34: id: meta
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 35: uses: docker/metadata-action@9ec57ed1fcdbf14dcef7dfbe97b2010124a938b7
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 36: with:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 37: images: "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}"
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 39: - name: Build and push Docker image
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 40: uses: docker/build-push-action@9f6f8c940b91232557f8699b21341a08624a8dce
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 41: with:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 42: context: .
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 43: file: "Dockerfile_backend"
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 44: push: true
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 45: tags:
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 46: - "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:latest"
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 47: - "${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${github.event.release.tag_name}"
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 48: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 49: mapping values are not allowed here
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 50: in "<file>", line 2, column 5
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 51: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_temp_phase1.yml
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_temp_phase1.yml
2025-11-05 22:38:51,790 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 65: We have found 16 smells
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 66: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 67: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 68: - 12. Avoid workflows without comments
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 69: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 82: The following styling errors were found:
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 라인 83: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:38:51,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:38:51,791 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:38:51,791 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:38:51,791 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:38:51,791 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:38:51,792 - main - DEBUG - 임시 파일 삭제: data_original/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_temp_phase1.yml
2025-11-05 22:38:51,792 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:38:51,792 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Backend Publish docker image
        ^
2025-11-05 22:38:51,792 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:38:51,792 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:38:51,792 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6_two_phase_repaired.yml
2025-11-05 22:38:51,793 - __main__ - INFO - === 파일 55/100 2단계 복구 완료 ===
2025-11-05 22:38:51,793 - __main__ - ERROR - ❌ 실패 (143.82초): 592898bb812e32f57d8062d81dd6b9bd9c6c9b9218b741b0e2afb18a3256dfd6
2025-11-05 22:38:51,793 - __main__ - INFO - [56/100] 처리 중: 9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 22:38:51,793 - __main__ - INFO - 입력 파일 경로: data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 22:38:51,793 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_two_phase_repaired.yml
2025-11-05 22:38:51,793 - __main__ - INFO - === 파일 56/100 2단계 복구 시작 ===
2025-11-05 22:38:51,793 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:38:51,793 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:38:51,793 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 22:38:51,793 - main - INFO - 파일 크기: 5669 문자
2025-11-05 22:38:51,793 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:38:51,793 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:38:51,793 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:38:51,793 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 22:38:51,810 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:38:51,810 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:38:51,810 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:38:51,810 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:38:51,810 - main - INFO -   오류 1: could not parse as YAML: yaml: line 95: mapping values are not allowed in this context
2025-11-05 22:38:51,810 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:38:51,810 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:38:51,810 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:38:51,810 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:38:51,811 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:41:03,052 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:41:03,057 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:41:03,058 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:41:03,058 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 5681 문자
2025-11-05 22:41:03,058 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:41:03,058 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:41:03,060 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_temp_phase1.yml
2025-11-05 22:41:03,060 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:41:03,061 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_temp_phase1.yml
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: #-------------------------------------------------------------------------------
# Copyright 2023-2024 Norconex Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#-------------------------------------------------------------------------------

name: Maven Java CI 

on:
  push:
    branches:
      - main
  pull_request:
    types: [opened, synchronize, reopened]

jobs:

  build:

    runs-on: ubuntu-latest

    permissions:
      id-token: write
      contents: read

    steps:

      - name: Source checkout
        uses: actions/checkout@v4
        with:
          # depth 0 means checkout all commits... we need that 
          # in case there are many commits in a push/PR
          fetch-depth: 0

      - name: Set up JDK 17
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'
          cache: 'maven'
          server-id: ossrh
          server-username: MAVEN_USERNAME
          server-password: MAVEN_CENTRAL_TOKEN
          gpg-private-key: ${{ secrets.MAVEN_GPG_PRIVATE_KEY }}
          gpg-passphrase: ${{ secrets.MAVEN_GPG_PASSPHRASE }}

      - name: Cache SonarCloud packages
        uses: actions/cache@v4
        with:
          path: ~/.sonar/cache
          key: ${{ runner.os }}-sonar
          restore-keys: ${{ runner.os }}-sonar

      - name: Get changed files
        id: changed-files
        uses: tj-actions/changed-files@v42.0.5
        with:
          dir_names: true
          dir_names_max_depth: 2
          write_output_files: true
          files_ignore: |
            ./README.md
            ./TODO.txt
            ./V4_MIGRATION.md
            **/README.md
            **/TODO.txt

      - name: Build
        if: steps.changed-files.outputs.any_changed == 'true'
        run: |
          mvn_args="install"
#          mvn_goal="install"
#          mvn_skip=""
#          projectsArg="-Dorg.slf4j.simpleLogger.defaultLogLevel=warn -Dorg.apache.logging.log4j.level=warn"
          
          if [ ${{ github.event_name }} == 'pull_request' ]; then
              mvn_args="-Dgpg.skip=true install"
          fi
          if [ ${{ github.event_name }} == 'push' ] && [ ${{ github.repository }} == 'Norconex/crawlers' ]; then
              mvn_args="install sonar:sonar deploy:deploy"
          fi
          if [ ${{ github.actor }} == 'dependabot[bot]' ]; then
              mvn_args="-Dgpg.skip=true -Dmaven.javadoc.skip=true package"
          fi
          echo "Maven args\: clean ${mvn_args}"
          mvn clean ${mvn_args} -amd --batch-mode --threads=1
        env:
          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}

#      # We get changed Maven module so we only analyze those when dealing
#      # with pull requets.
#      - name: Get changed modules (PR only)
#        id: changed-modules
#        if: >
#          github.event_name == 'pull_request' &&
#          steps.changed-files.outputs.any_changed == 'true'
#        run: |
#          bash .github/workflows/scripts/changed-modules.sh
#          echo "any_changed=$(cat .github/outputs/any-module-changed.txt)" >> $GITHUB_OUTPUT
#
#      - name: Build
#        if: steps.changed-files.outputs.any_changed == 'true'
#        run: |
#          mvn_cmd="install"
#          mvn_skip=""
#          projectsArg=""
#          
#          if [ ${{ github.event_name }} == 'pull_request' ]; then
#              mvn_skip="-Dgpg.skip=true"
#          fi
#
#          mvn clean ${mvn_skip} ${mvn_cmd} ${projectsArg} -amd --batch-mode --threads=2
#        env:
#          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
#
#      - name: Analyze
#        if: >
#          steps.changed-files.outputs.any_changed == 'true' &&
#          ${{ github.actor != 'dependabot[bot]' }}
#        # Note: For SonarCloud to work with monorepos, each projects must be 
#        # analyzed separately
#        run: |
#          dirs=""
#          if [ -f ".github/outputs/changed-module-dirs-deps.txt" ]; then
#              dirs=$(cat ".github/outputs/changed-module-dirs-deps.txt");
#          fi
#          if [ -z "$dirs" ]; then
#              dirs=$(bash ".github/workflows/scripts/all_project_dirs.sh");
#          fi
#          for dir in $dirs; do
#              echo "Analyzing ${dir}..."
#              (cd ${dir}; mvn sonar:sonar)
#          done
##        run: |
##          mvn sonar:sonar
#
#        env:
#          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
#
#      - name: Deploy (Push only)
#        if: >
#          github.repository == 'Norconex/crawlers' &&
#          github.event_name == 'push' &&
#          steps.changed-files.outputs.any_changed == 'true'
#        run: |
#          mvn jar:jar deploy:deploy --threads=2
#        env:
#          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
#          MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
#          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
mapping values are not allowed here
  in "<file>", line 95, column 28
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 29)
	- 8. Use commit hash instead of tags for action versions (line 65)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 38)
	- 8. Use commit hash instead of tags for action versions (line 45)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
1:2: missing starting space in comment (comments)
15:2: missing starting space in comment (comments)
17:20: trailing spaces (trailing-spaces)
41:63: trailing spaces (trailing-spaces)
85:1: trailing spaces (trailing-spaces)
121:2: trailing spaces (trailing-spaces)
86:11: syntax error: expected <block end>, but found '<scalar>' (syntax)
165:69: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 210
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: #-------------------------------------------------------------------------------
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 2: # Copyright 2023-2024 Norconex Inc.
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 3: #
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 4: # Licensed under the Apache License, Version 2.0 (the "License");
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 5: # you may not use this file except in compliance with the License.
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 6: # You may obtain a copy of the License at
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 7: #
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 8: #     http://www.apache.org/licenses/LICENSE-2.0
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 9: #
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 10: # Unless required by applicable law or agreed to in writing, software
2025-11-05 22:41:03,508 - utils.process_runner - DEBUG - 라인 11: # distributed under the License is distributed on an "AS IS" BASIS,
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 12: # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 13: # See the License for the specific language governing permissions and
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 14: # limitations under the License.
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 15: #-------------------------------------------------------------------------------
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 17: name: Maven Java CI
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 19: on:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 20: push:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 21: branches:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 22: - main
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 23: pull_request:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 24: types: [opened, synchronize, reopened]
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 26: jobs:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 28: build:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-latest
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 32: permissions:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 33: id-token: write
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 34: contents: read
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 36: steps:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 38: - name: Source checkout
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 39: uses: actions/checkout@v4
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 40: with:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 41: # depth 0 means checkout all commits... we need that
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 42: # in case there are many commits in a push/PR
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 43: fetch-depth: 0
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 45: - name: Set up JDK 17
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 46: uses: actions/setup-java@v4
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 47: with:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 48: java-version: '17'
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 49: distribution: 'temurin'
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 50: cache: 'maven'
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 51: server-id: ossrh
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 52: server-username: MAVEN_USERNAME
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 53: server-password: MAVEN_CENTRAL_TOKEN
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 54: gpg-private-key: ${{ secrets.MAVEN_GPG_PRIVATE_KEY }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 55: gpg-passphrase: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 57: - name: Cache SonarCloud packages
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 58: uses: actions/cache@v4
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 60: path: ~/.sonar/cache
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 61: key: ${{ runner.os }}-sonar
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 62: restore-keys: ${{ runner.os }}-sonar
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 64: - name: Get changed files
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 65: id: changed-files
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 66: uses: tj-actions/changed-files@v42.0.5
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 67: with:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 68: dir_names: true
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 69: dir_names_max_depth: 2
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 70: write_output_files: true
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 71: files_ignore: |
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 72: ./README.md
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 73: ./TODO.txt
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 74: ./V4_MIGRATION.md
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 75: **/README.md
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 76: **/TODO.txt
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 78: - name: Build
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 79: if: steps.changed-files.outputs.any_changed == 'true'
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 80: run: |
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 81: mvn_args="install"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 82: #          mvn_goal="install"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 83: #          mvn_skip=""
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 84: #          projectsArg="-Dorg.slf4j.simpleLogger.defaultLogLevel=warn -Dorg.apache.logging.log4j.level=warn"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 86: if [ ${{ github.event_name }} == 'pull_request' ]; then
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 87: mvn_args="-Dgpg.skip=true install"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 88: fi
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 89: if [ ${{ github.event_name }} == 'push' ] && [ ${{ github.repository }} == 'Norconex/crawlers' ]; then
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 90: mvn_args="install sonar:sonar deploy:deploy"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 91: fi
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 92: if [ ${{ github.actor }} == 'dependabot[bot]' ]; then
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 93: mvn_args="-Dgpg.skip=true -Dmaven.javadoc.skip=true package"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 94: fi
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 95: echo "Maven args\: clean ${mvn_args}"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 96: mvn clean ${mvn_args} -amd --batch-mode --threads=1
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 97: env:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 98: MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 99: MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 100: MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 101: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 102: SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 104: #      # We get changed Maven module so we only analyze those when dealing
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 105: #      # with pull requets.
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 106: #      - name: Get changed modules (PR only)
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 107: #        id: changed-modules
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 108: #        if: >
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 109: #          github.event_name == 'pull_request' &&
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 110: #          steps.changed-files.outputs.any_changed == 'true'
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 111: #        run: |
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 112: #          bash .github/workflows/scripts/changed-modules.sh
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 113: #          echo "any_changed=$(cat .github/outputs/any-module-changed.txt)" >> $GITHUB_OUTPUT
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 114: #
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 115: #      - name: Build
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 116: #        if: steps.changed-files.outputs.any_changed == 'true'
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 117: #        run: |
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 118: #          mvn_cmd="install"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 119: #          mvn_skip=""
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 120: #          projectsArg=""
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 121: #
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 122: #          if [ ${{ github.event_name }} == 'pull_request' ]; then
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 123: #              mvn_skip="-Dgpg.skip=true"
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 124: #          fi
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 125: #
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 126: #          mvn clean ${mvn_skip} ${mvn_cmd} ${projectsArg} -amd --batch-mode --threads=2
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 127: #        env:
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 128: #          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 129: #
2025-11-05 22:41:03,509 - utils.process_runner - DEBUG - 라인 130: #      - name: Analyze
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 131: #        if: >
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 132: #          steps.changed-files.outputs.any_changed == 'true' &&
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 133: #          ${{ github.actor != 'dependabot[bot]' }}
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 134: #        # Note: For SonarCloud to work with monorepos, each projects must be
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 135: #        # analyzed separately
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 136: #        run: |
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 137: #          dirs=""
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 138: #          if [ -f ".github/outputs/changed-module-dirs-deps.txt" ]; then
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 139: #              dirs=$(cat ".github/outputs/changed-module-dirs-deps.txt");
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 140: #          fi
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 141: #          if [ -z "$dirs" ]; then
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 142: #              dirs=$(bash ".github/workflows/scripts/all_project_dirs.sh");
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 143: #          fi
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 144: #          for dir in $dirs; do
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 145: #              echo "Analyzing ${dir}..."
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 146: #              (cd ${dir}; mvn sonar:sonar)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 147: #          done
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 148: ##        run: |
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 149: ##          mvn sonar:sonar
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 150: #
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 151: #        env:
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 152: #          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 153: #          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 154: #
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 155: #      - name: Deploy (Push only)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 156: #        if: >
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 157: #          github.repository == 'Norconex/crawlers' &&
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 158: #          github.event_name == 'push' &&
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 159: #          steps.changed-files.outputs.any_changed == 'true'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 160: #        run: |
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 161: #          mvn jar:jar deploy:deploy --threads=2
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 162: #        env:
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 163: #          MAVEN_USERNAME: ${{ secrets.OSSRH_USERNAME }}
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 164: #          MAVEN_CENTRAL_TOKEN: ${{ secrets.OSSRH_TOKEN }}
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 165: #          MAVEN_GPG_PASSPHRASE: ${{ secrets.MAVEN_GPG_PASSPHRASE }}
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 166: mapping values are not allowed here
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 167: in "<file>", line 95, column 28
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 168: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_temp_phase1.yml
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_temp_phase1.yml
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 169: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 170: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 171: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 172: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 173: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 174: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 178: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 179: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 180: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 182: We have found 18 smells
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 183: - 3. Use fixed version for runs-on argument (line 29)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 29)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 184: - 8. Use commit hash instead of tags for action versions (line 65)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 65)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 185: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 186: - 8. Use commit hash instead of tags for action versions (line 38)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 38)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 187: - 8. Use commit hash instead of tags for action versions (line 45)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 45)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 188: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 189: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 190: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 191: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 192: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 193: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 194: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 195: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 196: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 197: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 198: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 199: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 200: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 라인 201: The following styling errors were found:
2025-11-05 22:41:03,510 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 202: 1:2: missing starting space in comment (comments)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 203: 15:2: missing starting space in comment (comments)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 204: 17:20: trailing spaces (trailing-spaces)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 205: 41:63: trailing spaces (trailing-spaces)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 206: 85:1: trailing spaces (trailing-spaces)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 207: 121:2: trailing spaces (trailing-spaces)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 208: 86:11: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 86:11: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 22:41:03,511 - utils.process_runner - DEBUG - 라인 209: 165:69: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:41:03,511 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:41:03,511 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:41:03,511 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:41:03,511 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:41:03,511 - main - DEBUG - 임시 파일 삭제: data_original/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_temp_phase1.yml
2025-11-05 22:41:03,511 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:41:03,513 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block mapping
  in "<unicode string>", line 78, column 9:
          - name: Build
            ^
expected <block end>, but found '<scalar>'
  in "<unicode string>", line 86, column 11:
              if [ ${{ github.event_name }} == ... 
              ^
2025-11-05 22:41:03,513 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:41:03,513 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:41:03,514 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f_two_phase_repaired.yml
2025-11-05 22:41:03,514 - __main__ - INFO - === 파일 56/100 2단계 복구 완료 ===
2025-11-05 22:41:03,514 - __main__ - ERROR - ❌ 실패 (131.72초): 9a9253152768f1b6acca5da7d94141212c3d1a2461c16b301739e2ce7c4f6a4f
2025-11-05 22:41:03,514 - __main__ - INFO - [57/100] 처리 중: 1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 22:41:03,514 - __main__ - INFO - 입력 파일 경로: data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 22:41:03,514 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_two_phase_repaired.yml
2025-11-05 22:41:03,514 - __main__ - INFO - === 파일 57/100 2단계 복구 시작 ===
2025-11-05 22:41:03,514 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:41:03,514 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:41:03,514 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 22:41:03,514 - main - INFO - 파일 크기: 7596 문자
2025-11-05 22:41:03,514 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:41:03,515 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:41:03,515 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:41:03,515 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 22:41:03,531 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:41:03,531 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:41:03,531 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:41:03,531 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:41:03,531 - main - INFO -   오류 1: could not parse as YAML: yaml: line 39: did not find expected key
2025-11-05 22:41:03,531 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:41:03,531 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:41:03,531 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:41:03,531 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:41:03,532 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:42:39,349 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:42:39,352 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:42:39,353 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:42:39,354 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7374 문자
2025-11-05 22:42:39,354 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:42:39,354 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:42:39,357 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_temp_phase1.yml
2025-11-05 22:42:39,357 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:42:39,357 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_temp_phase1.yml
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: # Based on https://github.com/zdenop/tesserocr/actions/runs/691257659/workflow
# Build Tesseract on Windows using cmake. No Training Tools.
name: cmake-win64
on:
  #push:
  schedule:
    - cron: '0 23 * * *'
  workflow_dispatch:

env:
  ILOC: d:/a/local

jobs:
  build:
    name: ${{ matrix.config.name }}
    runs-on: ${{ matrix.config.os }}
    strategy:
      fail-fast: true
      matrix:
        config:
          - {
              name: "Windows Latest MSVC - cmake", artifact: "Windows-MSVC",
              os: windows-latest,
              cc: "cl", cxx: "cl",
              environment_script: "C:/Program Files (x86)/Microsoft Visual Studio/2019/Enterprise/VC/Auxiliary/Build/vcvars64.bat"
            }

    steps:
      - uses: ilammy/setup-nasm@v1
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          submodules: recursive
      - name: Build and Install leptonica dependencies
        shell: cmd
        run: |
             mkdir ${{env.ILOC}}
             echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV

      - name: Build and Install zlib
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/zlib-ng/zlib-ng.git
            cd zlib-ng
            cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_SHARED_LIBS=OFF -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
            cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
            cmake --build build --config Release --target install
             cd ..

      - name: Build and Install libpng
        shell: cmd
        run: |
             curl -sSL -o lpng1637.zip https://download.sourceforge.net/libpng/lpng1637.zip
             unzip.exe  -qq lpng1637.zip
             cd lpng1637
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DPNG_TESTS=OFF -DPNG_SHARED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install giflib
        shell: cmd
        run: |
             curl -sSL -o giflib-master.zip https://codeload.github.com/xbmc/giflib/zip/master
             unzip -qq giflib-master.zip
             cd giflib-master
             cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}}
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install libjpeg
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/libjpeg-turbo/libjpeg-turbo.git
             cd libjpeg-turbo
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWITH_TURBOJPEG=OFF -DENABLE_SHARED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install webp
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/webmproject/libwebp.git
             cd libwebp
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWEBP_BUILD_ANIM_UTILS=OFF -DWEBP_BUILD_CWEBP=OFF -DWEBP_BUILD_DWEBP=OFF -DWEBP_BUILD_GIF2WEBP=OFF -DWEBP_BUILD_IMG2WEBP=OFF -DWEBP_BUILD_VWEBP=OFF -DWEBP_BUILD_WEBPMUX=OFF -DWEBP_BUILD_WEBPINFO=OFF -DWEBP_BUILD_EXTRAS=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install jbigkit
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/zdenop/jbigkit
             cd jbigkit-2.1
             cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_PROGRAMS=OFF -DBUILD_TOOLS=OFF -DCMAKE_WARN_DEPRECATED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install zstd
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/facebook/zstd.git
             cd zstd/build/cmake
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZSTD_BUILD_PROGRAMS=OFF -DBUILD_TESTING=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install libtiff
        shell: cmd
        run: |
             git clone --depth 1 https://gitlab.com/libtiff/libtiff
             cd libtiff
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -Dtiff-tools=OFF -Dtiff-tests=OFF -Dtiff-contrib=OFF -Dtiff-docs=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install openjpeg
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/uclouvain/openjpeg.git
             cd openjpeg
             cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_CODEC=OFF -DBUILD_TESTING=OFF -DBUILD_DOC=OFF -DCMAKE_WARN_DEPRECATED=OFF
             cmake --build build --config Release --target install
             cd ..

      - name: Build and Install leptonica
        shell: cmd
        run: |
             echo "Building leptonica..."
             git clone --depth 1 https://github.com/DanBloomberg/leptonica.git
             cd leptonica
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_PROG=OFF -DBUILD_SHARED_LIBS=ON
             cmake --build build --config Release --target install

      - name: Build and Install libarchive
        shell: cmd
        run: |
             git clone --depth 1 https://github.com/libarchive/libarchive.git
             cd libarchive
             cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DENABLE_TEST=OFF
             cmake --build build --config Release --target install

      - name: Remove not needed tools Before building tesseract
        shell: cmd
        run: >
             rm -Rf ${{env.ILOC}}/bin/*.exe

      - name: Build and Install tesseract
        shell: cmd
        run: |
             cmake -E env CXXFLAGS="/Qpar /fp:fast" cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_SHARED_LIBS=ON -DENABLE_LTO=ON -DBUILD_TRAINING_TOOLS=OFF -DFAST_FLOAT=ON -DGRAPHICS_DISABLED=ON -DOPENMP_BUILD=ON
             cmake --build build --config Release --target install

      - name: Display Tesseract Version and Test Command Line Usage
        shell: cmd
        run: |
          curl -L https://github.com/tesseract-ocr/tessdata/raw/main/eng.traineddata --output ${{env.ILOC}}/share/tessdata/eng.traineddata
          curl -L https://github.com/tesseract-ocr/tessdata/raw/main/osd.traineddata --output ${{env.ILOC}}/share/tessdata/osd.traineddata
          cmake --build build --config Release

      - name: Upload artifact
        uses: actions/upload-artifact@v2
        with:
          name: tesseract-win64
          path: ${{env.ILOC}}
while parsing a block mapping
  in "<file>", line 40, column 9
expected <block end>, but found '<scalar>'
  in "<file>", line 44, column 13
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 8. Use commit hash instead of tags for action versions (line 159)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 28)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
5:4: missing starting space in comment (comments)
22:15: wrong indentation: expected 12 but found 14 (indentation)
23:15: wrong indentation: expected 12 but found 14 (indentation)
24:15: wrong indentation: expected 12 but found 14 (indentation)
25:15: wrong indentation: expected 12 but found 14 (indentation)
26:13: wrong indentation: expected 10 but found 12 (indentation)
44:13: syntax error: expected <block end>, but found '<scalar>' (syntax)
163:30: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 208
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: # Based on https://github.com/zdenop/tesserocr/actions/runs/691257659/workflow
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 2: # Build Tesseract on Windows using cmake. No Training Tools.
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 3: name: cmake-win64
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 5: #push:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 6: schedule:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 7: - cron: '0 23 * * *'
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 8: workflow_dispatch:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 10: env:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 11: ILOC: d:/a/local
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 13: jobs:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 14: build:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 15: name: ${{ matrix.config.name }}
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 16: runs-on: ${{ matrix.config.os }}
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 17: strategy:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 18: fail-fast: true
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 19: matrix:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 20: config:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 21: - {
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 22: name: "Windows Latest MSVC - cmake", artifact: "Windows-MSVC",
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 23: os: windows-latest,
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 24: cc: "cl", cxx: "cl",
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 25: environment_script: "C:/Program Files (x86)/Microsoft Visual Studio/2019/Enterprise/VC/Auxiliary/Build/vcvars64.bat"
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 26: }
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 28: steps:
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 29: - uses: ilammy/setup-nasm@v1
2025-11-05 22:42:39,861 - utils.process_runner - DEBUG - 라인 30: - name: Checkout code
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 31: uses: actions/checkout@v3
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 32: with:
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 33: submodules: recursive
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 34: - name: Build and Install leptonica dependencies
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 35: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 36: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 37: mkdir ${{env.ILOC}}
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 38: echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 40: - name: Build and Install zlib
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 41: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 43: git clone --depth 1 https://github.com/zlib-ng/zlib-ng.git
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 44: cd zlib-ng
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 45: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_SHARED_LIBS=OFF -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 46: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZLIB_COMPAT=ON -DZLIB_ENABLE_TESTS=OFF -DINSTALL_UTILS=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 47: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 48: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 50: - name: Build and Install libpng
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 51: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 52: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 53: curl -sSL -o lpng1637.zip https://download.sourceforge.net/libpng/lpng1637.zip
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 54: unzip.exe  -qq lpng1637.zip
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 55: cd lpng1637
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 56: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DPNG_TESTS=OFF -DPNG_SHARED=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 57: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 58: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 60: - name: Build and Install giflib
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 61: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 62: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 63: curl -sSL -o giflib-master.zip https://codeload.github.com/xbmc/giflib/zip/master
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 64: unzip -qq giflib-master.zip
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 65: cd giflib-master
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 66: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}}
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 67: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 68: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 70: - name: Build and Install libjpeg
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 71: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 72: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 73: git clone --depth 1 https://github.com/libjpeg-turbo/libjpeg-turbo.git
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 74: cd libjpeg-turbo
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 75: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWITH_TURBOJPEG=OFF -DENABLE_SHARED=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 76: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 77: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 79: - name: Build and Install webp
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 80: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 81: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 82: git clone --depth 1 https://github.com/webmproject/libwebp.git
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 83: cd libwebp
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 84: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DWEBP_BUILD_ANIM_UTILS=OFF -DWEBP_BUILD_CWEBP=OFF -DWEBP_BUILD_DWEBP=OFF -DWEBP_BUILD_GIF2WEBP=OFF -DWEBP_BUILD_IMG2WEBP=OFF -DWEBP_BUILD_VWEBP=OFF -DWEBP_BUILD_WEBPMUX=OFF -DWEBP_BUILD_WEBPINFO=OFF -DWEBP_BUILD_EXTRAS=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 85: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 86: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 88: - name: Build and Install jbigkit
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 89: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 90: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 91: git clone --depth 1 https://github.com/zdenop/jbigkit
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 92: cd jbigkit-2.1
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 93: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_PROGRAMS=OFF -DBUILD_TOOLS=OFF -DCMAKE_WARN_DEPRECATED=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 94: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 95: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 97: - name: Build and Install zstd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 98: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 99: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 100: git clone --depth 1 https://github.com/facebook/zstd.git
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 101: cd zstd/build/cmake
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 102: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DZSTD_BUILD_PROGRAMS=OFF -DBUILD_TESTING=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 103: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 104: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 106: - name: Build and Install libtiff
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 107: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 108: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 109: git clone --depth 1 https://gitlab.com/libtiff/libtiff
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 110: cd libtiff
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 111: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -Dtiff-tools=OFF -Dtiff-tests=OFF -Dtiff-contrib=OFF -Dtiff-docs=OFF
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 112: cmake --build build --config Release --target install
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 113: cd ..
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 115: - name: Build and Install openjpeg
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 116: shell: cmd
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 117: run: |
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 118: git clone --depth 1 https://github.com/uclouvain/openjpeg.git
2025-11-05 22:42:39,862 - utils.process_runner - DEBUG - 라인 119: cd openjpeg
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 120: cmake -Bbuild -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DBUILD_CODEC=OFF -DBUILD_TESTING=OFF -DBUILD_DOC=OFF -DCMAKE_WARN_DEPRECATED=OFF
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 121: cmake --build build --config Release --target install
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 122: cd ..
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 124: - name: Build and Install leptonica
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 125: shell: cmd
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 126: run: |
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 127: echo "Building leptonica..."
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 128: git clone --depth 1 https://github.com/DanBloomberg/leptonica.git
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 129: cd leptonica
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 130: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_PROG=OFF -DBUILD_SHARED_LIBS=ON
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 131: cmake --build build --config Release --target install
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 133: - name: Build and Install libarchive
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 134: shell: cmd
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 135: run: |
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 136: git clone --depth 1 https://github.com/libarchive/libarchive.git
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 137: cd libarchive
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 138: cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DENABLE_TEST=OFF
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 139: cmake --build build --config Release --target install
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 141: - name: Remove not needed tools Before building tesseract
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 142: shell: cmd
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 143: run: >
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 144: rm -Rf ${{env.ILOC}}/bin/*.exe
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 146: - name: Build and Install tesseract
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 147: shell: cmd
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 148: run: |
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 149: cmake -E env CXXFLAGS="/Qpar /fp:fast" cmake -Bbuild -DCMAKE_BUILD_TYPE=Release -DCMAKE_PREFIX_PATH=${{env.ILOC}} -DCMAKE_INSTALL_PREFIX=${{env.ILOC}} -DSW_BUILD=OFF -DBUILD_SHARED_LIBS=ON -DENABLE_LTO=ON -DBUILD_TRAINING_TOOLS=OFF -DFAST_FLOAT=ON -DGRAPHICS_DISABLED=ON -DOPENMP_BUILD=ON
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 150: cmake --build build --config Release --target install
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 152: - name: Display Tesseract Version and Test Command Line Usage
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 153: shell: cmd
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 154: run: |
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 155: curl -L https://github.com/tesseract-ocr/tessdata/raw/main/eng.traineddata --output ${{env.ILOC}}/share/tessdata/eng.traineddata
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 156: curl -L https://github.com/tesseract-ocr/tessdata/raw/main/osd.traineddata --output ${{env.ILOC}}/share/tessdata/osd.traineddata
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 157: cmake --build build --config Release
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 159: - name: Upload artifact
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 160: uses: actions/upload-artifact@v2
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 161: with:
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 162: name: tesseract-win64
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 163: path: ${{env.ILOC}}
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 164: while parsing a block mapping
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 165: in "<file>", line 40, column 9
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 166: expected <block end>, but found '<scalar>'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 167: in "<file>", line 44, column 13
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 168: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_temp_phase1.yml
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_temp_phase1.yml
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 169: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 170: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 171: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 172: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 173: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 174: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 178: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 179: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 180: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 182: We have found 16 smells
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 183: - 8. Use commit hash instead of tags for action versions (line 159)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 159)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 184: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 185: - 8. Use commit hash instead of tags for action versions (line 28)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 28)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 186: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 187: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 188: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:42:39,863 - utils.process_runner - DEBUG - 라인 189: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 190: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 191: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 192: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 193: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 194: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 195: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 196: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 197: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 198: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 199: The following styling errors were found:
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 200: 5:4: missing starting space in comment (comments)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 201: 22:15: wrong indentation: expected 12 but found 14 (indentation)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 202: 23:15: wrong indentation: expected 12 but found 14 (indentation)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 203: 24:15: wrong indentation: expected 12 but found 14 (indentation)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 204: 25:15: wrong indentation: expected 12 but found 14 (indentation)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 205: 26:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 206: 44:13: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 44:13: syntax error: expected <block end>, but found '<scalar>' (syntax)
2025-11-05 22:42:39,864 - utils.process_runner - DEBUG - 라인 207: 163:30: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:42:39,864 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:42:39,864 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:42:39,864 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:42:39,864 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:42:39,865 - main - DEBUG - 임시 파일 삭제: data_original/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_temp_phase1.yml
2025-11-05 22:42:39,865 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:42:39,866 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block mapping
  in "<unicode string>", line 40, column 9:
          - name: Build and Install zlib
            ^
expected <block end>, but found '<scalar>'
  in "<unicode string>", line 44, column 13:
                cd zlib-ng
                ^
2025-11-05 22:42:39,866 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:42:39,867 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:42:39,867 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444_two_phase_repaired.yml
2025-11-05 22:42:39,867 - __main__ - INFO - === 파일 57/100 2단계 복구 완료 ===
2025-11-05 22:42:39,867 - __main__ - ERROR - ❌ 실패 (96.35초): 1cbd95ab4fe02b538c7b196843e1e8e2b743155f492245768fea3b79590f1444
2025-11-05 22:42:39,867 - __main__ - INFO - [58/100] 처리 중: 9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 22:42:39,867 - __main__ - INFO - 입력 파일 경로: data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 22:42:39,867 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_two_phase_repaired.yml
2025-11-05 22:42:39,867 - __main__ - INFO - === 파일 58/100 2단계 복구 시작 ===
2025-11-05 22:42:39,867 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:42:39,867 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:42:39,868 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 22:42:39,868 - main - INFO - 파일 크기: 2617 문자
2025-11-05 22:42:39,868 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:42:39,868 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:42:39,868 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:42:39,868 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 22:42:39,885 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:42:39,885 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:42:39,885 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:42:39,885 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:42:39,885 - main - INFO -   오류 1: could not parse as YAML: yaml: line 25: could not find expected ':'
2025-11-05 22:42:39,885 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:42:39,885 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:42:39,885 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:42:39,885 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:42:39,886 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:43:42,439 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:43:42,443 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:43:42,444 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:43:42,445 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2620 문자
2025-11-05 22:43:42,445 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:43:42,445 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:43:42,446 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_temp_phase1.yml
2025-11-05 22:43:42,446 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:43:42,446 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_temp_phase1.yml
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.34초)
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
on:
  pull_request: {}
name: Test
jobs:
  test:
    name: Test
    runs-on: macos-13
    strategy:
      matrix:
        xcode: ['15.2']
    steps:
      - name: Set Xcode ${{ matrix.xcode }}
        run: |
          echo "Available Xcode versions:"
          ls /Applications | grep Xcode
          echo "Choosing Xcode_${{ matrix.xcode }}.app"
          sudo xcode-select -s /Applications/Xcode_${{ matrix.xcode }}.app
          xcodebuild -version
          swift --version
          swift package --version
      - name: Checkout
        uses: actions/checkout@main
      - name: misu
        run: |
          curl https://mise.jdx.dev/install.sh | sh
          echo "$HOME/.local/share/mise/bin" >> $GITHUB_PATH
          echo "$HOME/.local/share/mise/shims" >> $GITHUB_PATH
      - name: Install & Run tuist
        run: |
          touch .env
          echo "APP_NAME=Keyboard Cowboy" >> .env
          echo -e "APP_SCHEME=Keyboard-Cowboy" >> .env
          echo -e "APP_BUNDLE_IDENTIFIER=com.zenangst.Keyboard-Cowboy" >> .env
          echo -e "TEAM_ID=XXXXXXXXXX" >> .env
          echo -e "PACKAGE_DEVELOPMENT=false" >> .env
          tuist fetch
          tuist generate -n
      - name: Run tests
        uses: sersoft-gmbh/xcodebuild-action@v2
        with:
          workspace: "Keyboard Cowboy.xcworkspace"
          scheme: "Keyboard-Cowboy"
          destination: platform=macOS
          action: test
          result-bundle-path: ResultBundle.xcresult
          sdk: macosx
          build-settings: CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED="NO"
      - name: xcresulttool
        uses: kishikawakatsumi/xcresulttool@v1
        with:
          path: ResultBundle.xcresult
        if: success() || failure()
      - name: Upload test results
        uses: actions/upload-artifact@v2
        with:
          name: Test results
          path: ResultBundle.xcresult
      - name: Add comment to PR
        uses: actions/github-script@v6
        if: always()
        with:
          script: |
            const name = '${{ github.workflow }}';
            const url = '${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}';
            const success = '${{ job.status }}' === 'success';
            const body = `${name}: ${success ? 'succeeded ✅' : 'failed ❌'}\n${url}\n\n@${{ github.event.pull_request.user.login }}`;

            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: body
            })
mapping values are not allowed here
  in "<file>", line 2, column 3
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 8. Use commit hash instead of tags for action versions (line 54)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 8. Use commit hash instead of tags for action versions (line 39)
	- 8. Use commit hash instead of tags for action versions (line 49)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
2:3: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 112
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 3: pull_request: {}
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 4: name: Test
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 5: jobs:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 6: test:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 7: name: Test
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 8: runs-on: macos-13
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 9: strategy:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 10: matrix:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 11: xcode: ['15.2']
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 12: steps:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 13: - name: Set Xcode ${{ matrix.xcode }}
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 14: run: |
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 15: echo "Available Xcode versions:"
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 16: ls /Applications | grep Xcode
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 17: echo "Choosing Xcode_${{ matrix.xcode }}.app"
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 18: sudo xcode-select -s /Applications/Xcode_${{ matrix.xcode }}.app
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 19: xcodebuild -version
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 20: swift --version
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 21: swift package --version
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 22: - name: Checkout
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 23: uses: actions/checkout@main
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 24: - name: misu
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 25: run: |
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 26: curl https://mise.jdx.dev/install.sh | sh
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 27: echo "$HOME/.local/share/mise/bin" >> $GITHUB_PATH
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 28: echo "$HOME/.local/share/mise/shims" >> $GITHUB_PATH
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 29: - name: Install & Run tuist
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 30: run: |
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 31: touch .env
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 32: echo "APP_NAME=Keyboard Cowboy" >> .env
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 33: echo -e "APP_SCHEME=Keyboard-Cowboy" >> .env
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 34: echo -e "APP_BUNDLE_IDENTIFIER=com.zenangst.Keyboard-Cowboy" >> .env
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 35: echo -e "TEAM_ID=XXXXXXXXXX" >> .env
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 36: echo -e "PACKAGE_DEVELOPMENT=false" >> .env
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 37: tuist fetch
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 38: tuist generate -n
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 39: - name: Run tests
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 40: uses: sersoft-gmbh/xcodebuild-action@v2
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 41: with:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 42: workspace: "Keyboard Cowboy.xcworkspace"
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 43: scheme: "Keyboard-Cowboy"
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 44: destination: platform=macOS
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 45: action: test
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 46: result-bundle-path: ResultBundle.xcresult
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 47: sdk: macosx
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 48: build-settings: CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED="NO"
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 49: - name: xcresulttool
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 50: uses: kishikawakatsumi/xcresulttool@v1
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 51: with:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 52: path: ResultBundle.xcresult
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 53: if: success() || failure()
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 54: - name: Upload test results
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 55: uses: actions/upload-artifact@v2
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 56: with:
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 57: name: Test results
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 58: path: ResultBundle.xcresult
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 59: - name: Add comment to PR
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 60: uses: actions/github-script@v6
2025-11-05 22:43:42,790 - utils.process_runner - DEBUG - 라인 61: if: always()
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 62: with:
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 63: script: |
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 64: const name = '${{ github.workflow }}';
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 65: const url = '${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }}';
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 66: const success = '${{ job.status }}' === 'success';
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 67: const body = `${name}: ${success ? 'succeeded ✅' : 'failed ❌'}\n${url}\n\n@${{ github.event.pull_request.user.login }}`;
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 69: await github.rest.issues.createComment({
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 70: issue_number: context.issue.number,
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 71: owner: context.repo.owner,
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 72: repo: context.repo.repo,
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 73: body: body
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 74: })
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 75: mapping values are not allowed here
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 76: in "<file>", line 2, column 3
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 77: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_temp_phase1.yml
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_temp_phase1.yml
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:43:42,791 - utils.process_runner - DEBUG - 라인 91: We have found 18 smells
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 92: - 8. Use commit hash instead of tags for action versions (line 54)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 54)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 93: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 94: - 8. Use commit hash instead of tags for action versions (line 39)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 39)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 95: - 8. Use commit hash instead of tags for action versions (line 49)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 49)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 96: - 12. Avoid workflows without comments
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 97: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 107: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 108: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 109: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 110: The following styling errors were found:
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 라인 111: 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:43:42,792 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:43:42,792 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:43:42,792 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:43:42,792 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:43:42,792 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:43:42,792 - main - DEBUG - 임시 파일 삭제: data_original/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_temp_phase1.yml
2025-11-05 22:43:42,792 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:43:42,792 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 3:
    on:
      ^
2025-11-05 22:43:42,792 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:43:42,792 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:43:42,793 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40_two_phase_repaired.yml
2025-11-05 22:43:42,793 - __main__ - INFO - === 파일 58/100 2단계 복구 완료 ===
2025-11-05 22:43:42,793 - __main__ - ERROR - ❌ 실패 (62.93초): 9627b8e6eed8da545073e7f5d57ec2098d6564dcb5f10f55cd476c1d04619f40
2025-11-05 22:43:42,793 - __main__ - INFO - [59/100] 처리 중: d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 22:43:42,793 - __main__ - INFO - 입력 파일 경로: data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 22:43:42,793 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_two_phase_repaired.yml
2025-11-05 22:43:42,793 - __main__ - INFO - === 파일 59/100 2단계 복구 시작 ===
2025-11-05 22:43:42,793 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:43:42,793 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:43:42,794 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 22:43:42,794 - main - INFO - 파일 크기: 445 문자
2025-11-05 22:43:42,794 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:43:42,794 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:43:42,794 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:43:42,794 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 22:43:42,810 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:43:42,810 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:43:42,810 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:43:42,810 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:43:42,810 - main - INFO -   오류 1: could not parse as YAML: yaml: line 23: mapping values are not allowed in this context
2025-11-05 22:43:42,810 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:43:42,810 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:43:42,811 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:43:42,811 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:43:42,811 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:44:55,403 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1064
2025-11-05 22:44:55,407 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:44:55,408 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:44:55,408 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 444 문자
2025-11-05 22:44:55,408 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:44:55,408 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:44:55,409 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_temp_phase1.yml
2025-11-05 22:44:55,409 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:44:55,409 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_temp_phase1.yml
2025-11-05 22:44:55,677 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.27초)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Hook Slinger Build & Test

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run the Linters, Build the Containers & Run the Tests
        run: |
          pip install docker-compose
          make start_tests


      - name: Check Test Log
        run: |
          docker logs -f hook-slinger_test_1
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 61
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 2: name: Hook Slinger Build & Test
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 7: - main
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 8: pull_request:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 9: branches:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 10: - main
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 13: build:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 16: - uses: actions/checkout@v2
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 17: - name: Run the Linters, Build the Containers & Run the Tests
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 18: run: |
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 19: pip install docker-compose
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 20: make start_tests
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 23: - name: Check Test Log
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 24: run: |
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 25: docker logs -f hook-slinger_test_1
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 26: mapping values are not allowed here
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 27: in "<file>", line 2, column 5
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 28: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_temp_phase1.yml
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_temp_phase1.yml
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 42: We have found 16 smells
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 43: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 44: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 45: - 12. Avoid workflows without comments
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 46: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:44:55,678 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 라인 59: The following styling errors were found:
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 라인 60: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:44:55,679 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:44:55,679 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:44:55,679 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:44:55,679 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:44:55,679 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:44:55,679 - main - DEBUG - 임시 파일 삭제: data_original/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_temp_phase1.yml
2025-11-05 22:44:55,679 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:44:55,679 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Hook Slinger Build & Test
        ^
2025-11-05 22:44:55,679 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:44:55,679 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:44:55,680 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb_two_phase_repaired.yml
2025-11-05 22:44:55,680 - __main__ - INFO - === 파일 59/100 2단계 복구 완료 ===
2025-11-05 22:44:55,680 - __main__ - ERROR - ❌ 실패 (72.89초): d1a6bfe3a463366d95aca475e72ba21b8ec2c909dadc9fb318a8ec0fa41999cb
2025-11-05 22:44:55,680 - __main__ - INFO - [60/100] 처리 중: 6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 22:44:55,680 - __main__ - INFO - 입력 파일 경로: data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 22:44:55,680 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_two_phase_repaired.yml
2025-11-05 22:44:55,680 - __main__ - INFO - === 파일 60/100 2단계 복구 시작 ===
2025-11-05 22:44:55,680 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:44:55,680 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:44:55,680 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 22:44:55,680 - main - INFO - 파일 크기: 2914 문자
2025-11-05 22:44:55,680 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:44:55,680 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:44:55,681 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:44:55,681 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 22:44:55,686 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:44:55,687 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:44:55,687 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:44:55,687 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:44:55,687 - main - INFO -   오류 1: key "DOTNET_SDK_VERISON_5" is duplicated in env. previously defined at line:17,col:3. note that this key is case insensitive
2025-11-05 22:44:55,687 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:44:55,687 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:44:55,687 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:44:55,687 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:44:55,688 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:47:00,037 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:47:00,041 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:47:00,042 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:47:00,043 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2947 문자
2025-11-05 22:47:00,043 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:47:00,043 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:47:00,044 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_temp_phase1.yml
2025-11-05 22:47:00,044 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:47:00,044 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_temp_phase1.yml
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: Here's the fixed YAML workflow:

```yml
name: Build-Release

on:
  workflow_dispatch:
    inputs:
      tag:
        description: "tag: git tag you want create. (sample 1.0.0)"
        required: true
      dry_run:
        description: "dry_run: true will never create release/nuget."
        required: true
        default: "false"

env:
  GIT_TAG: ${{ github.event.inputs.tag }}
  DRY_RUN: ${{ github.event.inputs.dry_run }}
  DOTNET_SDK_VERSION_5: 3.1.x
  # Removed duplicate key

jobs:
  build-dotnet:
    runs-on: ubuntu-latest
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 1
      DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
      NUGET_XMLDOC_MODE: skip
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-dotnet@v1
        with:
          dotnet-version: ${{ env.DOTNET_SDK_VERSION_5 }}
      # pack nuget
      - run: dotnet build -c Release -p:Version=${{ env.GIT_TAG }}
      # - run: dotnet test -c Release --no-build
      - run: dotnet pack ./src/DFrame/DFrame.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.LoadTesting/DFrame.LoadTesting.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.OutOfProcess/DFrame.OutOfProcess.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.Kubernetes/DFrame.Kubernetes.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - run: dotnet pack ./src/DFrame.Ecs/DFrame.Ecs.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
      - uses: actions/upload-artifact@v2
        with:
          name: nuget
          path: ./publish

  create-release:
    if: github.event.inputs.dry_run == 'false'
    needs: [build-dotnet]
    runs-on: ubuntu-latest
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 1
      DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
      NUGET_XMLDOC_MODE: skip
    steps:
      # setup dotnet for nuget push
      - uses: actions/setup-dotnet@v1
        with:
          dotnet-version: ${{ env.DOTNET_SDK_VERSION_5 }}
      # tag
      - uses: actions/checkout@v2
      - name: tag
        run: git tag ${{ env.GIT_TAG }}
      - name: Push changes
        uses: ad-m/github-push-action@master
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          branch: ${{ github.ref }}
          tags: true
      # Create Releases
      - uses: actions/create-release@v1
        id: create_release
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ env.GIT_TAG }}
          release_name: Ver.${{ env.GIT_TAG }}
          draft: true
          prerelease: false
      # Download (All) Artifacts to current directory
      - uses: actions/download-artifact@v2
      # Upload to NuGet
      - run: dotnet nuget push "./nuget/*.nupkg" -s https://www.nuget.org/api/v2/package -k ${{ secrets.NUGET_KEY }}
while scanning for the next token
found character '`' that cannot start any token
  in "<file>", line 3, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 24)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 81)
	- 8. Use commit hash instead of tags for action versions (line 42)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 71)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
3:1: syntax error: found character '`' that cannot start any token (syntax)

2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 124
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: Here's the fixed YAML workflow:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 3: ```yml
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 4: name: Build-Release
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 8: inputs:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 9: tag:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 10: description: "tag: git tag you want create. (sample 1.0.0)"
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 11: required: true
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 12: dry_run:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 13: description: "dry_run: true will never create release/nuget."
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 14: required: true
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 15: default: "false"
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 17: env:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 18: GIT_TAG: ${{ github.event.inputs.tag }}
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 19: DRY_RUN: ${{ github.event.inputs.dry_run }}
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 20: DOTNET_SDK_VERSION_5: 3.1.x
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 21: # Removed duplicate key
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 23: jobs:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 24: build-dotnet:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 25: runs-on: ubuntu-latest
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 26: env:
2025-11-05 22:47:00,426 - utils.process_runner - DEBUG - 라인 27: DOTNET_CLI_TELEMETRY_OPTOUT: 1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 28: DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 29: NUGET_XMLDOC_MODE: skip
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 30: steps:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 31: - uses: actions/checkout@v2
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 32: - uses: actions/setup-dotnet@v1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 34: dotnet-version: ${{ env.DOTNET_SDK_VERSION_5 }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 35: # pack nuget
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 36: - run: dotnet build -c Release -p:Version=${{ env.GIT_TAG }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 37: # - run: dotnet test -c Release --no-build
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 38: - run: dotnet pack ./src/DFrame/DFrame.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 39: - run: dotnet pack ./src/DFrame.LoadTesting/DFrame.LoadTesting.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 40: - run: dotnet pack ./src/DFrame.OutOfProcess/DFrame.OutOfProcess.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 41: - run: dotnet pack ./src/DFrame.Kubernetes/DFrame.Kubernetes.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 42: - run: dotnet pack ./src/DFrame.Ecs/DFrame.Ecs.csproj -c Release --no-build -p:Version=${{ env.GIT_TAG }} -o ./publish
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 43: - uses: actions/upload-artifact@v2
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 45: name: nuget
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 46: path: ./publish
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 48: create-release:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 49: if: github.event.inputs.dry_run == 'false'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 50: needs: [build-dotnet]
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 51: runs-on: ubuntu-latest
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 52: env:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 53: DOTNET_CLI_TELEMETRY_OPTOUT: 1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 54: DOTNET_SKIP_FIRST_TIME_EXPERIENCE: 1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 55: NUGET_XMLDOC_MODE: skip
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 56: steps:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 57: # setup dotnet for nuget push
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 58: - uses: actions/setup-dotnet@v1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 60: dotnet-version: ${{ env.DOTNET_SDK_VERSION_5 }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 61: # tag
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 62: - uses: actions/checkout@v2
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 63: - name: tag
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 64: run: git tag ${{ env.GIT_TAG }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 65: - name: Push changes
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 66: uses: ad-m/github-push-action@master
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 67: with:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 68: github_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 69: branch: ${{ github.ref }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 70: tags: true
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 71: # Create Releases
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 72: - uses: actions/create-release@v1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 73: id: create_release
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 74: env:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 75: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 76: with:
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 77: tag_name: ${{ env.GIT_TAG }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 78: release_name: Ver.${{ env.GIT_TAG }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 79: draft: true
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 80: prerelease: false
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 81: # Download (All) Artifacts to current directory
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 82: - uses: actions/download-artifact@v2
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 83: # Upload to NuGet
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 84: - run: dotnet nuget push "./nuget/*.nupkg" -s https://www.nuget.org/api/v2/package -k ${{ secrets.NUGET_KEY }}
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 85: while scanning for the next token
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 86: found character '`' that cannot start any token
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 87: in "<file>", line 3, column 1
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 88: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_temp_phase1.yml
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_temp_phase1.yml
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 90: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 102: We have found 19 smells
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 103: - 3. Use fixed version for runs-on argument (line 24)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 24)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 104: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 105: - 8. Use commit hash instead of tags for action versions (line 81)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 81)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 106: - 8. Use commit hash instead of tags for action versions (line 42)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 42)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 107: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 108: - 8. Use commit hash instead of tags for action versions (line 71)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 71)
2025-11-05 22:47:00,427 - utils.process_runner - DEBUG - 라인 109: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 110: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 111: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 112: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 113: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 122: The following styling errors were found:
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 라인 123: 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:47:00,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:47:00,428 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:47:00,428 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:47:00,428 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:47:00,428 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:47:00,428 - main - DEBUG - 임시 파일 삭제: data_original/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_temp_phase1.yml
2025-11-05 22:47:00,428 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:47:00,429 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning for the next token
found character '`' that cannot start any token
  in "<unicode string>", line 3, column 1:
    ```yml
    ^
2025-11-05 22:47:00,429 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:47:00,429 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:47:00,429 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677_two_phase_repaired.yml
2025-11-05 22:47:00,429 - __main__ - INFO - === 파일 60/100 2단계 복구 완료 ===
2025-11-05 22:47:00,429 - __main__ - ERROR - ❌ 실패 (124.75초): 6839a86ccedd509bc8fc377d807994fce4dc678ab3b1f2e27fb526f2d3ac6677
2025-11-05 22:47:00,429 - __main__ - INFO - [61/100] 처리 중: 7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 22:47:00,429 - __main__ - INFO - 입력 파일 경로: data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 22:47:00,429 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_two_phase_repaired.yml
2025-11-05 22:47:00,429 - __main__ - INFO - === 파일 61/100 2단계 복구 시작 ===
2025-11-05 22:47:00,429 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:47:00,429 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:47:00,430 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 22:47:00,430 - main - INFO - 파일 크기: 10656 문자
2025-11-05 22:47:00,430 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:47:00,430 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:47:00,430 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:47:00,430 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 22:47:00,446 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:47:00,446 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:47:00,446 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:47:00,446 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:47:00,446 - main - INFO -   오류 1: "needs" section should not be empty
2025-11-05 22:47:00,446 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:47:00,446 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:47:00,446 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:47:00,447 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:47:00,447 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:49:27,928 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:49:27,932 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:49:27,933 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:49:27,934 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7437 문자
2025-11-05 22:49:27,934 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:49:27,934 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:49:27,936 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_temp_phase1.yml
2025-11-05 22:49:27,936 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:49:27,936 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_temp_phase1.yml
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: Here's the fixed YAML workflow:

```yaml
name: "Building and testing ArkScript"

on:
  push:
    branches: [dev, master]
    paths-ignore:
      - '.github/workflows/docker.yml'
      - '.github/workflows/label.yml'
      - '.github/workflows/lizard.yml'
      - '.github/workflows/release.yml'
      - '.vscode/*.*'
      - 'examples/*.ark'
      - 'images/*.*'
      - '*.md'
      - 'docs/*.*'
      - 'Dockerfile'
      - '.dockerignore'
      - 'LICENCE'
      - '.gitignore'
  pull_request:

env:
  BUILD_TYPE: Debug
  SQLITE_VERSION: 3390100  # 3.39.1

jobs:
  check:
    name: Formatting check
    runs-on: ubuntu-latest

    strategy:
      matrix:
        path:
          - 'src'
          - 'include'

    steps:
      - uses: actions/checkout@v3

      - name: Run clang-format check for C++
        uses: HorstBaerbel/action-clang-format@master
        with:
          scandir: ${{ matrix.path }}
          style: 'file'

  repo_visualizer:
    runs-on: ubuntu-latest
    needs: [check] # Fix the syntax error here

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Update diagram
      uses: githubocto/repo-visualizer@main
      with:
        excluded_paths: 'dist,node_modules,submodules'
        should_push: false
        output_file: 'diagram.svg'
        artifact_name: 'diagram'

  build:
    runs-on: ${{ matrix.config.os }}
    name: ${{ matrix.config.name }}
    needs: [check]

    strategy:
      fail-fast: false
      matrix:
        config:
          - {
            os: ubuntu-latest, name: "Ubuntu Clang 14", cc: "clang-14", cxx: "clang++-14",
            artifact: "ubuntu-clang-14", sanitizers: "On", preconfigure: ""
          }
          - {
            os: ubuntu-latest, name: "Ubuntu Clang 13", cc: "clang-13", cxx: "clang++-13",
            artifact: "ubuntu-clang-13", sanitizers: "On", preconfigure: ""
          }
          - {
            os: ubuntu-latest, name: "Ubuntu Clang 12", cc: "clang-12", cxx: "clang++-12",
            artifact: "ubuntu-clang-12", sanitizers: "On", preconfigure: ""
          }
          - {
            os: ubuntu-20.04, name: "Ubuntu Clang 11", cc: "clang-11", cxx: "clang++-11",
            artifact: "ubuntu-clang-11", sanitizers: "On", preconfigure: ""
          }
          - {
            os: ubuntu-latest, name: "Ubuntu Clang 11 (valgrind)", cc: "clang-11", cxx: "clang++-11",
            artifact: "ubuntu-clang-11-valgrind", sanitizers: "Off", preconfigure: ""
          }
          - {
            os: ubuntu-20.04, name: "Ubuntu Clang 10", cc: "clang-10", cxx: "clang++-10",
            artifact: "ubuntu-clang-10", sanitizers: "On", preconfigure: ""
          }
          - {
            os: ubuntu-20.04, name: "Ubuntu Clang 9", cc: "clang-9", cxx: "clang++-9",
            artifact: "ubuntu-clang-9", sanitizers: "On", preconfigure: ""
          }
          - {
            os: ubuntu-latest, name: "Ubuntu GCC 12", cc: "gcc-12", cxx: "g++-12",
            artifact: "ubuntu-gcc-12", sanitizers: "Off", preconfigure: ""
          }
          - {
            os: ubuntu-latest, name: "Ubuntu GCC 11", cc: "gcc-11", cxx: "g++-11",
            artifact: "ubuntu-gcc-11", sanitizers: "Off", preconfigure: ""
          }
          - {
            os: ubuntu-latest, name: "Ubuntu GCC 10", cc: "gcc-10", cxx: "g++-10",
            artifact: "ubuntu-gcc-10", sanitizers: "Off", preconfigure: ""
          }
          - {
            os: ubuntu-latest, name: "Ubuntu GCC 9", cc: "gcc-9", cxx: "g++-9",
            artifact: "ubuntu-gcc-9", sanitizers: "Off", preconfigure: ""
          }
          - {
            os: ubuntu-20.04, name: "Ubuntu GCC 8", cc: "gcc-8", cxx: "g++-8",
            artifact: "ubuntu-gcc-8", sanitizers: "Off", preconfigure: ""
          }
          - {
            os: windows-latest, name: "Windows VS 2019", artifact: "windows-msvc-19"
          }
          - {
            os: windows-latest, name: "Windows VS 2017", artifact: "windows-msvc-17"
          }
          - {
            os: macos-latest, name: "MacOS Clang 12", artifact: "macos-clang-12"
          }

    steps:
    - uses: actions/checkout@v3

    - name: Setup build
      uses: ./.github/workflows/setup-build

    - name: Build ArkScript
      shell: bash
      run: |
        ./build.sh

  tests:
    runs-on: ${{ matrix.config.os }}
    name: ${{ matrix.config.name }}
    needs: [build]

    strategy:
      fail-fast: false
      matrix:
        config:
          - { os: ubuntu-latest,  name: "Ubuntu Clang 14", artifact: "ubuntu-clang-14" }
          - { os: ubuntu-latest,  name: "Ubuntu Clang 13", artifact: "ubuntu-clang-13" }
          - { os: ubuntu-latest,  name: "Ubuntu Clang 12", artifact: "ubuntu-clang-12" }
          - { os: ubuntu-20.04,   name: "Ubuntu Clang 11", artifact: "ubuntu-clang-11" }
          - { os: ubuntu-20.04,   name: "Ubuntu Clang 10", artifact: "ubuntu-clang-10" }
          - { os: ubuntu-20.04,   name: "Ubuntu Clang 9",  artifact: "ubuntu-clang-9" }
          - { os: ubuntu-latest,  name: "Ubuntu GCC 12",   artifact: "ubuntu-gcc-12" }
          - { os: ubuntu-latest,  name: "Ubuntu GCC 11",   artifact: "ubuntu-gcc-11" }
          - { os: ubuntu-latest,  name: "Ubuntu GCC 10",   artifact: "ubuntu-gcc-10" }
          - { os: ubuntu-latest,  name: "Ubuntu GCC 9",    artifact: "ubuntu-gcc-9" }
          - { os: ubuntu-20.04,   name: "Ubuntu GCC 8",    artifact: "ubuntu-gcc-8" }
          - { os: windows-latest, name: "Windows VS 2019", artifact: "windows-msvc-19", }
          - { os: windows-latest, name: "Windows VS 2017", artifact: "windows-msvc-17", }
          - { os: macos-latest,   name: "MacOS Clang 12",  artifact: "macos-clang-12", }

    steps:
    - uses: actions/checkout@v3
      with:
        submodules: recursive

    - name: Setup tests
      uses: ./.github/workflows/setup-tests

    - name: Parser tests
      shell: bash
      run: |
        export ASAN_OPTIONS=detect_odr_violation=0
        (cd tests/parser/tests ; bash ./run)

    - name: Integration tests
      shell: bash
      run: |
        export ASAN_OPTIONS=detect_odr_violation=0
        (cd tests/cpp ; bash ./run-tests)

    - name: AST tests
      shell: bash
      run: |
        export ASAN_OPTIONS=use_odr_indicator=1
        (cd tests/ast ; bash ./run-tests)

    - name: Unit tests
      shell: bash
      run: |
        export ASAN_OPTIONS=detect_odr_violation=0
        (cd tests/arkscript ; bash ./run-tests)

  valgrind:
    runs-on: ubuntu-latest
    name: Ubuntu Clang 11 Valgrind
    needs: [build]

    steps:
    - uses: actions/checkout@v3
      with:
        submodules: recursive

    - name: Download artifact
      id: download
      uses: actions/download-artifact@v3.0.1
      with:
        name: "ubuntu-clang-11-valgrind"
        path: build

    - name: Update LLVM compilers
      shell: bash
      run: |
        mv build/lib/*.arkm lib/
        chmod u+x build/arkscript
        sudo apt-get update --fix-missing
        sudo apt-get install -y clang-11 lld-11 libc++-11-dev libc++abi-11-dev clang-tools-11 valgrind

    - name: Valgrind checks for memory leaks
      shell: bash
      run: |
        valgrind --leak-check=full --show-leak-kinds=all \
          --track-origins=yes --track-fds=yes \
          --trace-children=yes \
          --verbose -s \
          --error-exitcode=1 \
          build/arkscript tests/arkscript/unittests.ark -L ./lib valgrind
while scanning for the next token
found character '`' that cannot start any token
  in "<file>", line 3, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 31)
	- 8. Use commit hash instead of tags for action versions (line 54)
	- 8. Use commit hash instead of tags for action versions (line 210)
	- 8. Use commit hash instead of tags for action versions (line 132)
	- 8. Use commit hash instead of tags for action versions (line 40)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
3:1: syntax error: found character '`' that cannot start any token (syntax)

2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 271
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: Here's the fixed YAML workflow:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 3: ```yaml
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 4: name: "Building and testing ArkScript"
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 7: push:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 8: branches: [dev, master]
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 9: paths-ignore:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 10: - '.github/workflows/docker.yml'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 11: - '.github/workflows/label.yml'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 12: - '.github/workflows/lizard.yml'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 13: - '.github/workflows/release.yml'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 14: - '.vscode/*.*'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 15: - 'examples/*.ark'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 16: - 'images/*.*'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 17: - '*.md'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 18: - 'docs/*.*'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 19: - 'Dockerfile'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 20: - '.dockerignore'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 21: - 'LICENCE'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 22: - '.gitignore'
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 23: pull_request:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 25: env:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 26: BUILD_TYPE: Debug
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 27: SQLITE_VERSION: 3390100  # 3.39.1
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 29: jobs:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 30: check:
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 31: name: Formatting check
2025-11-05 22:49:28,426 - utils.process_runner - DEBUG - 라인 32: runs-on: ubuntu-latest
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 34: strategy:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 35: matrix:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 36: path:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 37: - 'src'
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 38: - 'include'
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 40: steps:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 41: - uses: actions/checkout@v3
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 43: - name: Run clang-format check for C++
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 44: uses: HorstBaerbel/action-clang-format@master
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 46: scandir: ${{ matrix.path }}
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 47: style: 'file'
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 49: repo_visualizer:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 50: runs-on: ubuntu-latest
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 51: needs: [check] # Fix the syntax error here
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): needs: [check] # Fix the syntax error here
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 53: steps:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 54: - name: Checkout code
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 55: uses: actions/checkout@v3
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 57: - name: Update diagram
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 58: uses: githubocto/repo-visualizer@main
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 59: with:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 60: excluded_paths: 'dist,node_modules,submodules'
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 61: should_push: false
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 62: output_file: 'diagram.svg'
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 63: artifact_name: 'diagram'
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 65: build:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 66: runs-on: ${{ matrix.config.os }}
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 67: name: ${{ matrix.config.name }}
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 68: needs: [check]
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 70: strategy:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 71: fail-fast: false
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 72: matrix:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 73: config:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 74: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 75: os: ubuntu-latest, name: "Ubuntu Clang 14", cc: "clang-14", cxx: "clang++-14",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 76: artifact: "ubuntu-clang-14", sanitizers: "On", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 77: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 78: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 79: os: ubuntu-latest, name: "Ubuntu Clang 13", cc: "clang-13", cxx: "clang++-13",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 80: artifact: "ubuntu-clang-13", sanitizers: "On", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 81: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 82: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 83: os: ubuntu-latest, name: "Ubuntu Clang 12", cc: "clang-12", cxx: "clang++-12",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 84: artifact: "ubuntu-clang-12", sanitizers: "On", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 85: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 86: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 87: os: ubuntu-20.04, name: "Ubuntu Clang 11", cc: "clang-11", cxx: "clang++-11",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 88: artifact: "ubuntu-clang-11", sanitizers: "On", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 89: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 90: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 91: os: ubuntu-latest, name: "Ubuntu Clang 11 (valgrind)", cc: "clang-11", cxx: "clang++-11",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 92: artifact: "ubuntu-clang-11-valgrind", sanitizers: "Off", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 93: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 94: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 95: os: ubuntu-20.04, name: "Ubuntu Clang 10", cc: "clang-10", cxx: "clang++-10",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 96: artifact: "ubuntu-clang-10", sanitizers: "On", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 97: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 98: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 99: os: ubuntu-20.04, name: "Ubuntu Clang 9", cc: "clang-9", cxx: "clang++-9",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 100: artifact: "ubuntu-clang-9", sanitizers: "On", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 101: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 102: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 103: os: ubuntu-latest, name: "Ubuntu GCC 12", cc: "gcc-12", cxx: "g++-12",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 104: artifact: "ubuntu-gcc-12", sanitizers: "Off", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 105: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 106: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 107: os: ubuntu-latest, name: "Ubuntu GCC 11", cc: "gcc-11", cxx: "g++-11",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 108: artifact: "ubuntu-gcc-11", sanitizers: "Off", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 109: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 110: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 111: os: ubuntu-latest, name: "Ubuntu GCC 10", cc: "gcc-10", cxx: "g++-10",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 112: artifact: "ubuntu-gcc-10", sanitizers: "Off", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 113: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 114: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 115: os: ubuntu-latest, name: "Ubuntu GCC 9", cc: "gcc-9", cxx: "g++-9",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 116: artifact: "ubuntu-gcc-9", sanitizers: "Off", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 117: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 118: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 119: os: ubuntu-20.04, name: "Ubuntu GCC 8", cc: "gcc-8", cxx: "g++-8",
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 120: artifact: "ubuntu-gcc-8", sanitizers: "Off", preconfigure: ""
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 121: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 122: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 123: os: windows-latest, name: "Windows VS 2019", artifact: "windows-msvc-19"
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 124: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 125: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 126: os: windows-latest, name: "Windows VS 2017", artifact: "windows-msvc-17"
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 127: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 128: - {
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 129: os: macos-latest, name: "MacOS Clang 12", artifact: "macos-clang-12"
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 130: }
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 132: steps:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 133: - uses: actions/checkout@v3
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 135: - name: Setup build
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 136: uses: ./.github/workflows/setup-build
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 138: - name: Build ArkScript
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 139: shell: bash
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 140: run: |
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 141: ./build.sh
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 143: tests:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 144: runs-on: ${{ matrix.config.os }}
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 145: name: ${{ matrix.config.name }}
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 146: needs: [build]
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 148: strategy:
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 149: fail-fast: false
2025-11-05 22:49:28,427 - utils.process_runner - DEBUG - 라인 150: matrix:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 151: config:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 152: - { os: ubuntu-latest,  name: "Ubuntu Clang 14", artifact: "ubuntu-clang-14" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 153: - { os: ubuntu-latest,  name: "Ubuntu Clang 13", artifact: "ubuntu-clang-13" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 154: - { os: ubuntu-latest,  name: "Ubuntu Clang 12", artifact: "ubuntu-clang-12" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 155: - { os: ubuntu-20.04,   name: "Ubuntu Clang 11", artifact: "ubuntu-clang-11" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 156: - { os: ubuntu-20.04,   name: "Ubuntu Clang 10", artifact: "ubuntu-clang-10" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 157: - { os: ubuntu-20.04,   name: "Ubuntu Clang 9",  artifact: "ubuntu-clang-9" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 158: - { os: ubuntu-latest,  name: "Ubuntu GCC 12",   artifact: "ubuntu-gcc-12" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 159: - { os: ubuntu-latest,  name: "Ubuntu GCC 11",   artifact: "ubuntu-gcc-11" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 160: - { os: ubuntu-latest,  name: "Ubuntu GCC 10",   artifact: "ubuntu-gcc-10" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 161: - { os: ubuntu-latest,  name: "Ubuntu GCC 9",    artifact: "ubuntu-gcc-9" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 162: - { os: ubuntu-20.04,   name: "Ubuntu GCC 8",    artifact: "ubuntu-gcc-8" }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 163: - { os: windows-latest, name: "Windows VS 2019", artifact: "windows-msvc-19", }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 164: - { os: windows-latest, name: "Windows VS 2017", artifact: "windows-msvc-17", }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 165: - { os: macos-latest,   name: "MacOS Clang 12",  artifact: "macos-clang-12", }
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 167: steps:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 168: - uses: actions/checkout@v3
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 169: with:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 170: submodules: recursive
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 172: - name: Setup tests
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 173: uses: ./.github/workflows/setup-tests
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 175: - name: Parser tests
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 176: shell: bash
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 177: run: |
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 178: export ASAN_OPTIONS=detect_odr_violation=0
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 179: (cd tests/parser/tests ; bash ./run)
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 181: - name: Integration tests
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 182: shell: bash
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 183: run: |
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 184: export ASAN_OPTIONS=detect_odr_violation=0
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 185: (cd tests/cpp ; bash ./run-tests)
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 187: - name: AST tests
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 188: shell: bash
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 189: run: |
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 190: export ASAN_OPTIONS=use_odr_indicator=1
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 191: (cd tests/ast ; bash ./run-tests)
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 193: - name: Unit tests
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 194: shell: bash
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 195: run: |
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 196: export ASAN_OPTIONS=detect_odr_violation=0
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 197: (cd tests/arkscript ; bash ./run-tests)
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 199: valgrind:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 200: runs-on: ubuntu-latest
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 201: name: Ubuntu Clang 11 Valgrind
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 202: needs: [build]
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 204: steps:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 205: - uses: actions/checkout@v3
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 206: with:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 207: submodules: recursive
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 209: - name: Download artifact
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 210: id: download
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 211: uses: actions/download-artifact@v3.0.1
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 212: with:
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 213: name: "ubuntu-clang-11-valgrind"
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 214: path: build
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 216: - name: Update LLVM compilers
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 217: shell: bash
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 218: run: |
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 219: mv build/lib/*.arkm lib/
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 220: chmod u+x build/arkscript
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 221: sudo apt-get update --fix-missing
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 222: sudo apt-get install -y clang-11 lld-11 libc++-11-dev libc++abi-11-dev clang-tools-11 valgrind
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 224: - name: Valgrind checks for memory leaks
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 225: shell: bash
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 226: run: |
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 227: valgrind --leak-check=full --show-leak-kinds=all \
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 228: --track-origins=yes --track-fds=yes \
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 229: --trace-children=yes \
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 230: --verbose -s \
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 231: --error-exitcode=1 \
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 232: build/arkscript tests/arkscript/unittests.ark -L ./lib valgrind
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 233: while scanning for the next token
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 234: found character '`' that cannot start any token
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 235: in "<file>", line 3, column 1
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 236: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_temp_phase1.yml
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_temp_phase1.yml
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 237: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 238: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 239: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 240: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 241: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 242: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 243: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 244: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 245: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 246: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 247: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 248: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 249: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 250: We have found 18 smells
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 251: - 3. Use fixed version for runs-on argument (line 31)
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 31)
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 라인 252: - 8. Use commit hash instead of tags for action versions (line 54)
2025-11-05 22:49:28,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 54)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 253: - 8. Use commit hash instead of tags for action versions (line 210)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 210)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 254: - 8. Use commit hash instead of tags for action versions (line 132)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 132)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 255: - 8. Use commit hash instead of tags for action versions (line 40)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 40)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 256: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 257: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 258: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 259: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 260: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 261: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 262: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 263: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 264: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 265: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 266: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 267: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 268: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 269: The following styling errors were found:
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 라인 270: 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:49:28,429 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 22:49:28,429 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:49:28,429 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:49:28,429 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:49:28,429 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:49:28,430 - main - DEBUG - 임시 파일 삭제: data_original/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_temp_phase1.yml
2025-11-05 22:49:28,430 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:49:28,430 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning for the next token
found character '`' that cannot start any token
  in "<unicode string>", line 3, column 1:
    ```yaml
    ^
2025-11-05 22:49:28,430 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:49:28,430 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:49:28,431 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c_two_phase_repaired.yml
2025-11-05 22:49:28,431 - __main__ - INFO - === 파일 61/100 2단계 복구 완료 ===
2025-11-05 22:49:28,431 - __main__ - ERROR - ❌ 실패 (148.00초): 7ccd3e4d4e0943fecaf6cbadb17126d53209e3c344ef217cf05858c0933fde1c
2025-11-05 22:49:28,431 - __main__ - INFO - [62/100] 처리 중: 237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 22:49:28,431 - __main__ - INFO - 입력 파일 경로: data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 22:49:28,431 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_two_phase_repaired.yml
2025-11-05 22:49:28,431 - __main__ - INFO - === 파일 62/100 2단계 복구 시작 ===
2025-11-05 22:49:28,431 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:49:28,431 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:49:28,432 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 22:49:28,432 - main - INFO - 파일 크기: 3955 문자
2025-11-05 22:49:28,432 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:49:28,432 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:49:28,432 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:49:28,432 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 22:49:28,450 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:49:28,450 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:49:28,450 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:49:28,450 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:49:28,450 - main - INFO -   오류 1: "github.head_ref" is potentially untrusted. avoid using it directly in inline scripts. instead, pass it through an environment variable. see https://docs.github.com/en/actions/security-for-github-actions/security-guides/security-hardening-for-github-actions for more details
2025-11-05 22:49:28,450 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:49:28,450 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:49:28,450 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:49:28,450 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:49:28,451 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:50:42,862 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:50:42,866 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:50:42,867 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:50:42,867 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4015 문자
2025-11-05 22:50:42,867 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:50:42,867 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:50:42,869 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_temp_phase1.yml
2025-11-05 22:50:42,869 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:50:42,869 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_temp_phase1.yml
2025-11-05 22:50:43,310 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Tests

on:
  push:
    branches:
      - 1.0
      - 1.1
      - 1.2
      - develop
  pull_request:

jobs:
  frontendTests:
    runs-on: ubuntu-latest
    name: JavaScript
    steps:
      - name: Checkout changes
        uses: actions/checkout@v2
        with:
            fetch-depth: 0

      - name: Install Node
        uses: actions/setup-node@v1
        with:
            node-version: 12

      - name: Install Node dependencies
        working-directory: ./modules/system/tests/js
        run: npm install

      - name: Run tests
        working-directory: ./modules/system/tests/js
        run: npm run test

  phpUnitTests:
    strategy:
      max-parallel: 8
      matrix:
        operatingSystem: [ubuntu-latest, windows-latest]
        phpVersion: ['8.0', '8.1']
      fail-fast: false
    runs-on: ${{ matrix.operatingSystem }}
    name: ${{ matrix.operatingSystem }} / PHP ${{ matrix.phpVersion }}
    env:
      extensions: curl, fileinfo, gd, mbstring, openssl, pdo, pdo_sqlite, sqlite3, xml, zip
      key: winter-cms-cache-develop
    steps:
      - name: Cancel previous incomplete runs
        uses: styfle/cancel-workflow-action@0.8.0
        with:
          access_token: ${{ github.token }}

      - name: Checkout changes
        uses: actions/checkout@v2

      - name: Setup extension cache
        id: extcache
        uses: shivammathur/cache-extensions@v1
        with:
          php-version: ${{ matrix.phpVersion }}
          extensions: ${{ env.extensions }}
          key: ${{ env.key }}

      - name: Cache extensions
        uses: actions/cache@v2
        with:
          path: ${{ steps.extcache.outputs.dir }}
          key: ${{ steps.extcache.outputs.key }}
          restore-keys: ${{ steps.extcache.outputs.key }}

      - name: Install PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: ${{ matrix.phpVersion }}
          extensions: ${{ env.extensions }}

      - name: Echo branches
        run: echo "${{ github.ref }} | ${{ github.head_ref }} | ${{ github.ref_name }} | ${{ github.base_ref }}"

      - name: Switch library dependency (develop)
        if: github.ref == 'refs/heads/develop' || github.base_ref == 'develop'
        run: php ./.github/workflows/utilities/library-switcher "dev-develop as 1.2"

      - name: Switch library dependency (1.0)
        if: github.event.pull_request.head.sha == '1.0' || github.ref == 'refs/heads/1.0' || github.base_ref == '1.0'
        run: php ./.github/workflows/utilities/library-switcher "1.0.x-dev as 1.0"

      - name: Switch library dependency (1.1)
        if: github.event.pull_request.head.sha == '1.1' || github.ref == 'refs/heads/1.1' || github.base_ref == '1.1'
        run: php ./.github/workflows/utilities/library-switcher "1.1.x-dev as 1.1"

      - name: Switch library dependency (1.2)
        if: github.event.pull_request.head.sha == '1.2' || github.ref == 'refs/heads/1.2' || github.base_ref == '1.2'
        run: php ./.github/workflows/utilities/library-switcher "1.2.x-dev as 1.2"

      - name: Setup dependency cache
        id: composercache
        run: echo "::set-output name=dir::$(composer config cache-files-dir)"

      - name: Cache dependencies
        uses: actions/cache@v2
        with:
          path: ${{ steps.composercache.outputs.dir }}
          key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.json') }}
          restore-keys: ${{ runner.os }}-composer-

      - name: Install Composer dependencies
        run: composer install --no-interaction --no-progress --no-scripts

      - name: Reset modules
        run: git reset --hard

      - name: Run post-update Composer scripts
        run: php artisan package:discover

      - name: Setup problem matchers for PHPUnit
        if: matrix.phpVersion == '8.1'
        run: echo "::add-matcher::${{ runner.tool_cache }}/phpunit.json"

      - name: Run Linting and Tests
        run: |
          composer lint
          php artisan winter:test -m system -m backend -m cms
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 21 smells
	- 3. Use fixed version for runs-on argument (line 14)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 58)
	- 8. Use commit hash instead of tags for action versions (line 49)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 72)
	- 8. Use commit hash instead of tags for action versions (line 65)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 165
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 2: name: Tests
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 7: - 1.0
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 8: - 1.1
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 9: - 1.2
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 10: - develop
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 11: pull_request:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 13: jobs:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 14: frontendTests:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 15: runs-on: ubuntu-latest
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 16: name: JavaScript
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 17: steps:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 18: - name: Checkout changes
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 19: uses: actions/checkout@v2
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 21: fetch-depth: 0
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 23: - name: Install Node
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 24: uses: actions/setup-node@v1
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 25: with:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 26: node-version: 12
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 28: - name: Install Node dependencies
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 29: working-directory: ./modules/system/tests/js
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 30: run: npm install
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 32: - name: Run tests
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 33: working-directory: ./modules/system/tests/js
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 34: run: npm run test
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 36: phpUnitTests:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 37: strategy:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 38: max-parallel: 8
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 39: matrix:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 40: operatingSystem: [ubuntu-latest, windows-latest]
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 41: phpVersion: ['8.0', '8.1']
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 42: fail-fast: false
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 43: runs-on: ${{ matrix.operatingSystem }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 44: name: ${{ matrix.operatingSystem }} / PHP ${{ matrix.phpVersion }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 45: env:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 46: extensions: curl, fileinfo, gd, mbstring, openssl, pdo, pdo_sqlite, sqlite3, xml, zip
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 47: key: winter-cms-cache-develop
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 48: steps:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 49: - name: Cancel previous incomplete runs
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 50: uses: styfle/cancel-workflow-action@0.8.0
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 51: with:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 52: access_token: ${{ github.token }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 54: - name: Checkout changes
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 55: uses: actions/checkout@v2
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 57: - name: Setup extension cache
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 58: id: extcache
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 59: uses: shivammathur/cache-extensions@v1
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 60: with:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 61: php-version: ${{ matrix.phpVersion }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 62: extensions: ${{ env.extensions }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 63: key: ${{ env.key }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 65: - name: Cache extensions
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 66: uses: actions/cache@v2
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 67: with:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 68: path: ${{ steps.extcache.outputs.dir }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 69: key: ${{ steps.extcache.outputs.key }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 70: restore-keys: ${{ steps.extcache.outputs.key }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 72: - name: Install PHP
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 73: uses: shivammathur/setup-php@v2
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 74: with:
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 75: php-version: ${{ matrix.phpVersion }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 76: extensions: ${{ env.extensions }}
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 78: - name: Echo branches
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 79: run: echo "${{ github.ref }} | ${{ github.head_ref }} | ${{ github.ref_name }} | ${{ github.base_ref }}"
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 81: - name: Switch library dependency (develop)
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 82: if: github.ref == 'refs/heads/develop' || github.base_ref == 'develop'
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 83: run: php ./.github/workflows/utilities/library-switcher "dev-develop as 1.2"
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 85: - name: Switch library dependency (1.0)
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 86: if: github.event.pull_request.head.sha == '1.0' || github.ref == 'refs/heads/1.0' || github.base_ref == '1.0'
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 87: run: php ./.github/workflows/utilities/library-switcher "1.0.x-dev as 1.0"
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 89: - name: Switch library dependency (1.1)
2025-11-05 22:50:43,311 - utils.process_runner - DEBUG - 라인 90: if: github.event.pull_request.head.sha == '1.1' || github.ref == 'refs/heads/1.1' || github.base_ref == '1.1'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 91: run: php ./.github/workflows/utilities/library-switcher "1.1.x-dev as 1.1"
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 93: - name: Switch library dependency (1.2)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 94: if: github.event.pull_request.head.sha == '1.2' || github.ref == 'refs/heads/1.2' || github.base_ref == '1.2'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 95: run: php ./.github/workflows/utilities/library-switcher "1.2.x-dev as 1.2"
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 97: - name: Setup dependency cache
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 98: id: composercache
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 99: run: echo "::set-output name=dir::$(composer config cache-files-dir)"
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 101: - name: Cache dependencies
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 102: uses: actions/cache@v2
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 103: with:
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 104: path: ${{ steps.composercache.outputs.dir }}
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 105: key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.json') }}
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 106: restore-keys: ${{ runner.os }}-composer-
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 108: - name: Install Composer dependencies
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 109: run: composer install --no-interaction --no-progress --no-scripts
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 111: - name: Reset modules
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 112: run: git reset --hard
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 114: - name: Run post-update Composer scripts
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 115: run: php artisan package:discover
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 117: - name: Setup problem matchers for PHPUnit
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 118: if: matrix.phpVersion == '8.1'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 119: run: echo "::add-matcher::${{ runner.tool_cache }}/phpunit.json"
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 121: - name: Run Linting and Tests
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 122: run: |
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 123: composer lint
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 124: php artisan winter:test -m system -m backend -m cms
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 125: mapping values are not allowed here
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 126: in "<file>", line 2, column 5
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 127: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_temp_phase1.yml
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_temp_phase1.yml
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 128: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 129: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 130: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 131: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 132: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 133: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 134: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 135: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 136: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 137: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 138: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 139: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 140: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 141: We have found 21 smells
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 21 smells
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 142: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 143: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 144: - 8. Use commit hash instead of tags for action versions (line 58)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 58)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 145: - 8. Use commit hash instead of tags for action versions (line 49)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 49)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 146: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 147: - 8. Use commit hash instead of tags for action versions (line 72)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 72)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 148: - 8. Use commit hash instead of tags for action versions (line 65)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 65)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 149: - 12. Avoid workflows without comments
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 150: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 151: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 152: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 153: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 154: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 155: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 156: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 157: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 158: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 159: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 160: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 161: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 162: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 163: The following styling errors were found:
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 라인 164: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:50:43,312 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:50:43,312 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:50:43,313 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:50:43,313 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:50:43,313 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:50:43,313 - main - DEBUG - 임시 파일 삭제: data_original/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_temp_phase1.yml
2025-11-05 22:50:43,313 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:50:43,313 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Tests
        ^
2025-11-05 22:50:43,313 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:50:43,313 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:50:43,314 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d_two_phase_repaired.yml
2025-11-05 22:50:43,314 - __main__ - INFO - === 파일 62/100 2단계 복구 완료 ===
2025-11-05 22:50:43,314 - __main__ - ERROR - ❌ 실패 (74.88초): 237625ec610710bfc796fc74793d673336749e99b80aeeb7555c8f8a65b82e6d
2025-11-05 22:50:43,314 - __main__ - INFO - [63/100] 처리 중: e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 22:50:43,314 - __main__ - INFO - 입력 파일 경로: data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 22:50:43,314 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_two_phase_repaired.yml
2025-11-05 22:50:43,314 - __main__ - INFO - === 파일 63/100 2단계 복구 시작 ===
2025-11-05 22:50:43,314 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:50:43,314 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:50:43,315 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 22:50:43,315 - main - INFO - 파일 크기: 6438 문자
2025-11-05 22:50:43,315 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:50:43,315 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:50:43,315 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:50:43,315 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 22:50:43,331 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:50:43,331 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:50:43,331 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:50:43,331 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:50:43,331 - main - INFO -   오류 1: could not parse as YAML: yaml: line 39: did not find expected key
2025-11-05 22:50:43,331 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:50:43,331 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:50:43,331 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:50:43,331 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:50:43,332 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:52:08,477 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:52:08,481 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:52:08,482 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:52:08,482 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 6639 문자
2025-11-05 22:52:08,482 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:52:08,482 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:52:08,484 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_temp_phase1.yml
2025-11-05 22:52:08,484 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:52:08,484 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_temp_phase1.yml
2025-11-05 22:52:08,976 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 22:52:08,976 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: 'Build Electron and NWJS packages'
on:
  schedule:
    # Nightly run at 03:39 UTC
    - cron: '39 3 * * *'
  workflow_dispatch:
    inputs:
      version:
        description: Specific version to build like v9.9.9 (if empty, builds version in package.json)
        required: false
        default: ''
      target:
        description: Do you wish to build release or nightly?
        required: false
        default: 'nightly'
env:
  INPUT_VERSION: ${{ github.event.inputs.version }}
  INPUT_TARGET: ${{ github.event.inputs.target }}
  CRON_LAUNCHED: ${{ github.event.schedule }}
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  CSC_LINK: ${{ secrets.CSC_LINK }}
  CSC_KEY_PASSWORD: ${{ secrets.CSC_KEY_PASSWORD }}
  SSH_KEY: ${{ secrets.SSH_KEY }}

jobs:

  Release_Linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - name: Install dependencies
        run: npm install
      - name: Rewrite app version number and file name
        run: |
          chmod +x ./scripts/rewrite_app_version_number.sh
          ./scripts/rewrite_app_version_number.sh
          # Replace -app in archive name for Electron apps
          sed -i -E "s/(mdwiki[^-]+)-app_/\1_/g" ./www/js/init.js
      - name: Download archive if needed
        run: |
          packagedFile=$(grep -m1 'params\[.packagedFile' www/js/init.js | sed -E 's/^[^"]+"([^"]+\.zim)".+/\1/')
          if [ ! -f "archives/$packagedFile" ]; then
            # Generalize the name and download it
            packagedFileGeneric=$(sed 's/_[0-9-]+(\.zim)/\1/' <<<"$packagedFile")
            echo -e "\nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
            wget "https://download.kiwix.org/zim/$packagedFileGeneric" -O "archives/$packagedFile"
          fi
          ls archives
          if [ $packagedFile && -f "archives/$packagedFile" ]; then
            echo -e "\nFile $packagedFile now available in 'archives'.\n"
          else
            echo -e "\nError! We could not obtain the requested archive $packagedFile!\n"
            exit 1
          fi
      - name: Publish
        run: |
          npm run publish
          echo "$SSH_KEY" > ./scripts/ssh_key
          chmod 600 ./scripts/ssh_key
          chmod +x ./scripts/publish_linux_packages_to_kiwix.sh
          ./scripts/publish_linux_packages_to_kiwix.sh

  Release_Windows:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3      
      - uses: actions/setup-node@v3
      - name: Install dependencies
        run: npm install
      - name: Rewrite app version number and file name
        run: |
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Rewrite-AppVersion.ps1
          # Replace -app in archive name for Electron apps
          (Get-Content ./www/js/init.js) -replace '(mdwiki[^-]+)-app_', '$1_' | Set-Content -encoding 'utf8BOM' ./www/js/init.js
      - name: Download archive if needed
        run: |
          $packagedFile = (Select-String 'packagedFile' "www\js\init.js" -List) -ireplace '^[^"]+"([^"]+\.zim)".+', '$1'
          if ($packagedFile -and ! (Test-Path "archives\$packagedFile" -PathType Leaf)) {
            # File not in archives, so generalize the name and download it
            $packagedFileGeneric = $packagedFile -replace '_[0-9-]+(\.zim)', '$1'
            Write-Host "`nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
            Invoke-WebRequest "https://download.kiwix.org/zim/$packagedFileGeneric" -OutFile "archives\$packagedFile"
          }
          ls archives
          if ($packagedFile -and (Test-Path "archives\$packagedFile" -PathType Leaf)) {
            Write-Host "`nFile $packagedFile now available in 'archives'.`n" -ForegroundColor Green
          } else {
            Write-Host "`nError! We could not obtain the requested archive $packagedFile!`n" -ForegroundColor Red
            exit 1
          }
      - name: run electron builder
        run: | 
          $GITHUB_TOKEN = $Env:GITHUB_TOKEN
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Rewrite-DraftReleaseTag.ps1
          npm run publish
          ./scripts/Rewrite-DraftReleaseTag.ps1
      - name: build portable Electron app
        run: |
          if (-not ($Env:CRON_LAUNCHED -or ($Env:INPUT_TARGET -eq 'nightly'))) {
            $GITHUB_TOKEN = $Env:GITHUB_TOKEN
            $INPUT_VERSION_E = $Env:INPUT_VERSION -replace '^(v[0-9.]+).*', '$1E'
            if ($Env:INPUT_VERSION -match '-Wiki[\w]+') {
              $INPUT_VERSION_E += $matches[0]
            }
            ./scripts/Create-DraftRelease -buildonly -tag_name $INPUT_VERSION_E -portableonly -wingetprompt N
          }
      - name: publish packages
        run: |
          $SSH_KEY = $Env:SSH_KEY
          echo "$SSH_KEY" > .\scripts\ssh_key
          $GITHUB_TOKEN = $Env:GITHUB_TOKEN
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Publish-ElectronPackages.ps1 -portableonly

  Release_NWJS:
    runs-on: windows-latest
    needs: Download_Archive
    steps:
      - uses: actions/checkout@v3       
      - uses: actions/setup-node@v3
        with:
          node-version: 16
      - name: Select NWJS app
        run: |
          del package.json
          ren package.json.nwjs package.json
      - name: Install dependencies
        run: npm install
      - name: Enable GNU tar
        shell: cmd
        run: |
          echo "Adding GNU tar to PATH"
          echo C:\Program Files\Git\usr\bin>>"%GITHUB_PATH%"
      - name: Restore cache
        id: cache-archive
        uses: actions/cache@v3
        with:
          path: archives
          key:  ${{ needs.Download_Archive.outputs.file }}
      - name: Rewrite app version number
        run: |
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Rewrite-AppVersion.ps1
      - name: Build NWJS app
        run: ./scripts/Build-NWJS.ps1 -only32bit
      - name: Publish
        run: |
          $SSH_KEY = $Env:SSH_KEY
          echo "$SSH_KEY" > .\scripts\ssh_key
          $GITHUB_TOKEN = $Env:GITHUB_TOKEN
          $INPUT_VERSION = $Env:INPUT_VERSION
          $INPUT_TARGET = $Env:INPUT_TARGET
          $CRON_LAUNCHED = $Env:CRON_LAUNCHED
          ./scripts/Publish-ElectronPackages.ps1
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 20 smells
	- 3. Use fixed version for runs-on argument (line 65)
	- 3. Use fixed version for runs-on argument (line 28)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 8. Use commit hash instead of tags for action versions (line 67)
	- 8. Use commit hash instead of tags for action versions (line 145)
	- 8. Use commit hash instead of tags for action versions (line 128)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
97:15: trailing spaces (trailing-spaces)
129:34: trailing spaces (trailing-spaces)
166:49: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 209
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 2: name: 'Build Electron and NWJS packages'
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 4: schedule:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 5: # Nightly run at 03:39 UTC
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 6: - cron: '39 3 * * *'
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 8: inputs:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 9: version:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 10: description: Specific version to build like v9.9.9 (if empty, builds version in package.json)
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 11: required: false
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 12: default: ''
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 13: target:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 14: description: Do you wish to build release or nightly?
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 15: required: false
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 16: default: 'nightly'
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 17: env:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 18: INPUT_VERSION: ${{ github.event.inputs.version }}
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 19: INPUT_TARGET: ${{ github.event.inputs.target }}
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 20: CRON_LAUNCHED: ${{ github.event.schedule }}
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 21: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 22: CSC_LINK: ${{ secrets.CSC_LINK }}
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 23: CSC_KEY_PASSWORD: ${{ secrets.CSC_KEY_PASSWORD }}
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 24: SSH_KEY: ${{ secrets.SSH_KEY }}
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 26: jobs:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 28: Release_Linux:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 29: runs-on: ubuntu-latest
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 30: steps:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 31: - uses: actions/checkout@v3
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 32: - uses: actions/setup-node@v3
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 33: - name: Install dependencies
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 34: run: npm install
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 35: - name: Rewrite app version number and file name
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 36: run: |
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 37: chmod +x ./scripts/rewrite_app_version_number.sh
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 38: ./scripts/rewrite_app_version_number.sh
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 39: # Replace -app in archive name for Electron apps
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 40: sed -i -E "s/(mdwiki[^-]+)-app_/\1_/g" ./www/js/init.js
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 41: - name: Download archive if needed
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 42: run: |
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 43: packagedFile=$(grep -m1 'params\[.packagedFile' www/js/init.js | sed -E 's/^[^"]+"([^"]+\.zim)".+/\1/')
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 44: if [ ! -f "archives/$packagedFile" ]; then
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 45: # Generalize the name and download it
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 46: packagedFileGeneric=$(sed 's/_[0-9-]+(\.zim)/\1/' <<<"$packagedFile")
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 47: echo -e "\nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 48: wget "https://download.kiwix.org/zim/$packagedFileGeneric" -O "archives/$packagedFile"
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 49: fi
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 50: ls archives
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 51: if [ $packagedFile && -f "archives/$packagedFile" ]; then
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 52: echo -e "\nFile $packagedFile now available in 'archives'.\n"
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 53: else
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 54: echo -e "\nError! We could not obtain the requested archive $packagedFile!\n"
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 55: exit 1
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 56: fi
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 57: - name: Publish
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 59: npm run publish
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 60: echo "$SSH_KEY" > ./scripts/ssh_key
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 61: chmod 600 ./scripts/ssh_key
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 62: chmod +x ./scripts/publish_linux_packages_to_kiwix.sh
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 63: ./scripts/publish_linux_packages_to_kiwix.sh
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 65: Release_Windows:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 66: runs-on: windows-latest
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 67: steps:
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 68: - uses: actions/checkout@v3
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 69: - uses: actions/setup-node@v3
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 70: - name: Install dependencies
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 71: run: npm install
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 72: - name: Rewrite app version number and file name
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 73: run: |
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 74: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 75: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 76: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 77: ./scripts/Rewrite-AppVersion.ps1
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 78: # Replace -app in archive name for Electron apps
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 79: (Get-Content ./www/js/init.js) -replace '(mdwiki[^-]+)-app_', '$1_' | Set-Content -encoding 'utf8BOM' ./www/js/init.js
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 80: - name: Download archive if needed
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 81: run: |
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 82: $packagedFile = (Select-String 'packagedFile' "www\js\init.js" -List) -ireplace '^[^"]+"([^"]+\.zim)".+', '$1'
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 83: if ($packagedFile -and ! (Test-Path "archives\$packagedFile" -PathType Leaf)) {
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 84: # File not in archives, so generalize the name and download it
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 85: $packagedFileGeneric = $packagedFile -replace '_[0-9-]+(\.zim)', '$1'
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 86: Write-Host "`nDownloading https://download.kiwix.org/zim/$packagedFileGeneric"
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 87: Invoke-WebRequest "https://download.kiwix.org/zim/$packagedFileGeneric" -OutFile "archives\$packagedFile"
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 88: }
2025-11-05 22:52:08,977 - utils.process_runner - DEBUG - 라인 89: ls archives
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 90: if ($packagedFile -and (Test-Path "archives\$packagedFile" -PathType Leaf)) {
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 91: Write-Host "`nFile $packagedFile now available in 'archives'.`n" -ForegroundColor Green
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 92: } else {
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 93: Write-Host "`nError! We could not obtain the requested archive $packagedFile!`n" -ForegroundColor Red
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 94: exit 1
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 95: }
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 96: - name: run electron builder
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 97: run: |
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 98: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 99: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 100: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 101: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 102: ./scripts/Rewrite-DraftReleaseTag.ps1
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 103: npm run publish
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 104: ./scripts/Rewrite-DraftReleaseTag.ps1
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 105: - name: build portable Electron app
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 106: run: |
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 107: if (-not ($Env:CRON_LAUNCHED -or ($Env:INPUT_TARGET -eq 'nightly'))) {
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 108: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 109: $INPUT_VERSION_E = $Env:INPUT_VERSION -replace '^(v[0-9.]+).*', '$1E'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 110: if ($Env:INPUT_VERSION -match '-Wiki[\w]+') {
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 111: $INPUT_VERSION_E += $matches[0]
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 112: }
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 113: ./scripts/Create-DraftRelease -buildonly -tag_name $INPUT_VERSION_E -portableonly -wingetprompt N
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 114: }
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 115: - name: publish packages
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 116: run: |
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 117: $SSH_KEY = $Env:SSH_KEY
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 118: echo "$SSH_KEY" > .\scripts\ssh_key
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 119: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 120: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 121: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 122: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 123: ./scripts/Publish-ElectronPackages.ps1 -portableonly
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 125: Release_NWJS:
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 126: runs-on: windows-latest
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 127: needs: Download_Archive
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 128: steps:
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 129: - uses: actions/checkout@v3
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 130: - uses: actions/setup-node@v3
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 131: with:
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 132: node-version: 16
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 133: - name: Select NWJS app
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 134: run: |
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 135: del package.json
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 136: ren package.json.nwjs package.json
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 137: - name: Install dependencies
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 138: run: npm install
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 139: - name: Enable GNU tar
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 140: shell: cmd
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 141: run: |
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 142: echo "Adding GNU tar to PATH"
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 143: echo C:\Program Files\Git\usr\bin>>"%GITHUB_PATH%"
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 144: - name: Restore cache
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 145: id: cache-archive
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 146: uses: actions/cache@v3
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 147: with:
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 148: path: archives
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 149: key:  ${{ needs.Download_Archive.outputs.file }}
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 150: - name: Rewrite app version number
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 151: run: |
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 152: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 153: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 154: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 155: ./scripts/Rewrite-AppVersion.ps1
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 156: - name: Build NWJS app
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 157: run: ./scripts/Build-NWJS.ps1 -only32bit
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 158: - name: Publish
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 159: run: |
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 160: $SSH_KEY = $Env:SSH_KEY
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 161: echo "$SSH_KEY" > .\scripts\ssh_key
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 162: $GITHUB_TOKEN = $Env:GITHUB_TOKEN
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 163: $INPUT_VERSION = $Env:INPUT_VERSION
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 164: $INPUT_TARGET = $Env:INPUT_TARGET
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 165: $CRON_LAUNCHED = $Env:CRON_LAUNCHED
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 166: ./scripts/Publish-ElectronPackages.ps1
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 167: mapping values are not allowed here
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 168: in "<file>", line 2, column 5
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 169: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_temp_phase1.yml
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_temp_phase1.yml
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 170: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 171: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 172: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 173: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 174: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 178: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 179: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 180: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 181: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 라인 182: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,978 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 183: We have found 20 smells
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 20 smells
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 184: - 3. Use fixed version for runs-on argument (line 65)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 65)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 185: - 3. Use fixed version for runs-on argument (line 28)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 28)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 186: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 187: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 188: - 8. Use commit hash instead of tags for action versions (line 67)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 67)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 189: - 8. Use commit hash instead of tags for action versions (line 145)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 145)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 190: - 8. Use commit hash instead of tags for action versions (line 128)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 128)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 191: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 192: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 193: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 194: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 195: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 196: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 197: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 198: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 199: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 200: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 201: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 202: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 203: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 204: The following styling errors were found:
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 205: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 206: 97:15: trailing spaces (trailing-spaces)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 207: 129:34: trailing spaces (trailing-spaces)
2025-11-05 22:52:08,979 - utils.process_runner - DEBUG - 라인 208: 166:49: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:52:08,979 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:52:08,979 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:52:08,979 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:52:08,979 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:52:08,979 - main - DEBUG - 임시 파일 삭제: data_original/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_temp_phase1.yml
2025-11-05 22:52:08,979 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:52:08,980 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: 'Build Electron and NWJS packages'
        ^
2025-11-05 22:52:08,980 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:52:08,980 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:52:08,980 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a_two_phase_repaired.yml
2025-11-05 22:52:08,980 - __main__ - INFO - === 파일 63/100 2단계 복구 완료 ===
2025-11-05 22:52:08,981 - __main__ - ERROR - ❌ 실패 (85.67초): e4c7632df0919056940b5bd48762978cea07d7cdb1939e5502973c8b8605b69a
2025-11-05 22:52:08,981 - __main__ - INFO - [64/100] 처리 중: f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 22:52:08,981 - __main__ - INFO - 입력 파일 경로: data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 22:52:08,981 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_two_phase_repaired.yml
2025-11-05 22:52:08,981 - __main__ - INFO - === 파일 64/100 2단계 복구 시작 ===
2025-11-05 22:52:08,981 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:52:08,981 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:52:08,981 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 22:52:08,981 - main - INFO - 파일 크기: 8490 문자
2025-11-05 22:52:08,981 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:52:08,981 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:52:08,981 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:52:08,982 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 22:52:08,998 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:52:08,999 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:52:08,999 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:52:08,999 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:52:08,999 - main - INFO -   오류 1: could not parse as YAML: yaml: line 220: mapping values are not allowed in this context
2025-11-05 22:52:08,999 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:52:08,999 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:52:08,999 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:52:08,999 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:52:09,000 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:53:54,967 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:53:54,971 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:53:54,972 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:53:54,972 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 9402 문자
2025-11-05 22:53:54,972 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:53:54,972 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:53:54,974 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_temp_phase1.yml
2025-11-05 22:53:54,974 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:53:54,974 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_temp_phase1.yml
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.50초)
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build and Push Image
on:
  schedule:
    - cron: '40 16 * * *'  # 16:40 UTC everyday
  merge_group:
  pull_request:
    branches:
      - main
    paths-ignore:
      - '**.md'
  workflow_dispatch:
env:
    IMAGE_REGISTRY: ghcr.io/${{ github.repository_owner }}

concurrency:
  group: ${{ github.workflow }}-${{ github.ref || github.run_id }}
  cancel-in-progress: true

jobs:
  push-ghcr:
    name: Make
    runs-on: ubuntu-22.04
    permissions:
      contents: read
      packages: write
      id-token: write
    strategy:
      fail-fast: false
      matrix:
        image_flavor: [main, nvidia, asus, asus-nvidia, framework, surface, surface-nvidia]
        base_name: [bluefin, bluefin-dx]
        major_version: [38, 39]
        include:
          - major_version: 38
            is_latest_version: false
            is_stable_version: true
            is_gts_version: true
          - major_version: 39
            is_latest_version: true
            is_stable_version: true
            is_gts_version: false
    steps:
      # Checkout push-to-registry action GitHub repository
      - name: Checkout Push to Registry action
        uses: actions/checkout@v4

      - name: Verify base image
        uses: EyeCantCU/cosign-action/verify@v0.2.2
        with:
          containers: silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }}

      - name: Verify Chainguard images
        if: matrix.base_name != 'bluefin'
        uses: EyeCantCU/cosign-action/verify@v0.2.2
        with:
          containers: dive, flux, helm, ko, minio, kubectl
          cert-identity: https://github.com/chainguard-images/images/.github/workflows/release.yaml@refs/heads/main
          oidc-issuer: https://token.actions.githubusercontent.com
          registry: cgr.dev/chainguard

      - name: Maximize build space
        uses: ublue-os/remove-unwanted-software@v6

      - name: Check just syntax
        uses: ublue-os/just-action@v1

      - name: Matrix Variables
        run: |
          if [[ "${{ matrix.image_flavor }}" == "main" ]]; then
              echo "IMAGE_NAME=${{ matrix.base_name }}" >> $GITHUB_ENV
          else
              echo "IMAGE_NAME=${{ format('{0}-{1}', matrix.base_name, matrix.image_flavor) }}" >> $GITHUB_ENV
          fi
          if [[ "${{ matrix.image_flavor }}" =~ "asus" ]]; then
              echo "AKMODS_FLAVOR=asus" >> $GITHUB_ENV
          elif [[ "${{ matrix.image_flavor }}" =~ "surface" ]]; then
              echo "AKMODS_FLAVOR=surface" >> $GITHUB_ENV
          else
              echo "AKMODS_FLAVOR=main" >> $GITHUB_ENV
          fi

      - name: Generate tags
        id: generate-tags
        shell: bash
        run: |
          # Generate a timestamp for creating an image version history
          TIMESTAMP="$(date +%Y%m%d)"
          MAJOR_VERSION="${{ matrix.major_version }}"
          COMMIT_TAGS=()
          BUILD_TAGS=()
          # Have tags for tracking builds during pull request
          SHA_SHORT="${GITHUB_SHA::7}"
          COMMIT_TAGS+=("pr-${{ github.event.number }}-${MAJOR_VERSION}")
          COMMIT_TAGS+=("${SHA_SHORT}-${MAJOR_VERSION}")
          if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
             [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
              COMMIT_TAGS+=("pr-${{ github.event.number }}")
              COMMIT_TAGS+=("${SHA_SHORT}")
          fi

          BUILD_TAGS=("${MAJOR_VERSION}" "${MAJOR_VERSION}-${TIMESTAMP}")

          if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
             [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
              BUILD_TAGS+=("latest")
          elif [[ "${{ matrix.is_gts_version }}" == "true" ]]; then
              BUILD_TAGS+=("gts")
          fi

          if [[ "${{ github.event_name }}" == "pull_request" ]]; then
              echo "Generated the following commit tags: "
              for TAG in "${COMMIT_TAGS[@]}"; do
                  echo "${TAG}"
              done
              alias_tags=("${COMMIT_TAGS[@]}")
          else
              alias_tags=("${BUILD_TAGS[@]}")
          fi
          echo "Generated the following build tags: "
          for TAG in "${BUILD_TAGS[@]}"; do
              echo "${TAG}"
          done
          echo "alias_tags=${alias_tags[*]}" >> $GITHUB_OUTPUT

      - name: Get Current Fedora Version
        id: labels
        run: |
          ver=$(skopeo inspect docker://ghcr.io/ublue-os/silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }} | jq -r '.Labels["org.opencontainers.image.version"]')
          echo "VERSION=$ver" >> $GITHUB_OUTPUT

      # Build metadata
      - name: Image Metadata
        uses: docker/metadata-action@v5
        id: meta
        with:
          images: |
            ${{ env.IMAGE_NAME }}
          labels: |
            org.opencontainers.image.title=${{ env.IMAGE_NAME }}
            org.opencontainers.image.version=${{ steps.labels.outputs.VERSION }}
            org.opencontainers.image.description=An interpretation of the Ubuntu spirit built on Fedora technology 
            io.artifacthub.package.readme-url=https://raw.githubusercontent.com/ublue-os/bluefin/bluefin/README.md
            io.artifacthub.package.logo-url=https://avatars.githubusercontent.com/u/120078124?s=200&v=4

      # Build image using Buildah action
      - name: Build Image
        id: build_image
        uses: redhat-actions/buildah-build@v2
        with:
          containerfiles: |
            ./Containerfile
          image: ${{ env.IMAGE_NAME }}
          tags: |
            ${{ steps.generate-tags.outputs.alias_tags }}
          build-args: |
            IMAGE_NAME=${{ env.IMAGE_NAME }}
            IMAGE_FLAVOR=${{ matrix.image_flavor }}
            IMAGE_VENDOR=${{ github.repository_owner }}
            FEDORA_MAJOR_VERSION=${{ matrix.major_version }}
            TARGET_BASE=${{ matrix.target_base }}
            AKMODS_FLAVOR=${{ env.AKMODS_FLAVOR }}
          labels: ${{ steps.meta.outputs.labels }}
          oci: false
          # TODO(GH-280)
          # extra-args: |
          #   --target=${{ matrix.target_name || matrix.base_name }}
          extra-args: |
            --target=${{ matrix.base_name }}

      # Workaround bug where capital letters in your GitHub username make it impossible to push to GHCR.
      # https://github.com/macbre/push-to-ghcr/issues/12
      - name: Lowercase Registry
        id: registry_case
        uses: ASzc/change-string-case-action@v6
        with:
          string: ${{ env.IMAGE_REGISTRY }}

      # Push the image to GHCR (Image Registry)
      - name: Push To GHCR
        uses: redhat-actions/push-to-registry@v2
        id: push
        if: github.event_name != 'pull_request'
        env:
          REGISTRY_USER: ${{ github.actor }}
          REGISTRY_PASSWORD: ${{ github.token }}
        with:
          image: ${{ steps.build_image.outputs.image }}
          tags: ${{ steps.build_image.outputs.tags }}
          registry: ${{ steps.registry_case.outputs.lowercase }}
          username: ${{ env.REGISTRY_USER }}
          password: ${{ env.REGISTRY_PASSWORD }}

      - name: Login to GitHub Container Registry
        uses: docker/login-action@v3
        if: github.event_name != 'pull_request'
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      # Sign container
      - uses: sigstore/cosign-installer@v3.3.0
        if: github.event_name != 'pull_request'

      - name: Sign container image
        if: github.event_name != 'pull_request'
        run: |
          cosign sign -y --key env://COSIGN_PRIVATE_KEY ${{ steps.registry_case.outputs.lowercase }}/${{ env.IMAGE_NAME }}@${TAGS}
        env:
          TAGS: ${{ steps.push.outputs.digest }}
          COSIGN_EXPERIMENTAL: false
          COSIGN_PRIVATE_KEY: ${{ secrets.COSIGN_PRIVATE_KEY }}

      - name: Push Signed Image
        uses: redhat-actions/push-to-registry@v2
        id: push-signed-image
        if: github.event_name != 'pull_request'
        env:
          REGISTRY_USER: ${{ github.actor }}
          REGISTRY_PASSWORD: ${{ github.token }}
        with:
          image: ${{ steps.build_image.outputs.image }}
          tags: ${{ steps.generate-tags.outputs.alias_tags }}
          registry: ${{ steps.registry_case.outputs.lowercase }}
          username: ${{ env.REGISTRY_USER }}
          password: ${{ env.REGISTRY_PASSWORD }}

      - name: Push Signed Image to Docker Hub
        uses: docker/login-action@v3
        if: github.event_name != 'pull_request'
        with:
          registry: https://index.docker.io/v1/
          username: ${{ secrets.DOCKER_USERNAME }}
          password: ${{ secrets.DOCKER_PASSWORD }}

      - name: Push Signed Image to Docker Hub
        uses: redhat-actions/push-to-registry@v2
        id: push-signed-image-docker-hub
        if: github.event_name != 'pull_request'
        env:
          REGISTRY_USER: ${{ secrets.DOCKER_USERNAME }}
          REGISTRY_PASSWORD: ${{ secrets.DOCKER_PASSWORD }}
        with:
          image: ${{ steps.build_image.outputs.image }}
          tags: ${{ steps.generate-tags.outputs.alias_tags }}
          registry: https://index.docker.io/v1/
          username: ${{ env.REGISTRY_USER }}
          password: ${{ env.REGISTRY_PASSWORD }}

      - name: Exit
        shell: bash
        run: exit 0
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 23 smells
	- 8. Use commit hash instead of tags for action versions (line 148)
	- 8. Use commit hash instead of tags for action versions (line 133)
	- 8. Use commit hash instead of tags for action versions (line 174)
	- 8. Use commit hash instead of tags for action versions (line 65)
	- 8. Use commit hash instead of tags for action versions (line 62)
	- 8. Use commit hash instead of tags for action versions (line 45)
	- 8. Use commit hash instead of tags for action versions (line 180)
	- 8. Use commit hash instead of tags for action versions (line 48)
	- 8. Use commit hash instead of tags for action versions (line 194)
	- 8. Use commit hash instead of tags for action versions (line 202)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
253:20: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 297
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 2: name: Build and Push Image
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 4: schedule:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 5: - cron: '40 16 * * *'  # 16:40 UTC everyday
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 6: merge_group:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 8: branches:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 9: - main
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 10: paths-ignore:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 11: - '**.md'
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 12: workflow_dispatch:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 13: env:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 14: IMAGE_REGISTRY: ghcr.io/${{ github.repository_owner }}
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 16: concurrency:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 17: group: ${{ github.workflow }}-${{ github.ref || github.run_id }}
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 18: cancel-in-progress: true
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 20: jobs:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 21: push-ghcr:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 22: name: Make
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 23: runs-on: ubuntu-22.04
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 24: permissions:
2025-11-05 22:53:55,472 - utils.process_runner - DEBUG - 라인 25: contents: read
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 26: packages: write
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 27: id-token: write
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 28: strategy:
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 29: fail-fast: false
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 30: matrix:
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 31: image_flavor: [main, nvidia, asus, asus-nvidia, framework, surface, surface-nvidia]
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 32: base_name: [bluefin, bluefin-dx]
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 33: major_version: [38, 39]
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 34: include:
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 35: - major_version: 38
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 36: is_latest_version: false
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 37: is_stable_version: true
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 38: is_gts_version: true
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 39: - major_version: 39
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 40: is_latest_version: true
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 41: is_stable_version: true
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 42: is_gts_version: false
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 43: steps:
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 44: # Checkout push-to-registry action GitHub repository
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 45: - name: Checkout Push to Registry action
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 46: uses: actions/checkout@v4
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 48: - name: Verify base image
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 49: uses: EyeCantCU/cosign-action/verify@v0.2.2
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 50: with:
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 51: containers: silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }}
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 53: - name: Verify Chainguard images
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 54: if: matrix.base_name != 'bluefin'
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 55: uses: EyeCantCU/cosign-action/verify@v0.2.2
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 56: with:
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 57: containers: dive, flux, helm, ko, minio, kubectl
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 58: cert-identity: https://github.com/chainguard-images/images/.github/workflows/release.yaml@refs/heads/main
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 59: oidc-issuer: https://token.actions.githubusercontent.com
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 60: registry: cgr.dev/chainguard
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 62: - name: Maximize build space
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 63: uses: ublue-os/remove-unwanted-software@v6
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 65: - name: Check just syntax
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 66: uses: ublue-os/just-action@v1
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 68: - name: Matrix Variables
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 69: run: |
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 70: if [[ "${{ matrix.image_flavor }}" == "main" ]]; then
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 71: echo "IMAGE_NAME=${{ matrix.base_name }}" >> $GITHUB_ENV
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 72: else
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 73: echo "IMAGE_NAME=${{ format('{0}-{1}', matrix.base_name, matrix.image_flavor) }}" >> $GITHUB_ENV
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 74: fi
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 75: if [[ "${{ matrix.image_flavor }}" =~ "asus" ]]; then
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 76: echo "AKMODS_FLAVOR=asus" >> $GITHUB_ENV
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 77: elif [[ "${{ matrix.image_flavor }}" =~ "surface" ]]; then
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 78: echo "AKMODS_FLAVOR=surface" >> $GITHUB_ENV
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 79: else
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 80: echo "AKMODS_FLAVOR=main" >> $GITHUB_ENV
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 81: fi
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 83: - name: Generate tags
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 84: id: generate-tags
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 85: shell: bash
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 86: run: |
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 87: # Generate a timestamp for creating an image version history
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 88: TIMESTAMP="$(date +%Y%m%d)"
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 89: MAJOR_VERSION="${{ matrix.major_version }}"
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 90: COMMIT_TAGS=()
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 91: BUILD_TAGS=()
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 92: # Have tags for tracking builds during pull request
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 93: SHA_SHORT="${GITHUB_SHA::7}"
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 94: COMMIT_TAGS+=("pr-${{ github.event.number }}-${MAJOR_VERSION}")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 95: COMMIT_TAGS+=("${SHA_SHORT}-${MAJOR_VERSION}")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 96: if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 97: [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 98: COMMIT_TAGS+=("pr-${{ github.event.number }}")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 99: COMMIT_TAGS+=("${SHA_SHORT}")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 100: fi
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 102: BUILD_TAGS=("${MAJOR_VERSION}" "${MAJOR_VERSION}-${TIMESTAMP}")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 104: if [[ "${{ matrix.is_latest_version }}" == "true" ]] && \
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 105: [[ "${{ matrix.is_stable_version }}" == "true" ]]; then
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 106: BUILD_TAGS+=("latest")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 107: elif [[ "${{ matrix.is_gts_version }}" == "true" ]]; then
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 108: BUILD_TAGS+=("gts")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 109: fi
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 111: if [[ "${{ github.event_name }}" == "pull_request" ]]; then
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 112: echo "Generated the following commit tags: "
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 113: for TAG in "${COMMIT_TAGS[@]}"; do
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 114: echo "${TAG}"
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 115: done
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 116: alias_tags=("${COMMIT_TAGS[@]}")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 117: else
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 118: alias_tags=("${BUILD_TAGS[@]}")
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 119: fi
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 120: echo "Generated the following build tags: "
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 121: for TAG in "${BUILD_TAGS[@]}"; do
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 122: echo "${TAG}"
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 123: done
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 124: echo "alias_tags=${alias_tags[*]}" >> $GITHUB_OUTPUT
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 126: - name: Get Current Fedora Version
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 127: id: labels
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 128: run: |
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 129: ver=$(skopeo inspect docker://ghcr.io/ublue-os/silverblue-${{ matrix.image_flavor }}:${{ matrix.major_version }} | jq -r '.Labels["org.opencontainers.image.version"]')
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 130: echo "VERSION=$ver" >> $GITHUB_OUTPUT
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 132: # Build metadata
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 133: - name: Image Metadata
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 134: uses: docker/metadata-action@v5
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 135: id: meta
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 136: with:
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 137: images: |
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 138: ${{ env.IMAGE_NAME }}
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 139: labels: |
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 140: org.opencontainers.image.title=${{ env.IMAGE_NAME }}
2025-11-05 22:53:55,473 - utils.process_runner - DEBUG - 라인 141: org.opencontainers.image.version=${{ steps.labels.outputs.VERSION }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 142: org.opencontainers.image.description=An interpretation of the Ubuntu spirit built on Fedora technology
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 143: io.artifacthub.package.readme-url=https://raw.githubusercontent.com/ublue-os/bluefin/bluefin/README.md
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 144: io.artifacthub.package.logo-url=https://avatars.githubusercontent.com/u/120078124?s=200&v=4
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 146: # Build image using Buildah action
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 147: - name: Build Image
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 148: id: build_image
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 149: uses: redhat-actions/buildah-build@v2
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 150: with:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 151: containerfiles: |
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 152: ./Containerfile
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 153: image: ${{ env.IMAGE_NAME }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 154: tags: |
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 155: ${{ steps.generate-tags.outputs.alias_tags }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 156: build-args: |
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 157: IMAGE_NAME=${{ env.IMAGE_NAME }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 158: IMAGE_FLAVOR=${{ matrix.image_flavor }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 159: IMAGE_VENDOR=${{ github.repository_owner }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 160: FEDORA_MAJOR_VERSION=${{ matrix.major_version }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 161: TARGET_BASE=${{ matrix.target_base }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 162: AKMODS_FLAVOR=${{ env.AKMODS_FLAVOR }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 163: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 164: oci: false
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 165: # TODO(GH-280)
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 166: # extra-args: |
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 167: #   --target=${{ matrix.target_name || matrix.base_name }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 168: extra-args: |
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 169: --target=${{ matrix.base_name }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 171: # Workaround bug where capital letters in your GitHub username make it impossible to push to GHCR.
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 172: # https://github.com/macbre/push-to-ghcr/issues/12
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 173: - name: Lowercase Registry
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 174: id: registry_case
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 175: uses: ASzc/change-string-case-action@v6
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 176: with:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 177: string: ${{ env.IMAGE_REGISTRY }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 179: # Push the image to GHCR (Image Registry)
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 180: - name: Push To GHCR
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 181: uses: redhat-actions/push-to-registry@v2
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 182: id: push
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 183: if: github.event_name != 'pull_request'
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 184: env:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 185: REGISTRY_USER: ${{ github.actor }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 186: REGISTRY_PASSWORD: ${{ github.token }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 187: with:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 188: image: ${{ steps.build_image.outputs.image }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 189: tags: ${{ steps.build_image.outputs.tags }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 190: registry: ${{ steps.registry_case.outputs.lowercase }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 191: username: ${{ env.REGISTRY_USER }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 192: password: ${{ env.REGISTRY_PASSWORD }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 194: - name: Login to GitHub Container Registry
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 195: uses: docker/login-action@v3
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 196: if: github.event_name != 'pull_request'
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 197: with:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 198: registry: ghcr.io
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 199: username: ${{ github.actor }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 200: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 202: # Sign container
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 203: - uses: sigstore/cosign-installer@v3.3.0
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 204: if: github.event_name != 'pull_request'
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 206: - name: Sign container image
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 207: if: github.event_name != 'pull_request'
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 208: run: |
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 209: cosign sign -y --key env://COSIGN_PRIVATE_KEY ${{ steps.registry_case.outputs.lowercase }}/${{ env.IMAGE_NAME }}@${TAGS}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 210: env:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 211: TAGS: ${{ steps.push.outputs.digest }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 212: COSIGN_EXPERIMENTAL: false
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 213: COSIGN_PRIVATE_KEY: ${{ secrets.COSIGN_PRIVATE_KEY }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 215: - name: Push Signed Image
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 216: uses: redhat-actions/push-to-registry@v2
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 217: id: push-signed-image
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 218: if: github.event_name != 'pull_request'
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 219: env:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 220: REGISTRY_USER: ${{ github.actor }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 221: REGISTRY_PASSWORD: ${{ github.token }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 222: with:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 223: image: ${{ steps.build_image.outputs.image }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 224: tags: ${{ steps.generate-tags.outputs.alias_tags }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 225: registry: ${{ steps.registry_case.outputs.lowercase }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 226: username: ${{ env.REGISTRY_USER }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 227: password: ${{ env.REGISTRY_PASSWORD }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 229: - name: Push Signed Image to Docker Hub
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 230: uses: docker/login-action@v3
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 231: if: github.event_name != 'pull_request'
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 232: with:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 233: registry: https://index.docker.io/v1/
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 234: username: ${{ secrets.DOCKER_USERNAME }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 235: password: ${{ secrets.DOCKER_PASSWORD }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 237: - name: Push Signed Image to Docker Hub
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 238: uses: redhat-actions/push-to-registry@v2
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 239: id: push-signed-image-docker-hub
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 240: if: github.event_name != 'pull_request'
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 241: env:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 242: REGISTRY_USER: ${{ secrets.DOCKER_USERNAME }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 243: REGISTRY_PASSWORD: ${{ secrets.DOCKER_PASSWORD }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 244: with:
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 245: image: ${{ steps.build_image.outputs.image }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 246: tags: ${{ steps.generate-tags.outputs.alias_tags }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 247: registry: https://index.docker.io/v1/
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 248: username: ${{ env.REGISTRY_USER }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 249: password: ${{ env.REGISTRY_PASSWORD }}
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 251: - name: Exit
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 252: shell: bash
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 253: run: exit 0
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 254: mapping values are not allowed here
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 255: in "<file>", line 2, column 5
2025-11-05 22:53:55,474 - utils.process_runner - DEBUG - 라인 256: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_temp_phase1.yml
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_temp_phase1.yml
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 257: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 258: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 259: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 260: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 261: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 262: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 263: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 264: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 265: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 266: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 267: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 268: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 269: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 270: We have found 23 smells
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 23 smells
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 271: - 8. Use commit hash instead of tags for action versions (line 148)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 148)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 272: - 8. Use commit hash instead of tags for action versions (line 133)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 133)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 273: - 8. Use commit hash instead of tags for action versions (line 174)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 174)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 274: - 8. Use commit hash instead of tags for action versions (line 65)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 65)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 275: - 8. Use commit hash instead of tags for action versions (line 62)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 62)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 276: - 8. Use commit hash instead of tags for action versions (line 45)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 45)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 277: - 8. Use commit hash instead of tags for action versions (line 180)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 180)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 278: - 8. Use commit hash instead of tags for action versions (line 48)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 48)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 279: - 8. Use commit hash instead of tags for action versions (line 194)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 194)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 280: - 8. Use commit hash instead of tags for action versions (line 202)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 202)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 281: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 282: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 283: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 284: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 285: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 286: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 287: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 288: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 289: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 290: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 291: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 292: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 293: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 294: The following styling errors were found:
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 295: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:53:55,475 - utils.process_runner - DEBUG - 라인 296: 253:20: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:53:55,475 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:53:55,475 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:53:55,475 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:53:55,475 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:53:55,476 - main - DEBUG - 임시 파일 삭제: data_original/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_temp_phase1.yml
2025-11-05 22:53:55,476 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:53:55,476 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build and Push Image
        ^
2025-11-05 22:53:55,476 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:53:55,476 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:53:55,477 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857_two_phase_repaired.yml
2025-11-05 22:53:55,477 - __main__ - INFO - === 파일 64/100 2단계 복구 완료 ===
2025-11-05 22:53:55,477 - __main__ - ERROR - ❌ 실패 (106.50초): f8adfd22e84677e622dff6ef4045e23218ce2d8b9cc953d9e07f3eaf1295d857
2025-11-05 22:53:55,477 - __main__ - INFO - [65/100] 처리 중: a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 22:53:55,477 - __main__ - INFO - 입력 파일 경로: data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 22:53:55,477 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_two_phase_repaired.yml
2025-11-05 22:53:55,478 - __main__ - INFO - === 파일 65/100 2단계 복구 시작 ===
2025-11-05 22:53:55,478 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:53:55,478 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:53:55,478 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 22:53:55,478 - main - INFO - 파일 크기: 334 문자
2025-11-05 22:53:55,478 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:53:55,478 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:53:55,478 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:53:55,478 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467
2025-11-05 22:53:55,495 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 22:53:55,495 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:53:55,495 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:53:55,495 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:53:55,495 - main - INFO -   오류 1: when a reusable workflow is called with "uses", "runs-on" is not available. only following keys are allowed: "name", "uses", "with", "secrets", "needs", "if", and "permissions" in job "build-ormlite"
2025-11-05 22:53:55,495 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:53:55,495 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:53:55,495 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:53:55,496 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:53:55,497 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:55:20,440 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 866
2025-11-05 22:55:20,444 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:55:20,445 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:55:20,445 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 333 문자
2025-11-05 22:55:20,445 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:55:20,445 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:55:20,446 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_temp_phase1.yml
2025-11-05 22:55:20,446 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:55:20,446 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_temp_phase1.yml
2025-11-05 22:55:20,720 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.27초)
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_temp_phase1.yml
We have found 6 smells
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 10)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: build-ormlite)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
14:64: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 11
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_temp_phase1.yml
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_temp_phase1.yml
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 2: We have found 6 smells
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 6 smells
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 3: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 10)
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 10)
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 5: - 12. Avoid workflows without comments
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 6: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 7: - 19. Run tests on multiple OS's (job: build-ormlite)
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-ormlite)
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 8: - 22. Avoid deploying jobs on forks
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 9: The following styling errors were found:
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:55:20,721 - utils.process_runner - DEBUG - 라인 10: 14:64: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:55:20,721 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:55:20,721 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 22:55:20,721 - main - INFO - 스멜 1개 발견
2025-11-05 22:55:20,721 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 22:55:20,721 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 22:55:20,721 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 22:55:20,721 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:55:20,721 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:55:20,722 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:56:15,022 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:56:15,026 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:56:15,028 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 22:56:15,028 - main - INFO - Phase 2 완료, 최종 YAML 크기: 507 문자
2025-11-05 22:56:15,029 - main - DEBUG - 임시 파일 삭제: data_original/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_temp_phase1.yml
2025-11-05 22:56:15,029 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:56:15,034 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Build OrmLite', 'on': {'push': {'branches': ['main'], 'paths': ['ServiceStack.OrmLite/**']}}, 'jobs': {'build-ormlite': {'runs-on': 'ubuntu-20.04', 'steps': [{'name': 'Checkout code', 'uses': 'actions/checkout@v2'}, {'name': 'Reuse build OrmLite workflow', 'uses': 'ServiceStack/ServiceStack/.github/workflows/reuse-build-ormlite.yml@main', 'with': {'license-key': '${{ secrets.SERVICESTACK_LICENSE }}'}}], 'secrets': {'SERVICESTACK_LICENSE': '${{ secrets.SERVICESTACK_LICENSE }}'}}}}
2025-11-05 22:56:15,035 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_two_phase_repaired.yml
2025-11-05 22:56:15,035 - main - INFO - 2단계 모드 복구 완료
2025-11-05 22:56:15,035 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_two_phase_repaired.yml
2025-11-05 22:56:15,036 - __main__ - INFO - === 파일 65/100 2단계 복구 완료 ===
2025-11-05 22:56:15,036 - __main__ - INFO - ✅ 성공 (139.56초): a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467 -> a4505371e787904ae7f0962eb8ada84e5d703938780f7b8879d9823656dfd467_two_phase_repaired.yml
2025-11-05 22:56:15,036 - __main__ - INFO - [66/100] 처리 중: 3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 22:56:15,036 - __main__ - INFO - 입력 파일 경로: data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 22:56:15,036 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_two_phase_repaired.yml
2025-11-05 22:56:15,036 - __main__ - INFO - === 파일 66/100 2단계 복구 시작 ===
2025-11-05 22:56:15,036 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:56:15,036 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:56:15,037 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 22:56:15,037 - main - INFO - 파일 크기: 641 문자
2025-11-05 22:56:15,037 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:56:15,037 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:56:15,037 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:56:15,038 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 22:56:15,049 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:56:15,049 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:56:15,049 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:56:15,050 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:56:15,050 - main - INFO -   오류 1: unexpected key "args" for "step" section. expected one of "continue-on-error", "env", "id", "if", "name", "run", "shell", "timeout-minutes", "uses", "with", "working-directory"
2025-11-05 22:56:15,050 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:56:15,050 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:56:15,050 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:56:15,050 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:56:15,051 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:57:29,518 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1178
2025-11-05 22:57:29,522 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:57:29,523 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:57:29,524 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 616 문자
2025-11-05 22:57:29,524 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:57:29,524 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:57:29,525 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_temp_phase1.yml
2025-11-05 22:57:29,525 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:57:29,525 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_temp_phase1.yml
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: CI
on:
  push:
    branches:
      - master
jobs:
  test:
    name: Publish
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - name: Install, Build, Test
        run: |
          npm install
          npm run build
      - name: Publish
        uses: actions/npm@v2  # updated version to v2
        env:
          NPM_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
#GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#      - name: npm version
#        run: |
#          npm version patch
#          git commit -m "Release"
#          git push
#      - name: npm publish
#        run: npm publish
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 64
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 라인 2: name: CI
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 22:57:29,844 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 6: - master
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 8: test:
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 9: name: Publish
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 10: runs-on: ubuntu-latest
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 11: steps:
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 12: - uses: actions/checkout@v1
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 13: - name: Install, Build, Test
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 14: run: |
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 15: npm install
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 16: npm run build
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 17: - name: Publish
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 18: uses: actions/npm@v2  # updated version to v2
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 19: env:
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 20: NPM_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 21: #GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 22: #      - name: npm version
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 23: #        run: |
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 24: #          npm version patch
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 25: #          git commit -m "Release"
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 26: #          git push
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 27: #      - name: npm publish
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 28: #        run: npm publish
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 29: mapping values are not allowed here
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 30: in "<file>", line 2, column 5
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 31: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_temp_phase1.yml
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_temp_phase1.yml
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 45: We have found 16 smells
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 46: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 47: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 48: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 49: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 62: The following styling errors were found:
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 라인 63: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:57:29,845 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 22:57:29,845 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:57:29,845 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 22:57:29,845 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 22:57:29,846 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 22:57:29,846 - main - DEBUG - 임시 파일 삭제: data_original/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_temp_phase1.yml
2025-11-05 22:57:29,846 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 22:57:29,846 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: CI
        ^
2025-11-05 22:57:29,846 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 22:57:29,846 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 22:57:29,847 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752_two_phase_repaired.yml
2025-11-05 22:57:29,847 - __main__ - INFO - === 파일 66/100 2단계 복구 완료 ===
2025-11-05 22:57:29,847 - __main__ - ERROR - ❌ 실패 (74.81초): 3a0d2b022ada8a95d378853cd75b3cce1f44328cd15ebc14342b485814560752
2025-11-05 22:57:29,847 - __main__ - INFO - [67/100] 처리 중: d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 22:57:29,847 - __main__ - INFO - 입력 파일 경로: data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 22:57:29,847 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_two_phase_repaired.yml
2025-11-05 22:57:29,847 - __main__ - INFO - === 파일 67/100 2단계 복구 시작 ===
2025-11-05 22:57:29,847 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 22:57:29,847 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 22:57:29,847 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 22:57:29,847 - main - INFO - 파일 크기: 3583 문자
2025-11-05 22:57:29,848 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 22:57:29,848 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 22:57:29,848 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 22:57:29,848 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 22:57:29,855 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 22:57:29,855 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 22:57:29,855 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 22:57:29,855 - main - INFO - actionlint 오류 1개 발견
2025-11-05 22:57:29,855 - main - INFO -   오류 1: string should not be empty
2025-11-05 22:57:29,855 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 22:57:29,855 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 22:57:29,855 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:57:29,855 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:57:29,856 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 22:59:17,379 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 22:59:17,383 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 22:59:17,384 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 22:59:17,385 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 3582 문자
2025-11-05 22:59:17,385 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 22:59:17,385 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 22:59:17,386 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_temp_phase1.yml
2025-11-05 22:59:17,386 - main - INFO - 7단계: smell detection 실행
2025-11-05 22:59:17,386 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_temp_phase1.yml
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_temp_phase1.yml
We have found 13 smells
	- 3. Use fixed version for runs-on argument (line 31)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 31)
	- 8. Use commit hash instead of tags for action versions (line 37)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 31)
	- 13. Use names for run steps (lines -1:38)
	- 13. Use names for run steps (lines -1:34)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 18. Avoid installing packages without version (line -1)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
90:23: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 18
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_temp_phase1.yml
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_temp_phase1.yml
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 2: We have found 13 smells
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 13 smells
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 31)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 31)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 31)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 31)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 37)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 37)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 31)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 31)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 10: - 13. Use names for run steps (lines -1:38)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:38)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:34)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:34)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 12: - 14. Avoid incorrectly formatted workflows
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 13: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 14: - 18. Avoid installing packages without version (line -1)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 22:59:17,848 - utils.process_runner - DEBUG - 라인 15: - 22. Avoid deploying jobs on forks
2025-11-05 22:59:17,849 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 22:59:17,849 - utils.process_runner - DEBUG - 라인 16: The following styling errors were found:
2025-11-05 22:59:17,849 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 22:59:17,849 - utils.process_runner - DEBUG - 라인 17: 90:23: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 22:59:17,849 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 22:59:17,849 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 22:59:17,849 - main - INFO - 스멜 3개 발견
2025-11-05 22:59:17,849 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 22:59:17,849 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 31)
2025-11-05 22:59:17,849 - main - INFO -   스멜 3: Avoid running CI related actions when no source code has changed
2025-11-05 22:59:17,849 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 22:59:17,849 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 22:59:17,849 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 22:59:17,849 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 22:59:17,850 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:00:10,422 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:00:10,426 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:00:10,427 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:00:10,427 - main - INFO - Phase 2 완료, 최종 YAML 크기: 2752 문자
2025-11-05 23:00:10,429 - main - DEBUG - 임시 파일 삭제: data_original/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_temp_phase1.yml
2025-11-05 23:00:10,429 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:00:10,429 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Publish
        ^
2025-11-05 23:00:10,430 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:00:10,430 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:00:10,430 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079_two_phase_repaired.yml
2025-11-05 23:00:10,431 - __main__ - INFO - === 파일 67/100 2단계 복구 완료 ===
2025-11-05 23:00:10,431 - __main__ - ERROR - ❌ 실패 (160.58초): d97a8ddc770b29c2b11ce6731366ef281f2f8bf1157f8ead13583a23b839c079
2025-11-05 23:00:10,431 - __main__ - INFO - [68/100] 처리 중: ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 23:00:10,431 - __main__ - INFO - 입력 파일 경로: data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 23:00:10,431 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_two_phase_repaired.yml
2025-11-05 23:00:10,431 - __main__ - INFO - === 파일 68/100 2단계 복구 시작 ===
2025-11-05 23:00:10,431 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:00:10,432 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:00:10,432 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 23:00:10,432 - main - INFO - 파일 크기: 2538 문자
2025-11-05 23:00:10,432 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:00:10,432 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:00:10,433 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:00:10,434 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 23:00:10,474 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 23:00:10,475 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:00:10,475 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:00:10,475 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:00:10,475 - main - INFO -   오류 1: could not parse as YAML: yaml: line 71: mapping values are not allowed in this context
2025-11-05 23:00:10,475 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:00:10,475 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:00:10,475 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:00:10,475 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:00:10,476 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:00:55,020 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:00:55,022 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:00:55,023 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:00:55,023 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 275 문자
2025-11-05 23:00:55,023 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:00:55,023 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:00:55,024 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_temp_phase1.yml
2025-11-05 23:00:55,024 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:00:55,025 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_temp_phase1.yml
2025-11-05 23:00:55,326 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.30초)
2025-11-05 23:00:55,326 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: The syntax error was due to the `if` keyword being used without a condition. The corrected YAML workflow removes this line, as it's not necessary in this context.

However, if you want to keep the `always()` condition, you should use the correct syntax for conditional steps:
mapping values are not allowed here
  in "<file>", line 3, column 111
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 14 smells
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
3:111: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:00:55,326 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:00:55,326 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:00:55,326 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 37
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: The syntax error was due to the `if` keyword being used without a condition. The corrected YAML workflow removes this line, as it's not necessary in this context.
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): Unable to parse yaml file: The syntax error was due to the `if` keyword being used without a condition. The corrected YAML workflow removes this line, as it's not necessary in this context.
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 3: However, if you want to keep the `always()` condition, you should use the correct syntax for conditional steps:
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 4: mapping values are not allowed here
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 5: in "<file>", line 3, column 111
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 6: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_temp_phase1.yml
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_temp_phase1.yml
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 7: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 8: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 9: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 10: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 11: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 12: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 13: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 14: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 15: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 16: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 17: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 18: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 19: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 20: We have found 14 smells
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 21: - 12. Avoid workflows without comments
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 22: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 23: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 24: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 25: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 26: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 27: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 28: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 29: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 30: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 31: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 32: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 33: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 34: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 35: The following styling errors were found:
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 라인 36: 3:111: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:00:55,327 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:111: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:00:55,327 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:00:55,327 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:00:55,327 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:00:55,327 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:00:55,328 - main - DEBUG - 임시 파일 삭제: data_original/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_temp_phase1.yml
2025-11-05 23:00:55,328 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:00:55,328 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 3, column 111:
     ... ect syntax for conditional steps:
                                         ^
2025-11-05 23:00:55,328 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:00:55,328 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:00:55,328 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a_two_phase_repaired.yml
2025-11-05 23:00:55,328 - __main__ - INFO - === 파일 68/100 2단계 복구 완료 ===
2025-11-05 23:00:55,329 - __main__ - ERROR - ❌ 실패 (44.90초): ef9e4315ee04c206bb28ede6b87929a1f230be46aa2e70586d09af99e447047a
2025-11-05 23:00:55,329 - __main__ - INFO - [69/100] 처리 중: 42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 23:00:55,329 - __main__ - INFO - 입력 파일 경로: data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 23:00:55,329 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_two_phase_repaired.yml
2025-11-05 23:00:55,329 - __main__ - INFO - === 파일 69/100 2단계 복구 시작 ===
2025-11-05 23:00:55,329 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:00:55,329 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:00:55,329 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 23:00:55,329 - main - INFO - 파일 크기: 1318 문자
2025-11-05 23:00:55,329 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:00:55,329 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:00:55,329 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:00:55,329 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 23:00:55,346 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:00:55,346 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:00:55,346 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:00:55,346 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:00:55,346 - main - INFO -   오류 1: could not parse as YAML: yaml: line 50: could not find expected ':'
2025-11-05 23:00:55,346 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:00:55,346 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:00:55,346 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:00:55,346 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:00:55,347 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:02:06,681 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:02:06,685 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:02:06,686 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:02:06,686 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1407 문자
2025-11-05 23:02:06,686 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:02:06,687 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:02:06,688 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_temp_phase1.yml
2025-11-05 23:02:06,688 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:02:06,688 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_temp_phase1.yml
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Laravel

on: [push]

jobs:
  laravel-tests:
    runs-on: ubuntu-latest
    services:
      mysql-service:
        image: mysql:8.0.25
        env:
          MYSQL_ROOT_PASSWORD: password
          MYSQL_DATABASE: flare_test
        ports:
          - 33306:3306
        options: >-
          --health-cmd="mysqladmin ping"
          --health-interval=10s
          --health-timeout=5s
          --health-retries=3
    steps:
      - uses: actions/checkout@v1
      - name: Setup PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: 8.0
      - name: Copy .env
        run: |
          if [ ! -f ".env" ]; then
            cp .env.example .env;
          fi
      - name: Install Dependencies
        run: |
          rm -rf vendor
          composer install
          yarn install
      - name: Generate key
        run: php artisan key:generate
      - name: Link Storage
        run: php artisan storage:link
      - name: Install dependencies (laravel mix)
        run: yarn run prod
      - name: Execute tests (Unit and Feature tests) via PHPUnit
        env:
          DB_CONNECTION: mysql
          DB_HOST: 127.0.0.1
          DB_DATABASE: flare_test
          DB_PORT: 33306
          DB_USER: root
          DB_PASSWORD: password
          TIME_ZONE: America/Edmonton
        run: |
          php artisan migrate
          vendor/bin/phpunit --stop-on-failure
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 7)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 92
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 2: name: Laravel
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 4: on: [push]
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 6: jobs:
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 7: laravel-tests:
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 8: runs-on: ubuntu-latest
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 9: services:
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 10: mysql-service:
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 11: image: mysql:8.0.25
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 12: env:
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 13: MYSQL_ROOT_PASSWORD: password
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 14: MYSQL_DATABASE: flare_test
2025-11-05 23:02:07,148 - utils.process_runner - DEBUG - 라인 15: ports:
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 16: - 33306:3306
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 17: options: >-
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 18: --health-cmd="mysqladmin ping"
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 19: --health-interval=10s
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 20: --health-timeout=5s
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 21: --health-retries=3
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 22: steps:
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 23: - uses: actions/checkout@v1
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 24: - name: Setup PHP
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 25: uses: shivammathur/setup-php@v2
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 26: with:
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 27: php-version: 8.0
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 28: - name: Copy .env
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 29: run: |
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 30: if [ ! -f ".env" ]; then
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 31: cp .env.example .env;
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 32: fi
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 33: - name: Install Dependencies
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 34: run: |
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 35: rm -rf vendor
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 36: composer install
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 37: yarn install
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 38: - name: Generate key
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 39: run: php artisan key:generate
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 40: - name: Link Storage
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 41: run: php artisan storage:link
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 42: - name: Install dependencies (laravel mix)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 43: run: yarn run prod
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 44: - name: Execute tests (Unit and Feature tests) via PHPUnit
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 45: env:
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 46: DB_CONNECTION: mysql
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 47: DB_HOST: 127.0.0.1
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 48: DB_DATABASE: flare_test
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 49: DB_PORT: 33306
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 50: DB_USER: root
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 51: DB_PASSWORD: password
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 52: TIME_ZONE: America/Edmonton
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 53: run: |
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 54: php artisan migrate
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 55: vendor/bin/phpunit --stop-on-failure
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 56: mapping values are not allowed here
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 57: in "<file>", line 2, column 5
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 58: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_temp_phase1.yml
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_temp_phase1.yml
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 72: We have found 17 smells
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 73: - 3. Use fixed version for runs-on argument (line 7)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 7)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 74: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 75: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 76: - 12. Avoid workflows without comments
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 77: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:02:07,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:02:07,150 - utils.process_runner - DEBUG - 라인 90: The following styling errors were found:
2025-11-05 23:02:07,150 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:02:07,150 - utils.process_runner - DEBUG - 라인 91: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:02:07,150 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:02:07,150 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:02:07,150 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:02:07,150 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:02:07,150 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:02:07,150 - main - DEBUG - 임시 파일 삭제: data_original/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_temp_phase1.yml
2025-11-05 23:02:07,150 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:02:07,151 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Laravel
        ^
2025-11-05 23:02:07,151 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:02:07,151 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:02:07,151 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e_two_phase_repaired.yml
2025-11-05 23:02:07,151 - __main__ - INFO - === 파일 69/100 2단계 복구 완료 ===
2025-11-05 23:02:07,151 - __main__ - ERROR - ❌ 실패 (71.82초): 42149135cb0e7ef51212fc5c943cb1ac604761289d817d9867f799d0bd7c1e9e
2025-11-05 23:02:07,151 - __main__ - INFO - [70/100] 처리 중: f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 23:02:07,151 - __main__ - INFO - 입력 파일 경로: data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 23:02:07,151 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_two_phase_repaired.yml
2025-11-05 23:02:07,151 - __main__ - INFO - === 파일 70/100 2단계 복구 시작 ===
2025-11-05 23:02:07,151 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:02:07,151 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:02:07,152 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 23:02:07,152 - main - INFO - 파일 크기: 16412 문자
2025-11-05 23:02:07,152 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:02:07,152 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:02:07,152 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:02:07,152 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 23:02:07,170 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:02:07,170 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:02:07,170 - main - INFO - actionlint에서 32개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:02:07,170 - main - INFO - actionlint 오류 32개 발견
2025-11-05 23:02:07,170 - main - INFO -   오류 1: unexpected key "platform" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 23:02:07,170 - main - INFO -   오류 2: unexpected key "platform_version" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 23:02:07,170 - main - INFO -   오류 3: unexpected key "platform" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 23:02:07,170 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:02:07,171 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:02:07,171 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:02:07,171 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:02:07,172 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:07:07,185 - utils.llm_api - ERROR - Ollama API 호출 중 네트워크 오류: HTTPConnectionPool(host='115.145.178.160', port=11434): Read timed out. (read timeout=300)
2025-11-05 23:07:07,186 - utils.llm_api - WARNING - LLM API 호출 실패, 1.0초 후 재시도 (1/3)
2025-11-05 23:07:08,189 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:07:08,190 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:07:08,195 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:08:43,984 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:08:43,988 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:08:43,990 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:08:43,990 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 3442 문자
2025-11-05 23:08:43,990 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:08:43,990 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:08:43,991 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_temp_phase1.yml
2025-11-05 23:08:43,991 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:08:43,991 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_temp_phase1.yml
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_temp_phase1.yml
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 9)
	- 8. Use commit hash instead of tags for action versions (line 54)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 8. Use commit hash instead of tags for action versions (line 45)
	- 8. Use commit hash instead of tags for action versions (line 63)
	- 8. Use commit hash instead of tags for action versions (line 36)
	- 8. Use commit hash instead of tags for action versions (line 30)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 9)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 9)
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: build-and-deploy)
	- 20. Run CI on multiple language versions (job: build-and-deploy)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
109:44: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 24
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_temp_phase1.yml
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_temp_phase1.yml
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 라인 2: We have found 19 smells
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 23:08:44,447 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 9)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 9)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 54)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 54)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 8: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 45)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 45)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 63)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 63)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 36)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 36)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 30)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 30)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 13: - 9. Steps should only perform a single command (line -1)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 9)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 9)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 15: - 12. Avoid workflows without comments
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 16: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 17: - 15. Use permissions whenever using Github Token (job at line 9)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 9)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 18: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 19: - 19. Run tests on multiple OS's (job: build-and-deploy)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build-and-deploy)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 20: - 20. Run CI on multiple language versions (job: build-and-deploy)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build-and-deploy)
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 21: - 22. Avoid deploying jobs on forks
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 22: The following styling errors were found:
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:08:44,448 - utils.process_runner - DEBUG - 라인 23: 109:44: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:08:44,448 - utils.process_runner - INFO - 총 4개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:08:44,448 - utils.process_runner - INFO - Smell detector 실행 완료: 4개 스멜 발견
2025-11-05 23:08:44,448 - main - INFO - 스멜 4개 발견
2025-11-05 23:08:44,448 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 23:08:44,448 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 9)
2025-11-05 23:08:44,448 - main - INFO -   스멜 3: Use permissions whenever using Github Token (job at line 9)
2025-11-05 23:08:44,448 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:08:44,448 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:08:44,448 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:08:44,448 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:08:44,449 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:10:45,494 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:10:45,499 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:10:45,500 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:10:45,501 - main - INFO - Phase 2 완료, 최종 YAML 크기: 2375 문자
2025-11-05 23:10:45,502 - main - DEBUG - 임시 파일 삭제: data_original/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_temp_phase1.yml
2025-11-05 23:10:45,503 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:10:45,504 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build and Deploy
        ^
2025-11-05 23:10:45,504 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:10:45,504 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:10:45,505 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1_two_phase_repaired.yml
2025-11-05 23:10:45,505 - __main__ - INFO - === 파일 70/100 2단계 복구 완료 ===
2025-11-05 23:10:45,505 - __main__ - ERROR - ❌ 실패 (518.35초): f88fe224327093d5b7bb6c9a59a05ad1d2a6134a5020a513c2c2d4e5662f64a1
2025-11-05 23:10:45,506 - __main__ - INFO - [71/100] 처리 중: 29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 23:10:45,506 - __main__ - INFO - 입력 파일 경로: data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 23:10:45,506 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_two_phase_repaired.yml
2025-11-05 23:10:45,506 - __main__ - INFO - === 파일 71/100 2단계 복구 시작 ===
2025-11-05 23:10:45,506 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:10:45,506 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:10:45,507 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 23:10:45,507 - main - INFO - 파일 크기: 1308 문자
2025-11-05 23:10:45,507 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:10:45,507 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:10:45,507 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:10:45,508 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a
2025-11-05 23:10:45,538 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:10:45,538 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:10:45,539 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:10:45,539 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:10:45,539 - main - INFO -   오류 1: unexpected key "options" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 23:10:45,539 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:10:45,539 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:10:45,539 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:10:45,539 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:10:45,540 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:11:41,177 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1858
2025-11-05 23:11:41,181 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:11:41,182 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:11:41,182 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1282 문자
2025-11-05 23:11:41,182 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:11:41,182 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:11:41,183 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_temp_phase1.yml
2025-11-05 23:11:41,183 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:11:41,183 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_temp_phase1.yml
2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.34초)
2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_temp_phase1.yml
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 9)
	- 6. Define permissions for workflows with external actions (job at line: 8)
	- 7. Use 'if' for upload-artifact action (line 56)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 55)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 8)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines -1:33)
	- 13. Use names for run steps (lines -1:56)
	- 14. Avoid incorrectly formatted workflows
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
13:9: trailing spaces (trailing-spaces)
18:5: wrong indentation: expected 6 but found 4 (indentation)
60:58: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 19
2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:11:41,524 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_temp_phase1.yml
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_temp_phase1.yml
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 8)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 8)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 5: - 7. Use 'if' for upload-artifact action (line 56)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 56)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 7: - 8. Use commit hash instead of tags for action versions (line 55)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 55)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 8: - 9. Steps should only perform a single command (line -1)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 9: - 10. Avoid jobs without timeouts (line: 8)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 8)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 10: - 12. Avoid workflows without comments
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 11: - 13. Use names for run steps (lines -1:33)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:33)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 12: - 13. Use names for run steps (lines -1:56)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:56)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 13: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 15: The following styling errors were found:
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 16: 13:9: trailing spaces (trailing-spaces)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 17: 18:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 23:11:41,525 - utils.process_runner - DEBUG - 라인 18: 60:58: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:11:41,525 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:11:41,525 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 23:11:41,525 - main - INFO - 스멜 1개 발견
2025-11-05 23:11:41,525 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 8)
2025-11-05 23:11:41,525 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:11:41,525 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:11:41,525 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:11:41,525 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:11:41,526 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:12:26,095 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:12:26,100 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:12:26,101 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:12:26,101 - main - INFO - Phase 2 완료, 최종 YAML 크기: 1305 문자
2025-11-05 23:12:26,102 - main - DEBUG - 임시 파일 삭제: data_original/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_temp_phase1.yml
2025-11-05 23:12:26,102 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:12:26,110 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'on': ['push', 'pull_request'], 'defaults': {'run': {'shell': 'bash'}}, 'jobs': {'build': {'name': 'CentOS 7', 'runs-on': 'ubuntu-latest', 'container': 'centos:7', 'timeout-minutes': 30, 'env': {'PGDATA': '/tmp/pgdata'}, 'steps': [{'name': 'Install dependencies', 'run': 'mkdir -p $PGDATA\nyum install -y gcc gcc-c++ make python3 postgresql-server git\n'}, {'name': 'Setup Postgres', 'run': 'systemctl start postgresql\n'}, {'name': 'Install additional tools', 'run': 'curl -O https://bootstrap.pypa.io/pip/3.6/get-pip.py\npython3 get-pip.py --user\npython3 -m pip install awscli cmake --upgrade --user\n'}, {'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Update DuckDB submodule', 'run': 'git submodule init\ngit submodule update --remote --merge\n'}, {'name': 'Build and test', 'run': 'export PATH=/github/home/.local/bin:$PATH\nmake release\n./create-postgres-tables.sh\n./duckdb/build/release/test/unittest --test-dir . "[postgres_scanner]"\n./build/release/concurrency_test\n'}, {'uses': 'actions/upload-artifact@v2', 'with': {'name': 'postgres-scanner', 'path': 'build/release/postgres_scanner.duckdb_extension'}}]}}}
2025-11-05 23:12:26,112 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_two_phase_repaired.yml
2025-11-05 23:12:26,112 - main - INFO - 2단계 모드 복구 완료
2025-11-05 23:12:26,112 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_two_phase_repaired.yml
2025-11-05 23:12:26,112 - __main__ - INFO - === 파일 71/100 2단계 복구 완료 ===
2025-11-05 23:12:26,112 - __main__ - INFO - ✅ 성공 (100.61초): 29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a -> 29939243c88c65a1767521b7ec78d342874c7b28fbfab27d920cc7fd3e0bca8a_two_phase_repaired.yml
2025-11-05 23:12:26,112 - __main__ - INFO - [72/100] 처리 중: e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 23:12:26,113 - __main__ - INFO - 입력 파일 경로: data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 23:12:26,113 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_two_phase_repaired.yml
2025-11-05 23:12:26,113 - __main__ - INFO - === 파일 72/100 2단계 복구 시작 ===
2025-11-05 23:12:26,113 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:12:26,114 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:12:26,114 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 23:12:26,114 - main - INFO - 파일 크기: 1870 문자
2025-11-05 23:12:26,114 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:12:26,114 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:12:26,115 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:12:26,115 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 23:12:26,144 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:12:26,145 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:12:26,145 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:12:26,145 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:12:26,145 - main - INFO -   오류 1: could not parse as YAML: yaml: line 16: mapping values are not allowed in this context
2025-11-05 23:12:26,145 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:12:26,145 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:12:26,145 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:12:26,145 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:12:26,147 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:13:16,683 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:13:16,687 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:13:16,688 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:13:16,688 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1873 문자
2025-11-05 23:13:16,688 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:13:16,688 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:13:16,690 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_temp_phase1.yml
2025-11-05 23:13:16,690 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:13:16,690 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_temp_phase1.yml
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.46초)
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build and Deploy Documentation

on:
  push:
    branches:
      - main
    paths:
      - 'mkdocs.yml'
      - 'docs/**'
      - '.github/workflows/update_docs.yml'

  workflow_dispatch:

jobs:
  build-and-deploy:
    name: Build and Deploy
    runs-on: ubuntu-latest
    environment:
      name: cloudflare-pages
      url: https://${{ vars.CLOUDFLARE_PAGES_NAME}}.pages.dev
    steps:
      - uses: actions/checkout@v2
      - name: Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.7
      - name: Install dependencies
        run: |
          python -m pip install -r requirements.txt
      - name: Build
        run: |
          echo "{% extends \"base.html\" %}{% block analytics %}<!-- Matomo -->
            <script type=\"text/javascript\">
              var _paq = window._paq = window._paq || [];
              _paq.push(['disableCookies']);
              _paq.push(['trackPageView']);
              _paq.push(['enableLinkTracking']);
              (function() { var u='//analytics.dvratil.cz/';
                _paq.push(['setTrackerUrl', u+'matomo.php']);
                _paq.push(['setSiteId', '2']);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
              })();</script><!-- End Matomo Code -->{% endblock %}" > docs/overrides/main.html
          mkdocs build --verbose
      - name: Deploy to Cloudflare Pages
        uses: cloudflare/wrangler-action@2.0.0
        env:
          CLOUDFLARE_ACCOUNT_ID: ${{ SECRETS.CLOUDFLARE_ACCOUNT_ID }}
        with:
          apiToken: ${{ SECRETS.CLOUDFLARE_PAGES_TOKEN }}
          command: pages publish ./site --project-name ${{ vars.CLOUDFLARE_PAGES_NAME }} --commit-hash ${{ env.GITHUB_SHA }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 17)
	- 8. Use commit hash instead of tags for action versions (line 24)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 46)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 90
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 2: name: Build and Deploy Documentation
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 7: - main
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 8: paths:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 9: - 'mkdocs.yml'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 10: - 'docs/**'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 11: - '.github/workflows/update_docs.yml'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 13: workflow_dispatch:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 16: build-and-deploy:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 17: name: Build and Deploy
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 18: runs-on: ubuntu-latest
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 19: environment:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 20: name: cloudflare-pages
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 21: url: https://${{ vars.CLOUDFLARE_PAGES_NAME}}.pages.dev
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 22: steps:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 23: - uses: actions/checkout@v2
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 24: - name: Setup Python
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 25: uses: actions/setup-python@v2
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 26: with:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 27: python-version: 3.7
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 28: - name: Install dependencies
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 29: run: |
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 30: python -m pip install -r requirements.txt
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 31: - name: Build
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 32: run: |
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 33: echo "{% extends \"base.html\" %}{% block analytics %}<!-- Matomo -->
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 34: <script type=\"text/javascript\">
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 35: var _paq = window._paq = window._paq || [];
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 36: _paq.push(['disableCookies']);
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 37: _paq.push(['trackPageView']);
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 38: _paq.push(['enableLinkTracking']);
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 39: (function() { var u='//analytics.dvratil.cz/';
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 40: _paq.push(['setTrackerUrl', u+'matomo.php']);
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 41: _paq.push(['setSiteId', '2']);
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 42: var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 43: g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 44: })();</script><!-- End Matomo Code -->{% endblock %}" > docs/overrides/main.html
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 45: mkdocs build --verbose
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 46: - name: Deploy to Cloudflare Pages
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 47: uses: cloudflare/wrangler-action@2.0.0
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 48: env:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 49: CLOUDFLARE_ACCOUNT_ID: ${{ SECRETS.CLOUDFLARE_ACCOUNT_ID }}
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 50: with:
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 51: apiToken: ${{ SECRETS.CLOUDFLARE_PAGES_TOKEN }}
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 52: command: pages publish ./site --project-name ${{ vars.CLOUDFLARE_PAGES_NAME }} --commit-hash ${{ env.GITHUB_SHA }}
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 53: mapping values are not allowed here
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 54: in "<file>", line 2, column 5
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 55: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_temp_phase1.yml
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_temp_phase1.yml
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,148 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 69: We have found 18 smells
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 70: - 3. Use fixed version for runs-on argument (line 17)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 17)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 71: - 8. Use commit hash instead of tags for action versions (line 24)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 24)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 72: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 73: - 8. Use commit hash instead of tags for action versions (line 46)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 46)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 74: - 12. Avoid workflows without comments
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 75: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 88: The following styling errors were found:
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 라인 89: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:13:17,149 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:13:17,149 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:13:17,149 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:13:17,149 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:13:17,149 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:13:17,150 - main - DEBUG - 임시 파일 삭제: data_original/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_temp_phase1.yml
2025-11-05 23:13:17,150 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:13:17,150 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build and Deploy Documentation
        ^
2025-11-05 23:13:17,150 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:13:17,150 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:13:17,151 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52_two_phase_repaired.yml
2025-11-05 23:13:17,151 - __main__ - INFO - === 파일 72/100 2단계 복구 완료 ===
2025-11-05 23:13:17,151 - __main__ - ERROR - ❌ 실패 (51.04초): e61b6d0c3cb744490941f74132cce54ea3f4ef8153a165ef293f9d1fb534ca52
2025-11-05 23:13:17,151 - __main__ - INFO - [73/100] 처리 중: 87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 23:13:17,151 - __main__ - INFO - 입력 파일 경로: data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 23:13:17,151 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_two_phase_repaired.yml
2025-11-05 23:13:17,151 - __main__ - INFO - === 파일 73/100 2단계 복구 시작 ===
2025-11-05 23:13:17,151 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:13:17,151 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:13:17,151 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 23:13:17,151 - main - INFO - 파일 크기: 591 문자
2025-11-05 23:13:17,151 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:13:17,151 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:13:17,151 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:13:17,152 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 23:13:17,168 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:13:17,168 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:13:17,168 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:13:17,168 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:13:17,168 - main - INFO -   오류 1: could not parse as YAML: yaml: line 16: did not find expected key
2025-11-05 23:13:17,168 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:13:17,168 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:13:17,168 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:13:17,168 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:13:17,169 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:13:40,928 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1194
2025-11-05 23:13:40,931 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:13:40,931 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:13:40,932 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 582 문자
2025-11-05 23:13:40,932 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:13:40,932 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:13:40,933 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_temp_phase1.yml
2025-11-05 23:13:40,933 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:13:40,933 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_temp_phase1.yml
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Create YAML on direct push to README

on:
  push:
    paths:
      - "README.md"

jobs:
  create_yamls:
    runs-on: ubuntu-latest
    steps:
      - name: checkout repo content
        uses: actions/checkout@v2 # checkout the repository content to github runner.
      - name: setup python
        uses: actions/setup-python@v2
        with:
          python-version: 3.9 #install the python needed
      - name: install dependencies
        run: pip install pyyaml
      - name: execute py script - create YAMLs # run file
        run: |
          python create_yamls.py
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 59
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 2: name: Create YAML on direct push to README
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 6: paths:
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 7: - "README.md"
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 10: create_yamls:
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 12: steps:
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 13: - name: checkout repo content
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 14: uses: actions/checkout@v2 # checkout the repository content to github runner.
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 15: - name: setup python
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 16: uses: actions/setup-python@v2
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 18: python-version: 3.9 #install the python needed
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 19: - name: install dependencies
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 20: run: pip install pyyaml
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 21: - name: execute py script - create YAMLs # run file
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 22: run: |
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 23: python create_yamls.py
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 24: mapping values are not allowed here
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 25: in "<file>", line 2, column 5
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 26: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_temp_phase1.yml
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_temp_phase1.yml
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 27: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:13:41,258 - utils.process_runner - DEBUG - 라인 40: We have found 16 smells
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 41: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 42: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 43: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 44: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 45: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 57: The following styling errors were found:
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 라인 58: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:13:41,259 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:13:41,259 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:13:41,259 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:13:41,259 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:13:41,259 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:13:41,259 - main - DEBUG - 임시 파일 삭제: data_original/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_temp_phase1.yml
2025-11-05 23:13:41,259 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:13:41,260 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Create YAML on direct push to  ... 
        ^
2025-11-05 23:13:41,260 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:13:41,260 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:13:41,260 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805_two_phase_repaired.yml
2025-11-05 23:13:41,260 - __main__ - INFO - === 파일 73/100 2단계 복구 완료 ===
2025-11-05 23:13:41,260 - __main__ - ERROR - ❌ 실패 (24.11초): 87767ca3df3a86284d0cb17b0eebcea4c021e41aaeddf405158c2fe717bf6805
2025-11-05 23:13:41,260 - __main__ - INFO - [74/100] 처리 중: eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 23:13:41,260 - __main__ - INFO - 입력 파일 경로: data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 23:13:41,260 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_two_phase_repaired.yml
2025-11-05 23:13:41,260 - __main__ - INFO - === 파일 74/100 2단계 복구 시작 ===
2025-11-05 23:13:41,260 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:13:41,260 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:13:41,260 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 23:13:41,260 - main - INFO - 파일 크기: 3664 문자
2025-11-05 23:13:41,260 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:13:41,260 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:13:41,261 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:13:41,261 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 23:13:41,266 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 23:13:41,267 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:13:41,267 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:13:41,267 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:13:41,267 - main - INFO -   오류 1: expecting a single ${{...}} expression or boolean literal "true" or "false", but found plain text node
2025-11-05 23:13:41,267 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:13:41,267 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:13:41,267 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:13:41,267 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:13:41,268 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:15:03,355 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:15:03,359 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:15:03,360 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:15:03,360 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 3917 문자
2025-11-05 23:15:03,360 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:15:03,360 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:15:03,362 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_temp_phase1.yml
2025-11-05 23:15:03,362 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:15:03,362 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_temp_phase1.yml
2025-11-05 23:15:04,391 - utils.process_runner - DEBUG - 명령어 실행 성공 (1.03초)
2025-11-05 23:15:04,392 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: CI

on: [pull_request, push]

env:
  ELIXIR_ASSERT_TIMEOUT: 2000
  ELIXIRC_OPTS: "--warnings-as-errors"
  ERLC_OPTS: "warnings_as_errors"
  LANG: C.UTF-8

permissions:
  contents: read

jobs:
  test_linux:
    name: Ubuntu 20.04, Erlang/OTP ${{ matrix.otp_version }}
    strategy:
      fail-fast: false
      matrix:
        include:
          - otp_version: 25.0
            otp_latest: true
          - otp_version: 24.3
          - otp_version: 24.0
          - otp_version: master
            development: true
          - otp_version: maint
            development: true
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 50
      - uses: erlef/setup-beam@v1
        with:
          otp-version: ${{ matrix.otp_version }}
      - name: Compile Elixir
        run: |
          make compile
          echo "$PWD/bin" >> $GITHUB_PATH
      - name: Build info
        run: bin/elixir --version
      - name: Check format
        run: make test_formatted && echo "All Elixir source code files are properly formatted."
      - name: Run Dialyzer
        run: dialyzer -pa lib/elixir/ebin --build_plt --output_plt elixir.plt --apps lib/elixir/ebin/elixir.beam lib/elixir/ebin/Elixir.Kernel.beam
        continue-on-error: ${{ matrix.development }}
      - name: Erlang test suite
        run: make test_erlang
        continue-on-error: ${{ matrix.development }}
      - name: Elixir test suite
        run: make test_elixir
        continue-on-error: ${{ matrix.development }}
      - name: Build docs (ExDoc main)
        if: ${{ matrix.otp_latest }}
        run: |
          cd ..
          git clone https://github.com/elixir-lang/ex_doc.git --depth 1
          cd ex_doc
          ../elixir/bin/mix do local.rebar --force + local.hex --force + deps.get + compile
          cd ../elixir/
          make docs
      - name: Check reproducible builds
        run: |
          rm -rf .git
          # Recompile System without .git
          cd lib/elixir && ../../bin/elixirc -o ebin lib/system.ex && cd -
          taskset 1 make check_reproducible
        if: ${{ matrix.otp_latest }}

  test_windows:
    name: Windows Server 2019, Erlang/OTP ${{ matrix.otp_version }}
    strategy:
      matrix:
        otp_version: ['24', '25']
    runs-on: windows-2019
    steps:
      - name: Configure Git
        run: git config --global core.autocrlf input
      - uses: actions/checkout@v3
        with:
          fetch-depth: 50
      - uses: erlef/setup-beam@v1
        with:
          otp-version: ${{ matrix.otp_version }}
      - name: Compile Elixir
        run: |
          Remove-Item -Recurse -Force '.git'
          make compile
      - name: Build info
        run: bin/elixir --version
      - name: Check format
        run: make test_formatted && echo "All Elixir source code files are properly formatted."
      - name: Erlang test suite
        run: make --keep-going test_erlang
      - name: Elixir test suite
        run: |
          Remove-Item 'c:/Windows/System32/drivers/etc/hosts'
          make --keep-going test_elixir

  check_posix_compliant:
    name: Check POSIX-compliant
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 50
      - name: Install Shellcheck
        run: |
          sudo apt update
          sudo apt install -y shellcheck
      - name: Check POSIX-compliant
        run: |
          shellcheck -e SC2039,2086 bin/elixir && echo "bin/elixir is POSIX compliant"
          shellcheck bin/elixirc && echo "bin/elixirc is POSIX compliant"
          shellcheck bin/iex && echo "bin/iex is POSIX compliant"

  # Fixed the syntax error here
  - name: Run Dialyzer
    run: dialyzer -pa lib/elixir/ebin --build_plt --output_plt elixir.plt --apps lib/elixir/ebin/elixir.beam lib/elixir/ebin/Elixir.Kernel.beam
    continue-on-error: ${{ matrix.development }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 8. Use commit hash instead of tags for action versions (line 34)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:15:04,392 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 157
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 2: name: CI
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 4: on: [pull_request, push]
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 6: env:
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 7: ELIXIR_ASSERT_TIMEOUT: 2000
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 8: ELIXIRC_OPTS: "--warnings-as-errors"
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): ELIXIRC_OPTS: "--warnings-as-errors"
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 9: ERLC_OPTS: "warnings_as_errors"
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): ERLC_OPTS: "warnings_as_errors"
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 10: LANG: C.UTF-8
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 12: permissions:
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 13: contents: read
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 16: test_linux:
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 17: name: Ubuntu 20.04, Erlang/OTP ${{ matrix.otp_version }}
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 18: strategy:
2025-11-05 23:15:04,393 - utils.process_runner - DEBUG - 라인 19: fail-fast: false
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 20: matrix:
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 21: include:
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 22: - otp_version: 25.0
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 23: otp_latest: true
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 24: - otp_version: 24.3
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 25: - otp_version: 24.0
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 26: - otp_version: master
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 27: development: true
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 28: - otp_version: maint
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 29: development: true
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 30: runs-on: ubuntu-20.04
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 31: steps:
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 32: - uses: actions/checkout@v3
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 33: with:
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 34: fetch-depth: 50
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 35: - uses: erlef/setup-beam@v1
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 36: with:
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 37: otp-version: ${{ matrix.otp_version }}
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 38: - name: Compile Elixir
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 39: run: |
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 40: make compile
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 41: echo "$PWD/bin" >> $GITHUB_PATH
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 42: - name: Build info
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 43: run: bin/elixir --version
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 44: - name: Check format
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 45: run: make test_formatted && echo "All Elixir source code files are properly formatted."
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 46: - name: Run Dialyzer
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 47: run: dialyzer -pa lib/elixir/ebin --build_plt --output_plt elixir.plt --apps lib/elixir/ebin/elixir.beam lib/elixir/ebin/Elixir.Kernel.beam
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 라인 48: continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,394 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 49: - name: Erlang test suite
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 50: run: make test_erlang
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 51: continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 52: - name: Elixir test suite
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 53: run: make test_elixir
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 54: continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 55: - name: Build docs (ExDoc main)
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 56: if: ${{ matrix.otp_latest }}
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 57: run: |
2025-11-05 23:15:04,395 - utils.process_runner - DEBUG - 라인 58: cd ..
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 59: git clone https://github.com/elixir-lang/ex_doc.git --depth 1
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 60: cd ex_doc
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 61: ../elixir/bin/mix do local.rebar --force + local.hex --force + deps.get + compile
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 62: cd ../elixir/
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 63: make docs
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 64: - name: Check reproducible builds
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 65: run: |
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 66: rm -rf .git
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 67: # Recompile System without .git
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 68: cd lib/elixir && ../../bin/elixirc -o ebin lib/system.ex && cd -
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 69: taskset 1 make check_reproducible
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 70: if: ${{ matrix.otp_latest }}
2025-11-05 23:15:04,396 - utils.process_runner - DEBUG - 라인 72: test_windows:
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 73: name: Windows Server 2019, Erlang/OTP ${{ matrix.otp_version }}
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 74: strategy:
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 75: matrix:
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 76: otp_version: ['24', '25']
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 77: runs-on: windows-2019
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 78: steps:
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 79: - name: Configure Git
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 80: run: git config --global core.autocrlf input
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 81: - uses: actions/checkout@v3
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 82: with:
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 83: fetch-depth: 50
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 84: - uses: erlef/setup-beam@v1
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 85: with:
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 86: otp-version: ${{ matrix.otp_version }}
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 87: - name: Compile Elixir
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 88: run: |
2025-11-05 23:15:04,397 - utils.process_runner - DEBUG - 라인 89: Remove-Item -Recurse -Force '.git'
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 90: make compile
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 91: - name: Build info
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 92: run: bin/elixir --version
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 93: - name: Check format
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 94: run: make test_formatted && echo "All Elixir source code files are properly formatted."
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 95: - name: Erlang test suite
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 96: run: make --keep-going test_erlang
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 97: - name: Elixir test suite
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 98: run: |
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 99: Remove-Item 'c:/Windows/System32/drivers/etc/hosts'
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 100: make --keep-going test_elixir
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 102: check_posix_compliant:
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 103: name: Check POSIX-compliant
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 104: runs-on: ubuntu-20.04
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 105: steps:
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 106: - uses: actions/checkout@v3
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 107: with:
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 108: fetch-depth: 50
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 109: - name: Install Shellcheck
2025-11-05 23:15:04,398 - utils.process_runner - DEBUG - 라인 110: run: |
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 111: sudo apt update
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 112: sudo apt install -y shellcheck
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 113: - name: Check POSIX-compliant
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 114: run: |
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 115: shellcheck -e SC2039,2086 bin/elixir && echo "bin/elixir is POSIX compliant"
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 116: shellcheck bin/elixirc && echo "bin/elixirc is POSIX compliant"
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 117: shellcheck bin/iex && echo "bin/iex is POSIX compliant"
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 119: # Fixed the syntax error here
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 120: - name: Run Dialyzer
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 121: run: dialyzer -pa lib/elixir/ebin --build_plt --output_plt elixir.plt --apps lib/elixir/ebin/elixir.beam lib/elixir/ebin/Elixir.Kernel.beam
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 122: continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): continue-on-error: ${{ matrix.development }}
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 123: mapping values are not allowed here
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 124: in "<file>", line 2, column 5
2025-11-05 23:15:04,399 - utils.process_runner - DEBUG - 라인 125: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_temp_phase1.yml
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_temp_phase1.yml
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 126: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 127: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 128: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 129: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 130: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 131: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 132: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 133: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 134: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 135: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 136: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 137: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 138: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 139: We have found 15 smells
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 140: - 8. Use commit hash instead of tags for action versions (line 34)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 34)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 141: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 142: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 143: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 144: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 145: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 146: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 147: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 148: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 149: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 150: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 151: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 152: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 153: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 154: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 155: The following styling errors were found:
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 라인 156: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:15:04,400 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:15:04,400 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:15:04,401 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:15:04,401 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:15:04,401 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:15:04,401 - main - DEBUG - 임시 파일 삭제: data_original/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_temp_phase1.yml
2025-11-05 23:15:04,401 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:15:04,402 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: CI
        ^
2025-11-05 23:15:04,402 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:15:04,402 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:15:04,402 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520_two_phase_repaired.yml
2025-11-05 23:15:04,402 - __main__ - INFO - === 파일 74/100 2단계 복구 완료 ===
2025-11-05 23:15:04,402 - __main__ - ERROR - ❌ 실패 (83.14초): eda4becd286010436a22854c03c251fe68585622868a4c32b2674bbe2fb3f520
2025-11-05 23:15:04,403 - __main__ - INFO - [75/100] 처리 중: da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 23:15:04,403 - __main__ - INFO - 입력 파일 경로: data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 23:15:04,403 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_two_phase_repaired.yml
2025-11-05 23:15:04,403 - __main__ - INFO - === 파일 75/100 2단계 복구 시작 ===
2025-11-05 23:15:04,403 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:15:04,403 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:15:04,403 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 23:15:04,403 - main - INFO - 파일 크기: 395 문자
2025-11-05 23:15:04,403 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:15:04,403 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:15:04,404 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:15:04,404 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 23:15:04,434 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:15:04,435 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:15:04,435 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:15:04,435 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:15:04,435 - main - INFO -   오류 1: could not parse as YAML: yaml: line 17: found character that cannot start any token
2025-11-05 23:15:04,435 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:15:04,435 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:15:04,438 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:15:04,438 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:15:04,439 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:16:04,030 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 923
2025-11-05 23:16:04,050 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:16:04,051 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:16:04,051 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 401 문자
2025-11-05 23:16:04,051 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:16:04,051 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:16:04,053 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_temp_phase1.yml
2025-11-05 23:16:04,053 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:16:04,054 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_temp_phase1.yml
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.63초)
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: C/C++ CI

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
      with:
        submodules: true
    - name: Setup Ruby
      uses: ruby/setup-ruby@v1.66.0
      with:
        ruby-version: '3.0.0'
    - name: make
      run: make
    - name: make check
      run: make check
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 63
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 2: name: C/C++ CI
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 6: branches: [ master ]
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 8: branches: [ master ]
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 11: build:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 13: runs-on: ubuntu-latest
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 15: steps:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 16: - uses: actions/checkout@v2
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 18: submodules: true
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 19: - name: Setup Ruby
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 20: uses: ruby/setup-ruby@v1.66.0
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 22: ruby-version: '3.0.0'
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 23: - name: make
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 24: run: make
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 25: - name: make check
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 26: run: make check
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 27: mapping values are not allowed here
2025-11-05 23:16:04,681 - utils.process_runner - DEBUG - 라인 28: in "<file>", line 2, column 5
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 29: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_temp_phase1.yml
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_temp_phase1.yml
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 43: We have found 17 smells
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 44: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 45: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 46: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 47: - 12. Avoid workflows without comments
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 48: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 61: The following styling errors were found:
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 라인 62: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:16:04,682 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:16:04,682 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:16:04,682 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:16:04,682 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:16:04,682 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:16:04,683 - main - DEBUG - 임시 파일 삭제: data_original/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_temp_phase1.yml
2025-11-05 23:16:04,683 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:16:04,683 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: C/C++ CI
        ^
2025-11-05 23:16:04,683 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:16:04,683 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:16:04,683 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec_two_phase_repaired.yml
2025-11-05 23:16:04,683 - __main__ - INFO - === 파일 75/100 2단계 복구 완료 ===
2025-11-05 23:16:04,683 - __main__ - ERROR - ❌ 실패 (60.28초): da9343dc717d8a21646916aa8587d0565f2a0353ee6cb953b8bcc3fb639401ec
2025-11-05 23:16:04,684 - __main__ - INFO - [76/100] 처리 중: 2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 23:16:04,684 - __main__ - INFO - 입력 파일 경로: data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 23:16:04,684 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_two_phase_repaired.yml
2025-11-05 23:16:04,684 - __main__ - INFO - === 파일 76/100 2단계 복구 시작 ===
2025-11-05 23:16:04,684 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:16:04,684 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:16:04,684 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 23:16:04,684 - main - INFO - 파일 크기: 1004 문자
2025-11-05 23:16:04,684 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:16:04,684 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:16:04,684 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:16:04,684 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 23:16:04,689 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 23:16:04,689 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:16:04,689 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:16:04,689 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:16:04,689 - main - INFO -   오류 1: could not parse as YAML: yaml: line 55: mapping values are not allowed in this context
2025-11-05 23:16:04,689 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:16:04,689 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:16:04,689 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:16:04,689 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:16:04,691 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:17:28,443 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1754
2025-11-05 23:17:28,448 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:17:28,450 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:17:28,450 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1096 문자
2025-11-05 23:17:28,451 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:17:28,451 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:17:28,452 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_temp_phase1.yml
2025-11-05 23:17:28,452 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:17:28,452 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_temp_phase1.yml
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Rust

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

env:
  CARGO_TERM_COLOR: always

jobs:
  linux_build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Linux
      run: cargo build --verbose
  windows_build:

    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build on Windows
      run: cargo build --verbose
  linux_test:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Build 
      run: cargo build
    - name: Setup dotnet
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: '8.0.x'
    - name: Check ILASM
      run: ilasm --version
    - name: Run cargo tests
      run: cargo test --verbose ::stable
  linux_test_c:

    runs-on: ubuntu-latest
    env:
      C_MODE: 1 # Added a space between the key and value

    steps:
    - uses: actions/checkout@v3
    - name: Build 
      run: cargo build
    - name: Run cargo tests
      run: cargo test --verbose add:: # Removed extra colon at the end of the command
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 3. Use fixed version for runs-on argument (line 23)
	- 8. Use commit hash instead of tags for action versions (line 38)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
54:18: trailing spaces (trailing-spaces)
57:86: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 96
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 2: name: Rust
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 6: branches: [ "main" ]
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 7: pull_request:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 8: branches: [ "main" ]
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 10: env:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 11: CARGO_TERM_COLOR: always
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 13: jobs:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 14: linux_build:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 16: runs-on: ubuntu-latest
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 18: steps:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 19: - uses: actions/checkout@v3
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 20: - name: Build on Linux
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 21: run: cargo build --verbose
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 22: windows_build:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 24: runs-on: windows-latest
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 26: steps:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 27: - uses: actions/checkout@v3
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 28: - name: Build on Windows
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 29: run: cargo build --verbose
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 30: linux_test:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 32: runs-on: ubuntu-latest
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 34: steps:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 35: - uses: actions/checkout@v3
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 36: - name: Build
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 37: run: cargo build
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 38: - name: Setup dotnet
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 39: uses: actions/setup-dotnet@v3
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 40: with:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 41: dotnet-version: '8.0.x'
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 42: - name: Check ILASM
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 43: run: ilasm --version
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 44: - name: Run cargo tests
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 45: run: cargo test --verbose ::stable
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 46: linux_test_c:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 48: runs-on: ubuntu-latest
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 49: env:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 50: C_MODE: 1 # Added a space between the key and value
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 52: steps:
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 53: - uses: actions/checkout@v3
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 54: - name: Build
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 55: run: cargo build
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 56: - name: Run cargo tests
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 57: run: cargo test --verbose add:: # Removed extra colon at the end of the command
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 58: mapping values are not allowed here
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 59: in "<file>", line 2, column 5
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 60: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_temp_phase1.yml
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_temp_phase1.yml
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,780 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 68: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 74: We have found 17 smells
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 75: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 76: - 3. Use fixed version for runs-on argument (line 23)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 23)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 77: - 8. Use commit hash instead of tags for action versions (line 38)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 38)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 78: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 79: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 84: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 85: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 86: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 92: The following styling errors were found:
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 93: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 94: 54:18: trailing spaces (trailing-spaces)
2025-11-05 23:17:28,781 - utils.process_runner - DEBUG - 라인 95: 57:86: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:17:28,781 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:17:28,781 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:17:28,781 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:17:28,781 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:17:28,781 - main - DEBUG - 임시 파일 삭제: data_original/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_temp_phase1.yml
2025-11-05 23:17:28,781 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:17:28,782 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Rust
        ^
2025-11-05 23:17:28,782 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:17:28,782 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:17:28,782 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266_two_phase_repaired.yml
2025-11-05 23:17:28,782 - __main__ - INFO - === 파일 76/100 2단계 복구 완료 ===
2025-11-05 23:17:28,782 - __main__ - ERROR - ❌ 실패 (84.10초): 2d873da37a245df5143ec6db45e3396a1277276dee2e1cb9c34a27e950498266
2025-11-05 23:17:28,782 - __main__ - INFO - [77/100] 처리 중: 56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 23:17:28,782 - __main__ - INFO - 입력 파일 경로: data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 23:17:28,782 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_two_phase_repaired.yml
2025-11-05 23:17:28,782 - __main__ - INFO - === 파일 77/100 2단계 복구 시작 ===
2025-11-05 23:17:28,782 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:17:28,782 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:17:28,783 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 23:17:28,783 - main - INFO - 파일 크기: 2968 문자
2025-11-05 23:17:28,783 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:17:28,783 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:17:28,783 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:17:28,783 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 23:17:28,801 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:17:28,801 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:17:28,801 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:17:28,801 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:17:28,801 - main - INFO -   오류 1: string should not be empty
2025-11-05 23:17:28,801 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:17:28,801 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:17:28,801 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:17:28,801 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:17:28,802 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:18:53,100 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:18:53,104 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:18:53,105 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:18:53,105 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2959 문자
2025-11-05 23:18:53,105 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:18:53,105 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:18:53,106 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_temp_phase1.yml
2025-11-05 23:18:53,106 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:18:53,107 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_temp_phase1.yml
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.32초)
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Build

on: push

jobs:
  lint:
    name: Backend Lint
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          cache: true
          go-version-file: go.mod
      - run: go generate
      - name: Lint
        uses: golangci/golangci-lint-action@v3
        with:
          args: --timeout=5m
          skip-build-cache: true
          skip-pkg-cache: true

  test:
    name: Backend Test
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Set up Go
        uses: actions/setup-go@v3
        with:
          cache: true
          go-version-file: go.mod
      - run: go generate
      - name: Test
        run: go test ./...

  build:
    name: Build Image
    runs-on: ubuntu-latest
    needs: [lint, test]
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Docker meta
        id: meta
        uses: docker/metadata-action@v4
        with:
          images: ghcr.io/gabe565/ascii-telnet-go
          tags: |
            type=raw,priority=1000,value=latest,enable=${{ github.ref == format('refs/heads/{0}', 'main') }}
            type=ref,event=branch
            type=sha
      - name: Set up QEMU
        uses: docker/setup-qemu-action@v2
      - name: Set up Buildx
        uses: docker/setup-buildx-action@v2
      - name: Login to GitHub Container Registry
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
      - name: Build and Push
        id: docker_build
        uses: docker/build-push-action@v3
        with:
          context: .
          pull: true
          push: true
          platforms: linux/amd64,linux/arm/v6,linux/arm/v7,linux/arm64/v8
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          build-args: |
            FONTAWESOME_NPM_AUTH_TOKEN=${{ secrets.FONTAWESOME_NPM_AUTH_TOKEN }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

  deploy-prod:
    name: Deploy Production
    runs-on: ubuntu-latest
    needs: build
    if: github.ref == 'refs/heads/main'
    environment:
      concurrency: prod
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          repository: gabe565/fleet-infra
          token: ${{ secrets.PAT }}
      - id: vars
        name: Build deployment vars
        run: |
          echo "tag=sha-${GITHUB_SHA:0:7}" >> $GITHUB_OUTPUT
      - name: Bump version
        uses: clevyr/yampl-action@v1
        with:
          file: apps/tennant/ascii-telnet/helmrelease.yaml
          values: |
            tag=${{ steps.vars.outputs.tag }}
          commit_message: ":arrow_up: [${{ github.event.repository.name }}] Bump version to ${{ steps.vars.outputs.tag }}"
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 24 smells
	- 3. Use fixed version for runs-on argument (line 8)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 8. Use commit hash instead of tags for action versions (line 68)
	- 8. Use commit hash instead of tags for action versions (line 57)
	- 8. Use commit hash instead of tags for action versions (line 59)
	- 8. Use commit hash instead of tags for action versions (line 49)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 61)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 8. Use commit hash instead of tags for action versions (line 99)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 149
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 2: name: Build
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 4: on: push
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 6: jobs:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 7: lint:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 8: name: Backend Lint
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-latest
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 10: steps:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 11: - name: Checkout code
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 12: uses: actions/checkout@v3
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 13: - name: Set up Go
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 14: uses: actions/setup-go@v3
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 15: with:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 16: cache: true
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 17: go-version-file: go.mod
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 18: - run: go generate
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 19: - name: Lint
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 20: uses: golangci/golangci-lint-action@v3
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 22: args: --timeout=5m
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 23: skip-build-cache: true
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 24: skip-pkg-cache: true
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 26: test:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 27: name: Backend Test
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 28: runs-on: ubuntu-latest
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 30: - name: Checkout code
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 31: uses: actions/checkout@v3
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 32: - name: Set up Go
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 33: uses: actions/setup-go@v3
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 35: cache: true
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 36: go-version-file: go.mod
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 37: - run: go generate
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 38: - name: Test
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 39: run: go test ./...
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 41: build:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 42: name: Build Image
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 43: runs-on: ubuntu-latest
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 44: needs: [lint, test]
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 45: steps:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 46: - name: Checkout
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 47: uses: actions/checkout@v3
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 48: - name: Docker meta
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 49: id: meta
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 50: uses: docker/metadata-action@v4
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 51: with:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 52: images: ghcr.io/gabe565/ascii-telnet-go
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 53: tags: |
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 54: type=raw,priority=1000,value=latest,enable=${{ github.ref == format('refs/heads/{0}', 'main') }}
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 55: type=ref,event=branch
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 56: type=sha
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 57: - name: Set up QEMU
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 58: uses: docker/setup-qemu-action@v2
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 59: - name: Set up Buildx
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 60: uses: docker/setup-buildx-action@v2
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 61: - name: Login to GitHub Container Registry
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 62: uses: docker/login-action@v2
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 63: with:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 64: registry: ghcr.io
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 65: username: ${{ github.actor }}
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 66: password: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 67: - name: Build and Push
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 68: id: docker_build
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 69: uses: docker/build-push-action@v3
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 70: with:
2025-11-05 23:18:53,427 - utils.process_runner - DEBUG - 라인 71: context: .
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 72: pull: true
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 73: push: true
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 74: platforms: linux/amd64,linux/arm/v6,linux/arm/v7,linux/arm64/v8
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 75: tags: ${{ steps.meta.outputs.tags }}
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 76: labels: ${{ steps.meta.outputs.labels }}
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 77: build-args: |
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 78: FONTAWESOME_NPM_AUTH_TOKEN=${{ secrets.FONTAWESOME_NPM_AUTH_TOKEN }}
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 79: cache-from: type=gha
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 80: cache-to: type=gha,mode=max
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 82: deploy-prod:
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 83: name: Deploy Production
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 84: runs-on: ubuntu-latest
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 85: needs: build
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 86: if: github.ref == 'refs/heads/main'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 87: environment:
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 88: concurrency: prod
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 89: steps:
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 90: - name: Checkout
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 91: uses: actions/checkout@v3
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 92: with:
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 93: repository: gabe565/fleet-infra
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 94: token: ${{ secrets.PAT }}
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 95: - id: vars
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 96: name: Build deployment vars
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 97: run: |
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 98: echo "tag=sha-${GITHUB_SHA:0:7}" >> $GITHUB_OUTPUT
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 99: - name: Bump version
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 100: uses: clevyr/yampl-action@v1
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 101: with:
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 102: file: apps/tennant/ascii-telnet/helmrelease.yaml
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 103: values: |
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 104: tag=${{ steps.vars.outputs.tag }}
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 105: commit_message: ":arrow_up: [${{ github.event.repository.name }}] Bump version to ${{ steps.vars.outputs.tag }}"
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 106: mapping values are not allowed here
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 107: in "<file>", line 2, column 5
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 108: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_temp_phase1.yml
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_temp_phase1.yml
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 109: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 110: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 111: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 112: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 113: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 114: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 115: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 116: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 118: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 119: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 120: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 122: We have found 24 smells
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 24 smells
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 123: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 124: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 125: - 8. Use commit hash instead of tags for action versions (line 68)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 68)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 126: - 8. Use commit hash instead of tags for action versions (line 57)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 57)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 127: - 8. Use commit hash instead of tags for action versions (line 59)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 59)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 128: - 8. Use commit hash instead of tags for action versions (line 49)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 49)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 129: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 130: - 8. Use commit hash instead of tags for action versions (line 61)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 61)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 131: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 132: - 8. Use commit hash instead of tags for action versions (line 99)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 99)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 133: - 12. Avoid workflows without comments
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 134: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 135: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 136: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 137: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 138: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 139: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 140: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 141: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 142: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 143: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 144: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 145: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 146: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 147: The following styling errors were found:
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 라인 148: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:18:53,428 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:18:53,428 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:18:53,429 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:18:53,429 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:18:53,429 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:18:53,429 - main - DEBUG - 임시 파일 삭제: data_original/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_temp_phase1.yml
2025-11-05 23:18:53,429 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:18:53,430 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Build
        ^
2025-11-05 23:18:53,430 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:18:53,430 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:18:53,430 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98_two_phase_repaired.yml
2025-11-05 23:18:53,430 - __main__ - INFO - === 파일 77/100 2단계 복구 완료 ===
2025-11-05 23:18:53,430 - __main__ - ERROR - ❌ 실패 (84.65초): 56add205bfb4be370d1631df45087d23946aa511f571918ef9f11ac4b3ed3a98
2025-11-05 23:18:53,430 - __main__ - INFO - [78/100] 처리 중: 01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 23:18:53,430 - __main__ - INFO - 입력 파일 경로: data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 23:18:53,430 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_two_phase_repaired.yml
2025-11-05 23:18:53,430 - __main__ - INFO - === 파일 78/100 2단계 복구 시작 ===
2025-11-05 23:18:53,430 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:18:53,430 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:18:53,431 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 23:18:53,431 - main - INFO - 파일 크기: 6206 문자
2025-11-05 23:18:53,431 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:18:53,431 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:18:53,431 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:18:53,431 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 23:18:53,449 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:18:53,449 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:18:53,449 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:18:53,449 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:18:53,449 - main - INFO -   오류 1: could not parse as YAML: yaml: line 126: mapping values are not allowed in this context
2025-11-05 23:18:53,449 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:18:53,449 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:18:53,450 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:18:53,450 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:18:53,450 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:19:57,013 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 579
2025-11-05 23:19:57,018 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:19:57,019 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:19:57,019 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 357 문자
2025-11-05 23:19:57,019 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:19:57,019 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:19:57,020 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_temp_phase1.yml
2025-11-05 23:19:57,020 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:19:57,021 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_temp_phase1.yml
2025-11-05 23:19:57,302 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: Here's the fixed YAML workflow:

```yaml
name: Publish

on:
  push:
    tags:
      - '*'
  workflow_dispatch:

jobs:
  analyze-tags:
    runs-on: ubuntu-latest
    outputs:
      previous-tag: ${{ steps.previoustag.outputs.tag }}
    steps:
      - uses: actions/checkout@v2.3.3
        with:
          fetch-depth: 0
      #▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
while scanning for the next token
found character '`' that cannot start any token
  in "<file>", line 3, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
3:1: syntax error: found character '`' that cannot start any token (syntax)

2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 57
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: Here's the fixed YAML workflow:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 3: ```yaml
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 4: name: Publish
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 7: push:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 8: tags:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 9: - '*'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 10: workflow_dispatch:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 13: analyze-tags:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 14: runs-on: ubuntu-latest
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 15: outputs:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 16: previous-tag: ${{ steps.previoustag.outputs.tag }}
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 17: steps:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 18: - uses: actions/checkout@v2.3.3
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 19: with:
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 20: fetch-depth: 0
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 21: #▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 22: while scanning for the next token
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 23: found character '`' that cannot start any token
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 24: in "<file>", line 3, column 1
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 25: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_temp_phase1.yml
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_temp_phase1.yml
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 26: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 27: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 39: We have found 15 smells
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 40: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 41: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 42: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 43: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 44: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 45: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:19:57,303 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 라인 55: The following styling errors were found:
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 라인 56: 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 23:19:57,304 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-05 23:19:57,304 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:19:57,304 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:19:57,304 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:19:57,304 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:19:57,305 - main - DEBUG - 임시 파일 삭제: data_original/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_temp_phase1.yml
2025-11-05 23:19:57,305 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:19:57,305 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning for the next token
found character '`' that cannot start any token
  in "<unicode string>", line 3, column 1:
    ```yaml
    ^
2025-11-05 23:19:57,305 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:19:57,305 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:19:57,305 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7_two_phase_repaired.yml
2025-11-05 23:19:57,306 - __main__ - INFO - === 파일 78/100 2단계 복구 완료 ===
2025-11-05 23:19:57,306 - __main__ - ERROR - ❌ 실패 (63.88초): 01134889164d5b3ee1f2e294c189be5fda4e35834c0950116b8e8d90d59244a7
2025-11-05 23:19:57,306 - __main__ - INFO - [79/100] 처리 중: 93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 23:19:57,306 - __main__ - INFO - 입력 파일 경로: data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 23:19:57,306 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_two_phase_repaired.yml
2025-11-05 23:19:57,306 - __main__ - INFO - === 파일 79/100 2단계 복구 시작 ===
2025-11-05 23:19:57,306 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:19:57,306 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:19:57,306 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 23:19:57,306 - main - INFO - 파일 크기: 1765 문자
2025-11-05 23:19:57,306 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:19:57,306 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:19:57,306 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:19:57,306 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 23:19:57,311 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 23:19:57,311 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:19:57,311 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:19:57,311 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:19:57,311 - main - INFO -   오류 1: this step is for running action since it contains at least one of "uses", "with" keys, but also contains "run" key which is used for running shell command
2025-11-05 23:19:57,311 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:19:57,311 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:19:57,312 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:19:57,312 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:19:57,313 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:20:49,789 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:20:49,793 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:20:49,794 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:20:49,794 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1834 문자
2025-11-05 23:20:49,795 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:20:49,795 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:20:49,796 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_temp_phase1.yml
2025-11-05 23:20:49,796 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:20:49,797 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_temp_phase1.yml
2025-11-05 23:20:50,075 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.28초)
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
on:
  push:
    branches:
      - release

name: Release
jobs:
  checks:
    name: run
    runs-on: self-hosted
    services:
      consul:
        image: consul:latest
        ports:
          - 8500
      zookeeper:
        image: zookeeper:latest
        ports:
          - 2181
      etcd:
        image: quay.io/coreos/etcd:latest
        env:
          ETCD_LISTEN_CLIENT_URLS: http://0.0.0.0:2379
          ETCD_ADVERTISE_CLIENT_URLS: http://0.0.0.0:2379
        ports:
          - 2379
    steps:
      - name: checkout
        uses: actions/checkout@v2
        run: |
          git fetch --prune --unshallow
      - name: Log in to registry
        uses: azure/docker-login@v1
        with:
          username: ${{ secrets.DOCKER_USER }}
          password: ${{ secrets.DOCKER_TOKEN }}

      - name: Install bazelisk
        run: |
          curl -LO "https://github.com/bazelbuild/bazelisk/releases/download/v1.1.0/bazelisk-linux-amd64"
          mkdir -p "${GITHUB_WORKSPACE}/bin/"
          mv bazelisk-linux-amd64 "${GITHUB_WORKSPACE}/bin/bazel"
          chmod +x "${GITHUB_WORKSPACE}/bin/bazel"

      - name: test all
        uses: ngalaiko/bazel-action/1.2.1@master
        with:
          args: test //...

      - name: Release to GitHub
        env:
          DEPLOY_GITHUB_TOKEN: ${{ secrets.DEPLOY_GITHUB_TOKEN }}
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //:deploy-github -- ${{ github.sha }}

      - name: Release `protoconf` to Docker Hub
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //docker:protoconf_release
      - name: Release `agent` to Docker Hub
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //docker:agent_release
      - name: Release `server` to Docker Hub
        run: |
          "${GITHUB_WORKSPACE}/bin/bazel" run //docker:server_release
mapping values are not allowed here
  in "<file>", line 2, column 3
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
2:3: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 101
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 2: on:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 3: push:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 4: branches:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 5: - release
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 7: name: Release
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 9: checks:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 10: name: run
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 11: runs-on: self-hosted
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 12: services:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 13: consul:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 14: image: consul:latest
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 15: ports:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 16: - 8500
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 17: zookeeper:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 18: image: zookeeper:latest
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 19: ports:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 20: - 2181
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 21: etcd:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 22: image: quay.io/coreos/etcd:latest
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 23: env:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 24: ETCD_LISTEN_CLIENT_URLS: http://0.0.0.0:2379
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 25: ETCD_ADVERTISE_CLIENT_URLS: http://0.0.0.0:2379
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 26: ports:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 27: - 2379
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 28: steps:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 29: - name: checkout
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 30: uses: actions/checkout@v2
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 31: run: |
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 32: git fetch --prune --unshallow
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 33: - name: Log in to registry
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 34: uses: azure/docker-login@v1
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 35: with:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 36: username: ${{ secrets.DOCKER_USER }}
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 37: password: ${{ secrets.DOCKER_TOKEN }}
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 39: - name: Install bazelisk
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 40: run: |
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 41: curl -LO "https://github.com/bazelbuild/bazelisk/releases/download/v1.1.0/bazelisk-linux-amd64"
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 42: mkdir -p "${GITHUB_WORKSPACE}/bin/"
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 43: mv bazelisk-linux-amd64 "${GITHUB_WORKSPACE}/bin/bazel"
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 44: chmod +x "${GITHUB_WORKSPACE}/bin/bazel"
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 46: - name: test all
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 47: uses: ngalaiko/bazel-action/1.2.1@master
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 49: args: test //...
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 51: - name: Release to GitHub
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 52: env:
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 53: DEPLOY_GITHUB_TOKEN: ${{ secrets.DEPLOY_GITHUB_TOKEN }}
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 54: run: |
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 55: "${GITHUB_WORKSPACE}/bin/bazel" run //:deploy-github -- ${{ github.sha }}
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 57: - name: Release `protoconf` to Docker Hub
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 59: "${GITHUB_WORKSPACE}/bin/bazel" run //docker:protoconf_release
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 60: - name: Release `agent` to Docker Hub
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 61: run: |
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 62: "${GITHUB_WORKSPACE}/bin/bazel" run //docker:agent_release
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 63: - name: Release `server` to Docker Hub
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 64: run: |
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 65: "${GITHUB_WORKSPACE}/bin/bazel" run //docker:server_release
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 66: mapping values are not allowed here
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 67: in "<file>", line 2, column 3
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 68: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_temp_phase1.yml
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_temp_phase1.yml
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 69: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 70: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 71: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 72: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 73: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 74: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 75: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 76: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,076 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 82: We have found 16 smells
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 83: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 84: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 85: - 12. Avoid workflows without comments
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 86: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 87: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 88: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 89: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 90: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 91: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 92: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 93: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 94: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 97: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 99: The following styling errors were found:
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 라인 100: 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:20:50,077 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:3: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:20:50,077 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:20:50,077 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:20:50,077 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:20:50,077 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:20:50,078 - main - DEBUG - 임시 파일 삭제: data_original/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_temp_phase1.yml
2025-11-05 23:20:50,078 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:20:50,078 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 3:
    on:
      ^
2025-11-05 23:20:50,078 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:20:50,078 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:20:50,078 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb_two_phase_repaired.yml
2025-11-05 23:20:50,079 - __main__ - INFO - === 파일 79/100 2단계 복구 완료 ===
2025-11-05 23:20:50,079 - __main__ - ERROR - ❌ 실패 (52.77초): 93f763fb4a84d29e77a6bf72349a0534feaee1862658e1807423e8900d015dcb
2025-11-05 23:20:50,079 - __main__ - INFO - [80/100] 처리 중: e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 23:20:50,079 - __main__ - INFO - 입력 파일 경로: data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 23:20:50,079 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_two_phase_repaired.yml
2025-11-05 23:20:50,079 - __main__ - INFO - === 파일 80/100 2단계 복구 시작 ===
2025-11-05 23:20:50,079 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:20:50,079 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:20:50,079 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 23:20:50,079 - main - INFO - 파일 크기: 1089 문자
2025-11-05 23:20:50,079 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:20:50,079 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:20:50,079 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:20:50,079 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 23:20:50,083 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 23:20:50,083 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:20:50,084 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:20:50,084 - main - INFO - actionlint 오류 2개 발견
2025-11-05 23:20:50,084 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 23:20:50,084 - main - INFO -   오류 2: step must run script with "run" section or run action with "uses" section
2025-11-05 23:20:50,084 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:20:50,084 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:20:50,084 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:20:50,084 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:20:50,085 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:21:40,787 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1680
2025-11-05 23:21:40,791 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:21:40,792 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:21:40,793 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1092 문자
2025-11-05 23:21:40,793 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:21:40,793 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:21:40,794 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_temp_phase1.yml
2025-11-05 23:21:40,794 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:21:40,795 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_temp_phase1.yml
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: release

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

env:
  # 7 GiB by default on GitHub, setting to 6 GiB
  NODE_OPTIONS: --max-old-space-size=6144

permissions:
  contents: read

jobs:
  release-pr:
    permissions:
      id-token: write
      pull-requests: write
    runs-on: ubuntu-latest
    timeout-minutes: 20

    steps:
      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4
      - run: corepack enable
      - uses: actions/setup-node@v3.7.0
        with:
          node-version: 18
          cache: "pnpm"

      - name: Install dependencies
        run: pnpm install

      - name: Build Stub
        run: pnpm build:stub

      - name: Build
        run: pnpm build:ci

      - name: Release Edge
        if: |
          github.event_name == 'push' &&
          !contains(github.event.head_commit.message, '[skip-release]')
        run: ./scripts/release-edge.sh pr-${{ github.event.issue.number }}
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_AUTH_TOKEN }}
          NPM_CONFIG_PROVENANCE: true
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 3. Use fixed version for runs-on argument (line 23)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 86
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 2: name: release
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 7: - main
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 8: pull_request:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 9: branches:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 10: - main
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 12: env:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 13: # 7 GiB by default on GitHub, setting to 6 GiB
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 14: NODE_OPTIONS: --max-old-space-size=6144
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 16: permissions:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 17: contents: read
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 19: jobs:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 20: release-pr:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 21: permissions:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 22: id-token: write
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 23: pull-requests: write
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 24: runs-on: ubuntu-latest
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 25: timeout-minutes: 20
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 27: steps:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 28: - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 29: - run: corepack enable
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 30: - uses: actions/setup-node@v3.7.0
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 31: with:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 32: node-version: 18
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 33: cache: "pnpm"
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 35: - name: Install dependencies
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 36: run: pnpm install
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 38: - name: Build Stub
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 39: run: pnpm build:stub
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 41: - name: Build
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 42: run: pnpm build:ci
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 44: - name: Release Edge
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 45: if: |
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 46: github.event_name == 'push' &&
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 47: !contains(github.event.head_commit.message, '[skip-release]')
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 48: run: ./scripts/release-edge.sh pr-${{ github.event.issue.number }}
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 49: env:
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 50: NODE_AUTH_TOKEN: ${{ secrets.NPM_AUTH_TOKEN }}
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 51: NPM_CONFIG_PROVENANCE: true
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 52: mapping values are not allowed here
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 53: in "<file>", line 2, column 5
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 54: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_temp_phase1.yml
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_temp_phase1.yml
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 57: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 라인 58: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,126 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 59: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 60: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 61: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 62: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 63: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 64: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 65: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 66: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 67: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 68: We have found 15 smells
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 69: - 3. Use fixed version for runs-on argument (line 23)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 23)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 70: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 71: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 75: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 76: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 77: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 78: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 79: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 80: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 81: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 82: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 83: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 84: The following styling errors were found:
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 라인 85: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:21:41,127 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:21:41,127 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:21:41,127 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:21:41,127 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:21:41,127 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:21:41,128 - main - DEBUG - 임시 파일 삭제: data_original/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_temp_phase1.yml
2025-11-05 23:21:41,128 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:21:41,128 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: release
        ^
2025-11-05 23:21:41,128 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:21:41,128 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:21:41,128 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca_two_phase_repaired.yml
2025-11-05 23:21:41,128 - __main__ - INFO - === 파일 80/100 2단계 복구 완료 ===
2025-11-05 23:21:41,128 - __main__ - ERROR - ❌ 실패 (51.05초): e8ca5641cfb5535be2f08365991b955e25a7dded4349656fd1ad5fd7a4c6baca
2025-11-05 23:21:41,128 - __main__ - INFO - [81/100] 처리 중: 38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 23:21:41,128 - __main__ - INFO - 입력 파일 경로: data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 23:21:41,128 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_two_phase_repaired.yml
2025-11-05 23:21:41,129 - __main__ - INFO - === 파일 81/100 2단계 복구 시작 ===
2025-11-05 23:21:41,129 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:21:41,129 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:21:41,129 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 23:21:41,129 - main - INFO - 파일 크기: 4558 문자
2025-11-05 23:21:41,129 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:21:41,129 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:21:41,129 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:21:41,129 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 23:21:41,145 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:21:41,146 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:21:41,146 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:21:41,146 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:21:41,146 - main - INFO -   오류 1: could not parse as YAML: yaml: line 26: mapping values are not allowed in this context
2025-11-05 23:21:41,146 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:21:41,146 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:21:41,146 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:21:41,146 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:21:41,147 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:23:32,671 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:23:32,675 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:23:32,676 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:23:32,676 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4561 문자
2025-11-05 23:23:32,677 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:23:32,677 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:23:32,679 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_temp_phase1.yml
2025-11-05 23:23:32,679 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:23:32,679 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_temp_phase1.yml
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Test

on:
  push:
    branches:
      - '*'
    tags-ignore:
      - 'v*'
  pull_request:

jobs:
  test:
    strategy:
      matrix:
        # setup different OS and targets
        include:
#          - name: ubuntu_16_04-x86_64
#            os: ubuntu-16.04
#            TARGET_CPU: x86-64

          - name: ubuntu_18_04-x86_64
            os: ubuntu-18.04
            TARGET_CPU: x86-64

          - name: ubuntu_22_04-x86_64
             os: ubuntu-22.04
             TARGET_CPU: x86-64

          # - name: osx_11_0-x86_64
          #   os: macos-11.0
          #   TARGET_CPU: x86-64

          - name: osx_10_11-x86_64
            os: macos-10.15
            TARGET_CPU: nehalem

          - name: win-x86_64
            os: windows-2019
            TARGET_CPU: x86-64

          - name: ubuntu_18_04-x86_64-haswell
            os: ubuntu-18.04
            TARGET_CPU: haswell

          - name: win-x86_64-haswell
            os: windows-2019
            TARGET_CPU: haswell

    runs-on: ${{matrix.os}}
    steps:
      - name: Checkout code
        uses: actions/checkout@master
      ### BUILD CACHE ###
      # NB: We install gnu-tar because BSD tar is buggy on Github's macos machines. https://github.com/actions/cache/issues/403
      - name: Install GNU tar (Macos)
        if: ${{contains( matrix.os, 'macos' )}}
        run: |
          brew install gnu-tar
          echo PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH" >> $GITHUB_ENV

      ### Cargo Cache for Build Artifacts ###
      - name: Cache cargo
        uses: actions/cache@v2
        with:
          path: |
            ~/.cargo/registry
            ~/.cargo/git
            target
          key: ${{ runner.os }}-${{matrix.name}}-cargo-${{ hashFiles('**/Cargo.lock') }}

      ### Install Nasm for MacOS ###
      - name: Install nasm
        run: brew install nasm
        if: ${{contains( matrix.os, 'macos' )}}

      ### Install Nasm for Windows ###
      - name: Install nasm
        run: choco install nasm
        if: ${{contains( matrix.os, 'windows' )}}

      ### Fallback in case Nasm install fails ###
      - name: Install nasm
        run: |
          curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x64.exe
          .\nasminst.exe /S
        if: ${{contains( matrix.os, 'windows' ) && failure()}}

      ### Set Path for nasm install ###
      - name: Set Path
        run: |
          echo "C:\Program Files\NASM" >> $GITHUB_PATH
          echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
        if: ${{contains( matrix.os, 'windows' )}}
        shell: bash

      ### Install Nasm for Ubuntu ###
      - name: Install nasm
        run: sudo apt install nasm
        if: ${{contains( matrix.os, 'ubuntu' )}}

      ### Check Build ###
      - name: Check Build
        run: cargo check --all

      ### Test Code ###
      - name: Test Build
        run: cargo test --all
        env:
          RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}

      ### Build the code ###
      - name: Build Release
        run: cargo build --all
        shell: bash
        env:
          RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}

  test_win32:
    runs-on: windows-2019
    steps:
      - name: Checkout code
        uses: actions/checkout@master

      ### Install Nasm with fallback to S3 ###
      - name: Install nasm
        run: choco install nasm
      - name: Install nasm
        run: |
          curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x86.exe
          .\nasminst.exe /S
        if: ${{failure()}}

      - name: Set Path
        run: |
          echo "C:\Program Files\NASM" >> $GITHUB_PATH
          echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
        shell: bash

      ### Cargo cache for Build artifacts ###
      - name: Cache cargo
        uses: actions/cache@v2
        with:
          path: |
            ~/.cargo/registry
            ~/.cargo/git
            target
          key: ${{ runner.os }}-windows-test-32-cargo-${{ hashFiles('**/Cargo.lock') }}
      - name: Install latest 32bit target
        uses: actions-rs/toolchain@v1
        with:
          toolchain: stable
          override: true
          components: rustfmt, clippy
          target: i686-pc-windows-msvc

      ### check and test build ###
      - name: Check Build
        run: cargo check --all --target=i686-pc-windows-msvc
      - name: Test Build
        run: cargo test --all --release --target=i686-pc-windows-msvc
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 15 smells
	- 8. Use commit hash instead of tags for action versions (line 63)
	- 8. Use commit hash instead of tags for action versions (line 149)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 196
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 2: name: Test
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 7: - '*'
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 8: tags-ignore:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 9: - 'v*'
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 10: pull_request:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 13: test:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 14: strategy:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 15: matrix:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 16: # setup different OS and targets
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 17: include:
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 18: #          - name: ubuntu_16_04-x86_64
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 19: #            os: ubuntu-16.04
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 20: #            TARGET_CPU: x86-64
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 22: - name: ubuntu_18_04-x86_64
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 23: os: ubuntu-18.04
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 24: TARGET_CPU: x86-64
2025-11-05 23:23:33,164 - utils.process_runner - DEBUG - 라인 26: - name: ubuntu_22_04-x86_64
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 27: os: ubuntu-22.04
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 28: TARGET_CPU: x86-64
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 30: # - name: osx_11_0-x86_64
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 31: #   os: macos-11.0
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 32: #   TARGET_CPU: x86-64
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 34: - name: osx_10_11-x86_64
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 35: os: macos-10.15
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 36: TARGET_CPU: nehalem
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 38: - name: win-x86_64
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 39: os: windows-2019
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 40: TARGET_CPU: x86-64
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 42: - name: ubuntu_18_04-x86_64-haswell
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 43: os: ubuntu-18.04
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 44: TARGET_CPU: haswell
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 46: - name: win-x86_64-haswell
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 47: os: windows-2019
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 48: TARGET_CPU: haswell
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 50: runs-on: ${{matrix.os}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 51: steps:
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 52: - name: Checkout code
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 53: uses: actions/checkout@master
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 54: ### BUILD CACHE ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 55: # NB: We install gnu-tar because BSD tar is buggy on Github's macos machines. https://github.com/actions/cache/issues/403
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 56: - name: Install GNU tar (Macos)
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 57: if: ${{contains( matrix.os, 'macos' )}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 58: run: |
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 59: brew install gnu-tar
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 60: echo PATH="/usr/local/opt/gnu-tar/libexec/gnubin:$PATH" >> $GITHUB_ENV
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 62: ### Cargo Cache for Build Artifacts ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 63: - name: Cache cargo
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 64: uses: actions/cache@v2
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 65: with:
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 66: path: |
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 67: ~/.cargo/registry
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 68: ~/.cargo/git
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 69: target
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 70: key: ${{ runner.os }}-${{matrix.name}}-cargo-${{ hashFiles('**/Cargo.lock') }}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 72: ### Install Nasm for MacOS ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 73: - name: Install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 74: run: brew install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 75: if: ${{contains( matrix.os, 'macos' )}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 77: ### Install Nasm for Windows ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 78: - name: Install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 79: run: choco install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 80: if: ${{contains( matrix.os, 'windows' )}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 82: ### Fallback in case Nasm install fails ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 83: - name: Install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 84: run: |
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 85: curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x64.exe
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 86: .\nasminst.exe /S
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 87: if: ${{contains( matrix.os, 'windows' ) && failure()}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 89: ### Set Path for nasm install ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 90: - name: Set Path
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 91: run: |
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 92: echo "C:\Program Files\NASM" >> $GITHUB_PATH
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 93: echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 94: if: ${{contains( matrix.os, 'windows' )}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 95: shell: bash
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 97: ### Install Nasm for Ubuntu ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 98: - name: Install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 99: run: sudo apt install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 100: if: ${{contains( matrix.os, 'ubuntu' )}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 102: ### Check Build ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 103: - name: Check Build
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 104: run: cargo check --all
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 106: ### Test Code ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 107: - name: Test Build
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 108: run: cargo test --all
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 109: env:
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 110: RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 112: ### Build the code ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 113: - name: Build Release
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 114: run: cargo build --all
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 115: shell: bash
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 116: env:
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 117: RUSTFLAGS: -C target-cpu=${{matrix.TARGET_CPU}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 119: test_win32:
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 120: runs-on: windows-2019
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 121: steps:
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 122: - name: Checkout code
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 123: uses: actions/checkout@master
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 125: ### Install Nasm with fallback to S3 ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 126: - name: Install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 127: run: choco install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 128: - name: Install nasm
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 129: run: |
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 130: curl -L -o nasminst.exe https://imageflow-resources.s3-us-west-2.amazonaws.com/tools/nasm-2.15.05-installer-x86.exe
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 131: .\nasminst.exe /S
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 132: if: ${{failure()}}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 134: - name: Set Path
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 135: run: |
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 136: echo "C:\Program Files\NASM" >> $GITHUB_PATH
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 137: echo "C:\Program Files (x86)\NASM" >> $GITHUB_PATH
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 138: shell: bash
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 140: ### Cargo cache for Build artifacts ###
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 141: - name: Cache cargo
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 142: uses: actions/cache@v2
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 143: with:
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 144: path: |
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 145: ~/.cargo/registry
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 146: ~/.cargo/git
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 147: target
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 148: key: ${{ runner.os }}-windows-test-32-cargo-${{ hashFiles('**/Cargo.lock') }}
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 149: - name: Install latest 32bit target
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 150: uses: actions-rs/toolchain@v1
2025-11-05 23:23:33,165 - utils.process_runner - DEBUG - 라인 151: with:
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 152: toolchain: stable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 153: override: true
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 154: components: rustfmt, clippy
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 155: target: i686-pc-windows-msvc
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 157: ### check and test build ###
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 158: - name: Check Build
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 159: run: cargo check --all --target=i686-pc-windows-msvc
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 160: - name: Test Build
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 161: run: cargo test --all --release --target=i686-pc-windows-msvc
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 162: mapping values are not allowed here
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 163: in "<file>", line 2, column 5
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 164: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_temp_phase1.yml
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_temp_phase1.yml
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 165: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 166: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 167: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 168: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 169: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 170: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 171: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 172: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 173: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 174: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 175: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 176: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 177: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 178: We have found 15 smells
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 15 smells
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 179: - 8. Use commit hash instead of tags for action versions (line 63)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 63)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 180: - 8. Use commit hash instead of tags for action versions (line 149)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 149)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 181: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 184: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 185: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 186: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 187: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 188: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 189: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 190: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 191: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 192: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 193: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 194: The following styling errors were found:
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 라인 195: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:23:33,166 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:23:33,166 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:23:33,166 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:23:33,166 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:23:33,166 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:23:33,167 - main - DEBUG - 임시 파일 삭제: data_original/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_temp_phase1.yml
2025-11-05 23:23:33,167 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:23:33,167 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Test
        ^
2025-11-05 23:23:33,167 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:23:33,167 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:23:33,168 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0_two_phase_repaired.yml
2025-11-05 23:23:33,168 - __main__ - INFO - === 파일 81/100 2단계 복구 완료 ===
2025-11-05 23:23:33,168 - __main__ - ERROR - ❌ 실패 (112.04초): 38f438f2ef3bdd00276522d566aaa2f6e2ea80d3068272a4755a279f7ad941b0
2025-11-05 23:23:33,168 - __main__ - INFO - [82/100] 처리 중: de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 23:23:33,168 - __main__ - INFO - 입력 파일 경로: data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 23:23:33,168 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_two_phase_repaired.yml
2025-11-05 23:23:33,168 - __main__ - INFO - === 파일 82/100 2단계 복구 시작 ===
2025-11-05 23:23:33,168 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:23:33,168 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:23:33,168 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 23:23:33,168 - main - INFO - 파일 크기: 12094 문자
2025-11-05 23:23:33,168 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:23:33,168 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:23:33,168 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:23:33,169 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 23:23:33,186 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:23:33,186 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:23:33,186 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:23:33,186 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:23:33,186 - main - INFO -   오류 1: key "test_linux" is duplicated in "jobs" section. previously defined at line:60,col:3. note that this key is case insensitive
2025-11-05 23:23:33,186 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:23:33,186 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:23:33,186 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:23:33,186 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:23:33,187 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:26:28,759 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:26:28,762 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:26:28,763 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:26:28,764 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 6637 문자
2025-11-05 23:26:28,764 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:26:28,764 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:26:28,766 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_temp_phase1.yml
2025-11-05 23:26:28,766 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:26:28,766 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_temp_phase1.yml
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.49초)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_temp_phase1.yml
We have found 22 smells
	- 3. Use fixed version for runs-on argument (line 12)
	- 3. Use fixed version for runs-on argument (line 66)
	- 6. Define permissions for workflows with external actions (job at line: 118)
	- 6. Define permissions for workflows with external actions (job at line: 12)
	- 6. Define permissions for workflows with external actions (job at line: 148)
	- 6. Define permissions for workflows with external actions (job at line: 60)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 163)
	- 10. Avoid jobs without timeouts (line: 118)
	- 10. Avoid jobs without timeouts (line: 148)
	- 10. Avoid jobs without timeouts (line: 12)
	- 10. Avoid jobs without timeouts (line: 60)
	- 12. Avoid workflows without comments
	- 13. Use names for run steps (lines 15:15)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: test_other_platforms)
	- 19. Run tests on multiple OS's (job: test_macOS)
	- 19. Run tests on multiple OS's (job: build_watch_os_mac_catalyst)
	- 19. Run tests on multiple OS's (job: test_linux)
	- 19. Run tests on multiple OS's (job: build_spotify_api_server)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
15:5: wrong indentation: expected 6 but found 4 (indentation)
65:11: wrong indentation: expected 8 but found 10 (indentation)
70:5: wrong indentation: expected 6 but found 4 (indentation)
71:1: trailing spaces (trailing-spaces)
124:1: trailing spaces (trailing-spaces)
127:5: wrong indentation: expected 6 but found 4 (indentation)
154:5: wrong indentation: expected 6 but found 4 (indentation)
166:5: wrong indentation: expected 6 but found 4 (indentation)
171:49: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 35
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_temp_phase1.yml
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_temp_phase1.yml
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 2: We have found 22 smells
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 22 smells
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 12)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 12)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 66)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 66)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 118)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 118)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 12)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 12)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 148)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 148)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 60)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 60)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 9: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 10: - 9. Steps should only perform a single command (line -1)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 11: - 10. Avoid jobs without timeouts (line: 163)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 163)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 12: - 10. Avoid jobs without timeouts (line: 118)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 118)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 13: - 10. Avoid jobs without timeouts (line: 148)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 148)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 14: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 60)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 60)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 16: - 12. Avoid workflows without comments
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 17: - 13. Use names for run steps (lines 15:15)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 15:15)
2025-11-05 23:26:29,261 - utils.process_runner - DEBUG - 라인 18: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 19: - 19. Run tests on multiple OS's (job: test_other_platforms)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test_other_platforms)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 20: - 19. Run tests on multiple OS's (job: test_macOS)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test_macOS)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 21: - 19. Run tests on multiple OS's (job: build_watch_os_mac_catalyst)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build_watch_os_mac_catalyst)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 22: - 19. Run tests on multiple OS's (job: test_linux)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test_linux)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 23: - 19. Run tests on multiple OS's (job: build_spotify_api_server)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build_spotify_api_server)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 24: - 22. Avoid deploying jobs on forks
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 25: The following styling errors were found:
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 26: 15:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 27: 65:11: wrong indentation: expected 8 but found 10 (indentation)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 28: 70:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 29: 71:1: trailing spaces (trailing-spaces)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 30: 124:1: trailing spaces (trailing-spaces)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 31: 127:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 32: 154:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 33: 166:5: wrong indentation: expected 6 but found 4 (indentation)
2025-11-05 23:26:29,262 - utils.process_runner - DEBUG - 라인 34: 171:49: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:26:29,262 - utils.process_runner - INFO - 총 5개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:26:29,262 - utils.process_runner - INFO - Smell detector 실행 완료: 5개 스멜 발견
2025-11-05 23:26:29,262 - main - INFO - 스멜 5개 발견
2025-11-05 23:26:29,262 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 163)
2025-11-05 23:26:29,262 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 118)
2025-11-05 23:26:29,262 - main - INFO -   스멜 3: Avoid jobs without timeouts (line: 148)
2025-11-05 23:26:29,262 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:26:29,262 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:26:29,262 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:26:29,262 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:26:29,263 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:28:35,825 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:28:35,828 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:28:35,830 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:28:35,830 - main - INFO - Phase 2 완료, 최종 YAML 크기: 4089 문자
2025-11-05 23:28:35,832 - main - DEBUG - 임시 파일 삭제: data_original/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_temp_phase1.yml
2025-11-05 23:28:35,832 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:28:35,833 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Swift
        ^
2025-11-05 23:28:35,833 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:28:35,833 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:28:35,836 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e_two_phase_repaired.yml
2025-11-05 23:28:35,836 - __main__ - INFO - === 파일 82/100 2단계 복구 완료 ===
2025-11-05 23:28:35,836 - __main__ - ERROR - ❌ 실패 (302.67초): de338874aa91f31e5de03fe22e9886631bc14e3b1c61ed39ab22d5001d85849e
2025-11-05 23:28:35,836 - __main__ - INFO - [83/100] 처리 중: 63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 23:28:35,836 - __main__ - INFO - 입력 파일 경로: data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 23:28:35,837 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_two_phase_repaired.yml
2025-11-05 23:28:35,837 - __main__ - INFO - === 파일 83/100 2단계 복구 시작 ===
2025-11-05 23:28:35,837 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:28:35,837 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:28:35,837 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 23:28:35,837 - main - INFO - 파일 크기: 7678 문자
2025-11-05 23:28:35,837 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:28:35,837 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:28:35,838 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:28:35,838 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 23:28:35,875 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.04초)
2025-11-05 23:28:35,875 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:28:35,875 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:28:35,875 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:28:35,876 - main - INFO -   오류 1: key "FROGRESS_API_BASE_URL" is duplicated in env. previously defined at line:114,col:7. note that this key is case insensitive
2025-11-05 23:28:35,876 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:28:35,876 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:28:35,876 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:28:35,876 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:28:35,877 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:30:41,299 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:30:41,304 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:30:41,304 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:30:41,305 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7617 문자
2025-11-05 23:30:41,305 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:30:41,305 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:30:41,306 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_temp_phase1.yml
2025-11-05 23:30:41,306 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:30:41,307 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_temp_phase1.yml
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Update progress

on:
  push:
    branches:
      - master
    paths-ignore:
      - '*.md'
      - '**/*.md'
  pull_request_target:
    paths-ignore:
      - '.github/workflows/**'
      - '*.md'
      - '**/*.md'
  workflow_dispatch:

jobs:
  build-and-test:
    strategy:
      matrix:
        version: ["us"]
    # build-and-test cannot work if the repository owner is not Xeeynamo
    # due to the missing secrets to clone the game's data repository
    if: github.repository == 'Xeeynamo/sotn-decomp'
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
    steps:
      - name: Install requirements
        run: sudo apt-get install gcc-mipsel-linux-gnu
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Build binaries
        run: make -j build
      - name: Check if they match
        run: make check
      - name: Remove clutter from build folder
        run: rm -rf build/asm build/src
      - name: Export build folder
        if: github.ref == 'refs/heads/master' && github.event_name == 'push'
        uses: actions/upload-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
  update-progress:
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    runs-on: ubuntu-latest
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone asset repository
        uses: actions/checkout@v3
        with:
          ref: 'gh-report'
          path: 'gh-report'
      - name: Set-up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - name: Generate progress report
        run: |
            mkdir -p gh-report/assets
            python tools/report_progress.py DRA.BIN 630 src/dra > gh-report/assets/progress-dra.json
            python tools/report_progress.py RIC.BIN 155 src/ric > gh-report/assets/progress-ric.json
            python tools/report_progress.py CEN.BIN 128 src/st/cen > gh-report/assets/progress-cen.json
            python tools/report_progress.py DRE.BIN 136 src/st/dre > gh-report/assets/progress-dre.json
            python tools/report_progress.py MAD.BIN 116 src/st/mad > gh-report/assets/progress-mad.json
            python tools/report_progress.py NO3.BIN 210 src/st/no3 > gh-report/assets/progress-no3.json
            python tools/report_progress.py NP3.BIN 214 src/st/np3 > gh-report/assets/progress-np3.json
            python tools/report_progress.py NZ0.BIN 184 src/st/nz0 > gh-report/assets/progress-nz0.json
            python tools/report_progress.py SEL.BIN 164 src/st/sel > gh-report/assets/progress-sel.json
            python tools/report_progress.py ST0.BIN 160 src/st/st0 > gh-report/assets/progress-st0.json
            python tools/report_progress.py WRP.BIN 110 src/st/wrp > gh-report/assets/progress-wrp.json
            python tools/report_progress.py RWRP.BIN 110 src/st/rwrp > gh-report/assets/progress-rwrp.json
            python tools/report_progress.py TT_000.BIN 27 src/servant/tt_000 > gh-report/assets/progress-tt_000.json
      - name: Commit report
        run: |
            git config --global user.name 'GitHub Action' 
            git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
            git add -A
            git commit -m 'Update progress' || true
            git push
        working-directory: gh-report
  generate-progress-report:
    strategy:
      matrix:
        version: ["us"]
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    needs: build-and-test
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
      FROGRESS_API_BASE_URL: ${{ secrets.FROGRESS_API_BASE_URL }}
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Obtain built binaries
        uses: actions/download-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
      - name: Generate and send progress report
        run: python3 tools/progress.py --version us
  generate-duplicates-report:
    strategy:
      matrix:
        version: ["us"]
    if: github.ref == 'refs/heads/master' && github.event_name == 'push'
    needs: build-and-test
    runs-on: ubuntu-latest
    env:
      VERSION: ${{ matrix.version }}
    steps:
      - name: Clone main repository
        uses: actions/checkout@v3
        with:
          submodules: false
      - name: Clone dependencies
        uses: actions/checkout@v3
        with:
          repository: xeeynamo/sotn-decomp-dependencies
          ref: ${{ matrix.version }}
          token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
          path: 'disks/dependencies'
      - name: Setting up dependencies
        working-directory: disks
        run: |
          cat dependencies/* > dependencies.tar.gz
          tar -xf dependencies.tar.gz
          mv *.cue sotn.${{ matrix.version }}.cue
      - name: Extract dependencies
        run: make extract_disk
      - name: Split game data
        run: make -j extract
      - name: Obtain built binaries
        uses: actions/download-artifact@v3
        with:
          name: build_${{ matrix.version }}
          path: build/${{ matrix.version }}
      - name: Clone asset repository
        uses: actions/checkout@v3
        with:
          ref: 'gh-duplicates'
          path: 'gh-duplicates'
      - name: Set-up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'
      - name: Install secondary pre-requirements
        run: pip3 install -r tools/requirements-python.txt
      - name: Generate duplicates report
        run: python3 tools/find_duplicates.py -a
      - name: Rename output file into something more meaningful
        run: mv *_all_matches.txt gh-duplicates/duplicates.txt
      - name: Commit all reports
        run: |
            git config --global user.name 'GitHub Action' 
            git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
            git add -A
            git commit -m 'Update duplicates' || true
            git push
        working-directory: gh-duplicates
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 25)
	- 8. Use commit hash instead of tags for action versions (line 32)
	- 8. Use commit hash instead of tags for action versions (line 78)
	- 8. Use commit hash instead of tags for action versions (line 138)
	- 8. Use commit hash instead of tags for action versions (line 60)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
198:58: trailing spaces (trailing-spaces)
203:41: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 243
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 2: name: Update progress
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 5: push:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 6: branches:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 7: - master
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 8: paths-ignore:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 9: - '*.md'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 10: - '**/*.md'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 11: pull_request_target:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 12: paths-ignore:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 13: - '.github/workflows/**'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 14: - '*.md'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 15: - '**/*.md'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 16: workflow_dispatch:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 18: jobs:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 19: build-and-test:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 20: strategy:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 21: matrix:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 22: version: ["us"]
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 23: # build-and-test cannot work if the repository owner is not Xeeynamo
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 24: # due to the missing secrets to clone the game's data repository
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 25: if: github.repository == 'Xeeynamo/sotn-decomp'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 26: runs-on: ubuntu-latest
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 27: env:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 28: VERSION: ${{ matrix.version }}
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 29: steps:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 30: - name: Install requirements
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 31: run: sudo apt-get install gcc-mipsel-linux-gnu
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 32: - name: Clone main repository
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 33: uses: actions/checkout@v3
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 35: submodules: false
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 36: - name: Clone dependencies
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 37: uses: actions/checkout@v3
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 38: with:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 39: repository: xeeynamo/sotn-decomp-dependencies
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 40: ref: ${{ matrix.version }}
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 41: token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 42: path: 'disks/dependencies'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 43: - name: Setting up dependencies
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 44: working-directory: disks
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 45: run: |
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 46: cat dependencies/* > dependencies.tar.gz
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 47: tar -xf dependencies.tar.gz
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 48: mv *.cue sotn.${{ matrix.version }}.cue
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 49: - name: Extract dependencies
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 50: run: make extract_disk
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 51: - name: Split game data
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 52: run: make -j extract
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 53: - name: Build binaries
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 54: run: make -j build
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 55: - name: Check if they match
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 56: run: make check
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 57: - name: Remove clutter from build folder
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 58: run: rm -rf build/asm build/src
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 59: - name: Export build folder
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 60: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 61: uses: actions/upload-artifact@v3
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 62: with:
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 63: name: build_${{ matrix.version }}
2025-11-05 23:30:41,744 - utils.process_runner - DEBUG - 라인 64: path: build/${{ matrix.version }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 65: update-progress:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 66: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 67: runs-on: ubuntu-latest
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 68: steps:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 69: - name: Clone main repository
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 70: uses: actions/checkout@v3
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 72: submodules: false
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 73: - name: Clone asset repository
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 74: uses: actions/checkout@v3
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 75: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 76: ref: 'gh-report'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 77: path: 'gh-report'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 78: - name: Set-up Python
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 79: uses: actions/setup-python@v4
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 80: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 81: python-version: '3.x'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 82: - name: Generate progress report
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 83: run: |
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 84: mkdir -p gh-report/assets
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 85: python tools/report_progress.py DRA.BIN 630 src/dra > gh-report/assets/progress-dra.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 86: python tools/report_progress.py RIC.BIN 155 src/ric > gh-report/assets/progress-ric.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 87: python tools/report_progress.py CEN.BIN 128 src/st/cen > gh-report/assets/progress-cen.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 88: python tools/report_progress.py DRE.BIN 136 src/st/dre > gh-report/assets/progress-dre.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 89: python tools/report_progress.py MAD.BIN 116 src/st/mad > gh-report/assets/progress-mad.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 90: python tools/report_progress.py NO3.BIN 210 src/st/no3 > gh-report/assets/progress-no3.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 91: python tools/report_progress.py NP3.BIN 214 src/st/np3 > gh-report/assets/progress-np3.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 92: python tools/report_progress.py NZ0.BIN 184 src/st/nz0 > gh-report/assets/progress-nz0.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 93: python tools/report_progress.py SEL.BIN 164 src/st/sel > gh-report/assets/progress-sel.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 94: python tools/report_progress.py ST0.BIN 160 src/st/st0 > gh-report/assets/progress-st0.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 95: python tools/report_progress.py WRP.BIN 110 src/st/wrp > gh-report/assets/progress-wrp.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 96: python tools/report_progress.py RWRP.BIN 110 src/st/rwrp > gh-report/assets/progress-rwrp.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 97: python tools/report_progress.py TT_000.BIN 27 src/servant/tt_000 > gh-report/assets/progress-tt_000.json
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 98: - name: Commit report
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 99: run: |
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 100: git config --global user.name 'GitHub Action'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 101: git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 102: git add -A
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 103: git commit -m 'Update progress' || true
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 104: git push
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 105: working-directory: gh-report
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 106: generate-progress-report:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 107: strategy:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 108: matrix:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 109: version: ["us"]
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 110: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 111: needs: build-and-test
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 112: runs-on: ubuntu-latest
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 113: env:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 114: VERSION: ${{ matrix.version }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 115: FROGRESS_API_BASE_URL: ${{ secrets.FROGRESS_API_BASE_URL }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 116: steps:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 117: - name: Clone main repository
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 118: uses: actions/checkout@v3
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 119: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 120: submodules: false
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 121: - name: Clone dependencies
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 122: uses: actions/checkout@v3
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 123: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 124: repository: xeeynamo/sotn-decomp-dependencies
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 125: ref: ${{ matrix.version }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 126: token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 127: path: 'disks/dependencies'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 128: - name: Setting up dependencies
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 129: working-directory: disks
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 130: run: |
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 131: cat dependencies/* > dependencies.tar.gz
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 132: tar -xf dependencies.tar.gz
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 133: mv *.cue sotn.${{ matrix.version }}.cue
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 134: - name: Extract dependencies
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 135: run: make extract_disk
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 136: - name: Split game data
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 137: run: make -j extract
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 138: - name: Obtain built binaries
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 139: uses: actions/download-artifact@v3
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 140: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 141: name: build_${{ matrix.version }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 142: path: build/${{ matrix.version }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 143: - name: Generate and send progress report
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 144: run: python3 tools/progress.py --version us
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 145: generate-duplicates-report:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 146: strategy:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 147: matrix:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 148: version: ["us"]
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 149: if: github.ref == 'refs/heads/master' && github.event_name == 'push'
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 150: needs: build-and-test
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 151: runs-on: ubuntu-latest
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 152: env:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 153: VERSION: ${{ matrix.version }}
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 154: steps:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 155: - name: Clone main repository
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 156: uses: actions/checkout@v3
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 157: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 158: submodules: false
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 159: - name: Clone dependencies
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 160: uses: actions/checkout@v3
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 161: with:
2025-11-05 23:30:41,745 - utils.process_runner - DEBUG - 라인 162: repository: xeeynamo/sotn-decomp-dependencies
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 163: ref: ${{ matrix.version }}
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 164: token: ${{ secrets.SOTN_DECOM_PRIVATE_REPO_TOKEN }}
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 165: path: 'disks/dependencies'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 166: - name: Setting up dependencies
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 167: working-directory: disks
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 168: run: |
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 169: cat dependencies/* > dependencies.tar.gz
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 170: tar -xf dependencies.tar.gz
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 171: mv *.cue sotn.${{ matrix.version }}.cue
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 172: - name: Extract dependencies
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 173: run: make extract_disk
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 174: - name: Split game data
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 175: run: make -j extract
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 176: - name: Obtain built binaries
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 177: uses: actions/download-artifact@v3
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 178: with:
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 179: name: build_${{ matrix.version }}
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 180: path: build/${{ matrix.version }}
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 181: - name: Clone asset repository
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 182: uses: actions/checkout@v3
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 183: with:
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 184: ref: 'gh-duplicates'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 185: path: 'gh-duplicates'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 186: - name: Set-up Python
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 187: uses: actions/setup-python@v4
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 188: with:
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 189: python-version: '3.x'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 190: - name: Install secondary pre-requirements
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 191: run: pip3 install -r tools/requirements-python.txt
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 192: - name: Generate duplicates report
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 193: run: python3 tools/find_duplicates.py -a
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 194: - name: Rename output file into something more meaningful
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 195: run: mv *_all_matches.txt gh-duplicates/duplicates.txt
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 196: - name: Commit all reports
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 197: run: |
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 198: git config --global user.name 'GitHub Action'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 199: git config --global user.email '41898282+github-actions[bot]@users.noreply.github.com'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 200: git add -A
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 201: git commit -m 'Update duplicates' || true
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 202: git push
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 203: working-directory: gh-duplicates
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 204: mapping values are not allowed here
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 205: in "<file>", line 2, column 5
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 206: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_temp_phase1.yml
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_temp_phase1.yml
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 207: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 208: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 209: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 210: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 211: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 212: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 213: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 214: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 215: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 216: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 217: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 218: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 219: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 220: We have found 18 smells
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 221: - 3. Use fixed version for runs-on argument (line 25)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 25)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 222: - 8. Use commit hash instead of tags for action versions (line 32)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 32)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 223: - 8. Use commit hash instead of tags for action versions (line 78)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 78)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 224: - 8. Use commit hash instead of tags for action versions (line 138)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 138)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 225: - 8. Use commit hash instead of tags for action versions (line 60)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 60)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 226: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 227: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 228: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 229: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 230: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 231: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 232: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 233: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 234: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 235: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 236: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 237: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:30:41,746 - utils.process_runner - DEBUG - 라인 238: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:30:41,747 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:30:41,747 - utils.process_runner - DEBUG - 라인 239: The following styling errors were found:
2025-11-05 23:30:41,747 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:30:41,747 - utils.process_runner - DEBUG - 라인 240: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:30:41,747 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:30:41,747 - utils.process_runner - DEBUG - 라인 241: 198:58: trailing spaces (trailing-spaces)
2025-11-05 23:30:41,747 - utils.process_runner - DEBUG - 라인 242: 203:41: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:30:41,747 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:30:41,747 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:30:41,747 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:30:41,747 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:30:41,747 - main - DEBUG - 임시 파일 삭제: data_original/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_temp_phase1.yml
2025-11-05 23:30:41,747 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:30:41,747 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Update progress
        ^
2025-11-05 23:30:41,747 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:30:41,747 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:30:41,747 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d_two_phase_repaired.yml
2025-11-05 23:30:41,748 - __main__ - INFO - === 파일 83/100 2단계 복구 완료 ===
2025-11-05 23:30:41,748 - __main__ - ERROR - ❌ 실패 (125.91초): 63297f310cc41bca4ad7568525a967974b44ebcb4dd37f8b6be29c3238a8171d
2025-11-05 23:30:41,748 - __main__ - INFO - [84/100] 처리 중: 4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 23:30:41,748 - __main__ - INFO - 입력 파일 경로: data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 23:30:41,748 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_two_phase_repaired.yml
2025-11-05 23:30:41,748 - __main__ - INFO - === 파일 84/100 2단계 복구 시작 ===
2025-11-05 23:30:41,748 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:30:41,748 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:30:41,748 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 23:30:41,748 - main - INFO - 파일 크기: 659 문자
2025-11-05 23:30:41,748 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:30:41,748 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:30:41,748 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:30:41,748 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 23:30:41,765 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:30:41,765 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:30:41,765 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:30:41,765 - main - INFO - actionlint 오류 2개 발견
2025-11-05 23:30:41,765 - main - INFO -   오류 1: "steps" section is missing in job "stale-prs"
2025-11-05 23:30:41,765 - main - INFO -   오류 2: "steps" section must be sequence node but got mapping node with "!!map" tag
2025-11-05 23:30:41,765 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:30:41,765 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:30:41,765 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:30:41,765 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:30:41,766 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:32:12,297 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1370
2025-11-05 23:32:12,300 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:32:12,301 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:32:12,302 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 677 문자
2025-11-05 23:32:12,302 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:32:12,302 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:32:12,303 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_temp_phase1.yml
2025-11-05 23:32:12,304 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:32:12,304 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_temp_phase1.yml
2025-11-05 23:32:12,744 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Protobuf Janitor

on:
  schedule:
    # Run daily at 10 AM UTC (2 AM PDT)
    - cron: 0 10 * * *
  workflow_dispatch:

jobs:
  stale-prs:
    name: Close Stale Copybara PRs
    runs-on: ubuntu-latest
    steps:
      - run: |
          set -ex
          STALE_PRS=$(gh pr list --author "app/copybara-service" --limit 500 \
              --json "number" --search "updated:<=$(date --date="-7 day" +%F)" \
            | jq ".[].number")
          for pr in $(STALE_PRS); do
            echo "Closing #$pr..."
            gh pr close --comment "Auto-closing Copybara pull request" --delete-branch "$pr"
          done
      env:
        GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
while parsing a block collection
  in "<file>", line 14, column 7
expected <block end>, but found '?'
  in "<file>", line 23, column 7
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 14 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
The following styling errors were found: 
23:7: syntax error: expected <block end>, but found '?' (syntax)
24:9: wrong indentation: expected 10 but found 8 (indentation)
24:46: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 62
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Protobuf Janitor
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 4: schedule:
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 5: # Run daily at 10 AM UTC (2 AM PDT)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 6: - cron: 0 10 * * *
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch:
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 10: stale-prs:
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 11: name: Close Stale Copybara PRs
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 14: - run: |
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 15: set -ex
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 16: STALE_PRS=$(gh pr list --author "app/copybara-service" --limit 500 \
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 17: --json "number" --search "updated:<=$(date --date="-7 day" +%F)" \
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 18: | jq ".[].number")
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 19: for pr in $(STALE_PRS); do
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 20: echo "Closing #$pr..."
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 21: gh pr close --comment "Auto-closing Copybara pull request" --delete-branch "$pr"
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 22: done
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 23: env:
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 24: GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 25: while parsing a block collection
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 26: in "<file>", line 14, column 7
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 27: expected <block end>, but found '?'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 28: in "<file>", line 23, column 7
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 29: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_temp_phase1.yml
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_temp_phase1.yml
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 43: We have found 14 smells
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 14 smells
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 44: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 45: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:32:12,745 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 58: The following styling errors were found:
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 59: 23:7: syntax error: expected <block end>, but found '?' (syntax)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 23:7: syntax error: expected <block end>, but found '?' (syntax)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 60: 24:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-05 23:32:12,746 - utils.process_runner - DEBUG - 라인 61: 24:46: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:32:12,746 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:32:12,746 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:32:12,746 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:32:12,746 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:32:12,746 - main - DEBUG - 임시 파일 삭제: data_original/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_temp_phase1.yml
2025-11-05 23:32:12,746 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:32:12,747 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block collection
  in "<unicode string>", line 14, column 7:
          - run: |
          ^
expected <block end>, but found '?'
  in "<unicode string>", line 23, column 7:
          env:
          ^
2025-11-05 23:32:12,747 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:32:12,747 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:32:12,747 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312_two_phase_repaired.yml
2025-11-05 23:32:12,747 - __main__ - INFO - === 파일 84/100 2단계 복구 완료 ===
2025-11-05 23:32:12,747 - __main__ - ERROR - ❌ 실패 (91.00초): 4c753eb1d5b7d1ec81d5e4b937fc038f5bab6e0e30a99b12ca152e074a19e312
2025-11-05 23:32:12,747 - __main__ - INFO - [85/100] 처리 중: 261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 23:32:12,747 - __main__ - INFO - 입력 파일 경로: data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 23:32:12,747 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_two_phase_repaired.yml
2025-11-05 23:32:12,747 - __main__ - INFO - === 파일 85/100 2단계 복구 시작 ===
2025-11-05 23:32:12,747 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:32:12,747 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:32:12,748 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 23:32:12,748 - main - INFO - 파일 크기: 2056 문자
2025-11-05 23:32:12,748 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:32:12,748 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:32:12,748 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:32:12,748 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 23:32:12,768 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:32:12,768 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:32:12,768 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:32:12,768 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:32:12,768 - main - INFO -   오류 1: could not parse as YAML: yaml: line 10: did not find expected key
2025-11-05 23:32:12,768 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:32:12,768 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:32:12,768 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:32:12,768 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:32:12,770 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:34:30,846 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:34:30,850 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:34:30,851 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:34:30,851 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2091 문자
2025-11-05 23:34:30,851 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:34:30,851 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:34:30,853 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_temp_phase1.yml
2025-11-05 23:34:30,853 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:34:30,853 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_temp_phase1.yml
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Coveralls

on:
  workflow_run:
    workflows: [Linux]
    types:
      - completed

jobs:
  finish:
    defaults:
      run:
        shell: bash
    runs-on: ubuntu-latest

    steps:
      - name: 'Download artifacts'
        uses: actions/github-script@v3.1.0
        with:
          script: |
            var artifacts = await github.actions.listWorkflowRunArtifacts({
               owner: context.repo.owner,
               repo: context.repo.repo,
               run_id: ${{github.event.workflow_run.id}},
            });
            var matchArtifacts = artifacts.data.artifacts;
            matchArtifacts.forEach(artifact => {
              var download = await github.actions.downloadArtifact({
                 owner: context.repo.owner,
                 repo: context.repo.repo,
                 artifact_id: artifact.id,
                 archive_format: 'zip',
              });
              var fs = require('fs');
              fs.writeFileSync('${{github.workspace}}/' + artifact.name + '.zip', Buffer.from(download.data));
            });

      - name: Unzip artifacts
        run: |
          unzip *.zip

    - name: Generate Coverage
      run: |
        lcov --directory . --capture --output-file coverage.info
        lcov --remove coverage.info \
          '*/install/include/*' \
          '*/msys64/mingw32/*' \
          '*/msys64/mingw64/*' \
          '*/src/*_unittest.cc' \
          '*/src/googletest.h' \
          '*/src/mock-log.h' \
          '/usr/*' \
          --output-file coverage.info

        readarray -t build_dirs < <(ls -d build*)

        for file in src/glog/*.h.in; do
          name=$(basename ${file})
          name_we=${name%.h.in}

          for build_dir in "${build_dirs[@]}"; do
            sed -i "s|${build_dir%/}/glog/${name_we}.h\$|${file}|g" coverage.info
          done
        done

        lcov --list coverage.info

      - name: Upload Coverage to Coveralls
        uses: coverallsapp/github-action@master
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          path-to-lcov: ./coverage.info
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 14)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 109
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 2: name: Coveralls
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 5: workflow_run:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 6: workflows: [Linux]
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 7: types:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 8: - completed
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 10: jobs:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 11: finish:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 12: defaults:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 13: run:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 14: shell: bash
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 15: runs-on: ubuntu-latest
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 17: steps:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 18: - name: 'Download artifacts'
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 19: uses: actions/github-script@v3.1.0
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 20: with:
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 21: script: |
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 22: var artifacts = await github.actions.listWorkflowRunArtifacts({
2025-11-05 23:34:31,235 - utils.process_runner - DEBUG - 라인 23: owner: context.repo.owner,
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 24: repo: context.repo.repo,
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 25: run_id: ${{github.event.workflow_run.id}},
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 26: });
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 27: var matchArtifacts = artifacts.data.artifacts;
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 28: matchArtifacts.forEach(artifact => {
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 29: var download = await github.actions.downloadArtifact({
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 30: owner: context.repo.owner,
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 31: repo: context.repo.repo,
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 32: artifact_id: artifact.id,
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 33: archive_format: 'zip',
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 34: });
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 35: var fs = require('fs');
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 36: fs.writeFileSync('${{github.workspace}}/' + artifact.name + '.zip', Buffer.from(download.data));
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 37: });
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 39: - name: Unzip artifacts
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 40: run: |
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 41: unzip *.zip
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 43: - name: Generate Coverage
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 44: run: |
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 45: lcov --directory . --capture --output-file coverage.info
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 46: lcov --remove coverage.info \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 47: '*/install/include/*' \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 48: '*/msys64/mingw32/*' \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 49: '*/msys64/mingw64/*' \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 50: '*/src/*_unittest.cc' \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 51: '*/src/googletest.h' \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 52: '*/src/mock-log.h' \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 53: '/usr/*' \
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 54: --output-file coverage.info
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 56: readarray -t build_dirs < <(ls -d build*)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 58: for file in src/glog/*.h.in; do
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 59: name=$(basename ${file})
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 60: name_we=${name%.h.in}
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 62: for build_dir in "${build_dirs[@]}"; do
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 63: sed -i "s|${build_dir%/}/glog/${name_we}.h\$|${file}|g" coverage.info
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 64: done
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 65: done
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 67: lcov --list coverage.info
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 69: - name: Upload Coverage to Coveralls
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 70: uses: coverallsapp/github-action@master
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 71: with:
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 72: github-token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 73: path-to-lcov: ./coverage.info
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 74: mapping values are not allowed here
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 75: in "<file>", line 2, column 5
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 76: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_temp_phase1.yml
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_temp_phase1.yml
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 77: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 78: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 79: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 80: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 81: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 82: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 83: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 84: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 85: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 86: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 87: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 88: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 89: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 90: We have found 16 smells
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 91: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 92: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 93: - 12. Avoid workflows without comments
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 94: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 95: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 96: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 97: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 98: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 99: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 100: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 101: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 102: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 103: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 104: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:34:31,236 - utils.process_runner - DEBUG - 라인 105: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:34:31,237 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:34:31,237 - utils.process_runner - DEBUG - 라인 106: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:34:31,237 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:34:31,237 - utils.process_runner - DEBUG - 라인 107: The following styling errors were found:
2025-11-05 23:34:31,237 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:34:31,237 - utils.process_runner - DEBUG - 라인 108: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:34:31,237 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:34:31,237 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:34:31,237 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:34:31,237 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:34:31,237 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:34:31,237 - main - DEBUG - 임시 파일 삭제: data_original/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_temp_phase1.yml
2025-11-05 23:34:31,237 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:34:31,237 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Coveralls
        ^
2025-11-05 23:34:31,237 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:34:31,237 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:34:31,237 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135_two_phase_repaired.yml
2025-11-05 23:34:31,238 - __main__ - INFO - === 파일 85/100 2단계 복구 완료 ===
2025-11-05 23:34:31,238 - __main__ - ERROR - ❌ 실패 (138.49초): 261f193d3d0410c6ee0bb3b90d0f66a5c537c47a41a6424df24e9051f8063135
2025-11-05 23:34:31,238 - __main__ - INFO - [86/100] 처리 중: 6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 23:34:31,238 - __main__ - INFO - 입력 파일 경로: data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 23:34:31,238 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_two_phase_repaired.yml
2025-11-05 23:34:31,238 - __main__ - INFO - === 파일 86/100 2단계 복구 시작 ===
2025-11-05 23:34:31,238 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:34:31,238 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:34:31,238 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 23:34:31,238 - main - INFO - 파일 크기: 7592 문자
2025-11-05 23:34:31,238 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:34:31,238 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:34:31,238 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:34:31,238 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 23:34:31,255 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:34:31,255 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:34:31,255 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:34:31,255 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:34:31,255 - main - INFO -   오류 1: "tags" section is sequence node but mapping node is expected
2025-11-05 23:34:31,255 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:34:31,255 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:34:31,256 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:34:31,256 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:34:31,257 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:35:49,098 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:35:49,103 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:35:49,104 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:35:49,104 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 7587 문자
2025-11-05 23:35:49,105 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:35:49,105 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:35:49,107 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_temp_phase1.yml
2025-11-05 23:35:49,107 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:35:49,107 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_temp_phase1.yml
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.48초)
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: test-and-lint
on:
  push:
    branches:
      - unstable
      - main
  pull_request:
    branches:
      - main
tags:
  - v*
permissions:
  contents: read
jobs:
  gotest:
    # description: "Runs `go test` against 3 operating systems."
    strategy:
      matrix:
        os: [ubuntu, macos, windows]
    runs-on: ${{ matrix.os }}-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          go generate ./...
      - name: go-test
        run: |
          go test ./pkg/...

  golangci-darwin:
    # description: "Runs golangci-lint on macos against freebsd and macos."
    strategy:
      matrix:
        os: [freebsd, darwin]
    name: golangci-lint
    runs-on: macos-latest
    env:
      GOOS: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          GOOS=darwin go install github.com/swaggo/swag/cmd/swag@v1.8.7
          GOOS=darwin go install github.com/kevinburke/go-bindata/...@latest
          GOOS=darwin go generate ./...
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v3
        with:
          version: v1.48

  golangci-linux:
    # description: "Runs golangci-lint on linux against linux and windows."
    strategy:
      matrix:
        os: [linux, windows]
    name: golangci-lint
    runs-on: ubuntu-latest
    env:
      GOOS: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          GOOS=linux go install github.com/swaggo/swag/cmd/swag@v1.8.7
          GOOS=linux go install github.com/kevinburke/go-bindata/...@latest
          GOOS=linux go generate ./...
      - name: golangci-lint
        uses: golangci/golangci-lint-action@v3
        with:
          version: v1.48

  homebrew-test:
    # description: "Installs dependencis on macOS and runs `make install` to mimic a homebrew install."
    name: test-homebrew-install
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          echo $PATH
          ls $(go env GOPATH)/bin
          go generate ./...
      - name: make-install
        run: |
          TMP=$(mktemp -d)
          go install github.com/davidnewhall/md2roff@v0.0.1
          make install VERSION=0.0.1 ITERATION=240 PREFIX=$TMP ETC=$TMP/etc

  macapp-test:
    # description: "Builds and signs a macOS app then packages it in a notarized DMG."
    outputs:
      packages: ${{ steps.release.outputs.packages }}
    name: test-make-signdmg
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
        with:
          # we need the whole thing so we can count commits.
          fetch-depth: '0'
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          go generate ./...
      - name: make-signdmg
        env:
          APPLE_SIGNING_KEY: ${{ secrets.APPLE_SIGNING_KEY }}
          AC_USERNAME: ${{ secrets.AC_USERNAME }}
          AC_PASSWORD: ${{ secrets.AC_PASSWORD }}
        id: release
        run: |
          brew install mitchellh/gon/gon jq
          make signdmg
          echo "packages=$(ls release/*.dmg | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
      - name: upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: test-macos-release
          path: release

  release-test:
    # description: "Builds all the Notifiarr client binaries and packages for a release."
    outputs:
      packages: ${{ steps.release.outputs.packages }}
      allfiles: ${{ steps.release.outputs.allfiles }}
      zips: ${{ steps.release.outputs.zips }}
      version: ${{ steps.release.outputs.version }}
    name: test-make-release
    runs-on: ubuntu-latest
    env:
      GPG_SIGNING_KEY: ${{ secrets.GPG_SIGNING_KEY }}
    steps:
      - uses: actions/checkout@v3
        with:
          # we need the whole thing so we can count commits.
          fetch-depth: '0'
      - uses: actions/setup-go@v3
        with:
          go-version: 'stable'
      - name: go-generate
        run: |
          go install github.com/swaggo/swag/cmd/swag@v1.8.7
          go install github.com/kevinburke/go-bindata/...@latest
          # make release will clean and generate so do not do it here.
      - name: make-release
        id: release
        run: |
          sudo apt install -y rpm fakeroot zip debsigs gnupg jq 
          sudo gem install --no-document fpm
          echo "${GPG_SIGNING_KEY}" | gpg --import -
          go install github.com/akavel/rsrc@latest
          go install github.com/davidnewhall/md2roff@v0.0.1
          make release
          echo "allfiles=$(ls release/* | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
          echo "packages=$(ls release/*.{deb,rpm} | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
          echo "zips=$(ls release/*.{gz,zip} | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
          source settings.sh ; echo "version=${VERSION}-${ITERATION}" >> $GITHUB_OUTPUT
      - name: upload artifacts
        uses: actions/upload-artifact@v3
        with:
          name: test-release
          path: release

  deploy-unstable-unstable:
    # description: "Uploads pre-built binaries to unstable.notifiarr.app."
    if: startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'
    strategy:
      matrix:
        files: [test-release, test-macos-release]
    needs:
      - release-test
      - macapp-test
    name: deploy-unstable-unstable
    runs-on: ubuntu-latest
    steps:
      - name: Download release files
        uses: actions/download-artifact@v2
        with:
          name: ${{ matrix.files }}
      - name: Upload files to unstable.notifiarr.app
        run: >-
          for file in *.{zip,dmg,gz}; do
            [ -f "$file" ] || continue;
            echo "Uploading: ${file}";
            curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=@${file}";
            versionfile="${{needs.release-test.outputs.version}};filename=${file}.txt;type=text/plain" 
            curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=@${versionfile}";
          done

  deploy-unstable:
    # description: "Uploads pre-built binaries to unstable.notifiarr.app."
    if: startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'
    name: deploy-unstable
    runs-on: ubuntu-latest
    steps:
      - name: Download release files
        uses: actions/download-artifact@v2
        with:
          name: test-release
      - name: Upload files to unstable.notifiarr.app
        uses: golift/upload-packagecloud@v1
        with:
          userrepo: golift/unstable
          apitoken: ${{ secrets.PACKAGECLOUD_TOKEN }}
          packages: .
          rpmdists: el/7
          debdists: ubuntu/focal
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 22 smells
	- 3. Use fixed version for runs-on argument (line 65)
	- 3. Use fixed version for runs-on argument (line 41)
	- 3. Use fixed version for runs-on argument (line 20)
	- 8. Use commit hash instead of tags for action versions (line 220)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 22)
	- 8. Use commit hash instead of tags for action versions (line 196)
	- 8. Use commit hash instead of tags for action versions (line 135)
	- 8. Use commit hash instead of tags for action versions (line 55)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)
206:103: trailing spaces (trailing-spaces)
227:33: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 271
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 2: name: test-and-lint
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 5: branches:
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 6: - unstable
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 7: - main
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 8: pull_request:
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 9: branches:
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 10: - main
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 11: tags:
2025-11-05 23:35:49,586 - utils.process_runner - DEBUG - 라인 12: - v*
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 13: permissions:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 14: contents: read
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 15: jobs:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 16: gotest:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 17: # description: "Runs `go test` against 3 operating systems."
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 18: strategy:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 19: matrix:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 20: os: [ubuntu, macos, windows]
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 21: runs-on: ${{ matrix.os }}-latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 22: steps:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 23: - uses: actions/checkout@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 24: - uses: actions/setup-go@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 25: with:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 26: go-version: 'stable'
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 27: - name: go-generate
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 28: run: |
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 29: go install github.com/swaggo/swag/cmd/swag@v1.8.7
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 30: go install github.com/kevinburke/go-bindata/...@latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 31: go generate ./...
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 32: - name: go-test
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 33: run: |
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 34: go test ./pkg/...
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 36: golangci-darwin:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 37: # description: "Runs golangci-lint on macos against freebsd and macos."
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 38: strategy:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 39: matrix:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 40: os: [freebsd, darwin]
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 41: name: golangci-lint
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 42: runs-on: macos-latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 43: env:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 44: GOOS: ${{ matrix.os }}
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 45: steps:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 46: - uses: actions/checkout@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 47: - uses: actions/setup-go@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 48: with:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 49: go-version: 'stable'
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 50: - name: go-generate
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 51: run: |
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 52: GOOS=darwin go install github.com/swaggo/swag/cmd/swag@v1.8.7
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 53: GOOS=darwin go install github.com/kevinburke/go-bindata/...@latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 54: GOOS=darwin go generate ./...
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 55: - name: golangci-lint
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 56: uses: golangci/golangci-lint-action@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 57: with:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 58: version: v1.48
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 60: golangci-linux:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 61: # description: "Runs golangci-lint on linux against linux and windows."
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 62: strategy:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 63: matrix:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 64: os: [linux, windows]
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 65: name: golangci-lint
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 66: runs-on: ubuntu-latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 67: env:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 68: GOOS: ${{ matrix.os }}
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 69: steps:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 70: - uses: actions/checkout@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 71: - uses: actions/setup-go@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 72: with:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 73: go-version: 'stable'
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 74: - name: go-generate
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 75: run: |
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 76: GOOS=linux go install github.com/swaggo/swag/cmd/swag@v1.8.7
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 77: GOOS=linux go install github.com/kevinburke/go-bindata/...@latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 78: GOOS=linux go generate ./...
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 79: - name: golangci-lint
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 80: uses: golangci/golangci-lint-action@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 81: with:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 82: version: v1.48
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 84: homebrew-test:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 85: # description: "Installs dependencis on macOS and runs `make install` to mimic a homebrew install."
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 86: name: test-homebrew-install
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 87: runs-on: macos-latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 88: steps:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 89: - uses: actions/checkout@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 90: - uses: actions/setup-go@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 91: with:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 92: go-version: 'stable'
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 93: - name: go-generate
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 94: run: |
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 95: go install github.com/swaggo/swag/cmd/swag@v1.8.7
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 96: go install github.com/kevinburke/go-bindata/...@latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 97: echo $PATH
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 98: ls $(go env GOPATH)/bin
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 99: go generate ./...
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 100: - name: make-install
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 101: run: |
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 102: TMP=$(mktemp -d)
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 103: go install github.com/davidnewhall/md2roff@v0.0.1
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 104: make install VERSION=0.0.1 ITERATION=240 PREFIX=$TMP ETC=$TMP/etc
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 106: macapp-test:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 107: # description: "Builds and signs a macOS app then packages it in a notarized DMG."
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 108: outputs:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 109: packages: ${{ steps.release.outputs.packages }}
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 110: name: test-make-signdmg
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 111: runs-on: macos-latest
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 112: steps:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 113: - uses: actions/checkout@v3
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 114: with:
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 115: # we need the whole thing so we can count commits.
2025-11-05 23:35:49,587 - utils.process_runner - DEBUG - 라인 116: fetch-depth: '0'
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 117: - uses: actions/setup-go@v3
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 118: with:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 119: go-version: 'stable'
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 120: - name: go-generate
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 121: run: |
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 122: go install github.com/swaggo/swag/cmd/swag@v1.8.7
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 123: go install github.com/kevinburke/go-bindata/...@latest
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 124: go generate ./...
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 125: - name: make-signdmg
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 126: env:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 127: APPLE_SIGNING_KEY: ${{ secrets.APPLE_SIGNING_KEY }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 128: AC_USERNAME: ${{ secrets.AC_USERNAME }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 129: AC_PASSWORD: ${{ secrets.AC_PASSWORD }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 130: id: release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 131: run: |
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 132: brew install mitchellh/gon/gon jq
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 133: make signdmg
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 134: echo "packages=$(ls release/*.dmg | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 135: - name: upload artifacts
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 136: uses: actions/upload-artifact@v3
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 137: with:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 138: name: test-macos-release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 139: path: release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 141: release-test:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 142: # description: "Builds all the Notifiarr client binaries and packages for a release."
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 143: outputs:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 144: packages: ${{ steps.release.outputs.packages }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 145: allfiles: ${{ steps.release.outputs.allfiles }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 146: zips: ${{ steps.release.outputs.zips }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 147: version: ${{ steps.release.outputs.version }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 148: name: test-make-release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 149: runs-on: ubuntu-latest
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 150: env:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 151: GPG_SIGNING_KEY: ${{ secrets.GPG_SIGNING_KEY }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 152: steps:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 153: - uses: actions/checkout@v3
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 154: with:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 155: # we need the whole thing so we can count commits.
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 156: fetch-depth: '0'
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 157: - uses: actions/setup-go@v3
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 158: with:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 159: go-version: 'stable'
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 160: - name: go-generate
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 161: run: |
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 162: go install github.com/swaggo/swag/cmd/swag@v1.8.7
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 163: go install github.com/kevinburke/go-bindata/...@latest
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 164: # make release will clean and generate so do not do it here.
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 165: - name: make-release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 166: id: release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 167: run: |
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 168: sudo apt install -y rpm fakeroot zip debsigs gnupg jq
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 169: sudo gem install --no-document fpm
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 170: echo "${GPG_SIGNING_KEY}" | gpg --import -
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 171: go install github.com/akavel/rsrc@latest
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 172: go install github.com/davidnewhall/md2roff@v0.0.1
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 173: make release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 174: echo "allfiles=$(ls release/* | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 175: echo "packages=$(ls release/*.{deb,rpm} | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 176: echo "zips=$(ls release/*.{gz,zip} | jq -R '.' | jq -sc)" >> $GITHUB_OUTPUT
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 177: source settings.sh ; echo "version=${VERSION}-${ITERATION}" >> $GITHUB_OUTPUT
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 178: - name: upload artifacts
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 179: uses: actions/upload-artifact@v3
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 180: with:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 181: name: test-release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 182: path: release
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 184: deploy-unstable-unstable:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 185: # description: "Uploads pre-built binaries to unstable.notifiarr.app."
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 186: if: startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 187: strategy:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 188: matrix:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 189: files: [test-release, test-macos-release]
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 190: needs:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 191: - release-test
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 192: - macapp-test
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 193: name: deploy-unstable-unstable
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 194: runs-on: ubuntu-latest
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 195: steps:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 196: - name: Download release files
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 197: uses: actions/download-artifact@v2
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 198: with:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 199: name: ${{ matrix.files }}
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 200: - name: Upload files to unstable.notifiarr.app
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 201: run: >-
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 202: for file in *.{zip,dmg,gz}; do
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 203: [ -f "$file" ] || continue;
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 204: echo "Uploading: ${file}";
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 205: curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=@${file}";
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 206: versionfile="${{needs.release-test.outputs.version}};filename=${file}.txt;type=text/plain"
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 207: curl -sSH "X-API-KEY: ${{ secrets.UNSTABLE_UPLOAD_KEY }}" "https://unstable.notifiarr.app/upload.php" -F "file=@${versionfile}";
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 208: done
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 210: deploy-unstable:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 211: # description: "Uploads pre-built binaries to unstable.notifiarr.app."
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 212: if: startsWith(github.ref, 'refs/tags/v') || github.ref == 'refs/heads/unstable'
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 213: name: deploy-unstable
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 214: runs-on: ubuntu-latest
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 215: steps:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 216: - name: Download release files
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 217: uses: actions/download-artifact@v2
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 218: with:
2025-11-05 23:35:49,588 - utils.process_runner - DEBUG - 라인 219: name: test-release
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 220: - name: Upload files to unstable.notifiarr.app
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 221: uses: golift/upload-packagecloud@v1
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 222: with:
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 223: userrepo: golift/unstable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 224: apitoken: ${{ secrets.PACKAGECLOUD_TOKEN }}
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 225: packages: .
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 226: rpmdists: el/7
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 227: debdists: ubuntu/focal
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 228: mapping values are not allowed here
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 229: in "<file>", line 2, column 5
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 230: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_temp_phase1.yml
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_temp_phase1.yml
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 231: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 232: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 233: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 234: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 235: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 236: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 237: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 238: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 239: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 240: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 241: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 242: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 243: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 244: We have found 22 smells
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 22 smells
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 245: - 3. Use fixed version for runs-on argument (line 65)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 65)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 246: - 3. Use fixed version for runs-on argument (line 41)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 41)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 247: - 3. Use fixed version for runs-on argument (line 20)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 20)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 248: - 8. Use commit hash instead of tags for action versions (line 220)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 220)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 249: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 250: - 8. Use commit hash instead of tags for action versions (line 22)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 22)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 251: - 8. Use commit hash instead of tags for action versions (line 196)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 196)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 252: - 8. Use commit hash instead of tags for action versions (line 135)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 135)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 253: - 8. Use commit hash instead of tags for action versions (line 55)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 55)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 254: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 255: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 256: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 257: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 258: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 259: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 260: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 261: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 262: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 263: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 264: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 265: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 266: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 267: The following styling errors were found:
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 268: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 269: 206:103: trailing spaces (trailing-spaces)
2025-11-05 23:35:49,589 - utils.process_runner - DEBUG - 라인 270: 227:33: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:35:49,589 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:35:49,589 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:35:49,590 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:35:49,590 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:35:49,590 - main - DEBUG - 임시 파일 삭제: data_original/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_temp_phase1.yml
2025-11-05 23:35:49,590 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:35:49,590 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: test-and-lint
        ^
2025-11-05 23:35:49,590 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:35:49,590 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:35:49,591 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba_two_phase_repaired.yml
2025-11-05 23:35:49,591 - __main__ - INFO - === 파일 86/100 2단계 복구 완료 ===
2025-11-05 23:35:49,591 - __main__ - ERROR - ❌ 실패 (78.35초): 6bf48b84932314f95b73d8dd2b3464ec9ec0ad5283f95c1977933b5fdcfc50ba
2025-11-05 23:35:49,591 - __main__ - INFO - [87/100] 처리 중: b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 23:35:49,591 - __main__ - INFO - 입력 파일 경로: data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 23:35:49,591 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_two_phase_repaired.yml
2025-11-05 23:35:49,591 - __main__ - INFO - === 파일 87/100 2단계 복구 시작 ===
2025-11-05 23:35:49,591 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:35:49,591 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:35:49,592 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 23:35:49,592 - main - INFO - 파일 크기: 718 문자
2025-11-05 23:35:49,592 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:35:49,592 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:35:49,592 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:35:49,592 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e
2025-11-05 23:35:49,609 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:35:49,609 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:35:49,609 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:35:49,609 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:35:49,609 - main - INFO -   오류 1: "issue_comment" section is sequence node but mapping node is expected
2025-11-05 23:35:49,609 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:35:49,609 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:35:49,609 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:35:49,609 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:35:49,610 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:36:27,362 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1375
2025-11-05 23:36:27,363 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:36:27,363 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:36:27,363 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 723 문자
2025-11-05 23:36:27,363 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:36:27,363 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:36:27,364 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_temp_phase1.yml
2025-11-05 23:36:27,364 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:36:27,364 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_temp_phase1.yml
2025-11-05 23:36:27,697 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_temp_phase1.yml
We have found 9 smells
	- 2. Prevent running issue/PR actions on forks line 17:17
	- 3. Use fixed version for runs-on argument (line 11)
	- 6. Define permissions for workflows with external actions (job at line: 11)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 10. Avoid jobs without timeouts (line: 11)
	- 13. Use names for run steps (lines -1:14)
	- 13. Use names for run steps (lines 17:17)
	- 14. Avoid incorrectly formatted workflows
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
7:1: trailing spaces (trailing-spaces)
8:24: trailing spaces (trailing-spaces)
9:21: trailing spaces (trailing-spaces)
16:10: wrong indentation: expected 10 but found 9 (indentation)
19:1: comment not indented like content (comments-indentation)
19:132: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 19
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_temp_phase1.yml
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_temp_phase1.yml
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 2: We have found 9 smells
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 9 smells
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 3: - 2. Prevent running issue/PR actions on forks line 17:17
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line 17:17
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 5: - 6. Define permissions for workflows with external actions (job at line: 11)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 11)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 7: - 10. Avoid jobs without timeouts (line: 11)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 11)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 8: - 13. Use names for run steps (lines -1:14)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:14)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 9: - 13. Use names for run steps (lines 17:17)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 17:17)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 10: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 11: - 22. Avoid deploying jobs on forks
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 12: The following styling errors were found:
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 13: 7:1: trailing spaces (trailing-spaces)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 14: 8:24: trailing spaces (trailing-spaces)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 15: 9:21: trailing spaces (trailing-spaces)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 16: 16:10: wrong indentation: expected 10 but found 9 (indentation)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 17: 19:1: comment not indented like content (comments-indentation)
2025-11-05 23:36:27,698 - utils.process_runner - DEBUG - 라인 18: 19:132: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:36:27,698 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:36:27,698 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 23:36:27,698 - main - INFO - 스멜 1개 발견
2025-11-05 23:36:27,698 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 11)
2025-11-05 23:36:27,698 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:36:27,698 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:36:27,698 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:36:27,698 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:36:27,700 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:37:18,787 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:37:18,789 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:37:18,790 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:37:18,791 - main - INFO - Phase 2 완료, 최종 YAML 크기: 736 문자
2025-11-05 23:37:18,792 - main - DEBUG - 임시 파일 삭제: data_original/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_temp_phase1.yml
2025-11-05 23:37:18,792 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:37:18,796 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Notification regarding New Pull Request via Slack', 'on': {'issue_comment': {'types': ['created']}, 'pull_request_target': {'types': ['opened']}}, 'jobs': {'notifyViaSlack': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 5, 'steps': [{'uses': 'denolib/setup-deno@v2', 'with': {'deno-version': 'v1.x'}}, {'name': 'Notify via Slack', 'run': 'deno run --allow-net https://deno.land/x/cicd/notify-via-slack.ts \\\n  ${{ secrets.SLACK_WEBHOOK_URL }} \\\n  ${{ github.repository }} \\\n  "Pull Request Created - ${github.event.pull_request.html_url}"'}]}}}
2025-11-05 23:37:18,798 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_two_phase_repaired.yml
2025-11-05 23:37:18,798 - main - INFO - 2단계 모드 복구 완료
2025-11-05 23:37:18,798 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_two_phase_repaired.yml
2025-11-05 23:37:18,798 - __main__ - INFO - === 파일 87/100 2단계 복구 완료 ===
2025-11-05 23:37:18,798 - __main__ - INFO - ✅ 성공 (89.21초): b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e -> b4f9fdb1f79b813445a13bd1b733f51df6d13fb3cd5200699878d9257c9dda1e_two_phase_repaired.yml
2025-11-05 23:37:18,798 - __main__ - INFO - [88/100] 처리 중: 978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 23:37:18,799 - __main__ - INFO - 입력 파일 경로: data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 23:37:18,799 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_two_phase_repaired.yml
2025-11-05 23:37:18,799 - __main__ - INFO - === 파일 88/100 2단계 복구 시작 ===
2025-11-05 23:37:18,799 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:37:18,799 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:37:18,800 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 23:37:18,800 - main - INFO - 파일 크기: 2298 문자
2025-11-05 23:37:18,800 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:37:18,800 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:37:18,800 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:37:18,801 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a
2025-11-05 23:37:18,835 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:37:18,835 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:37:18,835 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:37:18,835 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:37:18,835 - main - INFO -   오류 1: could not parse as YAML: yaml: line 16: did not find expected key
2025-11-05 23:37:18,835 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:37:18,836 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:37:18,836 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:37:18,836 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:37:18,837 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:38:46,973 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:38:46,977 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:38:46,979 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:38:46,979 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2167 문자
2025-11-05 23:38:46,979 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:38:46,979 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:38:46,980 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_temp_phase1.yml
2025-11-05 23:38:46,981 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:38:46,981 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_temp_phase1.yml
2025-11-05 23:38:47,416 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.44초)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_temp_phase1.yml
We have found 8 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 6. Define permissions for workflows with external actions (job at line: 13)
	- 8. Use commit hash instead of tags for action versions (line 61)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 13)
	- 14. Avoid incorrectly formatted workflows
	- 19. Run tests on multiple OS's (job: test)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
67:33: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 13
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_temp_phase1.yml
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_temp_phase1.yml
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 2: We have found 8 smells
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 8 smells
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 4: - 6. Define permissions for workflows with external actions (job at line: 13)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 13)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 61)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 61)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 6: - 9. Steps should only perform a single command (line -1)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 7: - 10. Avoid jobs without timeouts (line: 13)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 13)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 8: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 9: - 19. Run tests on multiple OS's (job: test)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: test)
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 10: - 22. Avoid deploying jobs on forks
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 11: The following styling errors were found:
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:38:47,417 - utils.process_runner - DEBUG - 라인 12: 67:33: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:38:47,417 - utils.process_runner - INFO - 총 1개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:38:47,417 - utils.process_runner - INFO - Smell detector 실행 완료: 1개 스멜 발견
2025-11-05 23:38:47,417 - main - INFO - 스멜 1개 발견
2025-11-05 23:38:47,417 - main - INFO -   스멜 1: Avoid jobs without timeouts (line: 13)
2025-11-05 23:38:47,417 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:38:47,417 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:38:47,417 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:38:47,417 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:38:47,418 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:39:44,104 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:39:44,109 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:39:44,110 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:39:44,110 - main - INFO - Phase 2 완료, 최종 YAML 크기: 2240 문자
2025-11-05 23:39:44,111 - main - DEBUG - 임시 파일 삭제: data_original/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_temp_phase1.yml
2025-11-05 23:39:44,111 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:39:44,120 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'BibLaTeX CI', 'env': {'TLURL': 'http://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz', 'BIBERURL': 'https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/Linux/biber-linux_x86_64.tar.gz'}, 'on': {'workflow_dispatch': None}, 'jobs': {'test': {'runs-on': 'ubuntu-latest', 'timeout-minutes': 30, 'steps': [{'name': 'Set ENV', 'run': 'echo "TEXDIR=$RUNNER_WORKSPACE/texlive/2020" >> $GITHUB_ENV\necho "TEXMFLOCAL=$RUNNER_WORKSPACE/texlive/texmf-local" >> $GITHUB_ENV\necho "TEXMFSYSVAR=$RUNNER_WORKSPACE/texlive/2020/texmf-var" >> $GITHUB_ENV\necho "TEXMFSYSCONFIG=$RUNNER_WORKSPACE/texlive/2020/texmf-config" >> $GITHUB_ENV\n'}, {'name': 'Create TL install Profile', 'run': 'echo "selected_scheme scheme-medium\n  TEXDIR $RUNNER_WORKSPACE/texlive/2020\n  TEXMFLOCAL $RUNNER_WORKSPACE/texlive/texmf-local\n  TEXMFSYSCONFIG $RUNNER_WORKSPACE/texlive/2020/texmf-config\n  TEXMFSYSVAR $RUNNER_WORKSPACE/texlive/2020/texmf-var" > $RUNNER_WORKSPACE/tl.profile\n'}, {'name': 'Install TeXLive', 'run': 'echo Downloading and compiling in [$PWD] from [$TLURL]\n\nmkdir tl\nwget -nc $TLURL\ntar -xf $(basename $TLURL) --strip-components=1 --directory=tl\n\npushd tl\nperl install-tl -profile $RUNNER_WORKSPACE/tl.profile\npopd\n'}, {'name': 'Set PATH', 'run': 'echo "$RUNNER_WORKSPACE/biblatex/biber" >> $GITHUB_PATH\necho "$RUNNER_WORKSPACE/texlive/2020/bin/x86_64-linux" >> $GITHUB_PATH\n'}, {'name': 'Update TeXLive packages', 'run': 'tlmgr update --self --all\n'}, {'name': 'Get DEV biber', 'run': 'mkdir biber\npushd biber\nwget -nc $BIBERURL\ntar -xf $(basename $BIBERURL)\npopd\nbiber -v\n'}, {'name': 'Checkout', 'uses': 'actions/checkout@v2'}, {'name': 'Install biblatex', 'run': 'obuild/build.sh install 1 $RUNNER_WORKSPACE/texlive/texmf-local\nkpsewhich biblatex.sty'}]}}}
2025-11-05 23:39:44,121 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_two_phase_repaired.yml
2025-11-05 23:39:44,122 - main - INFO - 2단계 모드 복구 완료
2025-11-05 23:39:44,122 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_two_phase_repaired.yml
2025-11-05 23:39:44,122 - __main__ - INFO - === 파일 88/100 2단계 복구 완료 ===
2025-11-05 23:39:44,122 - __main__ - INFO - ✅ 성공 (145.32초): 978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a -> 978a6c83884cef6e7e466796662727a9d223c0b9a8ad605e4e0c99ab54204c7a_two_phase_repaired.yml
2025-11-05 23:39:44,123 - __main__ - INFO - [89/100] 처리 중: ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 23:39:44,123 - __main__ - INFO - 입력 파일 경로: data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 23:39:44,123 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_two_phase_repaired.yml
2025-11-05 23:39:44,123 - __main__ - INFO - === 파일 89/100 2단계 복구 시작 ===
2025-11-05 23:39:44,123 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:39:44,123 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:39:44,123 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 23:39:44,124 - main - INFO - 파일 크기: 466 문자
2025-11-05 23:39:44,124 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:39:44,124 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:39:44,124 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:39:44,124 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 23:39:44,152 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:39:44,152 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:39:44,152 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:39:44,152 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:39:44,152 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 23:39:44,152 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:39:44,152 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:39:44,152 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:39:44,152 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:39:44,154 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:40:18,420 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1056
2025-11-05 23:40:18,424 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:40:18,425 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:40:18,426 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 488 문자
2025-11-05 23:40:18,426 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:40:18,426 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:40:18,427 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_temp_phase1.yml
2025-11-05 23:40:18,427 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:40:18,427 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_temp_phase1.yml
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.34초)
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: crates-index

on:
  schedule:
    - cron: "0 */12 * * *"

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2
      - run: |
          git fetch --no-tags --prune --depth=1 origin +refs/heads/*:refs/remotes/origin/*
      - name: Download crates.io dumped database
        run: |
          wget -v https://static.crates.io/db-dump.tar.gz -O /data/db-dump.tar.gz
      - name: Deploy crates index
        run: ./scripts/deploy-crates-index.sh
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 13)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 57
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 2: name: crates-index
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 5: schedule:
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 6: - cron: "0 */12 * * *"
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 9: build:
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 14: - uses: actions/checkout@v2
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 15: - run: |
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 16: git fetch --no-tags --prune --depth=1 origin +refs/heads/*:refs/remotes/origin/*
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 17: - name: Download crates.io dumped database
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 18: run: |
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 19: wget -v https://static.crates.io/db-dump.tar.gz -O /data/db-dump.tar.gz
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 20: - name: Deploy crates index
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 21: run: ./scripts/deploy-crates-index.sh
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 22: mapping values are not allowed here
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 23: in "<file>", line 2, column 5
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 24: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_temp_phase1.yml
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_temp_phase1.yml
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 25: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 26: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 27: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,764 - utils.process_runner - DEBUG - 라인 28: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 29: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 30: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 31: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 32: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 33: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 34: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 38: We have found 16 smells
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 39: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 40: - 8. Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 13)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 41: - 12. Avoid workflows without comments
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 42: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 43: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 44: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 45: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 46: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 47: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 48: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 49: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 50: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 51: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 52: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 53: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 54: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 55: The following styling errors were found:
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 라인 56: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:40:18,765 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:40:18,765 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:40:18,765 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:40:18,765 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:40:18,765 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:40:18,766 - main - DEBUG - 임시 파일 삭제: data_original/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_temp_phase1.yml
2025-11-05 23:40:18,766 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:40:18,766 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: crates-index
        ^
2025-11-05 23:40:18,766 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:40:18,766 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:40:18,766 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5_two_phase_repaired.yml
2025-11-05 23:40:18,766 - __main__ - INFO - === 파일 89/100 2단계 복구 완료 ===
2025-11-05 23:40:18,767 - __main__ - ERROR - ❌ 실패 (34.64초): ba3536671b0f0e3fac0a7994ebc43e286d6779df0f1c567bea518f83da2f45b5
2025-11-05 23:40:18,767 - __main__ - INFO - [90/100] 처리 중: 2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 23:40:18,767 - __main__ - INFO - 입력 파일 경로: data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 23:40:18,767 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_two_phase_repaired.yml
2025-11-05 23:40:18,767 - __main__ - INFO - === 파일 90/100 2단계 복구 시작 ===
2025-11-05 23:40:18,767 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:40:18,767 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:40:18,767 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 23:40:18,767 - main - INFO - 파일 크기: 4456 문자
2025-11-05 23:40:18,767 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:40:18,767 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:40:18,767 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:40:18,767 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573
2025-11-05 23:40:18,774 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 23:40:18,774 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:40:18,774 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:40:18,774 - main - INFO - actionlint 오류 2개 발견
2025-11-05 23:40:18,774 - main - INFO -   오류 1: "steps" section is missing in job "windows-build"
2025-11-05 23:40:18,775 - main - INFO -   오류 2: unexpected key "staeps" for "job" section. expected one of "concurrency", "container", "continue-on-error", "defaults", "env", "environment", "if", "name", "needs", "outputs", "permissions", "runs-on", "secrets", "services", "steps", "strategy", "timeout-minutes", "uses", "with"
2025-11-05 23:40:18,775 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:40:18,775 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:40:18,775 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:40:18,775 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:40:18,776 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:41:22,069 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:41:22,073 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:41:22,074 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:41:22,075 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 4454 문자
2025-11-05 23:41:22,075 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:41:22,075 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:41:22,077 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_temp_phase1.yml
2025-11-05 23:41:22,077 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:41:22,077 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_temp_phase1.yml
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.54초)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_temp_phase1.yml
We have found 28 smells
	- 3. Use fixed version for runs-on argument (line 47)
	- 3. Use fixed version for runs-on argument (line 9)
	- 4. Stop running workflows when there is a newer commit in branch
	- 6. Define permissions for workflows with external actions (job at line: 9)
	- 6. Define permissions for workflows with external actions (job at line: 47)
	- 6. Define permissions for workflows with external actions (job at line: 123)
	- 7. Use 'if' for upload-artifact action (line 41)
	- 8. Use commit hash instead of tags for action versions (line 20)
	- 8. Use commit hash instead of tags for action versions (line 131)
	- 8. Use commit hash instead of tags for action versions (line 40)
	- 8. Use commit hash instead of tags for action versions (line 135)
	- 8. Use commit hash instead of tags for action versions (line 51)
	- 8. Use commit hash instead of tags for action versions (line 113)
	- 8. Use commit hash instead of tags for action versions (line 81)
	- 8. Use commit hash instead of tags for action versions (line 97)
	- 8. Use commit hash instead of tags for action versions (line 31)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 12)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 9)
	- 10. Avoid jobs without timeouts (line: 123)
	- 10. Avoid jobs without timeouts (line: 47)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 15. Use permissions whenever using Github Token (job at line 47)
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: windows-build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
155:52: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 33
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_temp_phase1.yml
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_temp_phase1.yml
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 2: We have found 28 smells
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 28 smells
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 47)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 47)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 4: - 3. Use fixed version for runs-on argument (line 9)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 9)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 5: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 6: - 6. Define permissions for workflows with external actions (job at line: 9)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 9)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 7: - 6. Define permissions for workflows with external actions (job at line: 47)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 47)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 123)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 123)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 라인 9: - 7. Use 'if' for upload-artifact action (line 41)
2025-11-05 23:41:22,617 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 41)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 20)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 20)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 131)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 131)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 40)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 40)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 135)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 135)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 14: - 8. Use commit hash instead of tags for action versions (line 51)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 51)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 15: - 8. Use commit hash instead of tags for action versions (line 113)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 113)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 16: - 8. Use commit hash instead of tags for action versions (line 81)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 81)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 17: - 8. Use commit hash instead of tags for action versions (line 97)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 97)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 18: - 8. Use commit hash instead of tags for action versions (line 31)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 31)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 19: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 20: - 8. Use commit hash instead of tags for action versions (line 12)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 12)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 21: - 9. Steps should only perform a single command (line -1)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 22: - 10. Avoid jobs without timeouts (line: 9)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 9)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 23: - 10. Avoid jobs without timeouts (line: 123)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 123)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 24: - 10. Avoid jobs without timeouts (line: 47)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 47)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 25: - 12. Avoid workflows without comments
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 26: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 27: - 15. Use permissions whenever using Github Token (job at line 47)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 스멜 감지 (#15): Use permissions whenever using Github Token (job at line 47)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 28: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 29: - 19. Run tests on multiple OS's (job: windows-build)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: windows-build)
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 30: - 22. Avoid deploying jobs on forks
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 31: The following styling errors were found:
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:41:22,618 - utils.process_runner - DEBUG - 라인 32: 155:52: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:41:22,618 - utils.process_runner - INFO - 총 6개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:41:22,618 - utils.process_runner - INFO - Smell detector 실행 완료: 6개 스멜 발견
2025-11-05 23:41:22,618 - main - INFO - 스멜 6개 발견
2025-11-05 23:41:22,618 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 23:41:22,618 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 9)
2025-11-05 23:41:22,618 - main - INFO -   스멜 3: Avoid jobs without timeouts (line: 123)
2025-11-05 23:41:22,618 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:41:22,618 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:41:22,618 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:41:22,618 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:41:22,619 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:42:47,566 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:42:47,570 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:42:47,571 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:42:47,571 - main - INFO - Phase 2 완료, 최종 YAML 크기: 4865 문자
2025-11-05 23:42:47,573 - main - DEBUG - 임시 파일 삭제: data_original/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_temp_phase1.yml
2025-11-05 23:42:47,573 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:42:47,596 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Release', 'on': {'push': {'tags': ['v*'], 'branches': ['main']}}, 'jobs': {'windows-build': {'runs-on': 'windows-latest', 'timeout-minutes': 30, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Install Go', 'uses': 'actions/setup-go@v2', 'with': {'go-version': '1.20'}}, {'name': 'Install pnpm', 'uses': 'pnpm/action-setup@v2', 'with': {'version': '8.6.2'}}, {'name': 'Set sha', 'id': 'sha', 'run': 'echo "sha=$(git rev-parse --short HEAD)" >> $GITHUB_OUTPUT'}, {'name': 'Set tag', 'id': 'tag', 'run': 'echo "tag=$(git describe --tags `git rev-list --tags --max-count=1`)" >> $GITHUB_OUTPUT'}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2'}, {'name': 'Build UI', 'run': 'make build-ui'}, {'name': 'Build app', 'run': 'go build -o /builds/inngest-windows-amd64 -ldflags="-s -w -X github.com/inngest/inngest/pkg/inngest/version.Version=${{ steps.tag.outputs.tag }} -X github.com/inngest/inngest/pkg/inngest/version.Hash=${{ steps.sha.outputs.sha }}" ./cmd/main.go\n'}, {'name': 'Upload Artifact', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'windows-amd64', 'path': './build/inngest-windows-amd64', 'retention-days': 1}}]}, 'goreleaser': {'runs-on': 'ubuntu-latest', 'needs': ['windows-build'], 'timeout-minutes': 60, 'permissions': {'contents': 'read'}, 'steps': [{'name': 'Login to Docker Hub', 'uses': 'docker/login-action@v2', 'with': {'username': '${{ secrets.DOCKER_USER }}', 'password': '${{ secrets.DOCKER_TOKEN }}'}}, {'name': 'Checkout', 'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Install Go', 'uses': 'actions/setup-go@v2', 'with': {'go-version': '1.20'}}, {'name': 'Install pnpm', 'uses': 'pnpm/action-setup@v2', 'with': {'version': '8.6.2'}}, {'name': 'Set sha', 'id': 'sha', 'run': 'echo "sha=$(git rev-parse --short HEAD)" >> $GITHUB_OUTPUT'}, {'name': 'Set tag', 'id': 'tag', 'run': 'echo "tag=$(git describe --tags `git rev-list --tags --max-count=1`)" >> $GITHUB_OUTPUT'}, {'name': 'Set up Docker Buildx', 'id': 'buildx', 'uses': 'docker/setup-buildx-action@v2'}, {'name': 'Build UI', 'run': 'make build-ui'}, {'name': 'Build', 'uses': 'crazy-max/ghaction-xgo@v2', 'with': {'xgo_version': 'latest', 'go_version': '1.20', 'dest': 'build', 'prefix': 'inngest', 'pkg': 'cmd', 'targets': 'linux/arm64,linux/amd64,darwin/arm64,darwin/amd64', 'v': False, 'x': False, 'race': False, 'ldflags': '-s -w -X github.com/inngest/inngest/pkg/inngest/version.Version=${{ steps.tag.outputs.tag }} -X github.com/inngest/inngest/pkg/inngest/version.Hash=${{ steps.sha.outputs.sha }}', 'buildmode': 'default', 'trimpath': True}}, {'name': 'Download windows artifacts', 'uses': 'actions/download-artifact@v3', 'with': {'name': 'windows-amd64', 'path': './build/'}}, {'name': 'Upload Artifact', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'binaries', 'path': './build/*', 'retention-days': 1}}, {'name': 'Clean UI', 'run': 'git checkout -- .'}, {'name': 'Run GoReleaser', 'uses': 'goreleaser/goreleaser-action@v2', 'with': {'distribution': 'goreleaser-pro', 'version': 'latest', 'args': 'release --rm-dist --debug'}, 'env': {'GITHUB_TOKEN': '${{ secrets.GITHUB_TOKEN }}', 'GORELEASER_KEY': '${{ secrets.GORELEASER_KEY }}'}}]}, 'npm': {'runs-on': 'ubuntu-latest', 'needs': ['goreleaser'], 'defaults': {'run': {'shell': 'bash', 'working-directory': 'npm'}}, 'timeout-minutes': 30, 'steps': [{'name': 'Checkout', 'uses': 'actions/checkout@v2', 'with': {'fetch-depth': 0}}, {'name': 'Set up Node/npm', 'uses': 'actions/setup-node@v3', 'with': {'node-version': 16}}, {'name': 'Install npm dependencies', 'run': 'npm ci'}, {'name': 'Build', 'run': 'npm run build'}, {'name': 'Release to npm', 'run': 'npm config set git-tag-version false\nnpm version ${{ github.ref_name }}\n\nprerelease=$(echo ${{ github.ref_name }} | awk -F \'-\' \'{print $2}\' | awk -F \'.\' \'{print $1}\')\nif [ -z "$prerelease" ]; then\n  npm publish --access public\nelse\n  npm publish --tag $prerelease --access public\nfi\n', 'env': {'NODE_AUTH_TOKEN': '${{ secrets.NPM_TOKEN }}'}}]}}}
2025-11-05 23:42:47,596 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_two_phase_repaired.yml
2025-11-05 23:42:47,596 - main - INFO - 2단계 모드 복구 완료
2025-11-05 23:42:47,596 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_two_phase_repaired.yml
2025-11-05 23:42:47,596 - __main__ - INFO - === 파일 90/100 2단계 복구 완료 ===
2025-11-05 23:42:47,597 - __main__ - INFO - ✅ 성공 (148.83초): 2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573 -> 2eb901a8f6562dcfc1a9c48e775149177410dd0db3948ca1536e6282c06e0573_two_phase_repaired.yml
2025-11-05 23:42:47,597 - __main__ - INFO - [91/100] 처리 중: 059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 23:42:47,597 - __main__ - INFO - 입력 파일 경로: data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 23:42:47,597 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_two_phase_repaired.yml
2025-11-05 23:42:47,597 - __main__ - INFO - === 파일 91/100 2단계 복구 시작 ===
2025-11-05 23:42:47,597 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:42:47,597 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:42:47,597 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 23:42:47,597 - main - INFO - 파일 크기: 1104 문자
2025-11-05 23:42:47,597 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:42:47,597 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:42:47,598 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:42:47,598 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 23:42:47,623 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:42:47,623 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:42:47,623 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:42:47,623 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:42:47,623 - main - INFO -   오류 1: unexpected key "runs-on" for "workflow" section. expected one of "concurrency", "defaults", "env", "jobs", "name", "on", "permissions", "run-name"
2025-11-05 23:42:47,623 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:42:47,623 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:42:47,623 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:42:47,623 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:42:47,624 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:43:39,825 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1743
2025-11-05 23:43:39,829 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:43:39,830 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:43:39,831 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1138 문자
2025-11-05 23:43:39,831 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:43:39,831 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:43:39,832 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_temp_phase1.yml
2025-11-05 23:43:39,832 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:43:39,832 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_temp_phase1.yml
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.34초)
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Check Minecraft Version
on:
  schedule:
    - cron: '0/30 * * * *'
  workflow_dispatch:
jobs:
  check_mcv:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      - name: Configure Git information
        run: |
          git config --local user.email "bot@bugjump.net"
          git config --local user.name "Hilda Bot"
      - name: Configure GPG information
        uses: crazy-max/ghaction-import-gpg@v6
        with:
          gpg_private_key: ${{ secrets.BOT_GPG_PRIVATE_KEY }}
          git_user_signingkey: true
          git_commit_gpgsign: true
      - name: Set up Python environment
        uses: actions/setup-python@v4
        with:
          python-version: 3.11
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install requests
      - name: Run update script
        run: python Actions/check_mcv.py
      - name: Commit changes
        run: |
          git add *
          git diff-index --quiet HEAD || git commit -S -m "preloaded new version"
      - name: Push changes
        run: git push
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 8)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 76
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 2: name: Check Minecraft Version
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 4: schedule:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 5: - cron: '0/30 * * * *'
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 6: workflow_dispatch:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 8: check_mcv:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-latest
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 10: steps:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 11: - name: Checkout repository
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 12: uses: actions/checkout@v4
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 13: - name: Configure Git information
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 14: run: |
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 15: git config --local user.email "bot@bugjump.net"
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 16: git config --local user.name "Hilda Bot"
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 17: - name: Configure GPG information
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 18: uses: crazy-max/ghaction-import-gpg@v6
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 19: with:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 20: gpg_private_key: ${{ secrets.BOT_GPG_PRIVATE_KEY }}
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 21: git_user_signingkey: true
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 22: git_commit_gpgsign: true
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 23: - name: Set up Python environment
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 24: uses: actions/setup-python@v4
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 25: with:
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 26: python-version: 3.11
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 27: - name: Install dependencies
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 28: run: |
2025-11-05 23:43:40,172 - utils.process_runner - DEBUG - 라인 29: python -m pip install --upgrade pip
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 30: pip install requests
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 31: - name: Run update script
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 32: run: python Actions/check_mcv.py
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 33: - name: Commit changes
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 34: run: |
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 35: git add *
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 36: git diff-index --quiet HEAD || git commit -S -m "preloaded new version"
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 37: - name: Push changes
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 38: run: git push
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 39: mapping values are not allowed here
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 40: in "<file>", line 2, column 5
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 41: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_temp_phase1.yml
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_temp_phase1.yml
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 55: We have found 18 smells
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 56: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 57: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 58: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 59: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 60: - 12. Avoid workflows without comments
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 61: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 74: The following styling errors were found:
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 라인 75: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:43:40,173 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:43:40,173 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:43:40,173 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:43:40,173 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:43:40,173 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:43:40,174 - main - DEBUG - 임시 파일 삭제: data_original/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_temp_phase1.yml
2025-11-05 23:43:40,174 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:43:40,174 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Check Minecraft Version
        ^
2025-11-05 23:43:40,174 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:43:40,174 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:43:40,175 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216_two_phase_repaired.yml
2025-11-05 23:43:40,175 - __main__ - INFO - === 파일 91/100 2단계 복구 완료 ===
2025-11-05 23:43:40,175 - __main__ - ERROR - ❌ 실패 (52.58초): 059363e8942e34fd0e18ff2dae53ea2a85f90c97152eaa9b6f38a8c5fac42216
2025-11-05 23:43:40,175 - __main__ - INFO - [92/100] 처리 중: c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 23:43:40,175 - __main__ - INFO - 입력 파일 경로: data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 23:43:40,175 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_two_phase_repaired.yml
2025-11-05 23:43:40,175 - __main__ - INFO - === 파일 92/100 2단계 복구 시작 ===
2025-11-05 23:43:40,175 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:43:40,175 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:43:40,175 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 23:43:40,175 - main - INFO - 파일 크기: 2161 문자
2025-11-05 23:43:40,175 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:43:40,175 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:43:40,175 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:43:40,175 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a
2025-11-05 23:43:40,192 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:43:40,192 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:43:40,192 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:43:40,192 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:43:40,192 - main - INFO -   오류 1: could not parse as YAML: yaml: line 55: could not find expected ':'
2025-11-05 23:43:40,192 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:43:40,192 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:43:40,192 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:43:40,192 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:43:40,193 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:44:26,443 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:44:26,446 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:44:26,447 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:44:26,447 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2048 문자
2025-11-05 23:44:26,448 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:44:26,448 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:44:26,449 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_temp_phase1.yml
2025-11-05 23:44:26,449 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:44:26,449 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_temp_phase1.yml
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.38초)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_temp_phase1.yml
We have found 12 smells
	- 3. Use fixed version for runs-on argument (line 13)
	- 4. Stop running workflows when there is a newer commit in branch
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 12)
	- 13. Use names for run steps (lines 20:20)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 19. Run tests on multiple OS's (job: build)
	- 20. Run CI on multiple language versions (job: build)
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
8:16: too many spaces inside brackets (brackets)
8:23: too many spaces inside brackets (brackets)
26:29: too few spaces before comment: expected 2 (comments)
27:50: too few spaces before comment: expected 2 (comments)
37:15: too few spaces before comment: expected 2 (comments)
55:68: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 22
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_temp_phase1.yml
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_temp_phase1.yml
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 2: We have found 12 smells
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 12 smells
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 3: - 3. Use fixed version for runs-on argument (line 13)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 13)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 4: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 5: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 6: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 7: - 9. Steps should only perform a single command (line -1)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 8: - 10. Avoid jobs without timeouts (line: 12)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 12)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 9: - 13. Use names for run steps (lines 20:20)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 20:20)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 10: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 11: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 12: - 19. Run tests on multiple OS's (job: build)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 13: - 20. Run CI on multiple language versions (job: build)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#20): Run CI on multiple language versions (job: build)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 14: - 22. Avoid deploying jobs on forks
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 15: The following styling errors were found:
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 16: 8:16: too many spaces inside brackets (brackets)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 17: 8:23: too many spaces inside brackets (brackets)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 18: 26:29: too few spaces before comment: expected 2 (comments)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 19: 27:50: too few spaces before comment: expected 2 (comments)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 20: 37:15: too few spaces before comment: expected 2 (comments)
2025-11-05 23:44:26,829 - utils.process_runner - DEBUG - 라인 21: 55:68: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:44:26,829 - utils.process_runner - INFO - 총 3개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:44:26,829 - utils.process_runner - INFO - Smell detector 실행 완료: 3개 스멜 발견
2025-11-05 23:44:26,829 - main - INFO - 스멜 3개 발견
2025-11-05 23:44:26,830 - main - INFO -   스멜 1: Stop running workflows when there is a newer commit in branch
2025-11-05 23:44:26,830 - main - INFO -   스멜 2: Avoid jobs without timeouts (line: 12)
2025-11-05 23:44:26,830 - main - INFO -   스멜 3: Avoid running CI related actions when no source code has changed
2025-11-05 23:44:26,830 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:44:26,830 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:44:26,830 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:44:26,830 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:44:26,831 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:45:10,819 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:45:10,822 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:45:10,822 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:45:10,823 - main - INFO - Phase 2 완료, 최종 YAML 크기: 2486 문자
2025-11-05 23:45:10,824 - main - DEBUG - 임시 파일 삭제: data_original/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_temp_phase1.yml
2025-11-05 23:45:10,824 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:45:10,835 - utils.yaml_parser - DEBUG - 파싱된 YAML 객체: {'name': 'Test and Publish Package', 'on': {'push': {'branches': ['main'], 'paths-ignore': ['!.git/**', '!.vscode/**', '!.idea/**']}, 'workflow_dispatch': None}, 'jobs': {'build-and-publish': {'runs-on': 'ubuntu-latest', 'permissions': {'contents': 'read', 'packages': 'write'}, 'timeout-minutes': 60, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Set up JDK 11', 'uses': 'actions/setup-java@v3', 'with': {'java-version': '11', 'distribution': 'adopt-hotspot'}}, {'name': 'Build with Maven', 'run': 'mvn --file pom.xml -U clean package -Punit-tests'}, {'name': 'Publish to GitHub Packages Apache Maven', 'env': {'MAVEN_USERNAME': '${{ secrets.OSSRH_USERNAME }}', 'MAVEN_PASSWORD': '${{ secrets.OSSRH_PASSWORD }}', 'MAVEN_GPG_PASSPHRASE': '${{ secrets.MAVEN_GPG_PASSPHRASE }}'}, 'run': 'git config --global user.email "koujalgi.amith@gmail.com"\ngit config --global user.name "amithkoujalgi"\nmvn clean -Punit-tests release:clean release:prepare release:perform -B -Darguments="-DskipTests -Dgpg.passphrase=${{ secrets.MAVEN_GPG_PASSPHRASE }}"\n'}, {'name': 'Publish to GitHub Packages', 'uses': 'actions/upload-artifact@v3', 'with': {'name': 'package', 'path': 'target/*.jar'}}]}, 'publish-to-github-packages': {'needs': 'build-and-publish', 'runs-on': 'ubuntu-latest', 'permissions': {'contents': 'read', 'packages': 'write'}, 'steps': [{'uses': 'actions/checkout@v3', 'with': {'fetch-depth': 0}}, {'name': 'Set up JDK 11', 'uses': 'actions/setup-java@v3', 'with': {'java-version': '11', 'distribution': 'adopt-hotspot'}}, {'name': 'Publish to GitHub Packages Apache Maven', 'run': 'mvn deploy:deploy-file -Durl=https://maven.pkg.github.com/${GITHUB_REPOSITORY_OWNER}/${GITHUB_REPOSITORY_NAME} \\\n  -Dfile=target/*.jar \\\n  -DpomFile=pom.xml \\\n  -Dpackaging=jar \\\n  -DgeneratePom=true'}]}}}
2025-11-05 23:45:10,836 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_two_phase_repaired.yml
2025-11-05 23:45:10,836 - main - INFO - 2단계 모드 복구 완료
2025-11-05 23:45:10,836 - main - INFO - 최종 수정된 파일: llama3.1_8b/data_repair_two_phase/c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_two_phase_repaired.yml
2025-11-05 23:45:10,836 - __main__ - INFO - === 파일 92/100 2단계 복구 완료 ===
2025-11-05 23:45:10,836 - __main__ - INFO - ✅ 성공 (90.66초): c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a -> c3ba4c7fbc5a3dcdbd6d1d067441a7f5745524b48d52cc8d08475feb38dea36a_two_phase_repaired.yml
2025-11-05 23:45:10,836 - __main__ - INFO - [93/100] 처리 중: c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 23:45:10,836 - __main__ - INFO - 입력 파일 경로: data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 23:45:10,837 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_two_phase_repaired.yml
2025-11-05 23:45:10,837 - __main__ - INFO - === 파일 93/100 2단계 복구 시작 ===
2025-11-05 23:45:10,839 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:45:10,839 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:45:10,844 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 23:45:10,846 - main - INFO - 파일 크기: 2094 문자
2025-11-05 23:45:10,846 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:45:10,846 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:45:10,849 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:45:10,850 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 23:45:10,882 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:45:10,883 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:45:10,883 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:45:10,883 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:45:10,883 - main - INFO -   오류 1: could not parse as YAML: yaml: line 26: found character that cannot start any token
2025-11-05 23:45:10,883 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:45:10,883 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:45:10,883 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:45:10,883 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:45:10,884 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:45:47,101 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:45:47,103 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:45:47,104 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:45:47,104 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2023 문자
2025-11-05 23:45:47,104 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:45:47,104 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:45:47,105 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_temp_phase1.yml
2025-11-05 23:45:47,105 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:45:47,105 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_temp_phase1.yml
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.29초)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_temp_phase1.yml
We have found 22 smells
	- 1. Avoid executing scheduled workflows on forks
	- 2. Prevent running issue/PR actions on forks line -1:-1
	- 3. Use fixed version for runs-on argument (line 15)
	- 4. Stop running workflows when there is a newer commit in branch
	- 5. Stop running workflows when there is a newer commit in PR
	- 6. Define permissions for workflows with external actions (job at line: 14)
	- 7. Use 'if' for upload-artifact action (line 66)
	- 8. Use commit hash instead of tags for action versions (line 29)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 65)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 9. Steps should only perform a single command (line -1)
	- 10. Avoid jobs without timeouts (line: 14)
	- 13. Use names for run steps (lines -1:34)
	- 13. Use names for run steps (lines 28:28)
	- 14. Avoid incorrectly formatted workflows
	- 16. Avoid running CI related actions when no source code has changed
	- 17. Avoid starting new workflow whilst the previous one is still running
	- 18. Avoid installing packages without version (line -1)
	- 19. Run tests on multiple OS's (job: build)
	- 21. Use cache parameter instead of cache option
	- 22. Avoid deploying jobs on forks
The following styling errors were found: 
66:40: no new line character at the end of file (new-line-at-end-of-file)

2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 27
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 1: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_temp_phase1.yml
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_temp_phase1.yml
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 2: We have found 22 smells
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 22 smells
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 3: - 1. Avoid executing scheduled workflows on forks
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 스멜 감지 (#1): Avoid executing scheduled workflows on forks
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 4: - 2. Prevent running issue/PR actions on forks line -1:-1
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#2): Prevent running issue/PR actions on forks line -1:-1
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 5: - 3. Use fixed version for runs-on argument (line 15)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 6: - 4. Stop running workflows when there is a newer commit in branch
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 스멜 감지 (#4): Stop running workflows when there is a newer commit in branch
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 7: - 5. Stop running workflows when there is a newer commit in PR
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 스멜 감지 (#5): Stop running workflows when there is a newer commit in PR
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 8: - 6. Define permissions for workflows with external actions (job at line: 14)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#6): Define permissions for workflows with external actions (job at line: 14)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 9: - 7. Use 'if' for upload-artifact action (line 66)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#7): Use 'if' for upload-artifact action (line 66)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 10: - 8. Use commit hash instead of tags for action versions (line 29)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 29)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 11: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 12: - 8. Use commit hash instead of tags for action versions (line 65)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 65)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 13: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 14: - 9. Steps should only perform a single command (line -1)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#9): Steps should only perform a single command (line -1)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 15: - 10. Avoid jobs without timeouts (line: 14)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 스멜 감지 (#10): Avoid jobs without timeouts (line: 14)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 16: - 13. Use names for run steps (lines -1:34)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines -1:34)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 17: - 13. Use names for run steps (lines 28:28)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#13): Use names for run steps (lines 28:28)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 18: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 19: - 16. Avoid running CI related actions when no source code has changed
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 스멜 감지 (#16): Avoid running CI related actions when no source code has changed
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 20: - 17. Avoid starting new workflow whilst the previous one is still running
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#17): Avoid starting new workflow whilst the previous one is still running
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 21: - 18. Avoid installing packages without version (line -1)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#18): Avoid installing packages without version (line -1)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 22: - 19. Run tests on multiple OS's (job: build)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#19): Run tests on multiple OS's (job: build)
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 23: - 21. Use cache parameter instead of cache option
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#21): Use cache parameter instead of cache option
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 24: - 22. Avoid deploying jobs on forks
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#22): Avoid deploying jobs on forks
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 25: The following styling errors were found:
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:45:47,399 - utils.process_runner - DEBUG - 라인 26: 66:40: no new line character at the end of file (new-line-at-end-of-file)
2025-11-05 23:45:47,399 - utils.process_runner - INFO - 총 5개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:45:47,399 - utils.process_runner - INFO - Smell detector 실행 완료: 5개 스멜 발견
2025-11-05 23:45:47,399 - main - INFO - 스멜 5개 발견
2025-11-05 23:45:47,399 - main - INFO -   스멜 1: Avoid executing scheduled workflows on forks
2025-11-05 23:45:47,399 - main - INFO -   스멜 2: Stop running workflows when there is a newer commit in branch
2025-11-05 23:45:47,399 - main - INFO -   스멜 3: Stop running workflows when there is a newer commit in PR
2025-11-05 23:45:47,400 - main - INFO - 8단계: 스멜 수정 프롬프트 생성
2025-11-05 23:45:47,400 - main - INFO - 9단계: 스멜 수정 LLM 호출
2025-11-05 23:45:47,400 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:45:47,400 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:45:47,400 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:47:23,815 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:47:23,818 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:47:23,820 - main - INFO - 10단계: 최종 수정된 YAML 추출
2025-11-05 23:47:23,820 - main - INFO - Phase 2 완료, 최종 YAML 크기: 2235 문자
2025-11-05 23:47:23,821 - main - DEBUG - 임시 파일 삭제: data_original/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_temp_phase1.yml
2025-11-05 23:47:23,821 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:47:23,823 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block collection
  in "<unicode string>", line 19, column 5:
        - cron: '0 1 * * *'
        ^
expected <block end>, but found '?'
  in "<unicode string>", line 20, column 5:
        workflows:
        ^
2025-11-05 23:47:23,823 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:47:23,824 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:47:23,826 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc_two_phase_repaired.yml
2025-11-05 23:47:23,827 - __main__ - INFO - === 파일 93/100 2단계 복구 완료 ===
2025-11-05 23:47:23,827 - __main__ - ERROR - ❌ 실패 (132.99초): c729bfb550300a7ac04c8dbf8ac3660f87132b11c8da948094bb5bbcfb20c7fc
2025-11-05 23:47:23,827 - __main__ - INFO - [94/100] 처리 중: b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 23:47:23,827 - __main__ - INFO - 입력 파일 경로: data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 23:47:23,828 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_two_phase_repaired.yml
2025-11-05 23:47:23,828 - __main__ - INFO - === 파일 94/100 2단계 복구 시작 ===
2025-11-05 23:47:23,828 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:47:23,828 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:47:23,829 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 23:47:23,829 - main - INFO - 파일 크기: 3281 문자
2025-11-05 23:47:23,829 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:47:23,829 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:47:23,829 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:47:23,830 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 23:47:23,864 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.03초)
2025-11-05 23:47:23,865 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:47:23,865 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:47:23,865 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:47:23,865 - main - INFO -   오류 1: step must run script with "run" section or run action with "uses" section
2025-11-05 23:47:23,865 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:47:23,865 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:47:23,865 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:47:23,865 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:47:23,867 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:48:25,073 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:48:25,077 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:48:25,078 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:48:25,078 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 3251 문자
2025-11-05 23:48:25,078 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:48:25,078 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:48:25,080 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_temp_phase1.yml
2025-11-05 23:48:25,080 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:48:25,081 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_temp_phase1.yml
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 명령어 실행 성공 (1.02초)
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Release Docker images
on:
  push:
    tags:
      - "v*"
jobs:
  docker-publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-java@v2
        with:
          java-version: 17
          distribution: adopt
      - uses: actions/cache@v1
        with:
          path: ~/.m2/repository
          key: ${{ runner.os }}-jdk-11-maven-${{ hashFiles('**/pom.xml') }}
          restore-keys: |
            ${{ runner.os }}-jdk-11-maven-
      - run: echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV
      - name: Login to Docker Hub
        uses: docker/login-action@v1
        with:
          username: ${{ secrets.DOCKERHUB_USER }}
          password: ${{ secrets.DOCKERHUB_PASSWORD }}
      - run: mvn versions:set -DnewVersion=${{ env.RELEASE_VERSION }}
      - run: mvn -B deploy -Pdocker -Ddocker.image.name=${{ secrets.DOCKERHUB_REPO }}
      - run: mvn versions:set -DnewVersion=latest
      - run: mvn -B deploy -Pdocker -Ddocker.image.name=${{ secrets.DOCKERHUB_REPO }}
      - name: Create Github Release
        id: create_release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ env.RELEASE_VERSION }}
          draft: false
          prerelease: false
      - name: Create package with dependencies
        run: mvn package -DskipTests
      - name: Upload Release Asset
        id: upload-release-asset
        uses: actions/upload-release-asset@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        with:
          upload_url: ${{ steps.create_release.outputs.upload_url }}
          asset_path: ./target/artipie-${{ env.RELEASE_VERSION }}.jar
          asset_name: artipie-${{ env.RELEASE_VERSION }}.jar
          asset_content_type: application/jar
  # run-benchmarks:
  #   runs-on: ubuntu-latest
  #   needs: docker-publish
  #   steps:
  #     - name: Check out the code
  #       uses: actions/checkout@v2
  #       with:
  #         ref: gh-pages
  #     - name: Set env
  #       env:
  #         ACTIONS_ALLOW_UNSECURE_COMMANDS: 'true'
  #       run: echo ::set-env name=RELEASE_VERSION::${GITHUB_REF:10}
  #     - name: Run benchmarks
  #       id: run_benchmarks
  #       uses: artipie/benchmarks@master
  #       with:
  #         aws-access-key: '${{ secrets.PERF_AWS_ACCESS_KEY }}'
  #         aws-secret-key: '${{ secrets.PERF_AWS_SECRET_KEY }}'
  #         version: '${{ env.RELEASE_VERSION }}'
  #     - name: Commit benchmark results
  #       run: |
  #         export REPORT=${{ steps.run_benchmarks.outputs.report }}
  #         export VERSION=${{ env.RELEASE_VERSION }}
  #         mkdir -p benchmarks/$VERSION
  #         mv $REPORT benchmarks/$VERSION/
  #         git config --local user.email "action@github.com"
  #         git config --local user.name "GitHub Action"
  #         git add benchmarks/$VERSION/$REPORT
  #         git commit -m "Add benchmark results for version=$VERSION"
  #     - name: Push benchmark results
  #       uses: ad-m/github-push-action@master
  #       with:
  #         github_token: ${{ secrets.GITHUB_TOKEN }}
  #         branch: 'gh-pages'
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 21 smells
	- 3. Use fixed version for runs-on argument (line 8)
	- 3. Use fixed version for runs-on argument (line 54)
	- 8. Use commit hash instead of tags for action versions (line 11)
	- 8. Use commit hash instead of tags for action versions (line 45)
	- 8. Use commit hash instead of tags for action versions (line 10)
	- 8. Use commit hash instead of tags for action versions (line 15)
	- 8. Use commit hash instead of tags for action versions (line 33)
	- 8. Use commit hash instead of tags for action versions (line 23)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 128
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 2: name: Release Docker images
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 5: tags:
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 6: - "v*"
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 7: jobs:
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 8: docker-publish:
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 9: runs-on: ubuntu-latest
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 10: steps:
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 11: - uses: actions/checkout@v2
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 12: - uses: actions/setup-java@v2
2025-11-05 23:48:26,100 - utils.process_runner - DEBUG - 라인 13: with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 14: java-version: 17
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 15: distribution: adopt
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 16: - uses: actions/cache@v1
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 17: with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 18: path: ~/.m2/repository
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 19: key: ${{ runner.os }}-jdk-11-maven-${{ hashFiles('**/pom.xml') }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 20: restore-keys: |
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 21: ${{ runner.os }}-jdk-11-maven-
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 22: - run: echo "RELEASE_VERSION=${GITHUB_REF#refs/*/}" >> $GITHUB_ENV
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 23: - name: Login to Docker Hub
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 24: uses: docker/login-action@v1
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 25: with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 26: username: ${{ secrets.DOCKERHUB_USER }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 27: password: ${{ secrets.DOCKERHUB_PASSWORD }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 28: - run: mvn versions:set -DnewVersion=${{ env.RELEASE_VERSION }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 29: - run: mvn -B deploy -Pdocker -Ddocker.image.name=${{ secrets.DOCKERHUB_REPO }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 30: - run: mvn versions:set -DnewVersion=latest
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 31: - run: mvn -B deploy -Pdocker -Ddocker.image.name=${{ secrets.DOCKERHUB_REPO }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 32: - name: Create Github Release
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 33: id: create_release
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 34: uses: actions/create-release@v1
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 35: env:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 36: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 37: with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 38: tag_name: ${{ github.ref }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 39: release_name: Release ${{ env.RELEASE_VERSION }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 40: draft: false
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 41: prerelease: false
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 42: - name: Create package with dependencies
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 43: run: mvn package -DskipTests
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 44: - name: Upload Release Asset
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 45: id: upload-release-asset
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 46: uses: actions/upload-release-asset@v1
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 47: env:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 48: GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 49: with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 50: upload_url: ${{ steps.create_release.outputs.upload_url }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 51: asset_path: ./target/artipie-${{ env.RELEASE_VERSION }}.jar
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 52: asset_name: artipie-${{ env.RELEASE_VERSION }}.jar
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 53: asset_content_type: application/jar
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 54: # run-benchmarks:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 55: #   runs-on: ubuntu-latest
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 56: #   needs: docker-publish
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 57: #   steps:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 58: #     - name: Check out the code
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 59: #       uses: actions/checkout@v2
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 60: #       with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 61: #         ref: gh-pages
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 62: #     - name: Set env
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 63: #       env:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 64: #         ACTIONS_ALLOW_UNSECURE_COMMANDS: 'true'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 65: #       run: echo ::set-env name=RELEASE_VERSION::${GITHUB_REF:10}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 66: #     - name: Run benchmarks
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 67: #       id: run_benchmarks
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 68: #       uses: artipie/benchmarks@master
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 69: #       with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 70: #         aws-access-key: '${{ secrets.PERF_AWS_ACCESS_KEY }}'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 71: #         aws-secret-key: '${{ secrets.PERF_AWS_SECRET_KEY }}'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 72: #         version: '${{ env.RELEASE_VERSION }}'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 73: #     - name: Commit benchmark results
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 74: #       run: |
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 75: #         export REPORT=${{ steps.run_benchmarks.outputs.report }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 76: #         export VERSION=${{ env.RELEASE_VERSION }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 77: #         mkdir -p benchmarks/$VERSION
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 78: #         mv $REPORT benchmarks/$VERSION/
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 79: #         git config --local user.email "action@github.com"
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 80: #         git config --local user.name "GitHub Action"
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 81: #         git add benchmarks/$VERSION/$REPORT
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 82: #         git commit -m "Add benchmark results for version=$VERSION"
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 83: #     - name: Push benchmark results
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 84: #       uses: ad-m/github-push-action@master
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 85: #       with:
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 86: #         github_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 87: #         branch: 'gh-pages'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 88: mapping values are not allowed here
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 89: in "<file>", line 2, column 5
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 90: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_temp_phase1.yml
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_temp_phase1.yml
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 91: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 92: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 93: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 94: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 95: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 96: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 라인 97: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,101 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 98: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 99: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 100: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 101: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 102: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 103: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 104: We have found 21 smells
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 21 smells
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 105: - 3. Use fixed version for runs-on argument (line 8)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 8)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 106: - 3. Use fixed version for runs-on argument (line 54)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 54)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 107: - 8. Use commit hash instead of tags for action versions (line 11)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 11)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 108: - 8. Use commit hash instead of tags for action versions (line 45)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 45)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 109: - 8. Use commit hash instead of tags for action versions (line 10)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 10)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 110: - 8. Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 15)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 111: - 8. Use commit hash instead of tags for action versions (line 33)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 33)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 112: - 8. Use commit hash instead of tags for action versions (line 23)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 23)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 113: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 114: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 115: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 116: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 117: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 118: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 119: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 120: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 121: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 122: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 123: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 124: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 125: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 126: The following styling errors were found:
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 라인 127: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:48:26,102 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:48:26,102 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:48:26,102 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:48:26,102 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:48:26,102 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:48:26,103 - main - DEBUG - 임시 파일 삭제: data_original/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_temp_phase1.yml
2025-11-05 23:48:26,103 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:48:26,103 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Release Docker images
        ^
2025-11-05 23:48:26,103 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:48:26,103 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:48:26,108 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795_two_phase_repaired.yml
2025-11-05 23:48:26,108 - __main__ - INFO - === 파일 94/100 2단계 복구 완료 ===
2025-11-05 23:48:26,108 - __main__ - ERROR - ❌ 실패 (62.28초): b060e5348656555b5cb0f91b38bbd13dbf55659bdf2a7812c623fda782024795
2025-11-05 23:48:26,108 - __main__ - INFO - [95/100] 처리 중: 5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 23:48:26,108 - __main__ - INFO - 입력 파일 경로: data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 23:48:26,108 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_two_phase_repaired.yml
2025-11-05 23:48:26,108 - __main__ - INFO - === 파일 95/100 2단계 복구 시작 ===
2025-11-05 23:48:26,108 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:48:26,108 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:48:26,112 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 23:48:26,112 - main - INFO - 파일 크기: 2676 문자
2025-11-05 23:48:26,112 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:48:26,112 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:48:26,112 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:48:26,112 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 23:48:26,184 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.07초)
2025-11-05 23:48:26,185 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:48:26,185 - main - INFO - actionlint에서 2개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:48:26,185 - main - INFO - actionlint 오류 2개 발견
2025-11-05 23:48:26,185 - main - INFO -   오류 1: key "uses" is duplicated in element of "steps" section. previously defined at line:86,col:7
2025-11-05 23:48:26,185 - main - INFO -   오류 2: key "with" is duplicated in element of "steps" section. previously defined at line:87,col:7
2025-11-05 23:48:26,185 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:48:26,185 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:48:26,185 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:48:26,185 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:48:26,186 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:48:55,680 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-05 23:48:55,681 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:48:55,682 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:48:55,682 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 2742 문자
2025-11-05 23:48:55,682 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:48:55,682 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:48:55,683 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_temp_phase1.yml
2025-11-05 23:48:55,683 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:48:55,684 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_temp_phase1.yml
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.30초)
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Release

permissions:
  contents: write

on:
  push:
    tags:
      - v[0-9]+.*

jobs:
  release-linux-musl-amd64:
    name: Release for Linux/amd64/musl
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
         targets: x86_64-unknown-linux-musl

    - run: cargo build --release --target x86_64-unknown-linux-musl
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/x86_64-unknown-linux-musl/dash-mpd-cli
        asset_name: dash-mpd-cli-linux-amd64


  release-linux-aarch64:
    name: Release for Linux/aarch64
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
         targets: aarch64-unknown-linux-gnu

    - run: cargo build --release --target aarch64-unknown-linux-gnu
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/aarch64-unknown-linux-gnu/dash-mpd-cli
        asset_name: dash-mpd-cli-linux-aarch64


  # TODO: generate a universal binary
  release-macos:
    name: Release for MacOS/aarch64
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    - uses: dtolnay/rust-toolchain@stable
      with:
         targets: aarch64-apple-darwin

    - run: cargo build --release --target aarch64-apple-darwin
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/aarch64-apple-darwin/dash-mpd-cli
        asset_name: dash-mpd-cli-macos-aarch64


  release-windows:
    name: Release for Windows/amd64
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v4
      with:
         fetch-depth: 0

    # Removed duplicate "uses" and moved the second one to a new line
    - msys2/setup-msys2@v2
      with:
        install: base-devel autotools mingw-w64-ucrt-x86_64-toolchain mingw-w64-ucrt-x86_64-rust mingw-w64-ucrt-x86_64-gcc

    - run: cargo build --release
      shell: msys2 {0}
    
    - name: Upload binaries to release
      uses: svenstaro/upload-release-action@v2
      with:
        repo_token: ${{ secrets.GITHUB_TOKEN }}
        tag: ${{ github.ref }}
        file: target/release/dash-mpd-cli.exe
        asset_name: dash-mpd-cli-windows.exe
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 84)
	- 3. Use fixed version for runs-on argument (line 14)
	- 3. Use fixed version for runs-on argument (line 61)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
The following styling errors were found: 
26:1: trailing spaces (trailing-spaces)
49:1: trailing spaces (trailing-spaces)
73:1: trailing spaces (trailing-spaces)
98:1: trailing spaces (trailing-spaces)
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 147
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 2: name: Release
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 4: permissions:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 5: contents: write
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 7: on:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 8: push:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 9: tags:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 10: - v[0-9]+.*
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 12: jobs:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 13: release-linux-musl-amd64:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 14: name: Release for Linux/amd64/musl
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 15: runs-on: ubuntu-latest
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 16: steps:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 17: - uses: actions/checkout@v4
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 18: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 19: fetch-depth: 0
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 21: - uses: dtolnay/rust-toolchain@stable
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 22: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 23: targets: x86_64-unknown-linux-musl
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 25: - run: cargo build --release --target x86_64-unknown-linux-musl
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 27: - name: Upload binaries to release
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 28: uses: svenstaro/upload-release-action@v2
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 29: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 30: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 31: tag: ${{ github.ref }}
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 32: file: target/release/x86_64-unknown-linux-musl/dash-mpd-cli
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 33: asset_name: dash-mpd-cli-linux-amd64
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 36: release-linux-aarch64:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 37: name: Release for Linux/aarch64
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 38: runs-on: ubuntu-latest
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 39: steps:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 40: - uses: actions/checkout@v4
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 41: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 42: fetch-depth: 0
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 44: - uses: dtolnay/rust-toolchain@stable
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 45: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 46: targets: aarch64-unknown-linux-gnu
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 48: - run: cargo build --release --target aarch64-unknown-linux-gnu
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 50: - name: Upload binaries to release
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 51: uses: svenstaro/upload-release-action@v2
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 52: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 53: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 54: tag: ${{ github.ref }}
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 55: file: target/release/aarch64-unknown-linux-gnu/dash-mpd-cli
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 56: asset_name: dash-mpd-cli-linux-aarch64
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 59: # TODO: generate a universal binary
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 60: release-macos:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 61: name: Release for MacOS/aarch64
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 62: runs-on: macos-latest
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 63: steps:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 64: - uses: actions/checkout@v4
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 65: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 66: fetch-depth: 0
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 68: - uses: dtolnay/rust-toolchain@stable
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 69: with:
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 70: targets: aarch64-apple-darwin
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 72: - run: cargo build --release --target aarch64-apple-darwin
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 74: - name: Upload binaries to release
2025-11-05 23:48:55,983 - utils.process_runner - DEBUG - 라인 75: uses: svenstaro/upload-release-action@v2
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 76: with:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 77: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 78: tag: ${{ github.ref }}
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 79: file: target/release/aarch64-apple-darwin/dash-mpd-cli
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 80: asset_name: dash-mpd-cli-macos-aarch64
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 83: release-windows:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 84: name: Release for Windows/amd64
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 85: runs-on: windows-latest
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 86: steps:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 87: - uses: actions/checkout@v4
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 88: with:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 89: fetch-depth: 0
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 91: # Removed duplicate "uses" and moved the second one to a new line
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 92: - msys2/setup-msys2@v2
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 93: with:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 94: install: base-devel autotools mingw-w64-ucrt-x86_64-toolchain mingw-w64-ucrt-x86_64-rust mingw-w64-ucrt-x86_64-gcc
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 96: - run: cargo build --release
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 97: shell: msys2 {0}
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 99: - name: Upload binaries to release
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 100: uses: svenstaro/upload-release-action@v2
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 101: with:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 102: repo_token: ${{ secrets.GITHUB_TOKEN }}
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 103: tag: ${{ github.ref }}
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 104: file: target/release/dash-mpd-cli.exe
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 105: asset_name: dash-mpd-cli-windows.exe
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 106: mapping values are not allowed here
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 107: in "<file>", line 2, column 5
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 108: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_temp_phase1.yml
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_temp_phase1.yml
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 109: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 110: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 111: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 112: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 113: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 114: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 115: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 116: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 117: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 118: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 119: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 120: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 122: We have found 18 smells
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 123: - 3. Use fixed version for runs-on argument (line 84)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 84)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 124: - 3. Use fixed version for runs-on argument (line 14)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 14)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 125: - 3. Use fixed version for runs-on argument (line 61)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 61)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 126: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 127: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 128: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 129: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 130: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 131: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 132: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 133: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 134: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 135: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 136: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 137: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 138: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 139: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 140: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 141: The following styling errors were found:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 142: 26:1: trailing spaces (trailing-spaces)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 143: 49:1: trailing spaces (trailing-spaces)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 144: 73:1: trailing spaces (trailing-spaces)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 145: 98:1: trailing spaces (trailing-spaces)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 라인 146: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:48:55,984 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:48:55,984 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:48:55,985 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:48:55,985 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:48:55,985 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:48:55,985 - main - DEBUG - 임시 파일 삭제: data_original/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_temp_phase1.yml
2025-11-05 23:48:55,985 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:48:55,985 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Release
        ^
2025-11-05 23:48:55,985 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:48:55,985 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:48:55,985 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d_two_phase_repaired.yml
2025-11-05 23:48:55,985 - __main__ - INFO - === 파일 95/100 2단계 복구 완료 ===
2025-11-05 23:48:55,985 - __main__ - ERROR - ❌ 실패 (29.88초): 5a7daa3627b603e0ddb3f87c3cf329d3d84f19cf0990d6dbeb4aebc3ef4e346d
2025-11-05 23:48:55,985 - __main__ - INFO - [96/100] 처리 중: cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 23:48:55,986 - __main__ - INFO - 입력 파일 경로: data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 23:48:55,986 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_two_phase_repaired.yml
2025-11-05 23:48:55,986 - __main__ - INFO - === 파일 96/100 2단계 복구 시작 ===
2025-11-05 23:48:55,986 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:48:55,986 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:48:55,986 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 23:48:55,986 - main - INFO - 파일 크기: 886 문자
2025-11-05 23:48:55,986 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:48:55,986 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:48:55,986 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:48:55,986 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 23:48:56,003 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:48:56,003 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:48:56,003 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:48:56,003 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:48:56,003 - main - INFO -   오류 1: could not parse as YAML: yaml: line 35: could not find expected ':'
2025-11-05 23:48:56,003 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:48:56,003 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:48:56,003 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:48:56,003 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:48:56,004 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:49:17,710 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1524
2025-11-05 23:49:17,715 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:49:17,716 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:49:17,716 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 887 문자
2025-11-05 23:49:17,716 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:49:17,716 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:49:17,717 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_temp_phase1.yml
2025-11-05 23:49:17,718 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:49:17,718 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_temp_phase1.yml
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.47초)
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Automated test suite
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python 3.9
      uses: actions/setup-python@v2
      with:
        python-version: 3.9
    - name: Get poetry
      run: |
        pip install poetry
    # See pyproject.toml for details
    - name: Setup master tracked dependencies
      run: |
        git clone --recurse-submodules https://github.com/tradingstrategy-ai/eth-hentai.git ../eth-hentai
        git clone --recurse-submodules https://github.com/tradingstrategy-ai/client.git ../client
    - name: Install dependencies
      run: |
        poetry install
    - name: Run test scripts
      run: |
        poetry run pytest
      env:
        TRADING_STRATEGY_API_KEY: ${{ secrets.TRADING_STRATEGY_API_KEY }}
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 11)
	- 8. Use commit hash instead of tags for action versions (line 16)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 71
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 2: name: Automated test suite
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 5: branches: [ master ]
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 6: pull_request:
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 7: branches: [ master ]
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 9: jobs:
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 10: build:
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 12: runs-on: ubuntu-latest
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 14: steps:
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 15: - uses: actions/checkout@v2
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 16: - name: Set up Python 3.9
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 17: uses: actions/setup-python@v2
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 18: with:
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 19: python-version: 3.9
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 20: - name: Get poetry
2025-11-05 23:49:18,193 - utils.process_runner - DEBUG - 라인 21: run: |
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 22: pip install poetry
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 23: # See pyproject.toml for details
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 24: - name: Setup master tracked dependencies
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 25: run: |
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 26: git clone --recurse-submodules https://github.com/tradingstrategy-ai/eth-hentai.git ../eth-hentai
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 27: git clone --recurse-submodules https://github.com/tradingstrategy-ai/client.git ../client
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 28: - name: Install dependencies
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 29: run: |
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 30: poetry install
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 31: - name: Run test scripts
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 32: run: |
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 33: poetry run pytest
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 34: env:
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 35: TRADING_STRATEGY_API_KEY: ${{ secrets.TRADING_STRATEGY_API_KEY }}
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 36: mapping values are not allowed here
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 37: in "<file>", line 2, column 5
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 38: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_temp_phase1.yml
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_temp_phase1.yml
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 52: We have found 16 smells
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 53: - 3. Use fixed version for runs-on argument (line 11)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 11)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 54: - 8. Use commit hash instead of tags for action versions (line 16)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 16)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 55: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 56: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 69: The following styling errors were found:
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 라인 70: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:49:18,194 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:49:18,194 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:49:18,194 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:49:18,194 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:49:18,194 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:49:18,195 - main - DEBUG - 임시 파일 삭제: data_original/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_temp_phase1.yml
2025-11-05 23:49:18,195 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:49:18,195 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Automated test suite
        ^
2025-11-05 23:49:18,195 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:49:18,195 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:49:18,195 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8_two_phase_repaired.yml
2025-11-05 23:49:18,195 - __main__ - INFO - === 파일 96/100 2단계 복구 완료 ===
2025-11-05 23:49:18,195 - __main__ - ERROR - ❌ 실패 (22.21초): cc69608239b6a2f9fdf8a4486f0bd1b5d18ecfd451ec6d376cf3e3337a4808a8
2025-11-05 23:49:18,196 - __main__ - INFO - [97/100] 처리 중: ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 23:49:18,196 - __main__ - INFO - 입력 파일 경로: data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 23:49:18,196 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_two_phase_repaired.yml
2025-11-05 23:49:18,196 - __main__ - INFO - === 파일 97/100 2단계 복구 시작 ===
2025-11-05 23:49:18,196 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:49:18,196 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:49:18,196 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 23:49:18,196 - main - INFO - 파일 크기: 1316 문자
2025-11-05 23:49:18,196 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:49:18,196 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:49:18,196 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:49:18,196 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 23:49:18,203 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.01초)
2025-11-05 23:49:18,203 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:49:18,203 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:49:18,203 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:49:18,203 - main - INFO -   오류 1: key "rustfmt" is duplicated in "jobs" section. previously defined at line:26,col:3. note that this key is case insensitive
2025-11-05 23:49:18,203 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:49:18,203 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:49:18,203 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:49:18,203 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:49:18,204 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:49:38,455 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1634
2025-11-05 23:49:38,456 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:49:38,457 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:49:38,457 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 1090 문자
2025-11-05 23:49:38,457 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:49:38,458 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:49:38,458 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_temp_phase1.yml
2025-11-05 23:49:38,458 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:49:38,459 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_temp_phase1.yml
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.33초)
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: CI

on:
  pull_request:
  push

jobs:
  build-and-test:
    name: build and test
    strategy:
      matrix:
        # note: we're using ubuntu-latest as a stand-in for all Linux
        # distributions. If we find we need more, we should do Docker stuff.
        os: [ubuntu-latest, macos-11] # depending on usage, maybe add macos-10.15 too
    runs-on: "${{ matrix.os }}"
    steps:
      - uses: actions/checkout@v3
      - uses: cachix/install-nix-action@v16
      - uses: cachix/cachix-action@v10
        with:
          name: nix-script
          authToken: '${{ secrets.CACHIX_AUTH_TOKEN }}'

      - run: nix build --print-build-logs

  rustfmt-and-clippy:
    name: rustfmt and clippy
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: cachix/install-nix-action@v16
      - uses: cachix/cachix-action@v10
        with:
          name: nix-script
          skipPush: true

      - run: nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath '*target*')

      - run: nix develop --command cargo clippy -- --deny warnings
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 17 smells
	- 3. Use fixed version for runs-on argument (line 28)
	- 8. Use commit hash instead of tags for action versions (line 17)
	- 8. Use commit hash instead of tags for action versions (line 18)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 77
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 2: name: CI
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 4: on:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 5: pull_request:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 6: push
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 8: jobs:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 9: build-and-test:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 10: name: build and test
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 11: strategy:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 12: matrix:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 13: # note: we're using ubuntu-latest as a stand-in for all Linux
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 14: # distributions. If we find we need more, we should do Docker stuff.
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 15: os: [ubuntu-latest, macos-11] # depending on usage, maybe add macos-10.15 too
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 16: runs-on: "${{ matrix.os }}"
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 17: steps:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 18: - uses: actions/checkout@v3
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 19: - uses: cachix/install-nix-action@v16
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 20: - uses: cachix/cachix-action@v10
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 22: name: nix-script
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 23: authToken: '${{ secrets.CACHIX_AUTH_TOKEN }}'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 25: - run: nix build --print-build-logs
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 27: rustfmt-and-clippy:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 28: name: rustfmt and clippy
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 29: runs-on: ubuntu-latest
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 30: steps:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 31: - uses: actions/checkout@v3
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 32: - uses: cachix/install-nix-action@v16
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 33: - uses: cachix/cachix-action@v10
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 34: with:
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 35: name: nix-script
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 36: skipPush: true
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 38: - run: nix develop --command rustfmt --check $(find . -name "*.rs" -not -ipath '*target*')
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#run: nix develop --command rustfmt --check $(find ): -name "*.rs" -not -ipath '*target*')
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 40: - run: nix develop --command cargo clippy -- --deny warnings
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#unknown): run: nix develop --command cargo clippy -- --deny warnings
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 41: mapping values are not allowed here
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 42: in "<file>", line 2, column 5
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 43: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_temp_phase1.yml
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_temp_phase1.yml
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 48: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 49: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 50: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 51: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,785 - utils.process_runner - DEBUG - 라인 52: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 53: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 54: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 55: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 56: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 57: We have found 17 smells
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 17 smells
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 58: - 3. Use fixed version for runs-on argument (line 28)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 28)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 59: - 8. Use commit hash instead of tags for action versions (line 17)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 17)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 60: - 8. Use commit hash instead of tags for action versions (line 18)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 18)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 61: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 62: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 67: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 68: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 69: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 70: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 71: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 72: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 73: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 74: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 75: The following styling errors were found:
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 라인 76: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:49:38,786 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:49:38,786 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:49:38,786 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:49:38,786 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:49:38,786 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:49:38,787 - main - DEBUG - 임시 파일 삭제: data_original/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_temp_phase1.yml
2025-11-05 23:49:38,787 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:49:38,787 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: CI
        ^
2025-11-05 23:49:38,787 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:49:38,787 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:49:38,788 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98_two_phase_repaired.yml
2025-11-05 23:49:38,788 - __main__ - INFO - === 파일 97/100 2단계 복구 완료 ===
2025-11-05 23:49:38,788 - __main__ - ERROR - ❌ 실패 (20.59초): ac73e56b5832a4873cb18b231809321eba3c4e479e4ea7300b6395de71dc5d98
2025-11-05 23:49:38,788 - __main__ - INFO - [98/100] 처리 중: 330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 23:49:38,788 - __main__ - INFO - 입력 파일 경로: data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 23:49:38,788 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_two_phase_repaired.yml
2025-11-05 23:49:38,788 - __main__ - INFO - === 파일 98/100 2단계 복구 시작 ===
2025-11-05 23:49:38,788 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:49:38,788 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:49:38,788 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 23:49:38,788 - main - INFO - 파일 크기: 644 문자
2025-11-05 23:49:38,788 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:49:38,788 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:49:38,788 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:49:38,789 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 23:49:38,805 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-05 23:49:38,805 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:49:38,805 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:49:38,805 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:49:38,805 - main - INFO -   오류 1: could not parse as YAML: yaml: line 28: mapping values are not allowed in this context
2025-11-05 23:49:38,805 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:49:38,805 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:49:38,805 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:49:38,805 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:49:38,806 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:50:10,420 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 1173
2025-11-05 23:50:10,423 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-05 23:50:10,424 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-05 23:50:10,425 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 642 문자
2025-11-05 23:50:10,425 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-05 23:50:10,425 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-05 23:50:10,426 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_temp_phase1.yml
2025-11-05 23:50:10,426 - main - INFO - 7단계: smell detection 실행
2025-11-05 23:50:10,427 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_temp_phase1.yml
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.35초)
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: yml
name: Update translation files

on: [workflow_dispatch]

jobs:
  build-linux:
    strategy:
      fail-fast: false

    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3
        with:
          submodules: true

      - name: Install Qt
        uses: jurplel/install-qt-action@v3
        with:
          version: '6.4.2'

      - name: Run lupdate
        run: lupdate src/NotepadNext.pro

      - name: Commit translation changes
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: Update translation files
          file_pattern: 'i18n/*.ts'
mapping values are not allowed here
  in "<file>", line 2, column 5
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 18 smells
	- 3. Use fixed version for runs-on argument (line 10)
	- 8. Use commit hash instead of tags for action versions (line 19)
	- 8. Use commit hash instead of tags for action versions (line 27)
	- 8. Use commit hash instead of tags for action versions (line 14)
	- 12. Avoid workflows without comments
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
The following styling errors were found: 
2:5: syntax error: mapping values are not allowed here (syntax)

2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 69
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: yml
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 2: name: Update translation files
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 4: on: [workflow_dispatch]
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 6: jobs:
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 7: build-linux:
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 8: strategy:
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 9: fail-fast: false
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 11: runs-on: ubuntu-latest
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 13: steps:
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 14: - name: Checkout Repository
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 15: uses: actions/checkout@v3
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 16: with:
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 17: submodules: true
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 19: - name: Install Qt
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 20: uses: jurplel/install-qt-action@v3
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 21: with:
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 22: version: '6.4.2'
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 24: - name: Run lupdate
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 25: run: lupdate src/NotepadNext.pro
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 27: - name: Commit translation changes
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 28: uses: stefanzweifel/git-auto-commit-action@v4
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 29: with:
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 30: commit_message: Update translation files
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 31: file_pattern: 'i18n/*.ts'
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 32: mapping values are not allowed here
2025-11-05 23:50:10,781 - utils.process_runner - DEBUG - 라인 33: in "<file>", line 2, column 5
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 34: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_temp_phase1.yml
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_temp_phase1.yml
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 35: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 36: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 37: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 38: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 39: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 40: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 41: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 42: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 43: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 44: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 45: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 46: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 47: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 48: We have found 18 smells
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 18 smells
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 49: - 3. Use fixed version for runs-on argument (line 10)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 10)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 50: - 8. Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 19)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 51: - 8. Use commit hash instead of tags for action versions (line 27)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 27)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 52: - 8. Use commit hash instead of tags for action versions (line 14)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 14)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 53: - 12. Avoid workflows without comments
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#12): Avoid workflows without comments
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 54: - 14. Avoid incorrectly formatted workflows
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 55: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 56: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 57: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 58: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 59: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 60: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 61: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 62: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 63: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 64: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 65: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 66: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 67: The following styling errors were found:
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 라인 68: 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:50:10,782 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 2:5: syntax error: mapping values are not allowed here (syntax)
2025-11-05 23:50:10,782 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-05 23:50:10,782 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-05 23:50:10,782 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-05 23:50:10,782 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-05 23:50:10,783 - main - DEBUG - 임시 파일 삭제: data_original/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_temp_phase1.yml
2025-11-05 23:50:10,783 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-05 23:50:10,783 - utils.yaml_parser - DEBUG - YAML 문법 오류: mapping values are not allowed here
  in "<unicode string>", line 2, column 5:
    name: Update translation files
        ^
2025-11-05 23:50:10,783 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-05 23:50:10,783 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-05 23:50:10,783 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8_two_phase_repaired.yml
2025-11-05 23:50:10,783 - __main__ - INFO - === 파일 98/100 2단계 복구 완료 ===
2025-11-05 23:50:10,783 - __main__ - ERROR - ❌ 실패 (32.00초): 330b4df70ab4e8d75c63bf960b497a46ca74bf1717c365179a24649287aa71d8
2025-11-05 23:50:10,783 - __main__ - INFO - [99/100] 처리 중: 1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 23:50:10,784 - __main__ - INFO - 입력 파일 경로: data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 23:50:10,784 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_two_phase_repaired.yml
2025-11-05 23:50:10,784 - __main__ - INFO - === 파일 99/100 2단계 복구 시작 ===
2025-11-05 23:50:10,784 - main - INFO - === 2단계 모드 시작 ===
2025-11-05 23:50:10,784 - main - INFO - 1단계: 입력 파일 읽기
2025-11-05 23:50:10,784 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 23:50:10,784 - main - INFO - 파일 크기: 12478 문자
2025-11-05 23:50:10,784 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-05 23:50:10,784 - main - INFO - 2단계: actionlint 구문 검사
2025-11-05 23:50:10,784 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-05 23:50:10,784 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-05 23:50:10,789 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.00초)
2025-11-05 23:50:10,789 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-05 23:50:10,789 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-05 23:50:10,789 - main - INFO - actionlint 오류 1개 발견
2025-11-05 23:50:10,789 - main - INFO -   오류 1: could not parse as YAML: yaml: line 31: did not find expected key
2025-11-05 23:50:10,789 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-05 23:50:10,789 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-05 23:50:10,789 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:50:10,789 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:50:10,791 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-05 23:55:10,802 - utils.llm_api - ERROR - Ollama API 호출 중 네트워크 오류: HTTPConnectionPool(host='115.145.178.160', port=11434): Read timed out. (read timeout=300)
2025-11-05 23:55:10,804 - utils.llm_api - WARNING - LLM API 호출 실패, 1.0초 후 재시도 (1/3)
2025-11-05 23:55:11,813 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-05 23:55:11,814 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-05 23:55:11,818 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-06 00:00:11,828 - utils.llm_api - ERROR - Ollama API 호출 중 네트워크 오류: HTTPConnectionPool(host='115.145.178.160', port=11434): Read timed out. (read timeout=300)
2025-11-06 00:00:11,834 - utils.llm_api - WARNING - LLM API 호출 실패, 2.0초 후 재시도 (2/3)
2025-11-06 00:00:13,847 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-06 00:00:13,848 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-06 00:00:13,852 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-06 00:01:04,295 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-06 00:01:04,297 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-06 00:01:04,298 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-06 00:01:04,299 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 5579 문자
2025-11-06 00:01:04,299 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-06 00:01:04,299 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-06 00:01:04,301 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_temp_phase1.yml
2025-11-06 00:01:04,301 - main - INFO - 7단계: smell detection 실행
2025-11-06 00:01:04,302 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_temp_phase1.yml
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.51초)
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: name: Extension scripts

on:
  push:
    branches: [ "master" ]
    paths:
      - versions.txt
  pull_request_target:
    branches: [ "master" ]

env:
  CPM_SOURCE_CACHE: ${{ github.workspace }}/cpm_modules

jobs:
  approve:
    runs-on: ubuntu-latest

    steps:
      - name: Approve
        run: echo For security reasons, all pull requests need to be approved first before running any automated CI.

  extscripts:

    name: Extension scripts

    strategy:
      matrix:
        pgver: [ 16, 15, 14, 13 ]
        os: [
          { name: ubuntu, image: warp-ubuntu-latest-x64-4x, arch: x86-64 },
          { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
        ]
        build_type: [ Release ]
        exclude:
        - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
            pgver: 15
        - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
            pgver: 14
        - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
            pgver: 13
      fail-fast: false

    env:
      AWS_ACCESS_KEY_ID: ${{ secrets.CI_AWS_ACCESS_KEY_ID }}
      AWS_SECRET_ACCESS_KEY: ${{ secrets.CI_AWS_SECRET_ACCESS_KEY }}
      # public domain for downloading extensions and index.json file
      OMNIGRES_INDEX_DOMAIN: "index.omnigres.com"
      # only accessible in tailnet
      OMNIGRES_INDEX_HOST: omnigres-index
      MATRIX_COMBINATION: ${{ matrix.pgver }}/${{ matrix.build_type }}/${{ matrix.os.name }}-${{ matrix.os.arch }}
      # omnigres bucket for storing extension tar files
      OMNIGRES_S3_BUCKET: omnigres-ext-semver

    runs-on: ${{ matrix.os.image }}

    needs: [ approve ] # Require the first step to finish
    environment: ${{ (github.event_name == 'push' || contains(fromJSON(vars.AUTO_APPROVED_CONTRIBUTORS), github.event.pull_request.user.login) || contains(fromJSON('["OWNER", "MEMBER"]'), github.event.pull_request.author_association)) && 'master' || 'Integrate Pull Request' }}

    steps:

      - uses: actions/checkout@v3
        if: github.event_name == 'push'
        with:
          fetch-depth: all

      - uses: actions/checkout@v3
        if: github.event_name != 'push'
        with:
          ref: ${{ github.event.pull_request.head.sha }}
          fetch-depth: all

      # This is done to address the problem on macOS where .pg built in a directory of one
      # GitHub Action runner won't work when restored in another one since dylds have install_name pointing
      # to the original location. We include the hash of their path into the cache name.
      - name: Get path hash
        if: matrix.os.name == 'macos'
        run: |
          echo "PATH_SUFFIX=-$(pwd | sha256sum | awk '{print $1}')" >> $GITHUB_ENV

      # On other systems, make it explicitly empty
      - name: Get path hash
        if: matrix.os.name != 'macos'
        run: |
          echo "PATH_SUFFIX=" >> $GITHUB_ENV

      - uses: actions/cache@v3
        with:
          path: .pg
          key: ${{ matrix.os.image }}-pg-${{ matrix.pgver }}-${{ matrix.build_type }}-${{ hashFiles('cmake/FindPostgreSQL.cmake') }}${{ env.PATH_SUFFIX }}

      - uses: actions/cache@v3
        with:
          path: ${{github.workspace}}/build/_deps
          key: ${{ github.workflow }}-cpm-modules-${{ hashFiles('extensions/**/CMakeLists.txt', '*/CMakeLists.txt', 'cmake/*.cmake') }}

      - name: Configure
        run: |
          PG_CONFIG=$(../find-pg-config.sh)
          export PG_CONFIG

      - name: Configure
        run: |
          ../configure --prefix=$HOME/cpmsrc \
            --with-cppflags=-I$HOME/cpmsrc/include \
            --with-ldflags=-L$HOME/cpmsrc/lib \
            --with-pgconfig=$PG_CONFIG \
            --with-pglibdir=$HOME/cpmsrc/lib \
            --with-pginclude=$HOME/cpmsrc/include

      - name: Make
        run: |
          make clean
          make install

      - name: Tailscale
        uses: omnigres/tailscale-github-action@acfb679296986fae0eba66aadc3a9b40edfb287b #tailscale/github-action@v2
        with:
          oauth-client-id: ${{ secrets.TS_OAUTH_CLIENT_ID }}
          oauth-secret: ${{ secrets.TS_OAUTH_SECRET }}
          tags: tag:ci

      - name: Pretend to sync back to S3
        working-directory: ${{ github.workspace }}/build
        if: github.event_name != 'push'
        run: |
          POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
          
          if [ -z "$POST_BODY" ]; then
            echo "no new extension versions were released"
          else
            S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
            aws s3 sync --dryrun $S3_FILES_UPLOAD_DIR  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
          fi

      - name: Sync back to S3
        working-directory: ${{ github.workspace }}/build
        if: github.event_name == 'push'
        run: |
          POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
          
          if [ -z "$POST_BODY" ]; then
            echo "no new extension versions were released"
          else
            S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
            aws s3 sync "$S3_FILES_UPLOAD_DIR"  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
          
            # update omnigres-index with new extension version releases after s3 upload
            curl --fail-with-body -d "$POST_BODY" http://${{ env.OMNIGRES_INDEX_HOST }}/${{ env.MATRIX_COMBINATION }}/extensions?commit_sha=${{ github.sha }}
          fi
while parsing a block mapping
  in "<file>", line 35, column 11
expected <block end>, but found '<block mapping start>'
  in "<file>", line 36, column 13
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 16 smells
	- 3. Use fixed version for runs-on argument (line 15)
	- 8. Use commit hash instead of tags for action versions (line 85)
	- 8. Use commit hash instead of tags for action versions (line 60)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
The following styling errors were found: 
5:16: too many spaces inside brackets (brackets)
5:25: too many spaces inside brackets (brackets)
9:16: too many spaces inside brackets (brackets)
9:25: too many spaces inside brackets (brackets)
28:17: too many spaces inside brackets (brackets)
28:32: too many spaces inside brackets (brackets)
30:12: too many spaces inside braces (braces)
30:73: too many spaces inside braces (braces)
31:12: too many spaces inside braces (braces)
31:66: too many spaces inside braces (braces)
33:22: too many spaces inside brackets (brackets)
33:30: too many spaces inside brackets (brackets)
35:9: wrong indentation: expected 10 but found 8 (indentation)
35:16: too many spaces inside braces (braces)
35:70: too many spaces inside braces (braces)
36:13: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
37:16: too many spaces inside braces (braces)
37:70: too many spaces inside braces (braces)
38:13: wrong indentation: expected 10 but found 12 (indentation)
39:16: too many spaces inside braces (braces)
39:70: too many spaces inside braces (braces)
40:13: wrong indentation: expected 10 but found 12 (indentation)
56:13: too many spaces inside brackets (brackets)
56:21: too many spaces inside brackets (brackets)
56:24: too few spaces before comment: expected 2 (comments)
116:89: too few spaces before comment: expected 2 (comments)
116:90: missing starting space in comment (comments)
127:1: trailing spaces (trailing-spaces)
140:1: trailing spaces (trailing-spaces)
146:1: trailing spaces (trailing-spaces)
149:13: no new line character at the end of file (new-line-at-end-of-file)

2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 217
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: name: Extension scripts
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 3: on:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 4: push:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 5: branches: [ "master" ]
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 6: paths:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 7: - versions.txt
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 8: pull_request_target:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 9: branches: [ "master" ]
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 11: env:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 12: CPM_SOURCE_CACHE: ${{ github.workspace }}/cpm_modules
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 14: jobs:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 15: approve:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 16: runs-on: ubuntu-latest
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 18: steps:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 19: - name: Approve
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 20: run: echo For security reasons, all pull requests need to be approved first before running any automated CI.
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 22: extscripts:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 24: name: Extension scripts
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 26: strategy:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 27: matrix:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 28: pgver: [ 16, 15, 14, 13 ]
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 29: os: [
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 30: { name: ubuntu, image: warp-ubuntu-latest-x64-4x, arch: x86-64 },
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 31: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 32: ]
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 33: build_type: [ Release ]
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 34: exclude:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 35: - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 36: pgver: 15
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 37: - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 38: pgver: 14
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 39: - os: { name: macos, image: warp-macos-14-arm64-6x, arch: arm }
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 40: pgver: 13
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 41: fail-fast: false
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 43: env:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 44: AWS_ACCESS_KEY_ID: ${{ secrets.CI_AWS_ACCESS_KEY_ID }}
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 45: AWS_SECRET_ACCESS_KEY: ${{ secrets.CI_AWS_SECRET_ACCESS_KEY }}
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 46: # public domain for downloading extensions and index.json file
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 47: OMNIGRES_INDEX_DOMAIN: "index.omnigres.com"
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 48: # only accessible in tailnet
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 49: OMNIGRES_INDEX_HOST: omnigres-index
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 50: MATRIX_COMBINATION: ${{ matrix.pgver }}/${{ matrix.build_type }}/${{ matrix.os.name }}-${{ matrix.os.arch }}
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 51: # omnigres bucket for storing extension tar files
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 52: OMNIGRES_S3_BUCKET: omnigres-ext-semver
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 54: runs-on: ${{ matrix.os.image }}
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 56: needs: [ approve ] # Require the first step to finish
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 57: environment: ${{ (github.event_name == 'push' || contains(fromJSON(vars.AUTO_APPROVED_CONTRIBUTORS), github.event.pull_request.user.login) || contains(fromJSON('["OWNER", "MEMBER"]'), github.event.pull_request.author_association)) && 'master' || 'Integrate Pull Request' }}
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 59: steps:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 61: - uses: actions/checkout@v3
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 62: if: github.event_name == 'push'
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 63: with:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 64: fetch-depth: all
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 66: - uses: actions/checkout@v3
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 67: if: github.event_name != 'push'
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 68: with:
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 69: ref: ${{ github.event.pull_request.head.sha }}
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 70: fetch-depth: all
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 72: # This is done to address the problem on macOS where .pg built in a directory of one
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 73: # GitHub Action runner won't work when restored in another one since dylds have install_name pointing
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 74: # to the original location. We include the hash of their path into the cache name.
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 75: - name: Get path hash
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 76: if: matrix.os.name == 'macos'
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 77: run: |
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 78: echo "PATH_SUFFIX=-$(pwd | sha256sum | awk '{print $1}')" >> $GITHUB_ENV
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 80: # On other systems, make it explicitly empty
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 81: - name: Get path hash
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 82: if: matrix.os.name != 'macos'
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 83: run: |
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 84: echo "PATH_SUFFIX=" >> $GITHUB_ENV
2025-11-06 00:01:04,808 - utils.process_runner - DEBUG - 라인 86: - uses: actions/cache@v3
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 87: with:
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 88: path: .pg
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 89: key: ${{ matrix.os.image }}-pg-${{ matrix.pgver }}-${{ matrix.build_type }}-${{ hashFiles('cmake/FindPostgreSQL.cmake') }}${{ env.PATH_SUFFIX }}
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 91: - uses: actions/cache@v3
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 92: with:
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 93: path: ${{github.workspace}}/build/_deps
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 94: key: ${{ github.workflow }}-cpm-modules-${{ hashFiles('extensions/**/CMakeLists.txt', '*/CMakeLists.txt', 'cmake/*.cmake') }}
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 96: - name: Configure
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 97: run: |
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 98: PG_CONFIG=$(../find-pg-config.sh)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 99: export PG_CONFIG
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 101: - name: Configure
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 102: run: |
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 103: ../configure --prefix=$HOME/cpmsrc \
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 104: --with-cppflags=-I$HOME/cpmsrc/include \
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 105: --with-ldflags=-L$HOME/cpmsrc/lib \
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 106: --with-pgconfig=$PG_CONFIG \
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 107: --with-pglibdir=$HOME/cpmsrc/lib \
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 108: --with-pginclude=$HOME/cpmsrc/include
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 110: - name: Make
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 111: run: |
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 112: make clean
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 113: make install
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 115: - name: Tailscale
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 116: uses: omnigres/tailscale-github-action@acfb679296986fae0eba66aadc3a9b40edfb287b #tailscale/github-action@v2
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 117: with:
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 118: oauth-client-id: ${{ secrets.TS_OAUTH_CLIENT_ID }}
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 119: oauth-secret: ${{ secrets.TS_OAUTH_SECRET }}
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 120: tags: tag:ci
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 122: - name: Pretend to sync back to S3
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 123: working-directory: ${{ github.workspace }}/build
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 124: if: github.event_name != 'push'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 125: run: |
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 126: POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 128: if [ -z "$POST_BODY" ]; then
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 129: echo "no new extension versions were released"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 130: else
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 131: S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 132: aws s3 sync --dryrun $S3_FILES_UPLOAD_DIR  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 133: fi
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 135: - name: Sync back to S3
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 136: working-directory: ${{ github.workspace }}/build
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 137: if: github.event_name == 'push'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 138: run: |
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 139: POST_BODY="${{ steps.new_ext_releases.outputs.POST_BODY }}"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 141: if [ -z "$POST_BODY" ]; then
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 142: echo "no new extension versions were released"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 143: else
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 144: S3_FILES_UPLOAD_DIR="${{ steps.new_ext_releases.outputs.S3_FILES_UPLOAD_DIR }}"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 145: aws s3 sync "$S3_FILES_UPLOAD_DIR"  "s3://${{ env.OMNIGRES_S3_BUCKET }}/${{ env.MATRIX_COMBINATION }}/${{ github.sha }}"
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 147: # update omnigres-index with new extension version releases after s3 upload
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 148: curl --fail-with-body -d "$POST_BODY" http://${{ env.OMNIGRES_INDEX_HOST }}/${{ env.MATRIX_COMBINATION }}/extensions?commit_sha=${{ github.sha }}
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 149: fi
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 150: while parsing a block mapping
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 151: in "<file>", line 35, column 11
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 152: expected <block end>, but found '<block mapping start>'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 153: in "<file>", line 36, column 13
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 154: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_temp_phase1.yml
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_temp_phase1.yml
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 155: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 156: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 157: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 158: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 159: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 160: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 161: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 162: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 163: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 164: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 165: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 166: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 167: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 168: We have found 16 smells
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 16 smells
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 169: - 3. Use fixed version for runs-on argument (line 15)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 15)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 170: - 8. Use commit hash instead of tags for action versions (line 85)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 85)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 171: - 8. Use commit hash instead of tags for action versions (line 60)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 60)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 172: - 14. Avoid incorrectly formatted workflows
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 173: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 174: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 175: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 176: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 라인 177: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-06 00:01:04,809 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 178: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 179: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 180: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 181: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 182: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 183: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 184: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 185: The following styling errors were found:
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 186: 5:16: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 187: 5:25: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 188: 9:16: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 189: 9:25: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 190: 28:17: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 191: 28:32: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 192: 30:12: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 193: 30:73: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 194: 31:12: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 195: 31:66: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 196: 33:22: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 197: 33:30: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 198: 35:9: wrong indentation: expected 10 but found 8 (indentation)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 199: 35:16: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 200: 35:70: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 201: 36:13: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 36:13: syntax error: expected <block end>, but found '<block mapping start>' (syntax)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 202: 37:16: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 203: 37:70: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 204: 38:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 205: 39:16: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 206: 39:70: too many spaces inside braces (braces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 207: 40:13: wrong indentation: expected 10 but found 12 (indentation)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 208: 56:13: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 209: 56:21: too many spaces inside brackets (brackets)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 210: 56:24: too few spaces before comment: expected 2 (comments)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 211: 116:89: too few spaces before comment: expected 2 (comments)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 212: 116:90: missing starting space in comment (comments)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 213: 127:1: trailing spaces (trailing-spaces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 214: 140:1: trailing spaces (trailing-spaces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 215: 146:1: trailing spaces (trailing-spaces)
2025-11-06 00:01:04,810 - utils.process_runner - DEBUG - 라인 216: 149:13: no new line character at the end of file (new-line-at-end-of-file)
2025-11-06 00:01:04,810 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-06 00:01:04,810 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-06 00:01:04,810 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-06 00:01:04,810 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-06 00:01:04,811 - main - DEBUG - 임시 파일 삭제: data_original/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_temp_phase1.yml
2025-11-06 00:01:04,811 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-06 00:01:04,812 - utils.yaml_parser - DEBUG - YAML 문법 오류: while parsing a block mapping
  in "<unicode string>", line 35, column 11:
            - os: { name: macos, image: warp-m ... 
              ^
expected <block end>, but found '<block mapping start>'
  in "<unicode string>", line 36, column 13:
                pgver: 15
                ^
2025-11-06 00:01:04,812 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-06 00:01:04,812 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-06 00:01:04,813 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c_two_phase_repaired.yml
2025-11-06 00:01:04,813 - __main__ - INFO - === 파일 99/100 2단계 복구 완료 ===
2025-11-06 00:01:04,813 - __main__ - ERROR - ❌ 실패 (654.03초): 1aefc86068bf97c0cf9af77278cea9b2bceb4aabbe5db0dfbbd0ef2b598ac44c
2025-11-06 00:01:04,813 - __main__ - INFO - [100/100] 처리 중: 9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-06 00:01:04,813 - __main__ - INFO - 입력 파일 경로: data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-06 00:01:04,813 - __main__ - INFO - 출력 파일 경로: llama3.1_8b/data_repair_two_phase/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_two_phase_repaired.yml
2025-11-06 00:01:04,813 - __main__ - INFO - === 파일 100/100 2단계 복구 시작 ===
2025-11-06 00:01:04,813 - main - INFO - === 2단계 모드 시작 ===
2025-11-06 00:01:04,813 - main - INFO - 1단계: 입력 파일 읽기
2025-11-06 00:01:04,814 - utils.yaml_parser - DEBUG - YAML 파일 읽기 완료: data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-06 00:01:04,814 - main - INFO - 파일 크기: 3812 문자
2025-11-06 00:01:04,814 - main - INFO - === Phase 1: 구문 오류 수정 ===
2025-11-06 00:01:04,814 - main - INFO - 2단계: actionlint 구문 검사
2025-11-06 00:01:04,814 - utils.process_runner - INFO - actionlint 바이너리 발견: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac
2025-11-06 00:01:04,814 - utils.process_runner - INFO - 명령어 실행: /Users/nam/Desktop/repository/Catching-Smells/smell_linter/actionlint_mac -format '{{json .}}' data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-06 00:01:04,831 - utils.process_runner - WARNING - 명령어 실행 실패 (코드: 1, 시간: 0.02초)
2025-11-06 00:01:04,831 - utils.process_runner - INFO - actionlint 실행 완료: 오류 발견됨 (코드: 1)
2025-11-06 00:01:04,831 - main - INFO - actionlint에서 1개 오류 발견 (syntax-check 및 expression만)
2025-11-06 00:01:04,831 - main - INFO - actionlint 오류 1개 발견
2025-11-06 00:01:04,832 - main - INFO -   오류 1: "runs-on" section is missing in job "publish_releases"
2025-11-06 00:01:04,832 - main - INFO - 3단계: 구문 오류 수정 프롬프트 생성
2025-11-06 00:01:04,832 - main - INFO - 4단계: 구문 오류 수정 LLM 호출
2025-11-06 00:01:04,832 - utils.llm_api - INFO - Ollama 모델 사용: llama3.1:8b -> llama3.1:8b-instruct-fp16
2025-11-06 00:01:04,832 - utils.llm_api - INFO - Ollama API 호출 시작 (모델: llama3.1:8b-instruct-fp16, URL: http://115.145.178.160:11434/api/chat)
2025-11-06 00:01:04,832 - urllib3.connectionpool - DEBUG - Starting new HTTP connection (1): 115.145.178.160:11434
2025-11-06 00:01:45,302 - urllib3.connectionpool - DEBUG - http://115.145.178.160:11434 "POST /api/chat HTTP/1.1" 200 None
2025-11-06 00:01:45,306 - utils.llm_api - INFO - Ollama API 호출 성공
2025-11-06 00:01:45,306 - main - INFO - 5단계: 구문 수정된 YAML 추출
2025-11-06 00:01:45,307 - main - INFO - Phase 1 완료, 수정된 YAML 크기: 3936 문자
2025-11-06 00:01:45,307 - main - INFO - === Phase 2: 스멜 수정 ===
2025-11-06 00:01:45,307 - main - INFO - 6단계: 임시 파일 생성 및 스멜 검사
2025-11-06 00:01:45,308 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_temp_phase1.yml
2025-11-06 00:01:45,308 - main - INFO - 7단계: smell detection 실행
2025-11-06 00:01:45,308 - utils.process_runner - INFO - 명령어 실행: cd /Users/nam/Desktop/repository/Catching-Smells/RQ3/gha-ci-detector_paper/src && /Users/nam/Desktop/repository/Catching-Smells/.venv/bin/python -m gha_ci_detector file /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_temp_phase1.yml
2025-11-06 00:01:45,762 - utils.process_runner - DEBUG - 명령어 실행 성공 (0.45초)
2025-11-06 00:01:45,762 - utils.process_runner - DEBUG - Smell detector stdout: Welcome to GHA CI Detector
Unable to parse yaml file: Here's the corrected YAML workflow:

```yml
name: Release Build

on:
  workflow_dispatch:
    inputs:
      release_id:
        description: 'Release id to upload artifacts to'
        default: ''
      python_package_version:
        description: 'Version to use for creating the Python package'
        default: ''

jobs:
  build_linux:
    name: Manylinux Build
    runs-on: ubuntu-latest
    steps:
    - name: Get torch-mlir
      uses: actions/checkout@v2
      with:
        submodules: 'true'
    - uses: ./.github/actions/setup-build
      with:
        cache-suffix: ''
    - name: Build Python wheels and smoke test.
      run: |
        cd $GITHUB_WORKSPACE
        python -m pip install wheel
        TM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}
        printf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version
        ./build_tools/python_deploy/build_linux_packages.sh
              
    # If we were given a release_id, then upload the package we just built
    # to the github releases page.
    - name: Upload Release Assets (if requested)
      if: github.event.inputs.release_id != ''
      id: upload-release-assets
      uses: dwenegar/upload-release-assets@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}
        assets_path: ./build_tools/python_deploy/wheelhouse/torch*.whl
    # Publishing is necessary to make the release visible to `pip`
    # on the github releases page.
    - name: Publish Release (if requested)
      if: github.event.inputs.release_id != ''
      id: publish_release
      uses: eregon/publish-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}

  build_macos:
    name: MacOS Build
    runs-on: macos-12
    steps:
    - name: Get torch-mlir
      uses: actions/checkout@v2
      with:
        submodules: 'true'
    - uses: ./.github/actions/setup-build
      with:
        cache-suffix: ''
    - name: Build Python wheels and smoke test.
      run: |
        cd $GITHUB_WORKSPACE
        python -m pip install wheel
        TM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}
        printf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version
        sudo ./build_tools/python_deploy/install_macos_deps.sh
        TORCH_MLIR_PYTHON_VERSIONS="3.10" ./build_tools/python_deploy/build_macos_packages.sh

    # If we were given a release_id, then upload the package we just built
    # to the github releases page.
    - name: Upload Release Assets (if requested)
      if: github.event.inputs.release_id != ''
      id: upload-release-assets
      uses: dwenegar/upload-release-assets@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}
        assets_path: ./build_tools/python_deploy/wheelhouse/torch*.whl
    # Publishing is necessary to make the release visible to `pip`
    # on the github releases page.
    - name: Publish Release (if requested)
      if: github.event.inputs.release_id != ''
      id: publish_release
      uses: eregon/publish-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
      with:
        release_id: ${{ github.event.inputs.release_id }}

  publish_releases:
    needs:
    - build_linux
    - build_macos

    # Publish even if one of the builds failed
    if: ${{ always() }}

    runs-on: ubuntu-latest # Added "runs-on" section for job "publish_releases"

    steps:
    - name: Invoke Publish Releases Page
      uses: benc-uk/workflow-dispatch@v1
      with:
        workflow: Publish releases page
        token: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
        ref: "${{ env.tag_name }}"
while scanning for the next token
found character '`' that cannot start any token
  in "<file>", line 3, column 1
Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_temp_phase1.yml
YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
We have found 19 smells
	- 3. Use fixed version for runs-on argument (line 107)
	- 3. Use fixed version for runs-on argument (line 18)
	- 8. Use commit hash instead of tags for action versions (line 40)
	- 8. Use commit hash instead of tags for action versions (line 51)
	- 8. Use commit hash instead of tags for action versions (line 111)
	- 8. Use commit hash instead of tags for action versions (line 21)
	- 14. Avoid incorrectly formatted workflows
	- 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
	- 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
	- 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
	- 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
	- 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
	- 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
	- 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
	- 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
	- 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
	- 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
	- 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
	- 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
The following styling errors were found: 
3:1: syntax error: found character '`' that cannot start any token (syntax)
116:35: no new line character at the end of file (new-line-at-end-of-file)

2025-11-06 00:01:45,762 - utils.process_runner - DEBUG - Smell detector stderr: 
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - Smell detector return code: 0
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - Smell detector 출력 라인 수: 157
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 0: Welcome to GHA CI Detector
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Welcome to GHA CI Detector
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 1: Unable to parse yaml file: Here's the corrected YAML workflow:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 3: ```yml
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 4: name: Release Build
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 6: on:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 7: workflow_dispatch:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 8: inputs:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 9: release_id:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 10: description: 'Release id to upload artifacts to'
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 11: default: ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 12: python_package_version:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 13: description: 'Version to use for creating the Python package'
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 14: default: ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 16: jobs:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 17: build_linux:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 18: name: Manylinux Build
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 19: runs-on: ubuntu-latest
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 20: steps:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 21: - name: Get torch-mlir
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 22: uses: actions/checkout@v2
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 23: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 24: submodules: 'true'
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 25: - uses: ./.github/actions/setup-build
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 26: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 27: cache-suffix: ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 28: - name: Build Python wheels and smoke test.
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 29: run: |
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 30: cd $GITHUB_WORKSPACE
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 31: python -m pip install wheel
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 32: TM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 33: printf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 34: ./build_tools/python_deploy/build_linux_packages.sh
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 36: # If we were given a release_id, then upload the package we just built
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 37: # to the github releases page.
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 38: - name: Upload Release Assets (if requested)
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 39: if: github.event.inputs.release_id != ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 40: id: upload-release-assets
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 41: uses: dwenegar/upload-release-assets@v1
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 42: env:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 43: GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 44: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 45: release_id: ${{ github.event.inputs.release_id }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 46: assets_path: ./build_tools/python_deploy/wheelhouse/torch*.whl
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 47: # Publishing is necessary to make the release visible to `pip`
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 48: # on the github releases page.
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 49: - name: Publish Release (if requested)
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 50: if: github.event.inputs.release_id != ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 51: id: publish_release
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 52: uses: eregon/publish-release@v1
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 53: env:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 54: GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 55: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 56: release_id: ${{ github.event.inputs.release_id }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 58: build_macos:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 59: name: MacOS Build
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 60: runs-on: macos-12
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 61: steps:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 62: - name: Get torch-mlir
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 63: uses: actions/checkout@v2
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 64: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 65: submodules: 'true'
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 66: - uses: ./.github/actions/setup-build
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 67: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 68: cache-suffix: ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 69: - name: Build Python wheels and smoke test.
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 70: run: |
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 71: cd $GITHUB_WORKSPACE
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 72: python -m pip install wheel
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 73: TM_PACKAGE_VERSION=${{ github.event.inputs.python_package_version }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 74: printf "TORCH_MLIR_PYTHON_PACKAGE_VERSION=%s\n" $TM_PACKAGE_VERSION > ./torch_mlir_package_version
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 75: sudo ./build_tools/python_deploy/install_macos_deps.sh
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 76: TORCH_MLIR_PYTHON_VERSIONS="3.10" ./build_tools/python_deploy/build_macos_packages.sh
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 78: # If we were given a release_id, then upload the package we just built
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 79: # to the github releases page.
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 80: - name: Upload Release Assets (if requested)
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 81: if: github.event.inputs.release_id != ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 82: id: upload-release-assets
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 83: uses: dwenegar/upload-release-assets@v1
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 84: env:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 85: GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 86: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 87: release_id: ${{ github.event.inputs.release_id }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 88: assets_path: ./build_tools/python_deploy/wheelhouse/torch*.whl
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 89: # Publishing is necessary to make the release visible to `pip`
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 90: # on the github releases page.
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 91: - name: Publish Release (if requested)
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 92: if: github.event.inputs.release_id != ''
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 93: id: publish_release
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 94: uses: eregon/publish-release@v1
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 95: env:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 96: GITHUB_TOKEN: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 97: with:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 98: release_id: ${{ github.event.inputs.release_id }}
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 100: publish_releases:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 101: needs:
2025-11-06 00:01:45,763 - utils.process_runner - DEBUG - 라인 102: - build_linux
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 103: - build_macos
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 105: # Publish even if one of the builds failed
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 106: if: ${{ always() }}
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 108: runs-on: ubuntu-latest # Added "runs-on" section for job "publish_releases"
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 110: steps:
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 111: - name: Invoke Publish Releases Page
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 112: uses: benc-uk/workflow-dispatch@v1
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 113: with:
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 114: workflow: Publish releases page
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 115: token: ${{ secrets.WORKFLOW_INVOCATION_TOKEN }}
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 116: ref: "${{ env.tag_name }}"
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 117: while scanning for the next token
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 118: found character '`' that cannot start any token
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 119: in "<file>", line 3, column 1
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 120: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_temp_phase1.yml
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: Detecting smells for /Users/nam/Desktop/repository/Catching-Smells/GHA-Autorepair/gha_repair_tool/data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_temp_phase1.yml
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 121: YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in external_actions_must_have_permissions_workflow: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 122: YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in pull_based_actions_on_fork: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 123: YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in action_should_have_timeout: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 124: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 125: YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in scheduled_workflows_on_forks: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 126: YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_name_for_step: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 127: YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in stop_workflows_for_old_commit: 'NoneType' object has no attribute 'keys'
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 128: YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in upload_artifact_must_have_if: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 129: YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in multi_line_steps: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 130: YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in deploy_from_fork: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 131: YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in run_multiple_versions: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 132: YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in installing_packages_without_version: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 133: YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): YAML parsing error in use_cache_from_setup: 'NoneType' object is not subscriptable
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 134: We have found 19 smells
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: We have found 19 smells
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 135: - 3. Use fixed version for runs-on argument (line 107)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 107)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 136: - 3. Use fixed version for runs-on argument (line 18)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#3): Use fixed version for runs-on argument (line 18)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 137: - 8. Use commit hash instead of tags for action versions (line 40)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 40)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 138: - 8. Use commit hash instead of tags for action versions (line 51)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 51)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 139: - 8. Use commit hash instead of tags for action versions (line 111)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 111)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 140: - 8. Use commit hash instead of tags for action versions (line 21)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#8): Use commit hash instead of tags for action versions (line 21)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 141: - 14. Avoid incorrectly formatted workflows
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#14): Avoid incorrectly formatted workflows
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 142: - 23. Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in multi_line_steps)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 143: - 23. Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in deploy_from_fork)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 144: - 23. Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in external_actions_must_have_permissions_workflow)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 145: - 23. Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_cache_from_setup)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 146: - 23. Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in run_multiple_versions)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 147: - 23. Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in upload_artifact_must_have_if)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 148: - 23. Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in use_name_for_step)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 149: - 23. Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in stop_workflows_for_old_commit)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 150: - 23. Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in action_should_have_timeout)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 151: - 23. Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in scheduled_workflows_on_forks)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 152: - 23. Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in installing_packages_without_version)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 153: - 23. Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 대상 외 스멜 건너뛰기 (#23): Avoid incorrectly unparsable workflows (error in pull_based_actions_on_fork)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 154: The following styling errors were found:
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 메타데이터 라인 건너뛰기: The following styling errors were found:
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 155: 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 스타일 오류 건너뛰기 (대상 스멜 아님): 3:1: syntax error: found character '`' that cannot start any token (syntax)
2025-11-06 00:01:45,764 - utils.process_runner - DEBUG - 라인 156: 116:35: no new line character at the end of file (new-line-at-end-of-file)
2025-11-06 00:01:45,764 - utils.process_runner - INFO - 총 0개 대상 스멜 파싱됨 (1,4,5,10,11,15,16번만)
2025-11-06 00:01:45,764 - utils.process_runner - INFO - 대상 스멜 0개이지만 스멜 #23 (YAML 파싱 오류) 12개 발견됨
2025-11-06 00:01:45,764 - utils.process_runner - INFO - Smell detector 실행 완료: 0개 스멜 발견
2025-11-06 00:01:45,764 - main - INFO - 스멜 없음, Phase 2 건너뛰기
2025-11-06 00:01:45,765 - main - DEBUG - 임시 파일 삭제: data_original/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_temp_phase1.yml
2025-11-06 00:01:45,765 - main - INFO - 11단계: 최종 결과 검증 및 저장
2025-11-06 00:01:45,765 - utils.yaml_parser - DEBUG - YAML 문법 오류: while scanning for the next token
found character '`' that cannot start any token
  in "<unicode string>", line 3, column 1:
    ```yml
    ^
2025-11-06 00:01:45,765 - main - ERROR - 최종 YAML이 유효하지 않음
2025-11-06 00:01:45,765 - main - ERROR - 검증 오류: ['Invalid YAML syntax']
2025-11-06 00:01:45,765 - utils.yaml_parser - DEBUG - YAML 파일 저장 완료: llama3.1_8b/data_repair_two_phase/9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438_two_phase_repaired.yml
2025-11-06 00:01:45,765 - __main__ - INFO - === 파일 100/100 2단계 복구 완료 ===
2025-11-06 00:01:45,765 - __main__ - ERROR - ❌ 실패 (40.95초): 9bd0752796d4ea61059d7f28e322bf8a6e214924a032dd29e2b4f7c6150f5438
2025-11-06 00:01:45,766 - __main__ - INFO - ============================================================
2025-11-06 00:01:45,766 - __main__ - INFO - 2단계 자동 복구 완료!
2025-11-06 00:01:45,766 - __main__ - INFO - 총 처리 시간: 9332.7초
2025-11-06 00:01:45,766 - __main__ - INFO - 총 파일: 100
2025-11-06 00:01:45,766 - __main__ - INFO - 성공: 10 (10.0%)
2025-11-06 00:01:45,766 - __main__ - INFO - 실패: 90
2025-11-06 00:01:45,766 - __main__ - INFO - 평균 처리 시간: 93.33초/파일
2025-11-06 00:01:45,766 - __main__ - INFO - 출력 파일 위치: llama3.1_8b/data_repair_two_phase
2025-11-06 00:01:45,766 - __main__ - INFO - INFO 로그 파일: logs/llama8b-two-phase-100files-251105_info.log
2025-11-06 00:01:45,766 - __main__ - INFO - DEBUG 로그 파일: logs/llama8b-two-phase-100files-251105_debug.log
2025-11-06 00:01:45,767 - __main__ - INFO - ============================================================
