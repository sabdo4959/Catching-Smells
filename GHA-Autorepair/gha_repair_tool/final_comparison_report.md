# 베이스라인 vs 2단계 아키텍처 성능 비교 보고서

## 개요
이 보고서는 100개 파일에 대한 베이스라인 단일 단계 접근법과 2단계 아키텍처 접근법의 성능을 비교합니다.

## 아키텍처 비교

### 베이스라인 (단일 단계)
- **방법**: 원본 파일 → LLM (구문오류 + 스멜 동시 수정)
- **특징**: 모든 문제를 한 번에 해결하려는 접근

### 2단계 아키텍처
- **Phase 1**: 원본 파일 → actionlint → LLM (구문오류만 수정)
- **Phase 2**: Phase 1 결과 → Smell Detection → LLM (스멜만 수정)
- **특징**: 문제를 단계별로 분리하여 순차적 해결

## 성능 비교 결과

### 📊 주요 지표 비교

| 지표 | 베이스라인 | 2단계 방법 | 차이 |
|------|------------|------------|------|
| **구문 성공률** | 87.9% (87/99) | 68.0% (68/100) | **-19.9%** ⬇️ |
| **평균 스멜 제거율** | 23.9% | 36.9% | **+13.0%** ⬆️ |
| **평균 Edit Distance** | 32.1 | 32.7 | **+0.6** (거의 동일) |

### 📈 상세 통계 분석

#### 1. 구문 성공률 분석
- **베이스라인**: 87.9% (매우 높음)
- **2단계 방법**: 68.0% (중간 수준)
- **분석**: 베이스라인이 구문 오류 수정에서 19.9% 더 우수함

#### 2. 스멜 제거율 분석
- **베이스라인**: 평균 23.9%, 표준편차 37.16
- **2단계 방법**: 평균 36.9%, 표준편차 43.56
- **분석**: 2단계 방법이 스멜 제거에서 13.0% 더 우수함

#### 3. 수정 범위 (Edit Distance) 분석
- **베이스라인**: 평균 32.1, 중간값 16
- **2단계 방법**: 평균 32.7, 중간값 17.5
- **분석**: 두 방법의 수정 범위는 거의 동일함

## 🔍 심층 분석

### 장점과 단점

#### 베이스라인의 장점:
1. **높은 구문 성공률**: 87.9%로 매우 우수
2. **단순한 아키텍처**: 한 번의 LLM 호출로 처리
3. **빠른 처리**: 단일 단계로 효율적

#### 베이스라인의 단점:
1. **낮은 스멜 제거율**: 23.9%로 제한적
2. **복합 문제 해결의 한계**: 구문과 스멜을 동시 처리의 어려움

#### 2단계 방법의 장점:
1. **높은 스멜 제거율**: 36.9%로 베이스라인 대비 54% 향상
2. **문제 분리**: 구문과 스멜을 독립적으로 처리
3. **전문화된 처리**: 각 단계에서 특정 문제에 집중

#### 2단계 방법의 단점:
1. **낮은 구문 성공률**: 68.0%로 베이스라인 대비 19.9% 하락
2. **복잡한 아키텍처**: 두 번의 LLM 호출 필요
3. **순차적 오류 전파**: Phase 1 실패시 Phase 2 영향

## 🎯 핵심 발견사항

### 1. 트레이드오프 관계
- **구문 성공률 vs 스멜 제거율**: 두 지표 간 트레이드오프 존재
- 베이스라인: 구문 수정에 특화
- 2단계 방법: 스멜 제거에 특화

### 2. 스멜 제거의 전문화 효과
- 2단계 방법에서 **54% 향상된 스멘 제거율**
- 문제 분리 접근법의 명확한 이점 확인

### 3. 수정 범위의 일관성
- 두 방법 모두 유사한 Edit Distance (32.1 vs 32.7)
- 수정 범위는 아키텍처보다 문제 복잡도에 의존

## 📋 결론 및 권장사항

### 사용 시나리오별 권장사항

#### 1. 구문 오류 수정이 우선인 경우
- **추천**: 베이스라인 방법
- **이유**: 87.9%의 높은 구문 성공률

#### 2. 코드 품질(스멜 제거)이 우선인 경우
- **추천**: 2단계 방법
- **이유**: 36.9%의 우수한 스멜 제거율

#### 3. 균형잡힌 개선이 필요한 경우
- **추천**: 하이브리드 접근법 고려
- **방안**: 베이스라인의 구문 수정 + 2단계의 스멜 제거 전략

### 향후 개선 방향

1. **2단계 방법의 구문 성공률 향상**
   - Phase 1의 프롬프트 최적화
   - actionlint 결과 해석 개선

2. **베이스라인의 스멜 제거율 향상**
   - 스멜 감지 결과 포함 방안
   - 프롬프트에 스멜 수정 우선순위 명시

3. **하이브리드 아키텍처 개발**
   - 두 방법의 장점을 결합한 새로운 접근법
   - 적응적 전략 선택 메커니즘

## 📊 최종 성과 요약

본 연구는 2단계 아키텍처가 **스멜 제거에서 54% 향상**을 달성했음을 실증적으로 증명했습니다. 비록 구문 성공률에서 트레이드오프가 있었지만, 문제 분리 접근법의 효과를 명확히 확인했습니다.

---
*평가 일시: 2025-11-01*  
*평가 대상: 100개 GitHub Actions YAML 파일*  
*베이스라인: 99개 파일, 2단계: 100개 파일*
